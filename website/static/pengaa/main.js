var content = function(e) {
    "use strict";
    function t(e) {
        return new Promise(( (t, n) => {
            chrome.runtime.sendMessage(e, (function(e) {
                e && e.error && n(e),
                t(e)
            }
            ))
        }
        ))
    }
    function n(e, n) {
        return t({
            action: "dlSendNotification",
            payload: {
                type: e,
                options: n
            }
        })
    }
    async function o(e) {
        if (!chrome.tabs)
            return;
        const t = await chrome.tabs.query({
            active: !0,
            currentWindow: !0
        });
        chrome.tabs.sendMessage(t[0].id, e)
    }
    const i = [{
        langCode: "AR",
        langCodeForSpeech: "ar-AR",
        langCodeForIta: "ar"
    }, {
        langCode: "BG",
        langCodeForSpeech: "bg-BG",
        langCodeForIta: "bg"
    }, {
        langCode: "CS",
        langCodeForSpeech: "cs-CZ",
        langCodeForIta: "cs"
    }, {
        langCode: "DA",
        langCodeForSpeech: "da-DK",
        langCodeForIta: "da"
    }, {
        langCode: "DE",
        langCodeForSpeech: "de-DE",
        supportsFormality: !0,
        langCodeForIta: "de"
    }, {
        langCode: "EL",
        langCodeForSpeech: "el-GR",
        langCodeForIta: "el"
    }, {
        langCode: "EN-GB",
        langCodeForSpeech: "en",
        voice: "Google UK English Male",
        langCodeForIta: "en-GB"
    }, {
        langCode: "EN-US",
        langCodeForSpeech: "en",
        voice: "Google UK English Male",
        langCodeForIta: "en-US"
    }, {
        langCode: "ES",
        langCodeForSpeech: "es-ES",
        voice: "Google espaÃ±ol",
        label: "ES",
        supportsFormality: !0,
        langCodeForIta: "es"
    }, {
        langCode: "ET",
        langCodeForSpeech: "et",
        langCodeForIta: "et"
    }, {
        langCode: "FI",
        langCodeForSpeech: "fi-FI",
        voice: "Satu",
        langCodeForIta: "fi"
    }, {
        langCode: "FR",
        langCodeForSpeech: "fr-FR",
        voice: "Thomas",
        supportsFormality: !0,
        langCodeForIta: "fr"
    }, {
        langCode: "HU",
        langCodeForSpeech: "hu-HU",
        langCodeForIta: "hu"
    }, {
        langCode: "ID",
        langCodeForSpeech: "id-ID",
        langCodeForIta: "id"
    }, {
        langCode: "IT",
        langCodeForSpeech: "it-IT",
        supportsFormality: !0,
        langCodeForIta: "it"
    }, {
        langCode: "JA",
        langCodeForSpeech: "ja-JP",
        supportsFormality: !0,
        langCodeForIta: "ja"
    }, {
        langCode: "KO",
        langCodeForSpeech: "ko-KR",
        langCodeForIta: "ko"
    }, {
        langCode: "LT",
        langCodeForSpeech: "lt",
        langCodeForIta: "lt"
    }, {
        langCode: "LV",
        langCodeForSpeech: "lv",
        langCodeForIta: "lv"
    }, {
        langCode: "NB",
        langCodeForSpeech: "nb-NO",
        langCodeForIta: "nb"
    }, {
        langCode: "NL",
        langCodeForSpeech: "nl-NL",
        voice: "Google Nederlands",
        label: "NL",
        supportsFormality: !0,
        langCodeForIta: "nl"
    }, {
        langCode: "PL",
        langCodeForSpeech: "pl-PL",
        supportsFormality: !0,
        langCodeForIta: "pl"
    }, {
        langCode: "PT-BR",
        langCodeForSpeech: "pt-PT",
        supportsFormality: !0,
        langCodeForIta: "pt-BR"
    }, {
        langCode: "PT-PT",
        langCodeForSpeech: "pt-PT",
        supportsFormality: !0,
        langCodeForIta: "pt-PT"
    }, {
        langCode: "RO",
        langCodeForSpeech: "ro-RO",
        langCodeForIta: "ro"
    }, {
        langCode: "RU",
        langCodeForSpeech: "ru-RU",
        supportsFormality: !0,
        langCodeForIta: "ru"
    }, {
        langCode: "SK",
        langCodeForSpeech: "sk-SK",
        langCodeForIta: "sk"
    }, {
        langCode: "SL",
        langCodeForSpeech: "sl",
        langCodeForIta: "sl"
    }, {
        langCode: "SV",
        langCodeForSpeech: "sv-SE",
        langCodeForIta: "sv"
    }, {
        langCode: "TR",
        langCodeForSpeech: "tr-TR",
        langCodeForIta: "tr"
    }, {
        langCode: "UK",
        langCodeForSpeech: "uk-UA",
        langCodeForIta: "uk"
    }, {
        langCode: "ZH",
        langCodeForSpeech: "zh-CN",
        langCodeForIta: "zh-Hans"
    }, {
        langCode: "ZH-HANT",
        langCodeForSpeech: "zh-HANT",
        langCodeForIta: "zh-Hant"
    }]
      , r = ["EN-GB", "EN-US", "EN", "DE", "FR", "ES", "PT-PT", "PT-BR", "PT", "IT"]
      , s = ["pt-BR", "pt-PT", "en-GB", "en-US", "de", "fr", "it", "es"]
      , a = ["EN-GB", "EN-US", "EN", "DE"]
      , l = ["ES", "FR", "IT", "PT", "PT-BR", "PT-PT"]
      , c = 1
      , d = 2
      , u = {
        none: "",
        ongoingTranslation: "ONGOING_TRANSLATION",
        isTranslationComplete: "IS_TRANLSATION_COMPLETE",
        showOriginal: "SHOW_ORIGINAL",
        ongoingAutoDetection: "ON_GOING_AUTODETECTION",
        anonymousUserMaxCharExceeded: "ANONYMOUS_USER_MAX_CHAR_EXCEEDED"
    }
      , p = ""
      , m = "ONGOING_WRITE"
      , g = 1
      , h = 2
      , f = "inline"
      , _ = "automatic"
      , v = "manual"
      , y = "input"
      , w = {
        notLoggedIn: 1,
        loggedInPro: 2,
        loggedInFree: 3
    }
      , b = 1500
      , E = 5e3
      , T = 2e3
      , S = 2e3
      , x = 1
      , $ = 3
      , C = 4
      , k = 1
      , I = 2
      , L = 3
      , A = 1
      , R = 2
      , M = {
        enabled: 1,
        disabled: 2
    }
      , O = [/[^.]+\.deepl\.com/g, /[^.]+\.figma\.com/g]
      , N = [/docs.google\.com\/spreadsheets/g]
      , D = [/[^.]+\.deepl\.com/g]
      , P = {
        deepl_inline_ui: {
            z_index: 2147483650
        }
    }
      , U = {
        hintKeyboardShortcut: "HINT_KEYBOARD_SHORTCUT",
        inputTranslation: "INPUT_TRANSLATION",
        inlineTranslation: "INLINE_TRANSLATION",
        fullPageTranslation: "FULL_PAGE_TRANSLATION",
        accountSuccessfullyCreated: "ACCOUNT_SUCCESSFULLY_CREATED",
        successfullyLoggedIn: "SUCCESSFULLY_LOGGED_IN",
        glidesPreventAssetLoss: "GSLIDES_WARNING_TO_AVOID_ASSET_LOSS",
        showAdsForMSAddins: "SHOW_ADS_FOR_MS_ADDINS",
        requireLoginPolicy: "NOTIFICATION_TYPE_REQUIRE_LOGIN_POLICY"
    }
      , B = {
        green_theme: "green_theme",
        warning_theme: "warning_theme",
        ads_theme: "ads_theme"
    }
      , W = {
        inlineTranslationTriggerIcon: "INLINE_TRANSLATION_TRIGGER_ICON",
        inlineTranslationSettingsIcon: "INLINE_TRANSLATION_SETTINGS_ICON",
        inlineTranslationSettingPopup: "INLINE_TRANSLATION_SETTING_POPUP",
        inlineTranslationSettingUseAdvancedWindow: "INLINE_TRANSLATION_SETTING_USE_ADVANCED_WINDOW",
        inputTranslationTriggerIcon: "INPUT_TRANSLATION_TRIGGER_ICON",
        inputImproveTriggerIcon: "INPUT_IMPROVE_TRIGGER_ICON",
        inputTranslationSettingsIcon: "INPUT_TRANSLATION_SETTINGS_ICON",
        inputTranslationSettingPopup: "INPUT_TRANSLATION_SETTING_POPUP",
        settingsPageFPT: "SETTINGS_PAGE_FPT",
        settingsPageReading: "SETTINGS_PAGE_READING",
        settingsPageWriting: "SETTINGS_PAGE_WRITING",
        settingsPageIntegrations: "SETTINGS_PAGE_INTEGRATIONS",
        fptHideModal: "FPT_HIDE_MODAL",
        inputTranslationReadMoreLink: "INPUT_TRANSLATION_READ_MORE_LINK",
        inlineTranslationReadMoreLink: "INLINE_TRANSLATION_READ_MORE_LINK",
        fptTranslationReadMoreLink: "FPT_TRANSLATION_READ_MORE_LINK",
        extensionHubToggleSwitch: "EXTENSION_HUB_TOGGLE_SWITCH",
        hubCustomizeShortcut: "HUB_CUSTOMIZE_SHORTCUT",
        hubLoginButton: "HUB_LOGIN_BUTTON",
        hubUpgradeToProLink: "HUB_UPGRADE_TO_PRO_LINK",
        hubTryProLink: "HUB_TRY_PRO_LINK",
        hubTryWriteProLink: "HUB_TRY_WRITE_PRO_LINK",
        settingsPageCustomizeShortcutButton: "SETTINGS_PAGE_CUSTOMIZE_SHORTCUT_BUTTON",
        hubFPTEnableCheckbox: "HUB_FPT_ENABLE_CHECKBOX",
        hubFPTDisableCheckbox: "HUB_FPT_DISABLE_CHECKBOX",
        deeplWriteIcon: "DEEPL_WRITE_ICON",
        gmailOnboardingPopup: "gmailOnboardingPopup",
        gmailOnboardingIcon: "gmailOnboardingIcon",
        gmailCharLimitLogin: "gmailCharLimitLogin",
        gmailFeedbackSurvey: "gmailFeedbackSurvey",
        hubViewIntegrations: "HUB_VIEW_INTEGRATIONS",
        hubCloseCustomizationsWidget: "HUB_CLOSE_CUSTOMIZATIONS_WIDGET",
        gslidesFeedbackSurvey: "GSLIDES_FEEDBACK_SURVEY",
        gslidesCharLimitLogin: "GSLIDES_CHAR_LIMIT_LOGIN",
        zendeskTryProLink: "ZENDESK_TRY_PRO_LINK",
        onboardingSignUp: "ONBOARDING_SIGN_UP",
        onboardingSkipSignUp: "ONBOARDING_SKIP_SIGN_UP",
        onboardingLoginLink: "ONBOARDING_LOGIN_LINK",
        onboardingSeeAllIntegrations: "ONBOARDING_SEE_ALL_INTEGRATIONS",
        iconToggleInHubTranslator: "ICON_TOGGLE_IN_HUB_TRANSLATOR",
        iconToggleInHubWrite: "ICON_TOGGLE_IN_HUB_WRITE",
        manageIconSettings: "MANAGE_ICON_SETTINGS",
        writeLanguageSwitchedInHub: "WRITE_LANGUAGE_SWITCHED_IN_HUB",
        writeLanguageSwitchedInSettings: "WRITE_LANGUAGE_SWITCHED_IN_SETTINGS",
        sidePanelIconOnWebsite: "SIDE_PANEL_ICON_ON_WEBSITE",
        hubOnboadingLink: "HUB_ONBOARDING_LINK",
        inlineSelectionTranslateIcon: "INLINE_SELECTION_TRANSLATE_ICON",
        inlineSelectionWriteIcon: "INLINE_SELECTION__WRITE_ICON",
        inputSelectionTranslateIcon: "INPUT_SELECTION_TRANSLATE_ICON",
        inputSelectionWriteIcon: "INPUT_SELECTION__WRITE_ICON",
        inlineSelectionTriggerOffIcon: "INLINE_SELECTION_TRIGGER_OFF_ICON",
        inputSelectionTriggerOffIcon: "INPUT_SELECTION_TRIGGER_OFF_ICON"
    }
      , F = "trigger-translation"
      , z = "CLICK_ON_SHORTCUT_NOTIFICATION"
      , H = "CLICK_ON_INLINE_TRANSLATION_SHOW_ALTERNATIVES"
      , j = "CLICK_ON_INLINE_TRANSLATION_CLOSE_ICON"
      , G = "CLICK_ON_LOGOUT_MENU_ENTRY"
      , q = "CLICK_ON_REVIEW_WINDOW_CLOSE_ACTION"
      , V = {
        disablePerSite: "DISABLE_PER_SITE",
        disableEverywhere: "DISABLE_EVERYWHERE",
        enableEverywhere: "ENABLE_EVERYWHERE",
        enablePerSite: "ENABLE_PER_SITE"
    }
      , Y = "INPUT_TRANSLATION"
      , K = "INLINE_TRANSLATION"
      , Z = 1
      , X = 2
      , Q = {
        unspecified: 0,
        chrome: 1,
        edge: 2,
        local: 3,
        firefox: 4
    }
      , J = {
        chrome: "cofdbpoegempjloogbagkncekinflcnj",
        edge: "fancfknaplihpclbhbpclnmmjcjanbaf",
        local: "ocpdpnakdghopjcifldjidbdmfobmmoi",
        firefox: "firefox-extension@deepl.com"
    }
      , ee = {
        deepl: /^(.*\.)?deepl\.com$/gm,
        linguee: /^(.*\.)?linguee\.[a-z]{2,3}$/gm,
        google_translate: /^translate\.google\.com$/gm,
        gmail: /^mail\.google\.com$/gm
    }
      , te = {
        word_365: "euc-word-edit.officeapps.live.com",
        power_point_365: "euc-powerpoint.officeapps.live.com"
    }
      , ne = {
        word_365: "WacFrame_Word_0",
        power_point_365: "WacFrame_PowerPoint_0"
    }
      , oe = {
        initial: "INITIAL",
        feedback: "FEEDBACK",
        review: "REVIEW",
        gmail: "GMAIL",
        gslides: "GSLIDES",
        customer_segmentation: "CUSTOMER_SEGMENTATION",
        arabic_survey: "ARABIC_SURVEY"
    }
      , ie = {
        close_icon: 1,
        deepl_icon: 2,
        outside_click: 3
    }
      , re = {
        default: "DEFAULT",
        gdocs: "GDOCS",
        zendesk: "ZENDESK",
        whatsappWeb: "WHATSAPP_WEB",
        twitter: "TWITTER",
        gmail: "GMAIL",
        gslides: "GSLIDES",
        linkedIn: "LINKEDIN",
        youtube: "YOUTUBE"
    }
      , se = "source"
      , ae = "target"
      , le = {
        translate: "translate",
        write: "write"
    }
      , ce = ["script", "style"]
      , de = ["a", "abbr", "acronym", "b", "bdo", "big", "br", "button", "cite", "code", "dfn", "em", "i", "img", "input", "kbd", "label", "map", "object", "q", "samp", "script", "select", "small", "span", "strong", "sub", "sup", "textarea", "time", "tt", "var", "font"]
      , ue = "OPEN_TICKET"
      , pe = "DETECT_TICKET_LANGUAGE"
      , me = "SWITCH_TICKET_LANGUAGE"
      , ge = "ENABLE_AUTOTRANSLATE"
      , he = "DISABLE_AUTOTRANSLATE"
      , fe = "TRANSLATE_MESSAGE"
      , _e = "TRANSLATE_INPUT"
      , ve = "ERROR"
      , ye = "TICKET"
      , we = "LIVE_CHAT"
      , be = 50
      , Ee = {
        TRANSLATOR: "TRANSLATOR",
        WRITE: "WRITE",
        API: "API",
        DOC_TRANSLATOR: "DOC_TRANSLATOR"
    }
      , Te = {
        free: "free",
        pro: "pro",
        none: "none"
    }
      , Se = "TEXT_REFINEMENT_REQUEST"
      , xe = "GDOCS_INSERT_COPY"
      , $e = "GDOCS_DISCARD_COPY"
      , Ce = "GDOCS_CHAR_LIMIT_REACHED"
      , ke = "RESULT_ACCEPTED"
      , Ie = "RESULT_REVERTED"
      , Le = "ERROR"
      , Ae = "RESULT_ACCEPTED"
      , Re = "RESULT_REVERTED"
      , Me = "ALTERNATIVES_OPENED"
      , Oe = "SEGMENTATION_SELECTED"
      , Ne = "ALTERNATIVE_SELECTED"
      , De = "SHOWN"
      , Pe = "CLICKED"
      , Ue = {
        READING_VIEW_TRANSLATE: "READING_VIEW_TRANSLATE",
        COMPOSE_VIEW_TRANSLATE: "COMPOSE_VIEW_TRANSLATE",
        COMPOSE_VIEW_IMPROVE: "COMPOSE_VIEW_IMPROVE"
    }
      , Be = "ANONYMOUS_USER_LIMIT_EXCEEDED"
      , We = "FREE_ACCOUNT_LIMIT_EXCEEDED"
      , Fe = "WRITE_ANONYMOUS_USER_LIMIT_EXCEEDED"
      , ze = "WRITE_FREE_ACCOUNT_LIMIT_EXCEEDED"
      , He = "PRO_TRIAL"
      , je = "LOGIN"
      , Ge = "SIGNUP"
      , qe = {
        ANONYMOUS: "ANONYMOUS",
        FREE: "FREE"
    }
      , Ve = {
        WORD: "word",
        SENTENCE: "sentence"
    }
      , Ye = ["JA", "ZH"]
      , Ke = {
        none: "None",
        pro: "Pro",
        free: "Free"
    }
      , Ze = "auto"
      , Xe = "formal"
      , Qe = "informal"
      , Je = "undefined"
      , et = ["simple", "business", "academic", "casual"]
      , tt = ["enthusiastic", "friendly", "confident", "diplomatic"]
      , nt = "Unidentified service name supplied to getServiceType"
      , ot = (e, t) => {
        if (!e)
            throw new Error("No settings supplied to getServiceType");
        if (!Object.keys(Ee).includes(t))
            throw new Error(nt);
        if (!e.isLoggedIn)
            return Te.free;
        switch (t) {
        case Ee.TRANSLATOR:
            return e.translatorServiceType;
        case Ee.WRITE:
            return e.writeServiceType;
        case Ee.API:
            return e.apiServiceType;
        case Ee.DOC_TRANSLATOR:
            return e.docTranslatorServiceType
        }
        throw new Error(nt)
    }
      , it = (e, t) => ot(e, t) === Te.pro
      , rt = (e, t) => ot(e, t) === Te.free
      , st = (e, t) => ot(e, t) === Te.none
      , at = e => !!e.isLoggedIn && rt(e, Ee.WRITE)
      , lt = (e, t) => e.isLoggedIn && rt(e, t)
      , ct = {
        chrome: "Chrome",
        edge: "Edge",
        brave: "Brave",
        firefox: "Firefox",
        opera: "Opera",
        safari: "Safari"
    };
    function dt() {
        return !!window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches
    }
    function ut(e, t) {
        let n;
        try {
            switch (e) {
            case ct.chrome:
            case ct.brave:
                n = t.split("Chrome/")[1].split(" ")[0];
                break;
            case ct.edge:
                n = t.split("Edg/")[1].split(" ")[0];
                break;
            case ct.firefox:
                n = t.split("Firefox/")[1].split(" ")[0];
                break;
            case ct.opera:
                n = t.split("OPR/")[1].split(" ")[0];
                break;
            case ct.safari:
                n = t.split("Version/")[1].split(" ")[0]
            }
        } catch (t) {
            console.error(`Could not get the browsers (${e}) version from user agent`, t)
        }
        try {
            !n && navigator?.userAgentData && function(e) {
                return e === ct.chrome || e === ct.edge || e === ct.brave || e === ct.opera
            }(e) && (n = pt(e).version)
        } catch (t) {
            console.error(`Could not get the chromium browsers (${e}) version`, t)
        }
        return n && "string" == typeof n ? n : "unknown_browser_version"
    }
    function pt(e) {
        if (!navigator.userAgentData || !e)
            return;
        const t = new RegExp(`${e}`,"i");
        return navigator.userAgentData.brands.filter((e => t.test(e.brand)))[0]
    }
    function mt() {
        const e = navigator?.userAgent || "unknown_user_agent"
          , t = navigator?.userAgentData?.platform || navigator?.platform || "unknown_platform";
        let n = "unknown_browser"
          , o = "unknown_browser_version"
          , i = navigator?.language || "unknown_browser_language";
        chrome?.i18n?.getUILanguage && (i = chrome.i18n.getUILanguage());
        try {
            const t = e.match(/chrome|chromium|crios/i)
              , i = e.match(/edg/i) || pt(ct.edge)
              , r = e.match(/firefox|fxios/i)
              , s = e.match(/opr\//i) || pt(ct.opera)
              , a = e.match(/safari/i)
              , l = pt(ct.brave);
            t ? (n = ct.chrome,
            i && (n = ct.edge),
            s && (n = ct.opera),
            l && (n = ct.brave)) : i ? n = ct.edge : r ? n = ct.firefox : s ? n = ct.opera : a && (n = ct.safari),
            o = ut(n, e)
        } catch (e) {
            console.error("Could not get the name of the brower", e)
        }
        return {
            userAgent: e,
            platform: t,
            browser: n,
            browserVersion: o,
            browserLang: i
        }
    }
    function gt() {
        if ({
            IS_PROD: !0,
            BASE_URLS: {
                dapApi: "https://s.deepl.com/chrome/statistics",
                toolingApiPro: "https://api.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
                toolingApi: "https://www2.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
                toolingWriteApiPro: "https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
                toolingWriteApi: "https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
                classicApi: "https://www2.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
                classicApiPro: "https://api.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
                classicApiWrite: "https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
                classicApiWritePro: "https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
                classicApiGlossary: "https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.36.0",
                interactiveTextApiFree: "https://ita-free.www.deepl.com/v1",
                interactiveTextApiPro: "https://ita-pro.www.deepl.com/v1",
                login: "https://www.deepl.com/auth/login",
                token: "https://w.deepl.com/oidc/token",
                logout: "https://www.deepl.com/auth/logout",
                feedbackSurvey: "https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",
                newFeedbackSurvey: "https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",
                firefoxFeedbackSurvey: "https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",
                uninstallSurvey: "https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",
                gslidesFeedbackSurvey: "https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",
                deeplDomain: "https://www.deepl.com",
                deeplPro: "https://www.deepl.com/pro",
                deeplProWrite: "https://www.deepl.com/pro-write",
                deeplTranslator: "https://www.deepl.com/translator",
                deeplDoctrans: "https://www.deepl.com/translator/files",
                deeplTermsOfServiceFree: "https://www.deepl.com/en/pro-license?tab=free",
                deeplCreateAccount: "https://www.deepl.com/signup",
                extensionStorePage: "https://bit.ly/DeepL-Chrome",
                supportArticle: "https://support.deepl.com/hc/articles/4407580229522",
                deeplSupport: "https://support.deepl.com/hc",
                chromeWebstore: "https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",
                edgeWebstore: "https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",
                firefoxWebstore: "https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",
                firefoxShortcutDocs: "https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",
                firefoxPrivacyPolicy: "https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",
                clientStateApi: "https://w.deepl.com/web",
                experimentsEndpoint: "https://experimentation.deepl.com/experiments",
                gmailFeedbackSurvey: "https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",
                customerSegmentationSurveyFree: "https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",
                customerSegmentationSurveyPro: "https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",
                arabicSurvey: "https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ",
                msAddinsDeepLAds: "https://www.deepl.com/en/microsoft-365",
                getFreeAccount: "https://www.deepl.com/en/signup?cta=free-login-signup",
                uninstallPage: "https://www.deepl.com/extension-uninstall"
            },
            APP_VERSION: "1.36.0",
            FEATURE_FLAGS: {
                TRANSLATE_INPUT: !0,
                PAGE_TRANSLATION: !0,
                IMPROVE_WRITING: !0,
                DOCUMENT_TRANSLATION: !0,
                RECOMMEND_TO_A_FRIEND: !0,
                PRO_LOGIN: !0,
                WEBPAGE_CUSTOMIZER: !0,
                GDOCS_INTEGRATION: !0,
                ZENDESK_INTEGRATION: !0,
                GMAIL_INTEGRATION: !0,
                GSLIDES_INTEGRATION: !0,
                ON_INSTALL_ONBOARDING: !0,
                WHATSAPP_TRANSLATE_ALL_CHAT: !1,
                DEEPL_WRITE_GENERAL: !1,
                DEEPL_WRITE_GDOCS: !0,
                SHOW_CUSTOMER_SEGMENTATION_SURVEY: !1,
                ARABIC_SURVEY: !0,
                BATCH_TRANSLATE_HTML_REQUEST: !0,
                SIDE_PANEL: !1,
                SIDE_PANEL_FIREFOX: !1
            }
        }.browserBuild)
            return {
                IS_PROD: !0,
                BASE_URLS: {
                    dapApi: "https://s.deepl.com/chrome/statistics",
                    toolingApiPro: "https://api.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
                    toolingApi: "https://www2.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
                    toolingWriteApiPro: "https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
                    toolingWriteApi: "https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
                    classicApi: "https://www2.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
                    classicApiPro: "https://api.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
                    classicApiWrite: "https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
                    classicApiWritePro: "https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
                    classicApiGlossary: "https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.36.0",
                    interactiveTextApiFree: "https://ita-free.www.deepl.com/v1",
                    interactiveTextApiPro: "https://ita-pro.www.deepl.com/v1",
                    login: "https://www.deepl.com/auth/login",
                    token: "https://w.deepl.com/oidc/token",
                    logout: "https://www.deepl.com/auth/logout",
                    feedbackSurvey: "https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",
                    newFeedbackSurvey: "https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",
                    firefoxFeedbackSurvey: "https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",
                    uninstallSurvey: "https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",
                    gslidesFeedbackSurvey: "https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",
                    deeplDomain: "https://www.deepl.com",
                    deeplPro: "https://www.deepl.com/pro",
                    deeplProWrite: "https://www.deepl.com/pro-write",
                    deeplTranslator: "https://www.deepl.com/translator",
                    deeplDoctrans: "https://www.deepl.com/translator/files",
                    deeplTermsOfServiceFree: "https://www.deepl.com/en/pro-license?tab=free",
                    deeplCreateAccount: "https://www.deepl.com/signup",
                    extensionStorePage: "https://bit.ly/DeepL-Chrome",
                    supportArticle: "https://support.deepl.com/hc/articles/4407580229522",
                    deeplSupport: "https://support.deepl.com/hc",
                    chromeWebstore: "https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",
                    edgeWebstore: "https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",
                    firefoxWebstore: "https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",
                    firefoxShortcutDocs: "https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",
                    firefoxPrivacyPolicy: "https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",
                    clientStateApi: "https://w.deepl.com/web",
                    experimentsEndpoint: "https://experimentation.deepl.com/experiments",
                    gmailFeedbackSurvey: "https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",
                    customerSegmentationSurveyFree: "https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",
                    customerSegmentationSurveyPro: "https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",
                    arabicSurvey: "https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ",
                    msAddinsDeepLAds: "https://www.deepl.com/en/microsoft-365",
                    getFreeAccount: "https://www.deepl.com/en/signup?cta=free-login-signup",
                    uninstallPage: "https://www.deepl.com/extension-uninstall"
                },
                APP_VERSION: "1.36.0",
                FEATURE_FLAGS: {
                    TRANSLATE_INPUT: !0,
                    PAGE_TRANSLATION: !0,
                    IMPROVE_WRITING: !0,
                    DOCUMENT_TRANSLATION: !0,
                    RECOMMEND_TO_A_FRIEND: !0,
                    PRO_LOGIN: !0,
                    WEBPAGE_CUSTOMIZER: !0,
                    GDOCS_INTEGRATION: !0,
                    ZENDESK_INTEGRATION: !0,
                    GMAIL_INTEGRATION: !0,
                    GSLIDES_INTEGRATION: !0,
                    ON_INSTALL_ONBOARDING: !0,
                    WHATSAPP_TRANSLATE_ALL_CHAT: !1,
                    DEEPL_WRITE_GENERAL: !1,
                    DEEPL_WRITE_GDOCS: !0,
                    SHOW_CUSTOMER_SEGMENTATION_SURVEY: !1,
                    ARABIC_SURVEY: !0,
                    BATCH_TRANSLATE_HTML_REQUEST: !0,
                    SIDE_PANEL: !1,
                    SIDE_PANEL_FIREFOX: !1
                }
            }.browserBuild.toLowerCase() === ct.firefox.toLowerCase();
        const e = chrome.runtime.getURL("");
        return mt().browser === ct.firefox || /moz-extension:\/\//gm.test(e)
    }
    const ht = () => {
        const e = /(outlook\.office\.com|sharepoint\.com|microsoft|office)/
          , t = new URL(window.location.href);
        if (!e.test(t.origin))
            return !1;
        const n = t.origin.match(e);
        return !!n && n[0]
    }
    ;
    var ft = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {}
      , _t = {
        exports: {}
    };
    /*! @license DOMPurify 3.1.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.6/LICENSE */
    !function(e, t) {
        e.exports = function() {
            const {entries: e, setPrototypeOf: t, isFrozen: n, getPrototypeOf: o, getOwnPropertyDescriptor: i} = Object;
            let {freeze: r, seal: s, create: a} = Object
              , {apply: l, construct: c} = "undefined" != typeof Reflect && Reflect;
            r || (r = function(e) {
                return e
            }
            ),
            s || (s = function(e) {
                return e
            }
            ),
            l || (l = function(e, t, n) {
                return e.apply(t, n)
            }
            ),
            c || (c = function(e, t) {
                return new e(...t)
            }
            );
            const d = E(Array.prototype.forEach)
              , u = E(Array.prototype.pop)
              , p = E(Array.prototype.push)
              , m = E(String.prototype.toLowerCase)
              , g = E(String.prototype.toString)
              , h = E(String.prototype.match)
              , f = E(String.prototype.replace)
              , _ = E(String.prototype.indexOf)
              , v = E(String.prototype.trim)
              , y = E(Object.prototype.hasOwnProperty)
              , w = E(RegExp.prototype.test)
              , b = T(TypeError);
            function E(e) {
                return function(t) {
                    for (var n = arguments.length, o = new Array(n > 1 ? n - 1 : 0), i = 1; i < n; i++)
                        o[i - 1] = arguments[i];
                    return l(e, t, o)
                }
            }
            function T(e) {
                return function() {
                    for (var t = arguments.length, n = new Array(t), o = 0; o < t; o++)
                        n[o] = arguments[o];
                    return c(e, n)
                }
            }
            function S(e, o) {
                let i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : m;
                t && t(e, null);
                let r = o.length;
                for (; r--; ) {
                    let t = o[r];
                    if ("string" == typeof t) {
                        const e = i(t);
                        e !== t && (n(o) || (o[r] = e),
                        t = e)
                    }
                    e[t] = !0
                }
                return e
            }
            function x(e) {
                for (let t = 0; t < e.length; t++)
                    y(e, t) || (e[t] = null);
                return e
            }
            function $(t) {
                const n = a(null);
                for (const [o,i] of e(t))
                    y(t, o) && (Array.isArray(i) ? n[o] = x(i) : i && "object" == typeof i && i.constructor === Object ? n[o] = $(i) : n[o] = i);
                return n
            }
            function C(e, t) {
                for (; null !== e; ) {
                    const n = i(e, t);
                    if (n) {
                        if (n.get)
                            return E(n.get);
                        if ("function" == typeof n.value)
                            return E(n.value)
                    }
                    e = o(e)
                }
                function n() {
                    return null
                }
                return n
            }
            const k = r(["a", "abbr", "acronym", "address", "area", "article", "aside", "audio", "b", "bdi", "bdo", "big", "blink", "blockquote", "body", "br", "button", "canvas", "caption", "center", "cite", "code", "col", "colgroup", "content", "data", "datalist", "dd", "decorator", "del", "details", "dfn", "dialog", "dir", "div", "dl", "dt", "element", "em", "fieldset", "figcaption", "figure", "font", "footer", "form", "h1", "h2", "h3", "h4", "h5", "h6", "head", "header", "hgroup", "hr", "html", "i", "img", "input", "ins", "kbd", "label", "legend", "li", "main", "map", "mark", "marquee", "menu", "menuitem", "meter", "nav", "nobr", "ol", "optgroup", "option", "output", "p", "picture", "pre", "progress", "q", "rp", "rt", "ruby", "s", "samp", "section", "select", "shadow", "small", "source", "spacer", "span", "strike", "strong", "style", "sub", "summary", "sup", "table", "tbody", "td", "template", "textarea", "tfoot", "th", "thead", "time", "tr", "track", "tt", "u", "ul", "var", "video", "wbr"])
              , I = r(["svg", "a", "altglyph", "altglyphdef", "altglyphitem", "animatecolor", "animatemotion", "animatetransform", "circle", "clippath", "defs", "desc", "ellipse", "filter", "font", "g", "glyph", "glyphref", "hkern", "image", "line", "lineargradient", "marker", "mask", "metadata", "mpath", "path", "pattern", "polygon", "polyline", "radialgradient", "rect", "stop", "style", "switch", "symbol", "text", "textpath", "title", "tref", "tspan", "view", "vkern"])
              , L = r(["feBlend", "feColorMatrix", "feComponentTransfer", "feComposite", "feConvolveMatrix", "feDiffuseLighting", "feDisplacementMap", "feDistantLight", "feDropShadow", "feFlood", "feFuncA", "feFuncB", "feFuncG", "feFuncR", "feGaussianBlur", "feImage", "feMerge", "feMergeNode", "feMorphology", "feOffset", "fePointLight", "feSpecularLighting", "feSpotLight", "feTile", "feTurbulence"])
              , A = r(["animate", "color-profile", "cursor", "discard", "font-face", "font-face-format", "font-face-name", "font-face-src", "font-face-uri", "foreignobject", "hatch", "hatchpath", "mesh", "meshgradient", "meshpatch", "meshrow", "missing-glyph", "script", "set", "solidcolor", "unknown", "use"])
              , R = r(["math", "menclose", "merror", "mfenced", "mfrac", "mglyph", "mi", "mlabeledtr", "mmultiscripts", "mn", "mo", "mover", "mpadded", "mphantom", "mroot", "mrow", "ms", "mspace", "msqrt", "mstyle", "msub", "msup", "msubsup", "mtable", "mtd", "mtext", "mtr", "munder", "munderover", "mprescripts"])
              , M = r(["maction", "maligngroup", "malignmark", "mlongdiv", "mscarries", "mscarry", "msgroup", "mstack", "msline", "msrow", "semantics", "annotation", "annotation-xml", "mprescripts", "none"])
              , O = r(["#text"])
              , N = r(["accept", "action", "align", "alt", "autocapitalize", "autocomplete", "autopictureinpicture", "autoplay", "background", "bgcolor", "border", "capture", "cellpadding", "cellspacing", "checked", "cite", "class", "clear", "color", "cols", "colspan", "controls", "controlslist", "coords", "crossorigin", "datetime", "decoding", "default", "dir", "disabled", "disablepictureinpicture", "disableremoteplayback", "download", "draggable", "enctype", "enterkeyhint", "face", "for", "headers", "height", "hidden", "high", "href", "hreflang", "id", "inputmode", "integrity", "ismap", "kind", "label", "lang", "list", "loading", "loop", "low", "max", "maxlength", "media", "method", "min", "minlength", "multiple", "muted", "name", "nonce", "noshade", "novalidate", "nowrap", "open", "optimum", "pattern", "placeholder", "playsinline", "popover", "popovertarget", "popovertargetaction", "poster", "preload", "pubdate", "radiogroup", "readonly", "rel", "required", "rev", "reversed", "role", "rows", "rowspan", "spellcheck", "scope", "selected", "shape", "size", "sizes", "span", "srclang", "start", "src", "srcset", "step", "style", "summary", "tabindex", "title", "translate", "type", "usemap", "valign", "value", "width", "wrap", "xmlns", "slot"])
              , D = r(["accent-height", "accumulate", "additive", "alignment-baseline", "ascent", "attributename", "attributetype", "azimuth", "basefrequency", "baseline-shift", "begin", "bias", "by", "class", "clip", "clippathunits", "clip-path", "clip-rule", "color", "color-interpolation", "color-interpolation-filters", "color-profile", "color-rendering", "cx", "cy", "d", "dx", "dy", "diffuseconstant", "direction", "display", "divisor", "dur", "edgemode", "elevation", "end", "fill", "fill-opacity", "fill-rule", "filter", "filterunits", "flood-color", "flood-opacity", "font-family", "font-size", "font-size-adjust", "font-stretch", "font-style", "font-variant", "font-weight", "fx", "fy", "g1", "g2", "glyph-name", "glyphref", "gradientunits", "gradienttransform", "height", "href", "id", "image-rendering", "in", "in2", "k", "k1", "k2", "k3", "k4", "kerning", "keypoints", "keysplines", "keytimes", "lang", "lengthadjust", "letter-spacing", "kernelmatrix", "kernelunitlength", "lighting-color", "local", "marker-end", "marker-mid", "marker-start", "markerheight", "markerunits", "markerwidth", "maskcontentunits", "maskunits", "max", "mask", "media", "method", "mode", "min", "name", "numoctaves", "offset", "operator", "opacity", "order", "orient", "orientation", "origin", "overflow", "paint-order", "path", "pathlength", "patterncontentunits", "patterntransform", "patternunits", "points", "preservealpha", "preserveaspectratio", "primitiveunits", "r", "rx", "ry", "radius", "refx", "refy", "repeatcount", "repeatdur", "restart", "result", "rotate", "scale", "seed", "shape-rendering", "specularconstant", "specularexponent", "spreadmethod", "startoffset", "stddeviation", "stitchtiles", "stop-color", "stop-opacity", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke", "stroke-width", "style", "surfacescale", "systemlanguage", "tabindex", "targetx", "targety", "transform", "transform-origin", "text-anchor", "text-decoration", "text-rendering", "textlength", "type", "u1", "u2", "unicode", "values", "viewbox", "visibility", "version", "vert-adv-y", "vert-origin-x", "vert-origin-y", "width", "word-spacing", "wrap", "writing-mode", "xchannelselector", "ychannelselector", "x", "x1", "x2", "xmlns", "y", "y1", "y2", "z", "zoomandpan"])
              , P = r(["accent", "accentunder", "align", "bevelled", "close", "columnsalign", "columnlines", "columnspan", "denomalign", "depth", "dir", "display", "displaystyle", "encoding", "fence", "frame", "height", "href", "id", "largeop", "length", "linethickness", "lspace", "lquote", "mathbackground", "mathcolor", "mathsize", "mathvariant", "maxsize", "minsize", "movablelimits", "notation", "numalign", "open", "rowalign", "rowlines", "rowspacing", "rowspan", "rspace", "rquote", "scriptlevel", "scriptminsize", "scriptsizemultiplier", "selection", "separator", "separators", "stretchy", "subscriptshift", "supscriptshift", "symmetric", "voffset", "width", "xmlns"])
              , U = r(["xlink:href", "xml:id", "xlink:title", "xml:space", "xmlns:xlink"])
              , B = s(/\{\{[\w\W]*|[\w\W]*\}\}/gm)
              , W = s(/<%[\w\W]*|[\w\W]*%>/gm)
              , F = s(/\${[\w\W]*}/gm)
              , z = s(/^data-[\-\w.\u00B7-\uFFFF]/)
              , H = s(/^aria-[\-\w]+$/)
              , j = s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i)
              , G = s(/^(?:\w+script|data):/i)
              , q = s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g)
              , V = s(/^html$/i)
              , Y = s(/^[a-z][.\w]*(-[.\w]+)+$/i);
            var K = Object.freeze({
                __proto__: null,
                MUSTACHE_EXPR: B,
                ERB_EXPR: W,
                TMPLIT_EXPR: F,
                DATA_ATTR: z,
                ARIA_ATTR: H,
                IS_ALLOWED_URI: j,
                IS_SCRIPT_OR_DATA: G,
                ATTR_WHITESPACE: q,
                DOCTYPE_NAME: V,
                CUSTOM_ELEMENT: Y
            });
            const Z = {
                element: 1,
                attribute: 2,
                text: 3,
                cdataSection: 4,
                entityReference: 5,
                entityNode: 6,
                progressingInstruction: 7,
                comment: 8,
                document: 9,
                documentType: 10,
                documentFragment: 11,
                notation: 12
            }
              , X = function() {
                return "undefined" == typeof window ? null : window
            }
              , Q = function(e, t) {
                if ("object" != typeof e || "function" != typeof e.createPolicy)
                    return null;
                let n = null;
                const o = "data-tt-policy-suffix";
                t && t.hasAttribute(o) && (n = t.getAttribute(o));
                const i = "dompurify" + (n ? "#" + n : "");
                try {
                    return e.createPolicy(i, {
                        createHTML: e => e,
                        createScriptURL: e => e
                    })
                } catch (e) {
                    return console.warn("TrustedTypes policy " + i + " could not be created."),
                    null
                }
            };
            function J() {
                let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : X();
                const n = e => J(e);
                if (n.version = "3.1.6",
                n.removed = [],
                !t || !t.document || t.document.nodeType !== Z.document)
                    return n.isSupported = !1,
                    n;
                let {document: o} = t;
                const i = o
                  , s = i.currentScript
                  , {DocumentFragment: l, HTMLTemplateElement: c, Node: E, Element: T, NodeFilter: x, NamedNodeMap: B=t.NamedNodeMap || t.MozNamedAttrMap, HTMLFormElement: W, DOMParser: F, trustedTypes: z} = t
                  , H = T.prototype
                  , G = C(H, "cloneNode")
                  , q = C(H, "remove")
                  , Y = C(H, "nextSibling")
                  , ee = C(H, "childNodes")
                  , te = C(H, "parentNode");
                if ("function" == typeof c) {
                    const e = o.createElement("template");
                    e.content && e.content.ownerDocument && (o = e.content.ownerDocument)
                }
                let ne, oe = "";
                const {implementation: ie, createNodeIterator: re, createDocumentFragment: se, getElementsByTagName: ae} = o
                  , {importNode: le} = i;
                let ce = {};
                n.isSupported = "function" == typeof e && "function" == typeof te && ie && void 0 !== ie.createHTMLDocument;
                const {MUSTACHE_EXPR: de, ERB_EXPR: ue, TMPLIT_EXPR: pe, DATA_ATTR: me, ARIA_ATTR: ge, IS_SCRIPT_OR_DATA: he, ATTR_WHITESPACE: fe, CUSTOM_ELEMENT: _e} = K;
                let {IS_ALLOWED_URI: ve} = K
                  , ye = null;
                const we = S({}, [...k, ...I, ...L, ...R, ...O]);
                let be = null;
                const Ee = S({}, [...N, ...D, ...P, ...U]);
                let Te = Object.seal(a(null, {
                    tagNameCheck: {
                        writable: !0,
                        configurable: !1,
                        enumerable: !0,
                        value: null
                    },
                    attributeNameCheck: {
                        writable: !0,
                        configurable: !1,
                        enumerable: !0,
                        value: null
                    },
                    allowCustomizedBuiltInElements: {
                        writable: !0,
                        configurable: !1,
                        enumerable: !0,
                        value: !1
                    }
                }))
                  , Se = null
                  , xe = null
                  , $e = !0
                  , Ce = !0
                  , ke = !1
                  , Ie = !0
                  , Le = !1
                  , Ae = !0
                  , Re = !1
                  , Me = !1
                  , Oe = !1
                  , Ne = !1
                  , De = !1
                  , Pe = !1
                  , Ue = !0
                  , Be = !1;
                const We = "user-content-";
                let Fe = !0
                  , ze = !1
                  , He = {}
                  , je = null;
                const Ge = S({}, ["annotation-xml", "audio", "colgroup", "desc", "foreignobject", "head", "iframe", "math", "mi", "mn", "mo", "ms", "mtext", "noembed", "noframes", "noscript", "plaintext", "script", "style", "svg", "template", "thead", "title", "video", "xmp"]);
                let qe = null;
                const Ve = S({}, ["audio", "video", "img", "source", "image", "track"]);
                let Ye = null;
                const Ke = S({}, ["alt", "class", "for", "id", "label", "name", "pattern", "placeholder", "role", "summary", "title", "value", "style", "xmlns"])
                  , Ze = "http://www.w3.org/1998/Math/MathML"
                  , Xe = "http://www.w3.org/2000/svg"
                  , Qe = "http://www.w3.org/1999/xhtml";
                let Je = Qe
                  , et = !1
                  , tt = null;
                const nt = S({}, [Ze, Xe, Qe], g);
                let ot = null;
                const it = ["application/xhtml+xml", "text/html"]
                  , rt = "text/html";
                let st = null
                  , at = null;
                const lt = o.createElement("form")
                  , ct = function(e) {
                    return e instanceof RegExp || e instanceof Function
                }
                  , dt = function() {
                    let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    if (!at || at !== e) {
                        if (e && "object" == typeof e || (e = {}),
                        e = $(e),
                        ot = -1 === it.indexOf(e.PARSER_MEDIA_TYPE) ? rt : e.PARSER_MEDIA_TYPE,
                        st = "application/xhtml+xml" === ot ? g : m,
                        ye = y(e, "ALLOWED_TAGS") ? S({}, e.ALLOWED_TAGS, st) : we,
                        be = y(e, "ALLOWED_ATTR") ? S({}, e.ALLOWED_ATTR, st) : Ee,
                        tt = y(e, "ALLOWED_NAMESPACES") ? S({}, e.ALLOWED_NAMESPACES, g) : nt,
                        Ye = y(e, "ADD_URI_SAFE_ATTR") ? S($(Ke), e.ADD_URI_SAFE_ATTR, st) : Ke,
                        qe = y(e, "ADD_DATA_URI_TAGS") ? S($(Ve), e.ADD_DATA_URI_TAGS, st) : Ve,
                        je = y(e, "FORBID_CONTENTS") ? S({}, e.FORBID_CONTENTS, st) : Ge,
                        Se = y(e, "FORBID_TAGS") ? S({}, e.FORBID_TAGS, st) : {},
                        xe = y(e, "FORBID_ATTR") ? S({}, e.FORBID_ATTR, st) : {},
                        He = !!y(e, "USE_PROFILES") && e.USE_PROFILES,
                        $e = !1 !== e.ALLOW_ARIA_ATTR,
                        Ce = !1 !== e.ALLOW_DATA_ATTR,
                        ke = e.ALLOW_UNKNOWN_PROTOCOLS || !1,
                        Ie = !1 !== e.ALLOW_SELF_CLOSE_IN_ATTR,
                        Le = e.SAFE_FOR_TEMPLATES || !1,
                        Ae = !1 !== e.SAFE_FOR_XML,
                        Re = e.WHOLE_DOCUMENT || !1,
                        Ne = e.RETURN_DOM || !1,
                        De = e.RETURN_DOM_FRAGMENT || !1,
                        Pe = e.RETURN_TRUSTED_TYPE || !1,
                        Oe = e.FORCE_BODY || !1,
                        Ue = !1 !== e.SANITIZE_DOM,
                        Be = e.SANITIZE_NAMED_PROPS || !1,
                        Fe = !1 !== e.KEEP_CONTENT,
                        ze = e.IN_PLACE || !1,
                        ve = e.ALLOWED_URI_REGEXP || j,
                        Je = e.NAMESPACE || Qe,
                        Te = e.CUSTOM_ELEMENT_HANDLING || {},
                        e.CUSTOM_ELEMENT_HANDLING && ct(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck) && (Te.tagNameCheck = e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),
                        e.CUSTOM_ELEMENT_HANDLING && ct(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck) && (Te.attributeNameCheck = e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),
                        e.CUSTOM_ELEMENT_HANDLING && "boolean" == typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (Te.allowCustomizedBuiltInElements = e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),
                        Le && (Ce = !1),
                        De && (Ne = !0),
                        He && (ye = S({}, O),
                        be = [],
                        !0 === He.html && (S(ye, k),
                        S(be, N)),
                        !0 === He.svg && (S(ye, I),
                        S(be, D),
                        S(be, U)),
                        !0 === He.svgFilters && (S(ye, L),
                        S(be, D),
                        S(be, U)),
                        !0 === He.mathMl && (S(ye, R),
                        S(be, P),
                        S(be, U))),
                        e.ADD_TAGS && (ye === we && (ye = $(ye)),
                        S(ye, e.ADD_TAGS, st)),
                        e.ADD_ATTR && (be === Ee && (be = $(be)),
                        S(be, e.ADD_ATTR, st)),
                        e.ADD_URI_SAFE_ATTR && S(Ye, e.ADD_URI_SAFE_ATTR, st),
                        e.FORBID_CONTENTS && (je === Ge && (je = $(je)),
                        S(je, e.FORBID_CONTENTS, st)),
                        Fe && (ye["#text"] = !0),
                        Re && S(ye, ["html", "head", "body"]),
                        ye.table && (S(ye, ["tbody"]),
                        delete Se.tbody),
                        e.TRUSTED_TYPES_POLICY) {
                            if ("function" != typeof e.TRUSTED_TYPES_POLICY.createHTML)
                                throw b('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');
                            if ("function" != typeof e.TRUSTED_TYPES_POLICY.createScriptURL)
                                throw b('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');
                            ne = e.TRUSTED_TYPES_POLICY,
                            oe = ne.createHTML("")
                        } else
                            void 0 === ne && (ne = Q(z, s)),
                            null !== ne && "string" == typeof oe && (oe = ne.createHTML(""));
                        r && r(e),
                        at = e
                    }
                }
                  , ut = S({}, ["mi", "mo", "mn", "ms", "mtext"])
                  , pt = S({}, ["foreignobject", "annotation-xml"])
                  , mt = S({}, ["title", "style", "font", "a", "script"])
                  , gt = S({}, [...I, ...L, ...A])
                  , ht = S({}, [...R, ...M])
                  , ft = function(e) {
                    let t = te(e);
                    t && t.tagName || (t = {
                        namespaceURI: Je,
                        tagName: "template"
                    });
                    const n = m(e.tagName)
                      , o = m(t.tagName);
                    return !!tt[e.namespaceURI] && (e.namespaceURI === Xe ? t.namespaceURI === Qe ? "svg" === n : t.namespaceURI === Ze ? "svg" === n && ("annotation-xml" === o || ut[o]) : Boolean(gt[n]) : e.namespaceURI === Ze ? t.namespaceURI === Qe ? "math" === n : t.namespaceURI === Xe ? "math" === n && pt[o] : Boolean(ht[n]) : e.namespaceURI === Qe ? !(t.namespaceURI === Xe && !pt[o]) && !(t.namespaceURI === Ze && !ut[o]) && !ht[n] && (mt[n] || !gt[n]) : !("application/xhtml+xml" !== ot || !tt[e.namespaceURI]))
                }
                  , _t = function(e) {
                    p(n.removed, {
                        element: e
                    });
                    try {
                        te(e).removeChild(e)
                    } catch (t) {
                        q(e)
                    }
                }
                  , vt = function(e, t) {
                    try {
                        p(n.removed, {
                            attribute: t.getAttributeNode(e),
                            from: t
                        })
                    } catch (e) {
                        p(n.removed, {
                            attribute: null,
                            from: t
                        })
                    }
                    if (t.removeAttribute(e),
                    "is" === e && !be[e])
                        if (Ne || De)
                            try {
                                _t(t)
                            } catch (e) {}
                        else
                            try {
                                t.setAttribute(e, "")
                            } catch (e) {}
                }
                  , yt = function(e) {
                    let t = null
                      , n = null;
                    if (Oe)
                        e = "<remove></remove>" + e;
                    else {
                        const t = h(e, /^[\r\n\t ]+/);
                        n = t && t[0]
                    }
                    "application/xhtml+xml" === ot && Je === Qe && (e = '<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>' + e + "</body></html>");
                    const i = ne ? ne.createHTML(e) : e;
                    if (Je === Qe)
                        try {
                            t = (new F).parseFromString(i, ot)
                        } catch (e) {}
                    if (!t || !t.documentElement) {
                        t = ie.createDocument(Je, "template", null);
                        try {
                            t.documentElement.innerHTML = et ? oe : i
                        } catch (e) {}
                    }
                    const r = t.body || t.documentElement;
                    return e && n && r.insertBefore(o.createTextNode(n), r.childNodes[0] || null),
                    Je === Qe ? ae.call(t, Re ? "html" : "body")[0] : Re ? t.documentElement : r
                }
                  , wt = function(e) {
                    return re.call(e.ownerDocument || e, e, x.SHOW_ELEMENT | x.SHOW_COMMENT | x.SHOW_TEXT | x.SHOW_PROCESSING_INSTRUCTION | x.SHOW_CDATA_SECTION, null)
                }
                  , bt = function(e) {
                    return e instanceof W && ("string" != typeof e.nodeName || "string" != typeof e.textContent || "function" != typeof e.removeChild || !(e.attributes instanceof B) || "function" != typeof e.removeAttribute || "function" != typeof e.setAttribute || "string" != typeof e.namespaceURI || "function" != typeof e.insertBefore || "function" != typeof e.hasChildNodes)
                }
                  , Et = function(e) {
                    return "function" == typeof E && e instanceof E
                }
                  , Tt = function(e, t, o) {
                    ce[e] && d(ce[e], (e => {
                        e.call(n, t, o, at)
                    }
                    ))
                }
                  , St = function(e) {
                    let t = null;
                    if (Tt("beforeSanitizeElements", e, null),
                    bt(e))
                        return _t(e),
                        !0;
                    const o = st(e.nodeName);
                    if (Tt("uponSanitizeElement", e, {
                        tagName: o,
                        allowedTags: ye
                    }),
                    e.hasChildNodes() && !Et(e.firstElementChild) && w(/<[/\w]/g, e.innerHTML) && w(/<[/\w]/g, e.textContent))
                        return _t(e),
                        !0;
                    if (e.nodeType === Z.progressingInstruction)
                        return _t(e),
                        !0;
                    if (Ae && e.nodeType === Z.comment && w(/<[/\w]/g, e.data))
                        return _t(e),
                        !0;
                    if (!ye[o] || Se[o]) {
                        if (!Se[o] && $t(o)) {
                            if (Te.tagNameCheck instanceof RegExp && w(Te.tagNameCheck, o))
                                return !1;
                            if (Te.tagNameCheck instanceof Function && Te.tagNameCheck(o))
                                return !1
                        }
                        if (Fe && !je[o]) {
                            const t = te(e) || e.parentNode
                              , n = ee(e) || e.childNodes;
                            if (n && t)
                                for (let o = n.length - 1; o >= 0; --o) {
                                    const i = G(n[o], !0);
                                    i.__removalCount = (e.__removalCount || 0) + 1,
                                    t.insertBefore(i, Y(e))
                                }
                        }
                        return _t(e),
                        !0
                    }
                    return e instanceof T && !ft(e) ? (_t(e),
                    !0) : "noscript" !== o && "noembed" !== o && "noframes" !== o || !w(/<\/no(script|embed|frames)/i, e.innerHTML) ? (Le && e.nodeType === Z.text && (t = e.textContent,
                    d([de, ue, pe], (e => {
                        t = f(t, e, " ")
                    }
                    )),
                    e.textContent !== t && (p(n.removed, {
                        element: e.cloneNode()
                    }),
                    e.textContent = t)),
                    Tt("afterSanitizeElements", e, null),
                    !1) : (_t(e),
                    !0)
                }
                  , xt = function(e, t, n) {
                    if (Ue && ("id" === t || "name" === t) && (n in o || n in lt))
                        return !1;
                    if (Ce && !xe[t] && w(me, t))
                        ;
                    else if ($e && w(ge, t))
                        ;
                    else if (!be[t] || xe[t]) {
                        if (!($t(e) && (Te.tagNameCheck instanceof RegExp && w(Te.tagNameCheck, e) || Te.tagNameCheck instanceof Function && Te.tagNameCheck(e)) && (Te.attributeNameCheck instanceof RegExp && w(Te.attributeNameCheck, t) || Te.attributeNameCheck instanceof Function && Te.attributeNameCheck(t)) || "is" === t && Te.allowCustomizedBuiltInElements && (Te.tagNameCheck instanceof RegExp && w(Te.tagNameCheck, n) || Te.tagNameCheck instanceof Function && Te.tagNameCheck(n))))
                            return !1
                    } else if (Ye[t])
                        ;
                    else if (w(ve, f(n, fe, "")))
                        ;
                    else if ("src" !== t && "xlink:href" !== t && "href" !== t || "script" === e || 0 !== _(n, "data:") || !qe[e])
                        if (ke && !w(he, f(n, fe, "")))
                            ;
                        else if (n)
                            return !1;
                    return !0
                }
                  , $t = function(e) {
                    return "annotation-xml" !== e && h(e, _e)
                }
                  , Ct = function(e) {
                    Tt("beforeSanitizeAttributes", e, null);
                    const {attributes: t} = e;
                    if (!t)
                        return;
                    const o = {
                        attrName: "",
                        attrValue: "",
                        keepAttr: !0,
                        allowedAttributes: be
                    };
                    let i = t.length;
                    for (; i--; ) {
                        const r = t[i]
                          , {name: s, namespaceURI: a, value: l} = r
                          , c = st(s);
                        let p = "value" === s ? l : v(l);
                        if (o.attrName = c,
                        o.attrValue = p,
                        o.keepAttr = !0,
                        o.forceKeepAttr = void 0,
                        Tt("uponSanitizeAttribute", e, o),
                        p = o.attrValue,
                        Ae && w(/((--!?|])>)|<\/(style|title)/i, p)) {
                            vt(s, e);
                            continue
                        }
                        if (o.forceKeepAttr)
                            continue;
                        if (vt(s, e),
                        !o.keepAttr)
                            continue;
                        if (!Ie && w(/\/>/i, p)) {
                            vt(s, e);
                            continue
                        }
                        Le && d([de, ue, pe], (e => {
                            p = f(p, e, " ")
                        }
                        ));
                        const m = st(e.nodeName);
                        if (xt(m, c, p)) {
                            if (!Be || "id" !== c && "name" !== c || (vt(s, e),
                            p = We + p),
                            ne && "object" == typeof z && "function" == typeof z.getAttributeType)
                                if (a)
                                    ;
                                else
                                    switch (z.getAttributeType(m, c)) {
                                    case "TrustedHTML":
                                        p = ne.createHTML(p);
                                        break;
                                    case "TrustedScriptURL":
                                        p = ne.createScriptURL(p)
                                    }
                            try {
                                a ? e.setAttributeNS(a, s, p) : e.setAttribute(s, p),
                                bt(e) ? _t(e) : u(n.removed)
                            } catch (e) {}
                        }
                    }
                    Tt("afterSanitizeAttributes", e, null)
                }
                  , kt = function e(t) {
                    let n = null;
                    const o = wt(t);
                    for (Tt("beforeSanitizeShadowDOM", t, null); n = o.nextNode(); )
                        Tt("uponSanitizeShadowNode", n, null),
                        St(n) || (n.content instanceof l && e(n.content),
                        Ct(n));
                    Tt("afterSanitizeShadowDOM", t, null)
                };
                return n.sanitize = function(e) {
                    let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
                      , o = null
                      , r = null
                      , s = null
                      , a = null;
                    if (et = !e,
                    et && (e = "\x3c!--\x3e"),
                    "string" != typeof e && !Et(e)) {
                        if ("function" != typeof e.toString)
                            throw b("toString is not a function");
                        if ("string" != typeof (e = e.toString()))
                            throw b("dirty is not a string, aborting")
                    }
                    if (!n.isSupported)
                        return e;
                    if (Me || dt(t),
                    n.removed = [],
                    "string" == typeof e && (ze = !1),
                    ze) {
                        if (e.nodeName) {
                            const t = st(e.nodeName);
                            if (!ye[t] || Se[t])
                                throw b("root node is forbidden and cannot be sanitized in-place")
                        }
                    } else if (e instanceof E)
                        o = yt("\x3c!----\x3e"),
                        r = o.ownerDocument.importNode(e, !0),
                        r.nodeType === Z.element && "BODY" === r.nodeName || "HTML" === r.nodeName ? o = r : o.appendChild(r);
                    else {
                        if (!Ne && !Le && !Re && -1 === e.indexOf("<"))
                            return ne && Pe ? ne.createHTML(e) : e;
                        if (o = yt(e),
                        !o)
                            return Ne ? null : Pe ? oe : ""
                    }
                    o && Oe && _t(o.firstChild);
                    const c = wt(ze ? e : o);
                    for (; s = c.nextNode(); )
                        St(s) || (s.content instanceof l && kt(s.content),
                        Ct(s));
                    if (ze)
                        return e;
                    if (Ne) {
                        if (De)
                            for (a = se.call(o.ownerDocument); o.firstChild; )
                                a.appendChild(o.firstChild);
                        else
                            a = o;
                        return (be.shadowroot || be.shadowrootmode) && (a = le.call(i, a, !0)),
                        a
                    }
                    let u = Re ? o.outerHTML : o.innerHTML;
                    return Re && ye["!doctype"] && o.ownerDocument && o.ownerDocument.doctype && o.ownerDocument.doctype.name && w(V, o.ownerDocument.doctype.name) && (u = "<!DOCTYPE " + o.ownerDocument.doctype.name + ">\n" + u),
                    Le && d([de, ue, pe], (e => {
                        u = f(u, e, " ")
                    }
                    )),
                    ne && Pe ? ne.createHTML(u) : u
                }
                ,
                n.setConfig = function() {
                    dt(arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}),
                    Me = !0
                }
                ,
                n.clearConfig = function() {
                    at = null,
                    Me = !1
                }
                ,
                n.isValidAttribute = function(e, t, n) {
                    at || dt({});
                    const o = st(e)
                      , i = st(t);
                    return xt(o, i, n)
                }
                ,
                n.addHook = function(e, t) {
                    "function" == typeof t && (ce[e] = ce[e] || [],
                    p(ce[e], t))
                }
                ,
                n.removeHook = function(e) {
                    if (ce[e])
                        return u(ce[e])
                }
                ,
                n.removeHooks = function(e) {
                    ce[e] && (ce[e] = [])
                }
                ,
                n.removeAllHooks = function() {
                    ce = {}
                }
                ,
                n
            }
            var ee = J();
            return ee
        }()
    }(_t);
    const vt = (e, t={}) => _t.exports.sanitize(e, {
        USE_PROFILES: {
            html: !0
        },
        ...t
    })
      , yt = () => {
        const e = new URL(window.location.href);
        return "https:" === e.protocol && "docs.google.com" === e.hostname && "/document/" === e.pathname.slice(0, 10)
    }
      , wt = () => {
        const e = document.querySelector(".docs-texteventtarget-iframe")?.contentWindow;
        return {
            iFrame: e,
            editable: e && e.document.querySelector("[contenteditable=true]")
        }
    }
      , bt = () => {
        const {iFrame: e, editable: t} = wt();
        if (!e || !t)
            return;
        const n = new e.ClipboardEvent("copy",{
            bubbles: !0,
            clipboardData: new e.DataTransfer
        });
        t.dispatchEvent(n)
    }
      , Et = () => {
        const {iFrame: e, editable: t} = wt();
        if (!e || !t)
            return;
        const n = new e.CustomEvent("copy",{
            bubbles: !0
        });
        t.dispatchEvent(n);
        const o = (e => {
            if (0 === e.length)
                return !0;
            for (let t = 0; t < e.length; t++)
                if (8203 !== e.charCodeAt(t))
                    return !1;
            return !0
        }
        )(t.innerText.trim());
        return {
            html: o ? "" : vt(t.innerHTML),
            text: o ? "" : t.innerText
        }
    }
      , Tt = () => {
        const e = document.querySelector("deepl-gdocs-icon")?.shadowRoot.querySelector(".dl-gdocs-icon");
        if (!e)
            return void console.error("GDocs Icon was not present while trying to get the coordinates");
        const t = e.getBoundingClientRect()
          , n = document.body.parentNode.getBoundingClientRect()
          , {top: o, left: i, right: r, bottom: s, height: a, width: l} = t;
        return {
            x: i - n.left,
            y: s - n.top,
            selectedTop: o,
            selectedBottom: s,
            selectedRight: n.width - r,
            selectedLeft: i + window.scrollX,
            selectedWidth: l,
            height: a
        }
    }
      , St = () => {
        const e = document.querySelector("#docs-instant-bubble")
          , t = document.querySelector(".kix-appview-editor")
          , n = document.querySelector(".kix-page-paginated")
          , o = 120
          , i = 40
          , r = t.getBoundingClientRect();
        let s = !1;
        const a = {
            top: 0,
            left: 0
        };
        try {
            if (!e)
                throw new Error;
            const t = e.getBoundingClientRect();
            if (t.left <= 0)
                throw new Error;
            const n = Math.round(t.top + 134 || 0);
            a.left = t.left,
            a.top = n ? n + 20 : 0,
            a.top + o / 2 < r.top + 10 && (a.top = r.top + 10),
            a.top - o / 2 > r.bottom && (s = !0)
        } catch (e) {
            if (n) {
                const e = n.getBoundingClientRect();
                a.left = e.right - i / 2,
                a.top = r.top + 30
            }
        }
        return a.left + i / 2 > r.right && (s = !0),
        {
            shouldBeOutOfViewport: s,
            newPosition: a
        }
    }
      , xt = () => !!document.querySelector("#docs-toolbar-wrapper")
      , $t = e => {
        const t = e.clipboardData.getData("application/x-vnd.google-docs-document-slice-clip+wrapped")
          , n = JSON.parse(t)
          , o = JSON.parse(n.data).resolved
          , i = [];
        let r = "";
        for (let e = 0; e < o.dsl_spacers.length; e++) {
            const t = o.dsl_spacers[e];
            o.dsl_styleslices.forEach((t => {
                if (t.stsl_styles.length > 0 && t.stsl_styles[e]) {
                    const n = `a${i.length + 1}`;
                    i.push({
                        entity_type: t.stsl_type,
                        entity_abbreviation: n,
                        entity: t.stsl_styles[e]
                    }),
                    r += `<${n}>`
                }
            }
            )),
            r += t
        }
        const s = []
          , a = r.split("\n").map((e => {
            const t = e.replace(/<a\d+>/g, "").trim().length > 0;
            if (t) {
                const {leading: n, trailing: o, processedLine: i} = Ct(e);
                return s.push(i),
                {
                    isTranslatable: t,
                    index: s.length - 1,
                    leading: n,
                    trailing: o
                }
            }
            return {
                isTranslatable: t,
                line: e
            }
        }
        ));
        return {
            textLines: s,
            entities: i,
            contentReference: a,
            originalObject: n,
            originalText: o.dsl_spacers
        }
    }
      , Ct = e => {
        const {leadingEntities: t, processedLine: n} = kt(e)
          , {trailingEntities: o, processedLine: i} = It(n);
        return {
            leading: t,
            trailing: o,
            processedLine: i
        }
    }
      , kt = e => {
        let t = ""
          , n = ""
          , o = ""
          , i = !0;
        for (const r of e) {
            if (i) {
                const e = o[o.length - 1];
                if ("<" === r && 0 === o.length) {
                    o = "<";
                    continue
                }
                if (">" === r && o.length > 0 && e.match(/\d/)) {
                    t = t + o + ">",
                    o = "";
                    continue
                }
                if ("a" === r && o.length > 0 && "<" === e) {
                    o += "a";
                    continue
                }
                if (r.match(/\d/) && o.length > 0 && ("a" === e || e.match(/\d/))) {
                    o += r;
                    continue
                }
                if (Lt(r) && 0 === o.length) {
                    t += r;
                    continue
                }
                i = !1,
                o = ""
            }
            n += r
        }
        return {
            processedLine: n,
            leadingEntities: t
        }
    }
      , It = e => {
        let t = ""
          , n = ""
          , o = ""
          , i = !0;
        for (const r of e.split("").reverse()) {
            if (i) {
                if (">" === r && 0 === o.length) {
                    o = ">";
                    continue
                }
                if ("<" === r && o.length > 0 && "a" === o[0]) {
                    t = "<" + o + t,
                    o = "";
                    continue
                }
                if ("a" === r && o.length > 0 && o[0].match(/\d/)) {
                    o = "a" + o;
                    continue
                }
                if (r.match(/\d/) && o.length > 0 && (">" === o[0] || o[0].match(/\d/))) {
                    o = r + o;
                    continue
                }
                if (Lt(r) && 0 === o.length) {
                    t = r + t;
                    continue
                }
                i = !1,
                o = ""
            }
            n = r + n
        }
        return {
            processedLine: n,
            trailingEntities: t
        }
    }
      , Lt = e => [16, 17, 18, 28].includes(e.charCodeAt(0))
      , At = ({textLines: e, entities: t, contentReference: n}) => {
        let o = n.map((t => t.isTranslatable ? `${t.leading}${Array.isArray(e[t.index]) ? e[t.index].join("") : e[t.index]}${t.trailing}` : t.line)).join("\n");
        o = o.replace(/<\/a(\d+)>/g, "<a$1>");
        let i = ""
          , r = []
          , s = 0
          , a = 0;
        for (; s + a < o.length; ) {
            const e = s + a;
            if ("<" === o[e] && "a" === o[e + 1]) {
                let n = "<a"
                  , i = !0
                  , l = !1
                  , c = !0;
                for (; c; ) {
                    const t = o[e + n.length];
                    ">" === t ? (n += t,
                    l || (i = !1),
                    c = !1) : t.match(/\d/) ? (n += t,
                    l = !0) : (i = !1,
                    c = !1)
                }
                if (i) {
                    a += n.length;
                    const e = t.find((e => `<${e.entity_abbreviation}>` === n));
                    r.push({
                        ...e,
                        new_position: s
                    });
                    continue
                }
            }
            i += o[e],
            s++
        }
        return {
            processedText: i,
            processedEntities: r
        }
    }
      , Rt = e => e.replace(/<(\/)?a(\d+)>/g, "")
      , Mt = e => {
        const {characterMappings: t, cleanSentence: n} = Nt(e)
          , o = /[^\s.,:;!?"()*ï½ï½ ï½¡ï½¢ï½£ï½¤ï½¥ããããããããããããããããããããããã ãª ã« ã¬ ã­]/
          , i = [];
        let r = ""
          , s = 0
          , a = !1;
        for (let e = 0; e < n.length; e++) {
            const l = n[e]
              , c = o.test(l);
            c !== a && r.length > 0 && (i.push({
                text: r,
                isWord: a,
                offsetStart: s,
                offsetLength: r.length,
                offsetStartRaw: t[s],
                offsetLengthRaw: t[s + r.length]
            }),
            r = ""),
            a = c,
            r += l,
            1 === r.length && (s = e)
        }
        return r && i.push({
            text: r,
            isWord: a,
            offsetStart: s,
            offsetLength: r.length,
            offsetStartRaw: t[s],
            offsetLengthRaw: t[s + r.length]
        }),
        i
    }
      , Ot = ({entities: e, text: t, originalObject: n}) => {
        const o = Dt({
            entities: e,
            text: t,
            originalObject: n
        });
        Pt(o)
    }
      , Nt = e => {
        const t = [];
        let n = "";
        const o = e.split(/(<a\d+>)/g);
        let i = 0;
        for (let e = 0; e < o.length; e++) {
            const r = o[e];
            if (!/^<a\d+>$/.test(r)) {
                n += r;
                for (let e = 0; e < r.length; e++)
                    t.push(i + e)
            }
            i += r.length
        }
        return {
            characterMappings: t,
            cleanSentence: n
        }
    }
      , Dt = ({entities: e, text: t, originalObject: n}) => {
        const o = JSON.parse(n.data)
          , i = o.resolved.dsl_styleslices.map((t => {
            const n = e.filter((e => e.entity_type === t.stsl_type));
            if (0 === n.length)
                return t;
            const o = {};
            let i = 0;
            n.forEach((e => {
                i = e.new_position > i ? e.new_position : i,
                o[`${e.new_position}`] = e.entity
            }
            ));
            const r = [];
            for (let e = 0; e <= i; e++)
                r.push(o[`${e}`] || null);
            return {
                ...t,
                stsl_styles: r
            }
        }
        ))
          , r = {
            ...o.resolved,
            dsl_spacers: t,
            dsl_styleslices: i
        }
          , s = {
            ...n,
            data: JSON.stringify({
                ...o,
                resolved: r
            })
        };
        return JSON.stringify(s)
    }
      , Pt = e => {
        const {editable: t} = wt();
        let n;
        const o = "application/x-vnd.google-docs-document-slice-clip+wrapped";
        if (gt())
            n = new ClipboardEvent("paste",{
                dataType: o,
                data: e
            });
        else {
            const t = new DataTransfer;
            t.setData(o, e),
            n = new ClipboardEvent("paste",{
                bubbles: !0,
                clipboardData: t
            })
        }
        t.dispatchEvent(n)
    }
    ;
    function Ut(e) {
        return !!e && (["EN"].includes(e) ? e = "EN-GB" : ["PT"].includes(e) && (e = "PT-PT"),
        i.map((e => e.langCode)).includes(e))
    }
    const Bt = e => e.substring(0, 2).toUpperCase();
    async function Wt(e, t=!1) {
        let n = "";
        const o = await chrome.i18n.detectLanguage(e);
        return o && o.languages?.length > 0 && (n = o.languages.sort(( (e, t) => t.percentage - e.percentage))[0].language.substr(0, 2).toUpperCase()),
        t ? {
            langCode: n,
            isReliable: o.isReliable,
            detectedLanguages: o.languages.sort(( (e, t) => t.percentage - e.percentage)).map((e => ({
                langCode: e.language.substr(0, 2).toUpperCase(),
                percentage: e.percentage
            })))
        } : n
    }
    const Ft = () => {
        let e, t, n = !1;
        return i.map((o => {
            let i;
            return n = ["EN-US", "EN-GB", "PT-PT", "PT-BR", "ZH-HANT"].includes(o.langCode),
            n && (({optionLabel: e, selectedLabel: t} = function(e) {
                switch (e.langCode) {
                case "EN-US":
                    return {
                        optionLabel: chrome.i18n.getMessage("supported_languages_EN_US"),
                        selectedLabel: chrome.i18n.getMessage("selected_languages_EN_US")
                    };
                case "EN-GB":
                    return {
                        optionLabel: chrome.i18n.getMessage("supported_languages_EN_UK"),
                        selectedLabel: chrome.i18n.getMessage("selected_languages_EN_UK")
                    };
                case "PT-PT":
                    return {
                        optionLabel: chrome.i18n.getMessage("supported_languages_PT_PT"),
                        selectedLabel: chrome.i18n.getMessage("selected_languages_PT_PT")
                    };
                case "PT-BR":
                    return {
                        optionLabel: chrome.i18n.getMessage("supported_languages_PT_BR"),
                        selectedLabel: chrome.i18n.getMessage("selected_languages_PT_BR")
                    };
                case "ZH-HANT":
                    return {
                        optionLabel: chrome.i18n.getMessage("supported_languages_ZH_HANT"),
                        selectedLabel: chrome.i18n.getMessage("supported_languages_ZH_HANT")
                    };
                default:
                    return {
                        optionLabel: chrome.i18n.getMessage("supported_languages_undefined"),
                        selectedLabel: chrome.i18n.getMessage("supported_languages_undefined")
                    }
                }
            }(o)),
            i = o.langCode.slice(0, 2).toLowerCase() + o.langCode.slice(2)),
            {
                value: o.langCode,
                label: n ? e : chrome.i18n.getMessage(`supported_languages_${o.langCode}`),
                selectedOptionLabel: n ? t : chrome.i18n.getMessage(`supported_languages_${o.langCode}`),
                regionalVariant: i
            }
        }
        )).sort(( (e, t) => e.label.localeCompare(t.label, chrome.i18n.getUILanguage())))
    }
      , zt = () => i.filter((e => !["PT-BR", "EN-US", "ZH-HANT"].includes(e.langCode))).map((e => "EN-GB" === e.langCode ? {
        ...e,
        langCode: "EN"
    } : "PT-PT" === e.langCode ? {
        ...e,
        langCode: "PT"
    } : e)).map((e => ({
        value: e.langCode,
        label: chrome.i18n.getMessage(`supported_languages_${e.langCode}`),
        selectedOptionLabel: chrome.i18n.getMessage(`supported_languages_${e.langCode}`)
    }))).sort(( (e, t) => e.label.localeCompare(t.label, chrome.i18n.getUILanguage())));
    function Ht(e) {
        return "EN" === e ? "EN-GB" : "PT" === e ? "PT-PT" : e
    }
    function jt(e, t, n) {
        return "EN" === e ? t["EN-GB"] === n || t["EN-US"] === n : "PT" === e ? t["PT-PT"] === n || t["PT-BR"] === n : t[e] === n
    }
    const Gt = e => r.includes(e?.substr(0, 2).toUpperCase())
      , qt = e => {
        const t = i.find((t => t.langCode === e));
        return t && t.supportsFormality
    }
      , Vt = e => {
        const t = e || chrome.i18n.getUILanguage();
        return ["ar", "he", "fa", "ur"].includes(t.toLowerCase().substr(0, 2)) ? "rtl" : "ltr"
    }
    ;
    function Yt(e) {
        if ("rtl" === e.dir)
            return !0;
        return "rtl" === window.getComputedStyle(e).direction
    }
    function Kt(e) {
        return /^[\p{L}\p{M}\p{N}\p{Pc}]+$/u.test(e)
    }
    const Zt = () => {
        const e = "https://docs.google.com";
        return window.location.href.substr(0, 23) === e && !!document.querySelector("#sketchy-hidden-iframe")
    }
      , Xt = async () => {
        const e = []
          , t = n => {
            const o = []
              , i = [];
            for (let e = 0; e < n.children.length; e++) {
                const t = n.children[e];
                "text" === t.tagName.toLowerCase() ? o.push(t) : "g" === t.tagName.toLowerCase() && i.push(t)
            }
            o.length > 0 && e.push(o.map((e => e.textContent)).join(" "));
            for (const e of i)
                t(e)
        }
          , n = tn();
        if (n) {
            t(n);
            const o = e.join("\n");
            return await Wt(o)
        }
    }
      , Qt = async () => {
        const e = tn()
          , t = document.querySelector("#canvas-container").getBoundingClientRect();
        if (e) {
            const n = t.left - 2
              , o = t.top - 2
              , i = t.right + 2
              , r = t.bottom + 2
              , s = new MouseEvent("mousedown",{
                bubbles: !0,
                cancelable: !0,
                view: window,
                clientX: n,
                clientY: o
            });
            e.dispatchEvent(s);
            for (let t = 1; t <= 10; t++) {
                const s = new MouseEvent("mousemove",{
                    bubbles: !0,
                    cancelable: !0,
                    view: window,
                    clientX: n + t / 10 * (i - n),
                    clientY: o + t / 10 * (r - o)
                });
                e.dispatchEvent(s),
                await new Promise((e => setTimeout(e, 25)))
            }
            const a = new MouseEvent("mouseup",{
                bubbles: !0,
                cancelable: !0,
                view: window,
                clientX: i,
                clientY: r
            });
            e.dispatchEvent(a)
        }
    }
      , Jt = e => {
        const t = []
          , n = [];
        for (const n of e) {
            const e = n[0]
              , o = n[1];
            if (15 === e) {
                const e = n[4];
                if ("" === e.trim())
                    continue;
                const i = t.find((e => e.id === o));
                if (i)
                    continue;
                const r = {
                    id: o,
                    originalContent: e,
                    translatedContent: "",
                    sentencesIndexes: [],
                    originalSentences: [],
                    translatedSentences: [],
                    modifiers: [],
                    secondaryModifiers: [],
                    entity: n,
                    orphanModifiers: [],
                    orphanModifiersIntegrityCheck: []
                };
                t.push(r)
            } else if (17 === e) {
                const e = t.find((e => e.id === o));
                if (!e)
                    continue;
                e.modifiers.push(n)
            } else if (41 === e) {
                const e = t.find((e => e.id === o));
                if (!e)
                    continue;
                e.secondaryModifiers.push(n)
            }
        }
        for (let e = 0; e < t.length; e++) {
            const o = t[e];
            o.orphanModifiers = nn(o);
            const {originalSentences: i, orphanModifiersIntegrityCheck: r} = sn(o);
            o.originalSentences = i,
            o.orphanModifiersIntegrityCheck = r;
            for (const e of o.originalSentences)
                o.sentencesIndexes.push(n.length),
                n.push(e)
        }
        return {
            entities: t,
            sentencesToTranslate: n
        }
    }
      , en = ({entity: e, translatedSentences: t, modifiersToDelete: n}) => {
        e.translatedSentences = e.sentencesIndexes.map((e => t[e]));
        const {translatedContent: o, orphanModifiersMappingEquivalences: i} = an(e);
        if (e.translatedContent = o,
        !e.translatedContent || e.translatedContent === e.originalContent)
            return;
        e.entity[4] = e.translatedContent;
        const r = ln(i, e);
        for (let t = 0; t < e.modifiers.length; t++) {
            const o = e.modifiers[t];
            let i = !1;
            if (cn(o, r)) {
                const {start: e, end: t} = dn(o, r);
                t <= e ? i = !0 : (o[3] = e,
                o[4] = t)
            } else
                i = !0;
            i && n.push(o)
        }
    }
      , tn = () => Array.from(document.querySelectorAll("#pages svg")).find((e => "none" !== getComputedStyle(e).display))
      , nn = ({originalContent: e, modifiers: t}) => {
        const n = rn(e);
        return on(t).filter((e => !n.includes(e)))
    }
      , on = e => {
        const t = [];
        for (const n of e)
            t.includes(n[3]) || t.push(n[3]),
            t.includes(n[4]) || t.push(n[4]);
        return t
    }
      , rn = e => {
        const t = e.split("\n")
          , n = [0];
        let o = 0;
        for (const e of t) {
            const t = o + e.length;
            n.includes(t) || n.push(t),
            n.includes(t + 1) || n.push(t + 1),
            o = t + 1
        }
        return n
    }
      , sn = ({originalContent: e, orphanModifiers: t}) => {
        let n = 0;
        const o = {}
          , i = e.split("\n").map((e => {
            let i = "";
            for (let r = 0; r < e.length; r++) {
                const s = n + r;
                if (t.includes(s)) {
                    const n = t.indexOf(s);
                    /\s/.test(e[r]) && (o[`${n}`] = e[r]),
                    i += `<a${n}>`
                }
                i += e[r]
            }
            return n += e.length + 1,
            i
        }
        ));
        return {
            orphanModifiersIntegrityCheck: o,
            originalSentences: i
        }
    }
      , an = e => {
        let t = {}
          , n = 0;
        return {
            translatedContent: e.translatedSentences.map((o => {
                const i = {};
                let r = 0;
                const s = o.replace(/<a\d+>/g, ( (t, s) => {
                    const a = t.match(/<a(\d+)>/);
                    if (a) {
                        const l = a[1]
                          , c = t.length
                          , d = e.orphanModifiers[Number(l)];
                        void 0 !== d && (i[`${d}`] = r + n + s - c * Object.keys(i).length);
                        const u = o.charAt(s + c);
                        if (u && void 0 !== e.orphanModifiersIntegrityCheck[`${l}`] && e.orphanModifiersIntegrityCheck[`${l}`] !== u)
                            return r++,
                            e.orphanModifiersIntegrityCheck[`${l}`]
                    }
                    return ""
                }
                ));
                return t = {
                    ...t,
                    ...i
                },
                n += s.length + 1,
                s
            }
            )).join("\n"),
            orphanModifiersMappingEquivalences: t
        }
    }
      , ln = (e={}, {originalContent: t, translatedContent: n}) => {
        const o = rn(t)
          , i = rn(n)
          , r = {};
        for (let e = 0; e < o.length; e++)
            r[`${o[e]}`] = i[e];
        return {
            ...e,
            ...r
        }
    }
      , cn = (e, t) => {
        const n = e[3]
          , o = e[4];
        return void 0 !== t[`${n}`] && void 0 !== t[`${o}`]
    }
      , dn = (e, t) => {
        const n = e[3]
          , o = e[4];
        return {
            start: t[`${n}`],
            end: t[`${o}`]
        }
    }
      , un = (e=25, t=null) => new Promise((n => setTimeout(( () => n(t)), e)));
    function pn() {
        return crypto.randomUUID()
    }
    const mn = {
        prod: "production",
        dev: "development",
        test: "testing"
    };
    function gn() {
        return mn.prod
    }
    function hn() {
        return gn() === mn.dev
    }
    function fn() {
        return gn() === mn.prod
    }
    function _n() {
        return gn() === mn.test
    }
    const vn = Object.prototype.toString;
    function yn(e) {
        switch (vn.call(e)) {
        case "[object Error]":
        case "[object Exception]":
        case "[object DOMException]":
            return !0;
        default:
            return Ln(e, Error)
        }
    }
    function wn(e, t) {
        return vn.call(e) === `[object ${t}]`
    }
    function bn(e) {
        return wn(e, "ErrorEvent")
    }
    function En(e) {
        return wn(e, "DOMError")
    }
    function Tn(e) {
        return wn(e, "String")
    }
    function Sn(e) {
        return "object" == typeof e && null !== e && "__sentry_template_string__"in e && "__sentry_template_values__"in e
    }
    function xn(e) {
        return null === e || Sn(e) || "object" != typeof e && "function" != typeof e
    }
    function $n(e) {
        return wn(e, "Object")
    }
    function Cn(e) {
        return "undefined" != typeof Event && Ln(e, Event)
    }
    function kn(e) {
        return wn(e, "RegExp")
    }
    function In(e) {
        return Boolean(e && e.then && "function" == typeof e.then)
    }
    function Ln(e, t) {
        try {
            return e instanceof t
        } catch (e) {
            return !1
        }
    }
    function An(e) {
        return !("object" != typeof e || null === e || !e.__isVue && !e._isVue)
    }
    function Rn(e, t=0) {
        return "string" != typeof e || 0 === t || e.length <= t ? e : `${e.slice(0, t)}...`
    }
    function Mn(e, t) {
        let n = e;
        const o = n.length;
        if (o <= 150)
            return n;
        t > o && (t = o);
        let i = Math.max(t - 60, 0);
        i < 5 && (i = 0);
        let r = Math.min(i + 140, o);
        return r > o - 5 && (r = o),
        r === o && (i = Math.max(r - 140, 0)),
        n = n.slice(i, r),
        i > 0 && (n = `'{snip} ${n}`),
        r < o && (n += " {snip}"),
        n
    }
    function On(e, t) {
        if (!Array.isArray(e))
            return "";
        const n = [];
        for (let t = 0; t < e.length; t++) {
            const o = e[t];
            try {
                An(o) ? n.push("[VueViewModel]") : n.push(String(o))
            } catch (e) {
                n.push("[value cannot be serialized]")
            }
        }
        return n.join(t)
    }
    function Nn(e, t=[], n=!1) {
        return t.some((t => function(e, t, n=!1) {
            return !!Tn(e) && (kn(t) ? t.test(e) : !!Tn(t) && (n ? e === t : e.includes(t)))
        }(e, t, n)))
    }
    function Dn(e, t, n=250, o, i, r, s) {
        if (!(r.exception && r.exception.values && s && Ln(s.originalException, Error)))
            return;
        const a = r.exception.values.length > 0 ? r.exception.values[r.exception.values.length - 1] : void 0;
        var l, c;
        a && (r.exception.values = (l = Pn(e, t, i, s.originalException, o, r.exception.values, a, 0),
        c = n,
        l.map((e => (e.value && (e.value = Rn(e.value, c)),
        e)))))
    }
    function Pn(e, t, n, o, i, r, s, a) {
        if (r.length >= n + 1)
            return r;
        let l = [...r];
        if (Ln(o[i], Error)) {
            Un(s, a);
            const r = e(t, o[i])
              , c = l.length;
            Bn(r, i, c, a),
            l = Pn(e, t, n, o[i], i, [r, ...l], r, c)
        }
        return Array.isArray(o.errors) && o.errors.forEach(( (o, r) => {
            if (Ln(o, Error)) {
                Un(s, a);
                const c = e(t, o)
                  , d = l.length;
                Bn(c, `errors[${r}]`, d, a),
                l = Pn(e, t, n, o, i, [c, ...l], c, d)
            }
        }
        )),
        l
    }
    function Un(e, t) {
        e.mechanism = e.mechanism || {
            type: "generic",
            handled: !0
        },
        e.mechanism = {
            ...e.mechanism,
            ..."AggregateError" === e.type && {
                is_exception_group: !0
            },
            exception_id: t
        }
    }
    function Bn(e, t, n, o) {
        e.mechanism = e.mechanism || {
            type: "generic",
            handled: !0
        },
        e.mechanism = {
            ...e.mechanism,
            type: "chained",
            source: t,
            exception_id: n,
            parent_id: o
        }
    }
    function Wn(e) {
        return e && e.Math == Math ? e : void 0
    }
    const Fn = "object" == typeof globalThis && Wn(globalThis) || "object" == typeof window && Wn(window) || "object" == typeof self && Wn(self) || "object" == typeof global && Wn(global) || function() {
        return this
    }() || {};
    function zn() {
        return Fn
    }
    function Hn(e, t, n) {
        const o = n || Fn
          , i = o.__SENTRY__ = o.__SENTRY__ || {};
        return i[e] || (i[e] = t())
    }
    const jn = zn()
      , Gn = 80;
    function qn(e, t={}) {
        if (!e)
            return "<unknown>";
        try {
            let n = e;
            const o = 5
              , i = [];
            let r = 0
              , s = 0;
            const a = " > "
              , l = a.length;
            let c;
            const d = Array.isArray(t) ? t : t.keyAttrs
              , u = !Array.isArray(t) && t.maxStringLength || Gn;
            for (; n && r++ < o && (c = Vn(n, d),
            !("html" === c || r > 1 && s + i.length * l + c.length >= u)); )
                i.push(c),
                s += c.length,
                n = n.parentNode;
            return i.reverse().join(a)
        } catch (e) {
            return "<unknown>"
        }
    }
    function Vn(e, t) {
        const n = e
          , o = [];
        let i, r, s, a, l;
        if (!n || !n.tagName)
            return "";
        if (jn.HTMLElement && n instanceof HTMLElement && n.dataset && n.dataset.sentryComponent)
            return n.dataset.sentryComponent;
        o.push(n.tagName.toLowerCase());
        const c = t && t.length ? t.filter((e => n.getAttribute(e))).map((e => [e, n.getAttribute(e)])) : null;
        if (c && c.length)
            c.forEach((e => {
                o.push(`[${e[0]}="${e[1]}"]`)
            }
            ));
        else if (n.id && o.push(`#${n.id}`),
        i = n.className,
        i && Tn(i))
            for (r = i.split(/\s+/),
            l = 0; l < r.length; l++)
                o.push(`.${r[l]}`);
        const d = ["aria-label", "type", "name", "title", "alt"];
        for (l = 0; l < d.length; l++)
            s = d[l],
            a = n.getAttribute(s),
            a && o.push(`[${s}="${a}"]`);
        return o.join("")
    }
    function Yn() {
        try {
            return jn.document.location.href
        } catch (e) {
            return ""
        }
    }
    const Kn = "undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__
      , Zn = ["debug", "info", "warn", "error", "log", "assert", "trace"]
      , Xn = {};
    function Qn(e) {
        if (!("console"in Fn))
            return e();
        const t = Fn.console
          , n = {}
          , o = Object.keys(Xn);
        o.forEach((e => {
            const o = Xn[e];
            n[e] = t[e],
            t[e] = o
        }
        ));
        try {
            return e()
        } finally {
            o.forEach((e => {
                t[e] = n[e]
            }
            ))
        }
    }
    const Jn = function() {
        let e = !1;
        const t = {
            enable: () => {
                e = !0
            }
            ,
            disable: () => {
                e = !1
            }
            ,
            isEnabled: () => e
        };
        return Kn ? Zn.forEach((n => {
            t[n] = (...t) => {
                e && Qn(( () => {
                    Fn.console[n](`Sentry Logger [${n}]:`, ...t)
                }
                ))
            }
        }
        )) : Zn.forEach((e => {
            t[e] = () => {}
        }
        )),
        t
    }()
      , eo = /^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;
    function to(e, t=!1) {
        const {host: n, path: o, pass: i, port: r, projectId: s, protocol: a, publicKey: l} = e;
        return `${a}://${l}${t && i ? `:${i}` : ""}@${n}${r ? `:${r}` : ""}/${o ? `${o}/` : o}${s}`
    }
    function no(e) {
        return {
            protocol: e.protocol,
            publicKey: e.publicKey || "",
            pass: e.pass || "",
            host: e.host,
            port: e.port || "",
            path: e.path || "",
            projectId: e.projectId
        }
    }
    function oo(e) {
        const t = "string" == typeof e ? function(e) {
            const t = eo.exec(e);
            if (!t)
                return void Qn(( () => {
                    console.error(`Invalid Sentry Dsn: ${e}`)
                }
                ));
            const [n,o,i="",r,s="",a] = t.slice(1);
            let l = ""
              , c = a;
            const d = c.split("/");
            if (d.length > 1 && (l = d.slice(0, -1).join("/"),
            c = d.pop()),
            c) {
                const e = c.match(/^\d+/);
                e && (c = e[0])
            }
            return no({
                host: r,
                pass: i,
                path: l,
                projectId: c,
                port: s,
                protocol: n,
                publicKey: o
            })
        }(e) : no(e);
        if (t && function(e) {
            if (!Kn)
                return !0;
            const {port: t, projectId: n, protocol: o} = e;
            return !(["protocol", "publicKey", "host", "projectId"].find((t => !e[t] && (Jn.error(`Invalid Sentry Dsn: ${t} missing`),
            !0))) || (n.match(/^\d+$/) ? function(e) {
                return "http" === e || "https" === e
            }(o) ? t && isNaN(parseInt(t, 10)) && (Jn.error(`Invalid Sentry Dsn: Invalid port ${t}`),
            1) : (Jn.error(`Invalid Sentry Dsn: Invalid protocol ${o}`),
            1) : (Jn.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),
            1)))
        }(t))
            return t
    }
    class io extends Error {
        constructor(e, t="warn") {
            super(e),
            this.message = e,
            this.name = new.target.prototype.constructor.name,
            Object.setPrototypeOf(this, new.target.prototype),
            this.logLevel = t
        }
    }
    function ro(e, t, n) {
        if (!(t in e))
            return;
        const o = e[t]
          , i = n(o);
        "function" == typeof i && ao(i, o),
        e[t] = i
    }
    function so(e, t, n) {
        try {
            Object.defineProperty(e, t, {
                value: n,
                writable: !0,
                configurable: !0
            })
        } catch (n) {
            Kn && Jn.log(`Failed to add non-enumerable property "${t}" to object`, e)
        }
    }
    function ao(e, t) {
        try {
            const n = t.prototype || {};
            e.prototype = t.prototype = n,
            so(e, "__sentry_original__", t)
        } catch (e) {}
    }
    function lo(e) {
        return e.__sentry_original__
    }
    function co(e) {
        if (yn(e))
            return {
                message: e.message,
                name: e.name,
                stack: e.stack,
                ...po(e)
            };
        if (Cn(e)) {
            const t = {
                type: e.type,
                target: uo(e.target),
                currentTarget: uo(e.currentTarget),
                ...po(e)
            };
            return "undefined" != typeof CustomEvent && Ln(e, CustomEvent) && (t.detail = e.detail),
            t
        }
        return e
    }
    function uo(e) {
        try {
            return t = e,
            "undefined" != typeof Element && Ln(t, Element) ? qn(e) : Object.prototype.toString.call(e)
        } catch (e) {
            return "<unknown>"
        }
        var t
    }
    function po(e) {
        if ("object" == typeof e && null !== e) {
            const t = {};
            for (const n in e)
                Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
            return t
        }
        return {}
    }
    function mo(e) {
        return go(e, new Map)
    }
    function go(e, t) {
        if (function(e) {
            if (!$n(e))
                return !1;
            try {
                const t = Object.getPrototypeOf(e).constructor.name;
                return !t || "Object" === t
            } catch (e) {
                return !0
            }
        }(e)) {
            const n = t.get(e);
            if (void 0 !== n)
                return n;
            const o = {};
            t.set(e, o);
            for (const n of Object.keys(e))
                void 0 !== e[n] && (o[n] = go(e[n], t));
            return o
        }
        if (Array.isArray(e)) {
            const n = t.get(e);
            if (void 0 !== n)
                return n;
            const o = [];
            return t.set(e, o),
            e.forEach((e => {
                o.push(go(e, t))
            }
            )),
            o
        }
        return e
    }
    const ho = 50
      , fo = /\(error: (.*)\)/
      , _o = /captureMessage|captureException/;
    const vo = "<anonymous>";
    function yo(e) {
        try {
            return e && "function" == typeof e && e.name || vo
        } catch (e) {
            return vo
        }
    }
    const wo = {}
      , bo = {};
    function Eo(e, t) {
        wo[e] = wo[e] || [],
        wo[e].push(t)
    }
    function To(e, t) {
        bo[e] || (t(),
        bo[e] = !0)
    }
    function So(e, t) {
        const n = e && wo[e];
        if (n)
            for (const o of n)
                try {
                    o(t)
                } catch (t) {
                    Kn && Jn.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${yo(o)}\nError:`, t)
                }
    }
    function xo(e) {
        const t = "console";
        Eo(t, e),
        To(t, $o)
    }
    function $o() {
        "console"in Fn && Zn.forEach((function(e) {
            e in Fn.console && ro(Fn.console, e, (function(t) {
                return Xn[e] = t,
                function(...t) {
                    So("console", {
                        args: t,
                        level: e
                    });
                    const n = Xn[e];
                    n && n.apply(Fn.console, t)
                }
            }
            ))
        }
        ))
    }
    function Co() {
        const e = Fn
          , t = e.crypto || e.msCrypto;
        let n = () => 16 * Math.random();
        try {
            if (t && t.randomUUID)
                return t.randomUUID().replace(/-/g, "");
            t && t.getRandomValues && (n = () => {
                const e = new Uint8Array(1);
                return t.getRandomValues(e),
                e[0]
            }
            )
        } catch (e) {}
        return ([1e7] + 1e3 + 4e3 + 8e3 + 1e11).replace(/[018]/g, (e => (e ^ (15 & n()) >> e / 4).toString(16)))
    }
    function ko(e) {
        return e.exception && e.exception.values ? e.exception.values[0] : void 0
    }
    function Io(e) {
        const {message: t, event_id: n} = e;
        if (t)
            return t;
        const o = ko(e);
        return o ? o.type && o.value ? `${o.type}: ${o.value}` : o.type || o.value || n || "<unknown>" : n || "<unknown>"
    }
    function Lo(e, t, n) {
        const o = e.exception = e.exception || {}
          , i = o.values = o.values || []
          , r = i[0] = i[0] || {};
        r.value || (r.value = t || ""),
        r.type || (r.type = n || "Error")
    }
    function Ao(e, t) {
        const n = ko(e);
        if (!n)
            return;
        const o = n.mechanism;
        if (n.mechanism = {
            type: "generic",
            handled: !0,
            ...o,
            ...t
        },
        t && "data"in t) {
            const e = {
                ...o && o.data,
                ...t.data
            };
            n.mechanism.data = e
        }
    }
    function Ro(e) {
        if (e && e.__sentry_captured__)
            return !0;
        try {
            so(e, "__sentry_captured__", !0)
        } catch (e) {}
        return !1
    }
    function Mo(e) {
        return Array.isArray(e) ? e : [e]
    }
    const Oo = Fn
      , No = 1e3;
    let Do, Po, Uo;
    function Bo(e) {
        Eo("dom", e),
        To("dom", Wo)
    }
    function Wo() {
        if (!Oo.document)
            return;
        const e = So.bind(null, "dom")
          , t = Fo(e, !0);
        Oo.document.addEventListener("click", t, !1),
        Oo.document.addEventListener("keypress", t, !1),
        ["EventTarget", "Node"].forEach((t => {
            const n = Oo[t] && Oo[t].prototype;
            n && n.hasOwnProperty && n.hasOwnProperty("addEventListener") && (ro(n, "addEventListener", (function(t) {
                return function(n, o, i) {
                    if ("click" === n || "keypress" == n)
                        try {
                            const o = this
                              , r = o.__sentry_instrumentation_handlers__ = o.__sentry_instrumentation_handlers__ || {}
                              , s = r[n] = r[n] || {
                                refCount: 0
                            };
                            if (!s.handler) {
                                const o = Fo(e);
                                s.handler = o,
                                t.call(this, n, o, i)
                            }
                            s.refCount++
                        } catch (e) {}
                    return t.call(this, n, o, i)
                }
            }
            )),
            ro(n, "removeEventListener", (function(e) {
                return function(t, n, o) {
                    if ("click" === t || "keypress" == t)
                        try {
                            const n = this
                              , i = n.__sentry_instrumentation_handlers__ || {}
                              , r = i[t];
                            r && (r.refCount--,
                            r.refCount <= 0 && (e.call(this, t, r.handler, o),
                            r.handler = void 0,
                            delete i[t]),
                            0 === Object.keys(i).length && delete n.__sentry_instrumentation_handlers__)
                        } catch (e) {}
                    return e.call(this, t, n, o)
                }
            }
            )))
        }
        ))
    }
    function Fo(e, t=!1) {
        return n => {
            if (!n || n._sentryCaptured)
                return;
            const o = function(e) {
                try {
                    return e.target
                } catch (e) {
                    return null
                }
            }(n);
            if (function(e, t) {
                return "keypress" === e && (!t || !t.tagName || "INPUT" !== t.tagName && "TEXTAREA" !== t.tagName && !t.isContentEditable)
            }(n.type, o))
                return;
            so(n, "_sentryCaptured", !0),
            o && !o._sentryId && so(o, "_sentryId", Co());
            const i = "keypress" === n.type ? "input" : n.type;
            if (!function(e) {
                if (e.type !== Po)
                    return !1;
                try {
                    if (!e.target || e.target._sentryId !== Uo)
                        return !1
                } catch (e) {}
                return !0
            }(n)) {
                e({
                    event: n,
                    name: i,
                    global: t
                }),
                Po = n.type,
                Uo = o ? o._sentryId : void 0
            }
            clearTimeout(Do),
            Do = Oo.setTimeout(( () => {
                Uo = void 0,
                Po = void 0
            }
            ), No)
        }
    }
    const zo = zn();
    function Ho(e) {
        return e && /^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())
    }
    function jo() {
        if ("string" == typeof EdgeRuntime)
            return !0;
        if (!function() {
            if (!("fetch"in zo))
                return !1;
            try {
                return new Headers,
                new Request("http://www.example.com"),
                new Response,
                !0
            } catch (e) {
                return !1
            }
        }())
            return !1;
        if (Ho(zo.fetch))
            return !0;
        let e = !1;
        const t = zo.document;
        if (t && "function" == typeof t.createElement)
            try {
                const n = t.createElement("iframe");
                n.hidden = !0,
                t.head.appendChild(n),
                n.contentWindow && n.contentWindow.fetch && (e = Ho(n.contentWindow.fetch)),
                t.head.removeChild(n)
            } catch (e) {
                Kn && Jn.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ", e)
            }
        return e
    }
    function Go(e) {
        const t = "fetch";
        Eo(t, e),
        To(t, qo)
    }
    function qo() {
        jo() && ro(Fn, "fetch", (function(e) {
            return function(...t) {
                const {method: n, url: o} = function(e) {
                    if (0 === e.length)
                        return {
                            method: "GET",
                            url: ""
                        };
                    if (2 === e.length) {
                        const [t,n] = e;
                        return {
                            url: Yo(t),
                            method: Vo(n, "method") ? String(n.method).toUpperCase() : "GET"
                        }
                    }
                    const t = e[0];
                    return {
                        url: Yo(t),
                        method: Vo(t, "method") ? String(t.method).toUpperCase() : "GET"
                    }
                }(t)
                  , i = {
                    args: t,
                    fetchData: {
                        method: n,
                        url: o
                    },
                    startTimestamp: Date.now()
                };
                return So("fetch", {
                    ...i
                }),
                e.apply(Fn, t).then((e => (So("fetch", {
                    ...i,
                    endTimestamp: Date.now(),
                    response: e
                }),
                e)), (e => {
                    throw So("fetch", {
                        ...i,
                        endTimestamp: Date.now(),
                        error: e
                    }),
                    e
                }
                ))
            }
        }
        ))
    }
    function Vo(e, t) {
        return !!e && "object" == typeof e && !!e[t]
    }
    function Yo(e) {
        return "string" == typeof e ? e : e ? Vo(e, "url") ? e.url : e.toString ? e.toString() : "" : ""
    }
    let Ko = null;
    function Zo() {
        Ko = Fn.onerror,
        Fn.onerror = function(e, t, n, o, i) {
            return So("error", {
                column: o,
                error: i,
                line: n,
                msg: e,
                url: t
            }),
            !(!Ko || Ko.__SENTRY_LOADER__) && Ko.apply(this, arguments)
        }
        ,
        Fn.onerror.__SENTRY_INSTRUMENTED__ = !0
    }
    let Xo = null;
    function Qo() {
        Xo = Fn.onunhandledrejection,
        Fn.onunhandledrejection = function(e) {
            return So("unhandledrejection", e),
            !(Xo && !Xo.__SENTRY_LOADER__) || Xo.apply(this, arguments)
        }
        ,
        Fn.onunhandledrejection.__SENTRY_INSTRUMENTED__ = !0
    }
    const Jo = zn();
    const ei = Fn;
    let ti;
    function ni(e) {
        const t = "history";
        Eo(t, e),
        To(t, oi)
    }
    function oi() {
        if (!function() {
            const e = Jo.chrome
              , t = e && e.app && e.app.runtime
              , n = "history"in Jo && !!Jo.history.pushState && !!Jo.history.replaceState;
            return !t && n
        }())
            return;
        const e = ei.onpopstate;
        function t(e) {
            return function(...t) {
                const n = t.length > 2 ? t[2] : void 0;
                if (n) {
                    const e = ti
                      , t = String(n);
                    ti = t;
                    So("history", {
                        from: e,
                        to: t
                    })
                }
                return e.apply(this, t)
            }
        }
        ei.onpopstate = function(...t) {
            const n = ei.location.href
              , o = ti;
            ti = n;
            if (So("history", {
                from: o,
                to: n
            }),
            e)
                try {
                    return e.apply(this, t)
                } catch (e) {}
        }
        ,
        ro(ei.history, "pushState", t),
        ro(ei.history, "replaceState", t)
    }
    const ii = Fn
      , ri = "__sentry_xhr_v3__";
    function si(e) {
        Eo("xhr", e),
        To("xhr", ai)
    }
    function ai() {
        if (!ii.XMLHttpRequest)
            return;
        const e = XMLHttpRequest.prototype;
        ro(e, "open", (function(e) {
            return function(...t) {
                const n = Date.now()
                  , o = Tn(t[0]) ? t[0].toUpperCase() : void 0
                  , i = function(e) {
                    if (Tn(e))
                        return e;
                    try {
                        return e.toString()
                    } catch (e) {}
                    return
                }(t[1]);
                if (!o || !i)
                    return e.apply(this, t);
                this[ri] = {
                    method: o,
                    url: i,
                    request_headers: {}
                },
                "POST" === o && i.match(/sentry_key/) && (this.__sentry_own_request__ = !0);
                const r = () => {
                    const e = this[ri];
                    if (e && 4 === this.readyState) {
                        try {
                            e.status_code = this.status
                        } catch (e) {}
                        So("xhr", {
                            args: [o, i],
                            endTimestamp: Date.now(),
                            startTimestamp: n,
                            xhr: this
                        })
                    }
                }
                ;
                return "onreadystatechange"in this && "function" == typeof this.onreadystatechange ? ro(this, "onreadystatechange", (function(e) {
                    return function(...t) {
                        return r(),
                        e.apply(this, t)
                    }
                }
                )) : this.addEventListener("readystatechange", r),
                ro(this, "setRequestHeader", (function(e) {
                    return function(...t) {
                        const [n,o] = t
                          , i = this[ri];
                        return i && Tn(n) && Tn(o) && (i.request_headers[n.toLowerCase()] = o),
                        e.apply(this, t)
                    }
                }
                )),
                e.apply(this, t)
            }
        }
        )),
        ro(e, "send", (function(e) {
            return function(...t) {
                const n = this[ri];
                if (!n)
                    return e.apply(this, t);
                void 0 !== t[0] && (n.body = t[0]);
                return So("xhr", {
                    args: [n.method, n.url],
                    startTimestamp: Date.now(),
                    xhr: this
                }),
                e.apply(this, t)
            }
        }
        ))
    }
    function li() {
        return !("undefined" != typeof __SENTRY_BROWSER_BUNDLE__ && __SENTRY_BROWSER_BUNDLE__) && "[object process]" === Object.prototype.toString.call("undefined" != typeof process ? process : 0)
    }
    function ci(e, t) {
        return e.require(t)
    }
    function di(e) {
        let t;
        try {
            t = ci(module, e)
        } catch (e) {}
        try {
            const {cwd: n} = ci(module, "process");
            t = ci(module, `${n()}/node_modules/${e}`)
        } catch (e) {}
        return t
    }
    function ui() {
        return "undefined" != typeof window && (!li() || void 0 !== Fn.process && "renderer" === Fn.process.type)
    }
    function pi(e, t=100, n=1 / 0) {
        try {
            return gi("", e, t, n)
        } catch (e) {
            return {
                ERROR: `**non-serializable** (${e})`
            }
        }
    }
    function mi(e, t=3, n=102400) {
        const o = pi(e, t);
        return i = o,
        function(e) {
            return ~-encodeURI(e).split(/%..|./).length
        }(JSON.stringify(i)) > n ? mi(e, t - 1, n) : o;
        var i
    }
    function gi(e, t, n=1 / 0, o=1 / 0, i=function() {
        const e = "function" == typeof WeakSet
          , t = e ? new WeakSet : [];
        return [function(n) {
            if (e)
                return !!t.has(n) || (t.add(n),
                !1);
            for (let e = 0; e < t.length; e++)
                if (t[e] === n)
                    return !0;
            return t.push(n),
            !1
        }
        , function(n) {
            if (e)
                t.delete(n);
            else
                for (let e = 0; e < t.length; e++)
                    if (t[e] === n) {
                        t.splice(e, 1);
                        break
                    }
        }
        ]
    }()) {
        const [r,s] = i;
        if (null == t || ["number", "boolean", "string"].includes(typeof t) && ("number" != typeof (a = t) || a == a))
            return t;
        var a;
        const l = function(e, t) {
            try {
                if ("domain" === e && t && "object" == typeof t && t._events)
                    return "[Domain]";
                if ("domainEmitter" === e)
                    return "[DomainEmitter]";
                if ("undefined" != typeof global && t === global)
                    return "[Global]";
                if ("undefined" != typeof window && t === window)
                    return "[Window]";
                if ("undefined" != typeof document && t === document)
                    return "[Document]";
                if (An(t))
                    return "[VueViewModel]";
                if (function(e) {
                    return $n(e) && "nativeEvent"in e && "preventDefault"in e && "stopPropagation"in e
                }(t))
                    return "[SyntheticEvent]";
                if ("number" == typeof t && t != t)
                    return "[NaN]";
                if ("function" == typeof t)
                    return `[Function: ${yo(t)}]`;
                if ("symbol" == typeof t)
                    return `[${String(t)}]`;
                if ("bigint" == typeof t)
                    return `[BigInt: ${String(t)}]`;
                const n = function(e) {
                    const t = Object.getPrototypeOf(e);
                    return t ? t.constructor.name : "null prototype"
                }(t);
                return /^HTML(\w*)Element$/.test(n) ? `[HTMLElement: ${n}]` : `[object ${n}]`
            } catch (e) {
                return `**non-serializable** (${e})`
            }
        }(e, t);
        if (!l.startsWith("[object "))
            return l;
        if (t.__sentry_skip_normalization__)
            return t;
        const c = "number" == typeof t.__sentry_override_normalization_depth__ ? t.__sentry_override_normalization_depth__ : n;
        if (0 === c)
            return l.replace("object ", "");
        if (r(t))
            return "[Circular ~]";
        const d = t;
        if (d && "function" == typeof d.toJSON)
            try {
                return gi("", d.toJSON(), c - 1, o, i)
            } catch (e) {}
        const u = Array.isArray(t) ? [] : {};
        let p = 0;
        const m = co(t);
        for (const e in m) {
            if (!Object.prototype.hasOwnProperty.call(m, e))
                continue;
            if (p >= o) {
                u[e] = "[MaxProperties ~]";
                break
            }
            const t = m[e];
            u[e] = gi(e, t, c - 1, o, i),
            p++
        }
        return s(t),
        u
    }
    const hi = /^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;
    function fi(...e) {
        let t = ""
          , n = !1;
        for (let o = e.length - 1; o >= -1 && !n; o--) {
            const i = o >= 0 ? e[o] : "/";
            i && (t = `${i}/${t}`,
            n = "/" === i.charAt(0))
        }
        return t = function(e, t) {
            let n = 0;
            for (let t = e.length - 1; t >= 0; t--) {
                const o = e[t];
                "." === o ? e.splice(t, 1) : ".." === o ? (e.splice(t, 1),
                n++) : n && (e.splice(t, 1),
                n--)
            }
            if (t)
                for (; n--; n)
                    e.unshift("..");
            return e
        }(t.split("/").filter((e => !!e)), !n).join("/"),
        (n ? "/" : "") + t || "."
    }
    function _i(e) {
        let t = 0;
        for (; t < e.length && "" === e[t]; t++)
            ;
        let n = e.length - 1;
        for (; n >= 0 && "" === e[n]; n--)
            ;
        return t > n ? [] : e.slice(t, n - t + 1)
    }
    function vi(e, t) {
        let n = function(e) {
            const t = e.length > 1024 ? `<truncated>${e.slice(-1024)}` : e
              , n = hi.exec(t);
            return n ? n.slice(1) : []
        }(e)[2];
        return t && n.slice(-1 * t.length) === t && (n = n.slice(0, n.length - t.length)),
        n
    }
    var yi;
    function wi(e) {
        return new Ei((t => {
            t(e)
        }
        ))
    }
    function bi(e) {
        return new Ei(( (t, n) => {
            n(e)
        }
        ))
    }
    !function(e) {
        e[e.PENDING = 0] = "PENDING";
        e[e.RESOLVED = 1] = "RESOLVED";
        e[e.REJECTED = 2] = "REJECTED"
    }(yi || (yi = {}));
    class Ei {
        constructor(e) {
            Ei.prototype.__init.call(this),
            Ei.prototype.__init2.call(this),
            Ei.prototype.__init3.call(this),
            Ei.prototype.__init4.call(this),
            this._state = yi.PENDING,
            this._handlers = [];
            try {
                e(this._resolve, this._reject)
            } catch (e) {
                this._reject(e)
            }
        }
        then(e, t) {
            return new Ei(( (n, o) => {
                this._handlers.push([!1, t => {
                    if (e)
                        try {
                            n(e(t))
                        } catch (e) {
                            o(e)
                        }
                    else
                        n(t)
                }
                , e => {
                    if (t)
                        try {
                            n(t(e))
                        } catch (e) {
                            o(e)
                        }
                    else
                        o(e)
                }
                ]),
                this._executeHandlers()
            }
            ))
        }
        catch(e) {
            return this.then((e => e), e)
        }
        finally(e) {
            return new Ei(( (t, n) => {
                let o, i;
                return this.then((t => {
                    i = !1,
                    o = t,
                    e && e()
                }
                ), (t => {
                    i = !0,
                    o = t,
                    e && e()
                }
                )).then(( () => {
                    i ? n(o) : t(o)
                }
                ))
            }
            ))
        }
        __init() {
            this._resolve = e => {
                this._setResult(yi.RESOLVED, e)
            }
        }
        __init2() {
            this._reject = e => {
                this._setResult(yi.REJECTED, e)
            }
        }
        __init3() {
            this._setResult = (e, t) => {
                this._state === yi.PENDING && (In(t) ? t.then(this._resolve, this._reject) : (this._state = e,
                this._value = t,
                this._executeHandlers()))
            }
        }
        __init4() {
            this._executeHandlers = () => {
                if (this._state === yi.PENDING)
                    return;
                const e = this._handlers.slice();
                this._handlers = [],
                e.forEach((e => {
                    e[0] || (this._state === yi.RESOLVED && e[1](this._value),
                    this._state === yi.REJECTED && e[2](this._value),
                    e[0] = !0)
                }
                ))
            }
        }
    }
    function Ti(e) {
        const t = [];
        function n(e) {
            return t.splice(t.indexOf(e), 1)[0]
        }
        return {
            $: t,
            add: function(o) {
                if (!(void 0 === e || t.length < e))
                    return bi(new io("Not adding Promise because buffer limit was reached."));
                const i = o();
                return -1 === t.indexOf(i) && t.push(i),
                i.then(( () => n(i))).then(null, ( () => n(i).then(null, ( () => {}
                )))),
                i
            },
            drain: function(e) {
                return new Ei(( (n, o) => {
                    let i = t.length;
                    if (!i)
                        return n(!0);
                    const r = setTimeout(( () => {
                        e && e > 0 && n(!1)
                    }
                    ), e);
                    t.forEach((e => {
                        wi(e).then(( () => {
                            --i || (clearTimeout(r),
                            n(!0))
                        }
                        ), o)
                    }
                    ))
                }
                ))
            }
        }
    }
    function Si(e) {
        if (!e)
            return {};
        const t = e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);
        if (!t)
            return {};
        const n = t[6] || ""
          , o = t[8] || "";
        return {
            host: t[4],
            path: t[5],
            protocol: t[2],
            search: n,
            hash: o,
            relative: t[5] + n + o
        }
    }
    function xi(e) {
        return e.split(/[\?#]/, 1)[0]
    }
    function $i(e) {
        return e.split(/\\?\//).filter((e => e.length > 0 && "," !== e)).length
    }
    const Ci = {
        ip: !1,
        request: !0,
        transaction: !0,
        user: !0
    }
      , ki = ["cookies", "data", "headers", "method", "query_string", "url"]
      , Ii = ["id", "username", "email"];
    function Li(e, t={}) {
        const n = e.method && e.method.toUpperCase();
        let o = ""
          , i = "url";
        t.customRoute || e.route ? (o = t.customRoute || `${e.baseUrl || ""}${e.route && e.route.path}`,
        i = "route") : (e.originalUrl || e.url) && (o = xi(e.originalUrl || e.url || ""));
        let r = "";
        return t.method && n && (r += n),
        t.method && t.path && (r += " "),
        t.path && o && (r += o),
        [r, i]
    }
    function Ai(e, t) {
        const {include: n=ki, deps: o} = t || {}
          , i = {}
          , r = e.headers || {}
          , s = e.method
          , a = r.host || e.hostname || e.host || "<no host>"
          , l = "https" === e.protocol || e.socket && e.socket.encrypted ? "https" : "http"
          , c = e.originalUrl || e.url || ""
          , d = c.startsWith(l) ? c : `${l}://${a}${c}`;
        return n.forEach((t => {
            switch (t) {
            case "headers":
                i.headers = r,
                n.includes("cookies") || delete i.headers.cookie;
                break;
            case "method":
                i.method = s;
                break;
            case "url":
                i.url = d;
                break;
            case "cookies":
                i.cookies = e.cookies || r.cookie && function(e) {
                    const t = {};
                    let n = 0;
                    for (; n < e.length; ) {
                        const o = e.indexOf("=", n);
                        if (-1 === o)
                            break;
                        let i = e.indexOf(";", n);
                        if (-1 === i)
                            i = e.length;
                        else if (i < o) {
                            n = e.lastIndexOf(";", o - 1) + 1;
                            continue
                        }
                        const r = e.slice(n, o).trim();
                        if (void 0 === t[r]) {
                            let n = e.slice(o + 1, i).trim();
                            34 === n.charCodeAt(0) && (n = n.slice(1, -1));
                            try {
                                t[r] = -1 !== n.indexOf("%") ? decodeURIComponent(n) : n
                            } catch (e) {
                                t[r] = n
                            }
                        }
                        n = i + 1
                    }
                    return t
                }(r.cookie) || {};
                break;
            case "query_string":
                i.query_string = function(e, t) {
                    let n = e.originalUrl || e.url || "";
                    if (!n)
                        return;
                    n.startsWith("/") && (n = `http://dogs.are.great${n}`);
                    try {
                        return e.query || "undefined" != typeof URL && new URL(n).search.slice(1) || t && t.url && t.url.parse(n).query || void 0
                    } catch (e) {
                        return
                    }
                }(e, o);
                break;
            case "data":
                if ("GET" === s || "HEAD" === s)
                    break;
                void 0 !== e.body && (i.data = Tn(e.body) ? e.body : JSON.stringify(pi(e.body)));
                break;
            default:
                ({}).hasOwnProperty.call(e, t) && (i[t] = e[t])
            }
        }
        )),
        i
    }
    function Ri(e, t, n) {
        const o = {
            ...Ci,
            ...n && n.include
        };
        if (o.request) {
            const i = Array.isArray(o.request) ? Ai(t, {
                include: o.request,
                deps: n && n.deps
            }) : Ai(t, {
                deps: n && n.deps
            });
            e.request = {
                ...e.request,
                ...i
            }
        }
        if (o.user) {
            const n = t.user && $n(t.user) ? function(e, t) {
                const n = {};
                return (Array.isArray(t) ? t : Ii).forEach((t => {
                    e && t in e && (n[t] = e[t])
                }
                )),
                n
            }(t.user, o.user) : {};
            Object.keys(n).length && (e.user = {
                ...e.user,
                ...n
            })
        }
        if (o.ip) {
            const n = t.ip || t.socket && t.socket.remoteAddress;
            n && (e.user = {
                ...e.user,
                ip_address: n
            })
        }
        return o.transaction && !e.transaction && (e.transaction = function(e, t) {
            switch (t) {
            case "path":
                return Li(e, {
                    path: !0
                })[0];
            case "handler":
                return e.route && e.route.stack && e.route.stack[0] && e.route.stack[0].name || "<anonymous>";
            default:
                return Li(e, {
                    path: !0,
                    method: !0,
                    customRoute: e._reconstructedRoute ? e._reconstructedRoute : void 0
                })[0]
            }
        }(t, o.transaction)),
        e
    }
    const Mi = ["fatal", "error", "warning", "log", "info", "debug"];
    function Oi(e) {
        return "warn" === e ? "warning" : Mi.includes(e) ? e : "log"
    }
    const Ni = 1e3;
    function Di() {
        return Date.now() / Ni
    }
    const Pi = function() {
        const {performance: e} = Fn;
        if (!e || !e.now)
            return Di;
        const t = Date.now() - e.now()
          , n = null == e.timeOrigin ? t : e.timeOrigin;
        return () => (n + e.now()) / Ni
    }()
      , Ui = ( () => {
        const {performance: e} = Fn;
        if (!e || !e.now)
            return;
        const t = 36e5
          , n = e.now()
          , o = Date.now()
          , i = e.timeOrigin ? Math.abs(e.timeOrigin + n - o) : t
          , r = i < t
          , s = e.timing && e.timing.navigationStart
          , a = "number" == typeof s ? Math.abs(s + n - o) : t;
        return r || a < t ? i <= a ? e.timeOrigin : s : o
    }
    )();
    function Bi(e, t=[]) {
        return [e, t]
    }
    function Wi(e, t) {
        const [n,o] = e;
        return [n, [...o, t]]
    }
    function Fi(e, t) {
        const n = e[1];
        for (const e of n) {
            if (t(e, e[0].type))
                return !0
        }
        return !1
    }
    function zi(e, t) {
        return (t || new TextEncoder).encode(e)
    }
    function Hi(e, t) {
        const [n,o] = e;
        let i = JSON.stringify(n);
        function r(e) {
            "string" == typeof i ? i = "string" == typeof e ? i + e : [zi(i, t), e] : i.push("string" == typeof e ? zi(e, t) : e)
        }
        for (const e of o) {
            const [t,n] = e;
            if (r(`\n${JSON.stringify(t)}\n`),
            "string" == typeof n || n instanceof Uint8Array)
                r(n);
            else {
                let e;
                try {
                    e = JSON.stringify(n)
                } catch (t) {
                    e = JSON.stringify(pi(n))
                }
                r(e)
            }
        }
        return "string" == typeof i ? i : function(e) {
            const t = e.reduce(( (e, t) => e + t.length), 0)
              , n = new Uint8Array(t);
            let o = 0;
            for (const t of e)
                n.set(t, o),
                o += t.length;
            return n
        }(i)
    }
    function ji(e, t) {
        const n = "string" == typeof e.data ? zi(e.data, t) : e.data;
        return [mo({
            type: "attachment",
            length: n.length,
            filename: e.filename,
            content_type: e.contentType,
            attachment_type: e.attachmentType
        }), n]
    }
    const Gi = {
        session: "session",
        sessions: "session",
        attachment: "attachment",
        transaction: "transaction",
        event: "error",
        client_report: "internal",
        user_report: "default",
        profile: "profile",
        replay_event: "replay",
        replay_recording: "replay",
        check_in: "monitor",
        feedback: "feedback",
        span: "span",
        statsd: "metric_bucket"
    };
    function qi(e) {
        return Gi[e]
    }
    function Vi(e) {
        if (!e || !e.sdk)
            return;
        const {name: t, version: n} = e.sdk;
        return {
            name: t,
            version: n
        }
    }
    function Yi(e, t, n, o) {
        const i = e.sdkProcessingMetadata && e.sdkProcessingMetadata.dynamicSamplingContext;
        return {
            event_id: e.event_id,
            sent_at: (new Date).toISOString(),
            ...t && {
                sdk: t
            },
            ...!!n && o && {
                dsn: to(o)
            },
            ...i && {
                trace: mo({
                    ...i
                })
            }
        }
    }
    const Ki = 6e4;
    function Zi(e, t, n=Date.now()) {
        return function(e, t) {
            return e[t] || e.all || 0
        }(e, t) > n
    }
    function Xi(e, {statusCode: t, headers: n}, o=Date.now()) {
        const i = {
            ...e
        }
          , r = n && n["x-sentry-rate-limits"]
          , s = n && n["retry-after"];
        if (r)
            for (const e of r.trim().split(",")) {
                const [t,n,,,r] = e.split(":", 5)
                  , s = parseInt(t, 10)
                  , a = 1e3 * (isNaN(s) ? 60 : s);
                if (n)
                    for (const e of n.split(";"))
                        "metric_bucket" === e && r && !r.split(";").includes("custom") || (i[e] = o + a);
                else
                    i.all = o + a
            }
        else
            s ? i.all = o + function(e, t=Date.now()) {
                const n = parseInt(`${e}`, 10);
                if (!isNaN(n))
                    return 1e3 * n;
                const o = Date.parse(`${e}`);
                return isNaN(o) ? Ki : o - t
            }(s, o) : 429 === t && (i.all = o + 6e4);
        return i
    }
    function Qi(e, t) {
        const n = {
            type: t.name || t.constructor.name,
            value: t.message
        }
          , o = function(e, t) {
            return e(t.stack || "", 1)
        }(e, t);
        return o.length && (n.stacktrace = {
            frames: o
        }),
        n
    }
    function Ji(e) {
        let t, n = e[0], o = 1;
        for (; o < e.length; ) {
            const i = e[o]
              , r = e[o + 1];
            if (o += 2,
            ("optionalAccess" === i || "optionalCall" === i) && null == n)
                return;
            "access" === i || "optionalAccess" === i ? (t = n,
            n = r(n)) : "call" !== i && "optionalCall" !== i || (n = r(( (...e) => n.call(t, ...e))),
            t = void 0)
        }
        return n
    }
    const er = "undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__
      , tr = "production";
    function nr() {
        return Hn("globalEventProcessors", ( () => []))
    }
    function or(e) {
        nr().push(e)
    }
    function ir(e, t, n, o=0) {
        return new Ei(( (i, r) => {
            const s = e[o];
            if (null === t || "function" != typeof s)
                i(t);
            else {
                const a = s({
                    ...t
                }, n);
                er && s.id && null === a && Jn.log(`Event processor "${s.id}" dropped event`),
                In(a) ? a.then((t => ir(e, t, n, o + 1).then(i))).then(null, r) : ir(e, a, n, o + 1).then(i).then(null, r)
            }
        }
        ))
    }
    function rr(e) {
        const t = Pi()
          , n = {
            sid: Co(),
            init: !0,
            timestamp: t,
            started: t,
            duration: 0,
            status: "ok",
            errors: 0,
            ignoreDuration: !1,
            toJSON: () => function(e) {
                return mo({
                    sid: `${e.sid}`,
                    init: e.init,
                    started: new Date(1e3 * e.started).toISOString(),
                    timestamp: new Date(1e3 * e.timestamp).toISOString(),
                    status: e.status,
                    errors: e.errors,
                    did: "number" == typeof e.did || "string" == typeof e.did ? `${e.did}` : void 0,
                    duration: e.duration,
                    abnormal_mechanism: e.abnormal_mechanism,
                    attrs: {
                        release: e.release,
                        environment: e.environment,
                        ip_address: e.ipAddress,
                        user_agent: e.userAgent
                    }
                })
            }(n)
        };
        return e && sr(n, e),
        n
    }
    function sr(e, t={}) {
        if (t.user && (!e.ipAddress && t.user.ip_address && (e.ipAddress = t.user.ip_address),
        e.did || t.did || (e.did = t.user.id || t.user.email || t.user.username)),
        e.timestamp = t.timestamp || Pi(),
        t.abnormal_mechanism && (e.abnormal_mechanism = t.abnormal_mechanism),
        t.ignoreDuration && (e.ignoreDuration = t.ignoreDuration),
        t.sid && (e.sid = 32 === t.sid.length ? t.sid : Co()),
        void 0 !== t.init && (e.init = t.init),
        !e.did && t.did && (e.did = `${t.did}`),
        "number" == typeof t.started && (e.started = t.started),
        e.ignoreDuration)
            e.duration = void 0;
        else if ("number" == typeof t.duration)
            e.duration = t.duration;
        else {
            const t = e.timestamp - e.started;
            e.duration = t >= 0 ? t : 0
        }
        t.release && (e.release = t.release),
        t.environment && (e.environment = t.environment),
        !e.ipAddress && t.ipAddress && (e.ipAddress = t.ipAddress),
        !e.userAgent && t.userAgent && (e.userAgent = t.userAgent),
        "number" == typeof t.errors && (e.errors = t.errors),
        t.status && (e.status = t.status)
    }
    const ar = 1;
    function lr(e) {
        const {spanId: t, traceId: n} = e.spanContext()
          , {data: o, op: i, parent_span_id: r, status: s, tags: a, origin: l} = dr(e);
        return mo({
            data: o,
            op: i,
            parent_span_id: r,
            span_id: t,
            status: s,
            tags: a,
            trace_id: n,
            origin: l
        })
    }
    function cr(e) {
        return e > 9999999999 ? e / 1e3 : e
    }
    function dr(e) {
        return function(e) {
            return "function" == typeof e.getSpanJSON
        }(e) ? e.getSpanJSON() : "function" == typeof e.toJSON ? e.toJSON() : {}
    }
    function ur(e) {
        const {traceFlags: t} = e.spanContext();
        return Boolean(t & ar)
    }
    function pr(e, t, n, o, i, r) {
        const {normalizeDepth: s=3, normalizeMaxBreadth: a=1e3} = e
          , l = {
            ...t,
            event_id: t.event_id || n.event_id || Co(),
            timestamp: t.timestamp || Di()
        }
          , c = n.integrations || e.integrations.map((e => e.name));
        !function(e, t) {
            const {environment: n, release: o, dist: i, maxValueLength: r=250} = t;
            "environment"in e || (e.environment = "environment"in t ? n : tr);
            void 0 === e.release && void 0 !== o && (e.release = o);
            void 0 === e.dist && void 0 !== i && (e.dist = i);
            e.message && (e.message = Rn(e.message, r));
            const s = e.exception && e.exception.values && e.exception.values[0];
            s && s.value && (s.value = Rn(s.value, r));
            const a = e.request;
            a && a.url && (a.url = Rn(a.url, r))
        }(l, e),
        function(e, t) {
            t.length > 0 && (e.sdk = e.sdk || {},
            e.sdk.integrations = [...e.sdk.integrations || [], ...t])
        }(l, c),
        void 0 === t.type && function(e, t) {
            const n = Fn._sentryDebugIds;
            if (!n)
                return;
            let o;
            const i = mr.get(t);
            i ? o = i : (o = new Map,
            mr.set(t, o));
            const r = Object.keys(n).reduce(( (e, i) => {
                let r;
                const s = o.get(i);
                s ? r = s : (r = t(i),
                o.set(i, r));
                for (let t = r.length - 1; t >= 0; t--) {
                    const o = r[t];
                    if (o.filename) {
                        e[o.filename] = n[i];
                        break
                    }
                }
                return e
            }
            ), {});
            try {
                e.exception.values.forEach((e => {
                    e.stacktrace.frames.forEach((e => {
                        e.filename && (e.debug_id = r[e.filename])
                    }
                    ))
                }
                ))
            } catch (e) {}
        }(l, e.stackParser);
        const d = function(e, t) {
            if (!t)
                return e;
            const n = e ? e.clone() : new Lr;
            return n.update(t),
            n
        }(o, n.captureContext);
        n.mechanism && Ao(l, n.mechanism);
        const u = i && i.getEventProcessors ? i.getEventProcessors() : []
          , p = function() {
            Ir || (Ir = new Lr);
            return Ir
        }().getScopeData();
        if (r) {
            Cr(p, r.getScopeData())
        }
        if (d) {
            Cr(p, d.getScopeData())
        }
        const m = [...n.attachments || [], ...p.attachments];
        m.length && (n.attachments = m),
        $r(l, p);
        return ir([...u, ...nr(), ...p.eventProcessors], l, n).then((e => (e && function(e) {
            const t = {};
            try {
                e.exception.values.forEach((e => {
                    e.stacktrace.frames.forEach((e => {
                        e.debug_id && (e.abs_path ? t[e.abs_path] = e.debug_id : e.filename && (t[e.filename] = e.debug_id),
                        delete e.debug_id)
                    }
                    ))
                }
                ))
            } catch (e) {}
            if (0 === Object.keys(t).length)
                return;
            e.debug_meta = e.debug_meta || {},
            e.debug_meta.images = e.debug_meta.images || [];
            const n = e.debug_meta.images;
            Object.keys(t).forEach((e => {
                n.push({
                    type: "sourcemap",
                    code_file: e,
                    debug_id: t[e]
                })
            }
            ))
        }(e),
        "number" == typeof s && s > 0 ? function(e, t, n) {
            if (!e)
                return null;
            const o = {
                ...e,
                ...e.breadcrumbs && {
                    breadcrumbs: e.breadcrumbs.map((e => ({
                        ...e,
                        ...e.data && {
                            data: pi(e.data, t, n)
                        }
                    })))
                },
                ...e.user && {
                    user: pi(e.user, t, n)
                },
                ...e.contexts && {
                    contexts: pi(e.contexts, t, n)
                },
                ...e.extra && {
                    extra: pi(e.extra, t, n)
                }
            };
            e.contexts && e.contexts.trace && o.contexts && (o.contexts.trace = e.contexts.trace,
            e.contexts.trace.data && (o.contexts.trace.data = pi(e.contexts.trace.data, t, n)));
            e.spans && (o.spans = e.spans.map((e => {
                const o = dr(e).data;
                return o && (e.data = pi(o, t, n)),
                e
            }
            )));
            return o
        }(e, s, a) : e)))
    }
    const mr = new WeakMap;
    function gr(e) {
        if (e)
            return function(e) {
                return e instanceof Lr || "function" == typeof e
            }(e) || function(e) {
                return Object.keys(e).some((e => hr.includes(e)))
            }(e) ? {
                captureContext: e
            } : e
    }
    const hr = ["user", "level", "extra", "contexts", "tags", "fingerprint", "requestSession", "propagationContext"];
    function fr(e, t) {
        return Ur().captureException(e, gr(t))
    }
    function _r(e, t) {
        const n = "string" == typeof t ? t : void 0
          , o = "string" != typeof t ? {
            captureContext: t
        } : void 0;
        return Ur().captureMessage(e, n, o)
    }
    function vr(e, t) {
        return Ur().captureEvent(e, t)
    }
    function yr(e, t) {
        Ur().addBreadcrumb(e, t)
    }
    function wr(...e) {
        const t = Ur();
        if (2 === e.length) {
            const [n,o] = e;
            return n ? t.withScope(( () => (t.getStackTop().scope = n,
            o(n)))) : t.withScope(o)
        }
        return t.withScope(e[0])
    }
    function br() {
        return Ur().getClient()
    }
    function Er() {
        return Ur().getScope()
    }
    function Tr(e) {
        return e.transaction
    }
    function Sr(e, t, n) {
        const o = t.getOptions()
          , {publicKey: i} = t.getDsn() || {}
          , {segment: r} = n && n.getUser() || {}
          , s = mo({
            environment: o.environment || tr,
            release: o.release,
            user_segment: r,
            public_key: i,
            trace_id: e
        });
        return t.emit && t.emit("createDsc", s),
        s
    }
    function xr(e) {
        const t = br();
        if (!t)
            return {};
        const n = Sr(dr(e).trace_id || "", t, Er())
          , o = Tr(e);
        if (!o)
            return n;
        const i = o && o._frozenDynamicSamplingContext;
        if (i)
            return i;
        const {sampleRate: r, source: s} = o.metadata;
        null != r && (n.sample_rate = `${r}`);
        const a = dr(o);
        return s && "url" !== s && (n.transaction = a.description),
        n.sampled = String(ur(o)),
        t.emit && t.emit("createDsc", n),
        n
    }
    function $r(e, t) {
        const {fingerprint: n, span: o, breadcrumbs: i, sdkProcessingMetadata: r} = t;
        !function(e, t) {
            const {extra: n, tags: o, user: i, contexts: r, level: s, transactionName: a} = t
              , l = mo(n);
            l && Object.keys(l).length && (e.extra = {
                ...l,
                ...e.extra
            });
            const c = mo(o);
            c && Object.keys(c).length && (e.tags = {
                ...c,
                ...e.tags
            });
            const d = mo(i);
            d && Object.keys(d).length && (e.user = {
                ...d,
                ...e.user
            });
            const u = mo(r);
            u && Object.keys(u).length && (e.contexts = {
                ...u,
                ...e.contexts
            });
            s && (e.level = s);
            a && (e.transaction = a)
        }(e, t),
        o && function(e, t) {
            e.contexts = {
                trace: lr(t),
                ...e.contexts
            };
            const n = Tr(t);
            if (n) {
                e.sdkProcessingMetadata = {
                    dynamicSamplingContext: xr(t),
                    ...e.sdkProcessingMetadata
                };
                const o = dr(n).description;
                o && (e.tags = {
                    transaction: o,
                    ...e.tags
                })
            }
        }(e, o),
        function(e, t) {
            e.fingerprint = e.fingerprint ? Mo(e.fingerprint) : [],
            t && (e.fingerprint = e.fingerprint.concat(t));
            e.fingerprint && !e.fingerprint.length && delete e.fingerprint
        }(e, n),
        function(e, t) {
            const n = [...e.breadcrumbs || [], ...t];
            e.breadcrumbs = n.length ? n : void 0
        }(e, i),
        function(e, t) {
            e.sdkProcessingMetadata = {
                ...e.sdkProcessingMetadata,
                ...t
            }
        }(e, r)
    }
    function Cr(e, t) {
        const {extra: n, tags: o, user: i, contexts: r, level: s, sdkProcessingMetadata: a, breadcrumbs: l, fingerprint: c, eventProcessors: d, attachments: u, propagationContext: p, transactionName: m, span: g} = t;
        kr(e, "extra", n),
        kr(e, "tags", o),
        kr(e, "user", i),
        kr(e, "contexts", r),
        kr(e, "sdkProcessingMetadata", a),
        s && (e.level = s),
        m && (e.transactionName = m),
        g && (e.span = g),
        l.length && (e.breadcrumbs = [...e.breadcrumbs, ...l]),
        c.length && (e.fingerprint = [...e.fingerprint, ...c]),
        d.length && (e.eventProcessors = [...e.eventProcessors, ...d]),
        u.length && (e.attachments = [...e.attachments, ...u]),
        e.propagationContext = {
            ...e.propagationContext,
            ...p
        }
    }
    function kr(e, t, n) {
        if (n && Object.keys(n).length) {
            e[t] = {
                ...e[t]
            };
            for (const o in n)
                Object.prototype.hasOwnProperty.call(n, o) && (e[t][o] = n[o])
        }
    }
    let Ir;
    class Lr {
        constructor() {
            this._notifyingListeners = !1,
            this._scopeListeners = [],
            this._eventProcessors = [],
            this._breadcrumbs = [],
            this._attachments = [],
            this._user = {},
            this._tags = {},
            this._extra = {},
            this._contexts = {},
            this._sdkProcessingMetadata = {},
            this._propagationContext = Ar()
        }
        static clone(e) {
            return e ? e.clone() : new Lr
        }
        clone() {
            const e = new Lr;
            return e._breadcrumbs = [...this._breadcrumbs],
            e._tags = {
                ...this._tags
            },
            e._extra = {
                ...this._extra
            },
            e._contexts = {
                ...this._contexts
            },
            e._user = this._user,
            e._level = this._level,
            e._span = this._span,
            e._session = this._session,
            e._transactionName = this._transactionName,
            e._fingerprint = this._fingerprint,
            e._eventProcessors = [...this._eventProcessors],
            e._requestSession = this._requestSession,
            e._attachments = [...this._attachments],
            e._sdkProcessingMetadata = {
                ...this._sdkProcessingMetadata
            },
            e._propagationContext = {
                ...this._propagationContext
            },
            e._client = this._client,
            e
        }
        setClient(e) {
            this._client = e
        }
        getClient() {
            return this._client
        }
        addScopeListener(e) {
            this._scopeListeners.push(e)
        }
        addEventProcessor(e) {
            return this._eventProcessors.push(e),
            this
        }
        setUser(e) {
            return this._user = e || {
                email: void 0,
                id: void 0,
                ip_address: void 0,
                segment: void 0,
                username: void 0
            },
            this._session && sr(this._session, {
                user: e
            }),
            this._notifyScopeListeners(),
            this
        }
        getUser() {
            return this._user
        }
        getRequestSession() {
            return this._requestSession
        }
        setRequestSession(e) {
            return this._requestSession = e,
            this
        }
        setTags(e) {
            return this._tags = {
                ...this._tags,
                ...e
            },
            this._notifyScopeListeners(),
            this
        }
        setTag(e, t) {
            return this._tags = {
                ...this._tags,
                [e]: t
            },
            this._notifyScopeListeners(),
            this
        }
        setExtras(e) {
            return this._extra = {
                ...this._extra,
                ...e
            },
            this._notifyScopeListeners(),
            this
        }
        setExtra(e, t) {
            return this._extra = {
                ...this._extra,
                [e]: t
            },
            this._notifyScopeListeners(),
            this
        }
        setFingerprint(e) {
            return this._fingerprint = e,
            this._notifyScopeListeners(),
            this
        }
        setLevel(e) {
            return this._level = e,
            this._notifyScopeListeners(),
            this
        }
        setTransactionName(e) {
            return this._transactionName = e,
            this._notifyScopeListeners(),
            this
        }
        setContext(e, t) {
            return null === t ? delete this._contexts[e] : this._contexts[e] = t,
            this._notifyScopeListeners(),
            this
        }
        setSpan(e) {
            return this._span = e,
            this._notifyScopeListeners(),
            this
        }
        getSpan() {
            return this._span
        }
        getTransaction() {
            const e = this._span;
            return e && e.transaction
        }
        setSession(e) {
            return e ? this._session = e : delete this._session,
            this._notifyScopeListeners(),
            this
        }
        getSession() {
            return this._session
        }
        update(e) {
            if (!e)
                return this;
            const t = "function" == typeof e ? e(this) : e;
            if (t instanceof Lr) {
                const e = t.getScopeData();
                this._tags = {
                    ...this._tags,
                    ...e.tags
                },
                this._extra = {
                    ...this._extra,
                    ...e.extra
                },
                this._contexts = {
                    ...this._contexts,
                    ...e.contexts
                },
                e.user && Object.keys(e.user).length && (this._user = e.user),
                e.level && (this._level = e.level),
                e.fingerprint.length && (this._fingerprint = e.fingerprint),
                t.getRequestSession() && (this._requestSession = t.getRequestSession()),
                e.propagationContext && (this._propagationContext = e.propagationContext)
            } else if ($n(t)) {
                const t = e;
                this._tags = {
                    ...this._tags,
                    ...t.tags
                },
                this._extra = {
                    ...this._extra,
                    ...t.extra
                },
                this._contexts = {
                    ...this._contexts,
                    ...t.contexts
                },
                t.user && (this._user = t.user),
                t.level && (this._level = t.level),
                t.fingerprint && (this._fingerprint = t.fingerprint),
                t.requestSession && (this._requestSession = t.requestSession),
                t.propagationContext && (this._propagationContext = t.propagationContext)
            }
            return this
        }
        clear() {
            return this._breadcrumbs = [],
            this._tags = {},
            this._extra = {},
            this._user = {},
            this._contexts = {},
            this._level = void 0,
            this._transactionName = void 0,
            this._fingerprint = void 0,
            this._requestSession = void 0,
            this._span = void 0,
            this._session = void 0,
            this._notifyScopeListeners(),
            this._attachments = [],
            this._propagationContext = Ar(),
            this
        }
        addBreadcrumb(e, t) {
            const n = "number" == typeof t ? t : 100;
            if (n <= 0)
                return this;
            const o = {
                timestamp: Di(),
                ...e
            }
              , i = this._breadcrumbs;
            return i.push(o),
            this._breadcrumbs = i.length > n ? i.slice(-n) : i,
            this._notifyScopeListeners(),
            this
        }
        getLastBreadcrumb() {
            return this._breadcrumbs[this._breadcrumbs.length - 1]
        }
        clearBreadcrumbs() {
            return this._breadcrumbs = [],
            this._notifyScopeListeners(),
            this
        }
        addAttachment(e) {
            return this._attachments.push(e),
            this
        }
        getAttachments() {
            return this.getScopeData().attachments
        }
        clearAttachments() {
            return this._attachments = [],
            this
        }
        getScopeData() {
            const {_breadcrumbs: e, _attachments: t, _contexts: n, _tags: o, _extra: i, _user: r, _level: s, _fingerprint: a, _eventProcessors: l, _propagationContext: c, _sdkProcessingMetadata: d, _transactionName: u, _span: p} = this;
            return {
                breadcrumbs: e,
                attachments: t,
                contexts: n,
                tags: o,
                extra: i,
                user: r,
                level: s,
                fingerprint: a || [],
                eventProcessors: l,
                propagationContext: c,
                sdkProcessingMetadata: d,
                transactionName: u,
                span: p
            }
        }
        applyToEvent(e, t={}, n=[]) {
            $r(e, this.getScopeData());
            return ir([...n, ...nr(), ...this._eventProcessors], e, t)
        }
        setSDKProcessingMetadata(e) {
            return this._sdkProcessingMetadata = {
                ...this._sdkProcessingMetadata,
                ...e
            },
            this
        }
        setPropagationContext(e) {
            return this._propagationContext = e,
            this
        }
        getPropagationContext() {
            return this._propagationContext
        }
        captureException(e, t) {
            const n = t && t.event_id ? t.event_id : Co();
            if (!this._client)
                return Jn.warn("No client configured on scope - will not capture exception!"),
                n;
            const o = new Error("Sentry syntheticException");
            return this._client.captureException(e, {
                originalException: e,
                syntheticException: o,
                ...t,
                event_id: n
            }, this),
            n
        }
        captureMessage(e, t, n) {
            const o = n && n.event_id ? n.event_id : Co();
            if (!this._client)
                return Jn.warn("No client configured on scope - will not capture message!"),
                o;
            const i = new Error(e);
            return this._client.captureMessage(e, t, {
                originalException: e,
                syntheticException: i,
                ...n,
                event_id: o
            }, this),
            o
        }
        captureEvent(e, t) {
            const n = t && t.event_id ? t.event_id : Co();
            return this._client ? (this._client.captureEvent(e, {
                ...t,
                event_id: n
            }, this),
            n) : (Jn.warn("No client configured on scope - will not capture event!"),
            n)
        }
        _notifyScopeListeners() {
            this._notifyingListeners || (this._notifyingListeners = !0,
            this._scopeListeners.forEach((e => {
                e(this)
            }
            )),
            this._notifyingListeners = !1)
        }
    }
    function Ar() {
        return {
            traceId: Co(),
            spanId: Co().substring(16)
        }
    }
    const Rr = "7.116.0"
      , Mr = parseFloat(Rr)
      , Or = 100;
    class Nr {
        constructor(e, t, n, o=Mr) {
            let i, r;
            this._version = o,
            t ? i = t : (i = new Lr,
            i.setClient(e)),
            n ? r = n : (r = new Lr,
            r.setClient(e)),
            this._stack = [{
                scope: i
            }],
            e && this.bindClient(e),
            this._isolationScope = r
        }
        isOlderThan(e) {
            return this._version < e
        }
        bindClient(e) {
            const t = this.getStackTop();
            t.client = e,
            t.scope.setClient(e),
            e && e.setupIntegrations && e.setupIntegrations()
        }
        pushScope() {
            const e = this.getScope().clone();
            return this.getStack().push({
                client: this.getClient(),
                scope: e
            }),
            e
        }
        popScope() {
            return !(this.getStack().length <= 1) && !!this.getStack().pop()
        }
        withScope(e) {
            const t = this.pushScope();
            let n;
            try {
                n = e(t)
            } catch (e) {
                throw this.popScope(),
                e
            }
            return In(n) ? n.then((e => (this.popScope(),
            e)), (e => {
                throw this.popScope(),
                e
            }
            )) : (this.popScope(),
            n)
        }
        getClient() {
            return this.getStackTop().client
        }
        getScope() {
            return this.getStackTop().scope
        }
        getIsolationScope() {
            return this._isolationScope
        }
        getStack() {
            return this._stack
        }
        getStackTop() {
            return this._stack[this._stack.length - 1]
        }
        captureException(e, t) {
            const n = this._lastEventId = t && t.event_id ? t.event_id : Co()
              , o = new Error("Sentry syntheticException");
            return this.getScope().captureException(e, {
                originalException: e,
                syntheticException: o,
                ...t,
                event_id: n
            }),
            n
        }
        captureMessage(e, t, n) {
            const o = this._lastEventId = n && n.event_id ? n.event_id : Co()
              , i = new Error(e);
            return this.getScope().captureMessage(e, t, {
                originalException: e,
                syntheticException: i,
                ...n,
                event_id: o
            }),
            o
        }
        captureEvent(e, t) {
            const n = t && t.event_id ? t.event_id : Co();
            return e.type || (this._lastEventId = n),
            this.getScope().captureEvent(e, {
                ...t,
                event_id: n
            }),
            n
        }
        lastEventId() {
            return this._lastEventId
        }
        addBreadcrumb(e, t) {
            const {scope: n, client: o} = this.getStackTop();
            if (!o)
                return;
            const {beforeBreadcrumb: i=null, maxBreadcrumbs: r=Or} = o.getOptions && o.getOptions() || {};
            if (r <= 0)
                return;
            const s = {
                timestamp: Di(),
                ...e
            }
              , a = i ? Qn(( () => i(s, t))) : s;
            null !== a && (o.emit && o.emit("beforeAddBreadcrumb", a, t),
            n.addBreadcrumb(a, r))
        }
        setUser(e) {
            this.getScope().setUser(e),
            this.getIsolationScope().setUser(e)
        }
        setTags(e) {
            this.getScope().setTags(e),
            this.getIsolationScope().setTags(e)
        }
        setExtras(e) {
            this.getScope().setExtras(e),
            this.getIsolationScope().setExtras(e)
        }
        setTag(e, t) {
            this.getScope().setTag(e, t),
            this.getIsolationScope().setTag(e, t)
        }
        setExtra(e, t) {
            this.getScope().setExtra(e, t),
            this.getIsolationScope().setExtra(e, t)
        }
        setContext(e, t) {
            this.getScope().setContext(e, t),
            this.getIsolationScope().setContext(e, t)
        }
        configureScope(e) {
            const {scope: t, client: n} = this.getStackTop();
            n && e(t)
        }
        run(e) {
            const t = Pr(this);
            try {
                e(this)
            } finally {
                Pr(t)
            }
        }
        getIntegration(e) {
            const t = this.getClient();
            if (!t)
                return null;
            try {
                return t.getIntegration(e)
            } catch (t) {
                return er && Jn.warn(`Cannot retrieve integration ${e.id} from the current Hub`),
                null
            }
        }
        startTransaction(e, t) {
            const n = this._callExtensionMethod("startTransaction", e, t);
            if (er && !n) {
                this.getClient() ? Jn.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n") : Jn.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")
            }
            return n
        }
        traceHeaders() {
            return this._callExtensionMethod("traceHeaders")
        }
        captureSession(e=!1) {
            if (e)
                return this.endSession();
            this._sendSessionUpdate()
        }
        endSession() {
            const e = this.getStackTop().scope
              , t = e.getSession();
            t && function(e, t) {
                let n = {};
                t ? n = {
                    status: t
                } : "ok" === e.status && (n = {
                    status: "exited"
                }),
                sr(e, n)
            }(t),
            this._sendSessionUpdate(),
            e.setSession()
        }
        startSession(e) {
            const {scope: t, client: n} = this.getStackTop()
              , {release: o, environment: i=tr} = n && n.getOptions() || {}
              , {userAgent: r} = Fn.navigator || {}
              , s = rr({
                release: o,
                environment: i,
                user: t.getUser(),
                ...r && {
                    userAgent: r
                },
                ...e
            })
              , a = t.getSession && t.getSession();
            return a && "ok" === a.status && sr(a, {
                status: "exited"
            }),
            this.endSession(),
            t.setSession(s),
            s
        }
        shouldSendDefaultPii() {
            const e = this.getClient()
              , t = e && e.getOptions();
            return Boolean(t && t.sendDefaultPii)
        }
        _sendSessionUpdate() {
            const {scope: e, client: t} = this.getStackTop()
              , n = e.getSession();
            n && t && t.captureSession && t.captureSession(n)
        }
        _callExtensionMethod(e, ...t) {
            const n = Dr().__SENTRY__;
            if (n && n.extensions && "function" == typeof n.extensions[e])
                return n.extensions[e].apply(this, t);
            er && Jn.warn(`Extension method ${e} couldn't be found, doing nothing.`)
        }
    }
    function Dr() {
        return Fn.__SENTRY__ = Fn.__SENTRY__ || {
            extensions: {},
            hub: void 0
        },
        Fn
    }
    function Pr(e) {
        const t = Dr()
          , n = Wr(t);
        return Fr(t, e),
        n
    }
    function Ur() {
        const e = Dr();
        if (e.__SENTRY__ && e.__SENTRY__.acs) {
            const t = e.__SENTRY__.acs.getCurrentHub();
            if (t)
                return t
        }
        return function(e=Dr()) {
            t = e,
            t && t.__SENTRY__ && t.__SENTRY__.hub && !Wr(e).isOlderThan(Mr) || Fr(e, new Nr);
            var t;
            return Wr(e)
        }(e)
    }
    function Br() {
        return Ur().getIsolationScope()
    }
    function Wr(e) {
        return Hn("hub", ( () => new Nr), e)
    }
    function Fr(e, t) {
        if (!e)
            return !1;
        return (e.__SENTRY__ = e.__SENTRY__ || {}).hub = t,
        !0
    }
    var zr;
    function Hr(e, t, n=( () => {}
    )) {
        let o;
        try {
            o = e()
        } catch (e) {
            throw t(e),
            n(),
            e
        }
        return function(e, t, n) {
            if (In(e))
                return e.then((e => (n(),
                e)), (e => {
                    throw t(e),
                    n(),
                    e
                }
                ));
            return n(),
            e
        }(o, t, n)
    }
    function jr(e, t) {
        const n = function(e) {
            if (e.startTime) {
                const n = {
                    ...e
                };
                return n.startTimestamp = "number" == typeof (t = e.startTime) ? cr(t) : Array.isArray(t) ? t[0] + t[1] / 1e9 : t instanceof Date ? cr(t.getTime()) : Pi(),
                delete n.startTime,
                n
            }
            var t;
            return e
        }(e);
        return function(e, t={}) {
            const n = Dr();
            return n.__SENTRY__ && n.__SENTRY__.acs ? n.__SENTRY__.acs.runWithAsyncContext(e, t) : e()
        }(( () => wr(e.scope, (o => {
            const i = Ur()
              , r = o.getSpan()
              , s = e.onlyIfParent && !r ? void 0 : function(e, {parentSpan: t, spanContext: n, forceTransaction: o, scope: i}) {
                if (!function(e) {
                    if ("boolean" == typeof __SENTRY_TRACING__ && !__SENTRY_TRACING__)
                        return !1;
                    const t = br()
                      , n = e || t && t.getOptions();
                    return !!n && (n.enableTracing || "tracesSampleRate"in n || "tracesSampler"in n)
                }())
                    return;
                const r = Br();
                let s;
                if (t && !o)
                    s = t.startChild(n);
                else if (t) {
                    const o = xr(t)
                      , {traceId: i, spanId: r} = t.spanContext()
                      , a = ur(t);
                    s = e.startTransaction({
                        traceId: i,
                        parentSpanId: r,
                        parentSampled: a,
                        ...n,
                        metadata: {
                            dynamicSamplingContext: o,
                            ...n.metadata
                        }
                    })
                } else {
                    const {traceId: t, dsc: o, parentSpanId: a, sampled: l} = {
                        ...r.getPropagationContext(),
                        ...i.getPropagationContext()
                    };
                    s = e.startTransaction({
                        traceId: t,
                        parentSpanId: a,
                        parentSampled: l,
                        ...n,
                        metadata: {
                            dynamicSamplingContext: o,
                            ...n.metadata
                        }
                    })
                }
                return i.setSpan(s),
                function(e, t, n) {
                    e && (so(e, qr, n),
                    so(e, Gr, t))
                }(s, i, r),
                s
            }(i, {
                parentSpan: r,
                spanContext: n,
                forceTransaction: e.forceTransaction,
                scope: o
            });
            return Hr(( () => t(s)), ( () => {
                if (s) {
                    const {status: e} = dr(s);
                    e && "ok" !== e || s.setStatus("internal_error")
                }
            }
            ), ( () => s && s.end()))
        }
        ))))
    }
    !function(e) {
        e.Ok = "ok";
        e.DeadlineExceeded = "deadline_exceeded";
        e.Unauthenticated = "unauthenticated";
        e.PermissionDenied = "permission_denied";
        e.NotFound = "not_found";
        e.ResourceExhausted = "resource_exhausted";
        e.InvalidArgument = "invalid_argument";
        e.Unimplemented = "unimplemented";
        e.Unavailable = "unavailable";
        e.InternalError = "internal_error";
        e.UnknownError = "unknown_error";
        e.Cancelled = "cancelled";
        e.AlreadyExists = "already_exists";
        e.FailedPrecondition = "failed_precondition";
        e.Aborted = "aborted";
        e.OutOfRange = "out_of_range";
        e.DataLoss = "data_loss"
    }(zr || (zr = {}));
    const Gr = "_sentryScope"
      , qr = "_sentryIsolationScope";
    let Vr;
    function Yr(e, t, n, o, i, r) {
        const s = Er().getSpan();
        if (s) {
            const a = function(e) {
                return Vr ? Vr.get(e) : void 0
            }(s) || new Map
              , l = `${e}:${t}@${o}`
              , c = a.get(r);
            if (c) {
                const [,e] = c;
                a.set(r, [l, {
                    min: Math.min(e.min, n),
                    max: Math.max(e.max, n),
                    count: e.count += 1,
                    sum: e.sum += n,
                    tags: e.tags
                }])
            } else
                a.set(r, [l, {
                    min: n,
                    max: n,
                    count: 1,
                    sum: n,
                    tags: i
                }]);
            Vr || (Vr = new WeakMap),
            Vr.set(s, a)
        }
    }
    const Kr = "sentry.source";
    function Zr(e, t, n, o) {
        const i = Vi(n)
          , r = e.type && "replay_event" !== e.type ? e.type : "event";
        !function(e, t) {
            t && (e.sdk = e.sdk || {},
            e.sdk.name = e.sdk.name || t.name,
            e.sdk.version = e.sdk.version || t.version,
            e.sdk.integrations = [...e.sdk.integrations || [], ...t.integrations || []],
            e.sdk.packages = [...e.sdk.packages || [], ...t.packages || []])
        }(e, n && n.sdk);
        const s = Yi(e, i, o, t);
        delete e.sdkProcessingMetadata;
        return Bi(s, [[{
            type: r
        }, e]])
    }
    const Xr = "7";
    function Qr(e, t) {
        return n = {
            sentry_key: e.publicKey,
            sentry_version: Xr,
            ...t && {
                sentry_client: `${t.name}/${t.version}`
            }
        },
        Object.keys(n).map((e => `${encodeURIComponent(e)}=${encodeURIComponent(n[e])}`)).join("&");
        var n
    }
    const Jr = [];
    function es(e, t) {
        for (const n of t)
            n && n.afterAllSetup && n.afterAllSetup(e)
    }
    function ts(e, t, n) {
        if (n[t.name])
            er && Jn.log(`Integration skipped because it was already installed: ${t.name}`);
        else {
            if (n[t.name] = t,
            -1 === Jr.indexOf(t.name) && (t.setupOnce(or, Ur),
            Jr.push(t.name)),
            t.setup && "function" == typeof t.setup && t.setup(e),
            e.on && "function" == typeof t.preprocessEvent) {
                const n = t.preprocessEvent.bind(t);
                e.on("preprocessEvent", ( (t, o) => n(t, o, e)))
            }
            if (e.addEventProcessor && "function" == typeof t.processEvent) {
                const n = t.processEvent.bind(t)
                  , o = Object.assign(( (t, o) => n(t, o, e)), {
                    id: t.name
                });
                e.addEventProcessor(o)
            }
            er && Jn.log(`Integration installed: ${t.name}`)
        }
    }
    function ns(e, t) {
        return Object.assign((function(...e) {
            return t(...e)
        }
        ), {
            id: e
        })
    }
    function os(e) {
        return e.replace(/[^\w\-./]+/gi, "")
    }
    const is = [["\n", "\\n"], ["\r", "\\r"], ["\t", "\\t"], ["\\", "\\\\"], ["|", "\\u{7c}"], [",", "\\u{2c}"]];
    function rs(e) {
        return [...e].reduce(( (e, t) => e + function(e) {
            for (const [t,n] of is)
                if (e === t)
                    return n;
            return e
        }(t)), "")
    }
    function ss(e, t, n, o) {
        const i = {
            sent_at: (new Date).toISOString()
        };
        n && n.sdk && (i.sdk = {
            name: n.sdk.name,
            version: n.sdk.version
        }),
        o && t && (i.dsn = to(t));
        const r = function(e) {
            const t = function(e) {
                let t = "";
                for (const n of e) {
                    const e = Object.entries(n.tags)
                      , o = e.length > 0 ? `|#${e.map(( ([e,t]) => `${e}:${t}`)).join(",")}` : "";
                    t += `${n.name}@${n.unit}:${n.metric}|${n.metricType}${o}|T${n.timestamp}\n`
                }
                return t
            }(e);
            return [{
                type: "statsd",
                length: t.length
            }, t]
        }(e);
        return Bi(i, [r])
    }
    const as = "Not capturing exception because it's already been captured.";
    class ls {
        constructor(e) {
            if (this._options = e,
            this._integrations = {},
            this._integrationsInitialized = !1,
            this._numProcessing = 0,
            this._outcomes = {},
            this._hooks = {},
            this._eventProcessors = [],
            e.dsn ? this._dsn = oo(e.dsn) : er && Jn.warn("No DSN provided, client will not send events."),
            this._dsn) {
                const t = function(e, t={}) {
                    const n = "string" == typeof t ? t : t.tunnel
                      , o = "string" != typeof t && t._metadata ? t._metadata.sdk : void 0;
                    return n || `${function(e) {
                        return `${function(e) {
                            const t = e.protocol ? `${e.protocol}:` : ""
                              , n = e.port ? `:${e.port}` : "";
                            return `${t}//${e.host}${n}${e.path ? `/${e.path}` : ""}/api/`
                        }(e)}${e.projectId}/envelope/`
                    }(e)}?${Qr(e, o)}`
                }(this._dsn, e);
                this._transport = e.transport({
                    tunnel: this._options.tunnel,
                    recordDroppedEvent: this.recordDroppedEvent.bind(this),
                    ...e.transportOptions,
                    url: t
                })
            }
        }
        captureException(e, t, n) {
            if (Ro(e))
                return void (er && Jn.log(as));
            let o = t && t.event_id;
            return this._process(this.eventFromException(e, t).then((e => this._captureEvent(e, t, n))).then((e => {
                o = e
            }
            ))),
            o
        }
        captureMessage(e, t, n, o) {
            let i = n && n.event_id;
            const r = Sn(e) ? e : String(e)
              , s = xn(e) ? this.eventFromMessage(r, t, n) : this.eventFromException(e, n);
            return this._process(s.then((e => this._captureEvent(e, n, o))).then((e => {
                i = e
            }
            ))),
            i
        }
        captureEvent(e, t, n) {
            if (t && t.originalException && Ro(t.originalException))
                return void (er && Jn.log(as));
            let o = t && t.event_id;
            const i = (e.sdkProcessingMetadata || {}).capturedSpanScope;
            return this._process(this._captureEvent(e, t, i || n).then((e => {
                o = e
            }
            ))),
            o
        }
        captureSession(e) {
            "string" != typeof e.release ? er && Jn.warn("Discarded session because of missing or non-string release") : (this.sendSession(e),
            sr(e, {
                init: !1
            }))
        }
        getDsn() {
            return this._dsn
        }
        getOptions() {
            return this._options
        }
        getSdkMetadata() {
            return this._options._metadata
        }
        getTransport() {
            return this._transport
        }
        flush(e) {
            const t = this._transport;
            return t ? (this.metricsAggregator && this.metricsAggregator.flush(),
            this._isClientDoneProcessing(e).then((n => t.flush(e).then((e => n && e))))) : wi(!0)
        }
        close(e) {
            return this.flush(e).then((e => (this.getOptions().enabled = !1,
            this.metricsAggregator && this.metricsAggregator.close(),
            e)))
        }
        getEventProcessors() {
            return this._eventProcessors
        }
        addEventProcessor(e) {
            this._eventProcessors.push(e)
        }
        setupIntegrations(e) {
            (e && !this._integrationsInitialized || this._isEnabled() && !this._integrationsInitialized) && this._setupIntegrations()
        }
        init() {
            this._isEnabled() && this._setupIntegrations()
        }
        getIntegrationById(e) {
            return this.getIntegrationByName(e)
        }
        getIntegrationByName(e) {
            return this._integrations[e]
        }
        getIntegration(e) {
            try {
                return this._integrations[e.id] || null
            } catch (t) {
                return er && Jn.warn(`Cannot retrieve integration ${e.id} from the current Client`),
                null
            }
        }
        addIntegration(e) {
            const t = this._integrations[e.name];
            ts(this, e, this._integrations),
            t || es(this, [e])
        }
        sendEvent(e, t={}) {
            this.emit("beforeSendEvent", e, t);
            let n = Zr(e, this._dsn, this._options._metadata, this._options.tunnel);
            for (const e of t.attachments || [])
                n = Wi(n, ji(e, this._options.transportOptions && this._options.transportOptions.textEncoder));
            const o = this._sendEnvelope(n);
            o && o.then((t => this.emit("afterSendEvent", e, t)), null)
        }
        sendSession(e) {
            const t = function(e, t, n, o) {
                const i = Vi(n);
                return Bi({
                    sent_at: (new Date).toISOString(),
                    ...i && {
                        sdk: i
                    },
                    ...!!o && t && {
                        dsn: to(t)
                    }
                }, ["aggregates"in e ? [{
                    type: "sessions"
                }, e] : [{
                    type: "session"
                }, e.toJSON()]])
            }(e, this._dsn, this._options._metadata, this._options.tunnel);
            this._sendEnvelope(t)
        }
        recordDroppedEvent(e, t, n) {
            if (this._options.sendClientReports) {
                const n = `${e}:${t}`;
                er && Jn.log(`Adding outcome: "${n}"`),
                this._outcomes[n] = this._outcomes[n] + 1 || 1
            }
        }
        captureAggregateMetrics(e) {
            er && Jn.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);
            const t = ss(e, this._dsn, this._options._metadata, this._options.tunnel);
            this._sendEnvelope(t)
        }
        on(e, t) {
            this._hooks[e] || (this._hooks[e] = []),
            this._hooks[e].push(t)
        }
        emit(e, ...t) {
            this._hooks[e] && this._hooks[e].forEach((e => e(...t)))
        }
        _setupIntegrations() {
            const {integrations: e} = this._options;
            this._integrations = function(e, t) {
                const n = {};
                return t.forEach((t => {
                    t && ts(e, t, n)
                }
                )),
                n
            }(this, e),
            es(this, e),
            this._integrationsInitialized = !0
        }
        _updateSessionFromEvent(e, t) {
            let n = !1
              , o = !1;
            const i = t.exception && t.exception.values;
            if (i) {
                o = !0;
                for (const e of i) {
                    const t = e.mechanism;
                    if (t && !1 === t.handled) {
                        n = !0;
                        break
                    }
                }
            }
            const r = "ok" === e.status;
            (r && 0 === e.errors || r && n) && (sr(e, {
                ...n && {
                    status: "crashed"
                },
                errors: e.errors || Number(o || n)
            }),
            this.captureSession(e))
        }
        _isClientDoneProcessing(e) {
            return new Ei((t => {
                let n = 0;
                const o = setInterval(( () => {
                    0 == this._numProcessing ? (clearInterval(o),
                    t(!0)) : (n += 1,
                    e && n >= e && (clearInterval(o),
                    t(!1)))
                }
                ), 1)
            }
            ))
        }
        _isEnabled() {
            return !1 !== this.getOptions().enabled && void 0 !== this._transport
        }
        _prepareEvent(e, t, n, o=Br()) {
            const i = this.getOptions()
              , r = Object.keys(this._integrations);
            return !t.integrations && r.length > 0 && (t.integrations = r),
            this.emit("preprocessEvent", e, t),
            pr(i, e, t, n, this, o).then((e => {
                if (null === e)
                    return e;
                const t = {
                    ...o.getPropagationContext(),
                    ...n ? n.getPropagationContext() : void 0
                };
                if (!(e.contexts && e.contexts.trace) && t) {
                    const {traceId: o, spanId: i, parentSpanId: r, dsc: s} = t;
                    e.contexts = {
                        trace: {
                            trace_id: o,
                            span_id: i,
                            parent_span_id: r
                        },
                        ...e.contexts
                    };
                    const a = s || Sr(o, this, n);
                    e.sdkProcessingMetadata = {
                        dynamicSamplingContext: a,
                        ...e.sdkProcessingMetadata
                    }
                }
                return e
            }
            ))
        }
        _captureEvent(e, t={}, n) {
            return this._processEvent(e, t, n).then((e => e.event_id), (e => {
                if (er) {
                    const t = e;
                    "log" === t.logLevel ? Jn.log(t.message) : Jn.warn(t)
                }
            }
            ))
        }
        _processEvent(e, t, n) {
            const o = this.getOptions()
              , {sampleRate: i} = o
              , r = ds(e)
              , s = cs(e)
              , a = e.type || "error"
              , l = `before send for type \`${a}\``;
            if (s && "number" == typeof i && Math.random() > i)
                return this.recordDroppedEvent("sample_rate", "error", e),
                bi(new io(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));
            const c = "replay_event" === a ? "replay" : a
              , d = (e.sdkProcessingMetadata || {}).capturedSpanIsolationScope;
            return this._prepareEvent(e, t, n, d).then((n => {
                if (null === n)
                    throw this.recordDroppedEvent("event_processor", c, e),
                    new io("An event processor returned `null`, will not send event.","log");
                if (t.data && !0 === t.data.__sentry__)
                    return n;
                const i = function(e, t, n) {
                    const {beforeSend: o, beforeSendTransaction: i} = e;
                    if (cs(t) && o)
                        return o(t, n);
                    if (ds(t) && i)
                        return i(t, n);
                    return t
                }(o, n, t);
                return function(e, t) {
                    const n = `${t} must return \`null\` or a valid event.`;
                    if (In(e))
                        return e.then((e => {
                            if (!$n(e) && null !== e)
                                throw new io(n);
                            return e
                        }
                        ), (e => {
                            throw new io(`${t} rejected with ${e}`)
                        }
                        ));
                    if (!$n(e) && null !== e)
                        throw new io(n);
                    return e
                }(i, l)
            }
            )).then((o => {
                if (null === o)
                    throw this.recordDroppedEvent("before_send", c, e),
                    new io(`${l} returned \`null\`, will not send event.`,"log");
                const i = n && n.getSession();
                !r && i && this._updateSessionFromEvent(i, o);
                const s = o.transaction_info;
                if (r && s && o.transaction !== e.transaction) {
                    const e = "custom";
                    o.transaction_info = {
                        ...s,
                        source: e
                    }
                }
                return this.sendEvent(o, t),
                o
            }
            )).then(null, (e => {
                if (e instanceof io)
                    throw e;
                throw this.captureException(e, {
                    data: {
                        __sentry__: !0
                    },
                    originalException: e
                }),
                new io(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)
            }
            ))
        }
        _process(e) {
            this._numProcessing++,
            e.then((e => (this._numProcessing--,
            e)), (e => (this._numProcessing--,
            e)))
        }
        _sendEnvelope(e) {
            if (this.emit("beforeEnvelope", e),
            this._isEnabled() && this._transport)
                return this._transport.send(e).then(null, (e => {
                    er && Jn.error("Error while sending event:", e)
                }
                ));
            er && Jn.error("Transport disabled")
        }
        _clearOutcomes() {
            const e = this._outcomes;
            return this._outcomes = {},
            Object.keys(e).map((t => {
                const [n,o] = t.split(":");
                return {
                    reason: n,
                    category: o,
                    quantity: e[t]
                }
            }
            ))
        }
    }
    function cs(e) {
        return void 0 === e.type
    }
    function ds(e) {
        return "transaction" === e.type
    }
    const us = {
        c: class {
            constructor(e) {
                this._value = e
            }
            get weight() {
                return 1
            }
            add(e) {
                this._value += e
            }
            toString() {
                return `${this._value}`
            }
        }
        ,
        g: class {
            constructor(e) {
                this._last = e,
                this._min = e,
                this._max = e,
                this._sum = e,
                this._count = 1
            }
            get weight() {
                return 5
            }
            add(e) {
                this._last = e,
                e < this._min && (this._min = e),
                e > this._max && (this._max = e),
                this._sum += e,
                this._count++
            }
            toString() {
                return `${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`
            }
        }
        ,
        d: class {
            constructor(e) {
                this._value = [e]
            }
            get weight() {
                return this._value.length
            }
            add(e) {
                this._value.push(e)
            }
            toString() {
                return this._value.join(":")
            }
        }
        ,
        s: class {
            constructor(e) {
                this.first = e,
                this._value = new Set([e])
            }
            get weight() {
                return this._value.size
            }
            add(e) {
                this._value.add(e)
            }
            toString() {
                return Array.from(this._value).map((e => "string" == typeof e ? function(e) {
                    let t = 0;
                    for (let n = 0; n < e.length; n++)
                        t = (t << 5) - t + e.charCodeAt(n),
                        t &= t;
                    return t >>> 0
                }(e) : e)).join(":")
            }
        }
    }
      , ps = 30;
    function ms(e, t) {
        if ("event" === t || "transaction" === t)
            return Array.isArray(e) ? e[1] : void 0
    }
    function gs(e, t) {
        const n = t && function(e) {
            return void 0 !== e.getClient
        }(t) ? t.getClient() : t
          , o = n && n.getDsn()
          , i = n && n.getOptions().tunnel;
        return function(e, t) {
            return !!t && e.includes(t.host)
        }(e, o) || function(e, t) {
            if (!t)
                return !1;
            return hs(e) === hs(t)
        }(e, i)
    }
    function hs(e) {
        return "/" === e[e.length - 1] ? e.slice(0, -1) : e
    }
    const fs = new Map
      , _s = new Set;
    function vs(e, t) {
        return function(e) {
            if (Fn._sentryModuleMetadata)
                for (const t of Object.keys(Fn._sentryModuleMetadata)) {
                    const n = Fn._sentryModuleMetadata[t];
                    if (_s.has(t))
                        continue;
                    _s.add(t);
                    const o = e(t);
                    for (const e of o.reverse())
                        if (e.filename) {
                            fs.set(e.filename, n);
                            break
                        }
                }
        }(e),
        fs.get(t)
    }
    const ys = "ModuleMetadata"
      , ws = () => ({
        name: ys,
        setupOnce() {},
        setup(e) {
            "function" == typeof e.on && e.on("beforeEnvelope", (e => {
                Fi(e, ( (e, t) => {
                    if ("event" === t) {
                        const t = Array.isArray(e) ? e[1] : void 0;
                        t && (!function(e) {
                            try {
                                e.exception.values.forEach((e => {
                                    if (e.stacktrace)
                                        for (const t of e.stacktrace.frames || [])
                                            delete t.module_metadata
                                }
                                ))
                            } catch (e) {}
                        }(t),
                        e[1] = t)
                    }
                }
                ))
            }
            ))
        },
        processEvent: (e, t, n) => (function(e, t) {
            try {
                t.exception.values.forEach((t => {
                    if (t.stacktrace)
                        for (const n of t.stacktrace.frames || []) {
                            if (!n.filename)
                                continue;
                            const t = vs(e, n.filename);
                            t && (n.module_metadata = t)
                        }
                }
                ))
            } catch (e) {}
        }(n.getOptions().stackParser, e),
        e)
    });
    ns(ys, ws);
    const bs = {
        include: {
            cookies: !0,
            data: !0,
            headers: !0,
            ip: !1,
            query_string: !0,
            url: !0,
            user: {
                id: !0,
                username: !0,
                email: !0
            }
        },
        transactionNamingScheme: "methodPath"
    }
      , Es = "RequestData"
      , Ts = (e={}) => {
        const t = Ri
          , n = {
            ...bs,
            ...e,
            include: {
                method: !0,
                ...bs.include,
                ...e.include,
                user: e.include && "boolean" == typeof e.include.user ? e.include.user : {
                    ...bs.include.user,
                    ...(e.include || {}).user
                }
            }
        };
        return {
            name: Es,
            setupOnce() {},
            processEvent(e, o, i) {
                const {transactionNamingScheme: r} = n
                  , {sdkProcessingMetadata: s={}} = e
                  , a = s.request;
                if (!a)
                    return e;
                const l = s.requestDataOptionsFromExpressHandler || s.requestDataOptionsFromGCPWrapper || function(e) {
                    const {transactionNamingScheme: t, include: {ip: n, user: o, ...i}} = e
                      , r = [];
                    for (const [e,t] of Object.entries(i))
                        t && r.push(e);
                    let s;
                    if (void 0 === o)
                        s = !0;
                    else if ("boolean" == typeof o)
                        s = o;
                    else {
                        const e = [];
                        for (const [t,n] of Object.entries(o))
                            n && e.push(t);
                        s = e
                    }
                    return {
                        include: {
                            ip: n,
                            user: s,
                            request: 0 !== r.length ? r : void 0,
                            transaction: t
                        }
                    }
                }(n)
                  , c = t(e, a, l);
                if ("transaction" === e.type || "handler" === r)
                    return c;
                const d = a._sentryTransaction;
                if (d) {
                    const e = dr(d).description || ""
                      , t = "sentry.javascript.nextjs" === function(e) {
                        try {
                            return e.getOptions()._metadata.sdk.name
                        } catch (e) {
                            return
                        }
                    }(i) ? e.startsWith("/api") : "path" !== r
                      , [n] = Li(a, {
                        path: !0,
                        method: t,
                        customRoute: e
                    });
                    c.transaction = n
                }
                return c
            }
        }
    }
    ;
    ns(Es, Ts);
    const Ss = [/^Script error\.?$/, /^Javascript error: Script error\.? on line 0$/, /^ResizeObserver loop completed with undelivered notifications.$/, /^Cannot redefine property: googletag$/]
      , xs = [/^.*\/healthcheck$/, /^.*\/healthy$/, /^.*\/live$/, /^.*\/ready$/, /^.*\/heartbeat$/, /^.*\/health$/, /^.*\/healthz$/]
      , $s = "InboundFilters"
      , Cs = (e={}) => ({
        name: $s,
        setupOnce() {},
        processEvent(t, n, o) {
            const i = o.getOptions()
              , r = function(e={}, t={}) {
                return {
                    allowUrls: [...e.allowUrls || [], ...t.allowUrls || []],
                    denyUrls: [...e.denyUrls || [], ...t.denyUrls || []],
                    ignoreErrors: [...e.ignoreErrors || [], ...t.ignoreErrors || [], ...e.disableErrorDefaults ? [] : Ss],
                    ignoreTransactions: [...e.ignoreTransactions || [], ...t.ignoreTransactions || [], ...e.disableTransactionDefaults ? [] : xs],
                    ignoreInternal: void 0 === e.ignoreInternal || e.ignoreInternal
                }
            }(e, i);
            return function(e, t) {
                if (t.ignoreInternal && function(e) {
                    try {
                        return "SentryError" === e.exception.values[0].type
                    } catch (e) {}
                    return !1
                }(e))
                    return er && Jn.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${Io(e)}`),
                    !0;
                if (function(e, t) {
                    if (e.type || !t || !t.length)
                        return !1;
                    return function(e) {
                        const t = [];
                        e.message && t.push(e.message);
                        let n;
                        try {
                            n = e.exception.values[e.exception.values.length - 1]
                        } catch (e) {}
                        n && n.value && (t.push(n.value),
                        n.type && t.push(`${n.type}: ${n.value}`));
                        er && 0 === t.length && Jn.error(`Could not extract message for event ${Io(e)}`);
                        return t
                    }(e).some((e => Nn(e, t)))
                }(e, t.ignoreErrors))
                    return er && Jn.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${Io(e)}`),
                    !0;
                if (function(e, t) {
                    if ("transaction" !== e.type || !t || !t.length)
                        return !1;
                    const n = e.transaction;
                    return !!n && Nn(n, t)
                }(e, t.ignoreTransactions))
                    return er && Jn.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${Io(e)}`),
                    !0;
                if (function(e, t) {
                    if (!t || !t.length)
                        return !1;
                    const n = ks(e);
                    return !!n && Nn(n, t)
                }(e, t.denyUrls))
                    return er && Jn.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${Io(e)}.\nUrl: ${ks(e)}`),
                    !0;
                if (!function(e, t) {
                    if (!t || !t.length)
                        return !0;
                    const n = ks(e);
                    return !n || Nn(n, t)
                }(e, t.allowUrls))
                    return er && Jn.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${Io(e)}.\nUrl: ${ks(e)}`),
                    !0;
                return !1
            }(t, r) ? null : t
        }
    });
    ns($s, Cs);
    function ks(e) {
        try {
            let t;
            try {
                t = e.exception.values[0].stacktrace.frames
            } catch (e) {}
            return t ? function(e=[]) {
                for (let t = e.length - 1; t >= 0; t--) {
                    const n = e[t];
                    if (n && "<anonymous>" !== n.filename && "[native code]" !== n.filename)
                        return n.filename || null
                }
                return null
            }(t) : null
        } catch (t) {
            return er && Jn.error(`Cannot extract url for event ${Io(e)}`),
            null
        }
    }
    let Is;
    const Ls = "FunctionToString"
      , As = new WeakMap
      , Rs = () => ({
        name: Ls,
        setupOnce() {
            Is = Function.prototype.toString;
            try {
                Function.prototype.toString = function(...e) {
                    const t = lo(this)
                      , n = As.has(br()) && void 0 !== t ? t : this;
                    return Is.apply(n, e)
                }
            } catch (e) {}
        },
        setup(e) {
            As.set(e, !0)
        }
    })
      , Ms = (ns(Ls, Rs),
    "LinkedErrors")
      , Os = (e={}) => {
        const t = e.limit || 5
          , n = e.key || "cause";
        return {
            name: Ms,
            setupOnce() {},
            preprocessEvent(e, o, i) {
                const r = i.getOptions();
                Dn(Qi, r.stackParser, r.maxValueLength, n, t, e, o)
            }
        }
    }
    ;
    ns(Ms, Os);
    class Ns {
        constructor(e) {
            this._client = e,
            this._buckets = new Map,
            this._interval = setInterval(( () => this.flush()), 5e3)
        }
        add(e, t, n, o="none", i={}, r=Pi()) {
            const s = Math.floor(r)
              , a = t.replace(/[^\w\-.]+/gi, "_");
            const l = function(e) {
                const t = {};
                for (const n in e)
                    Object.prototype.hasOwnProperty.call(e, n) && (t[os(n)] = rs(String(e[n])));
                return t
            }(i)
              , c = function(e) {
                return e.replace(/[^\w]+/gi, "_")
            }(o)
              , d = function(e, t, n, o) {
                return `${e}${t}${n}${Object.entries(mo(o)).sort(( (e, t) => e[0].localeCompare(t[0])))}`
            }(e, a, c, l);
            let u = this._buckets.get(d);
            const p = u && "s" === e ? u.metric.weight : 0;
            u ? (u.metric.add(n),
            u.timestamp < s && (u.timestamp = s)) : (u = {
                metric: new us[e](n),
                timestamp: s,
                metricType: e,
                name: a,
                unit: c,
                tags: l
            },
            this._buckets.set(d, u));
            Yr(e, a, "string" == typeof n ? u.metric.weight - p : n, c, i, d)
        }
        flush() {
            if (0 !== this._buckets.size) {
                if (this._client.captureAggregateMetrics) {
                    const e = Array.from(this._buckets).map(( ([,e]) => e));
                    this._client.captureAggregateMetrics(e)
                }
                this._buckets.clear()
            }
        }
        close() {
            clearInterval(this._interval),
            this.flush()
        }
    }
    const Ds = "MetricsAggregator"
      , Ps = () => ({
        name: Ds,
        setupOnce() {},
        setup(e) {
            e.metricsAggregator = new Ns(e)
        }
    });
    ns(Ds, Ps);
    const Us = "undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__;
    function Bs(e) {
        const t = Ji([e, "call", e => e(), "access", e => e.getClient, "call", e => e(), "optionalAccess", e => e.getOptions, "call", e => e()]);
        return "sentry" !== (Ji([t, "optionalAccess", e => e.instrumenter]) || "sentry")
    }
    class Ws {
        static __initStatic() {
            this.id = "Express"
        }
        constructor(e={}) {
            this.name = Ws.id,
            this._router = e.router || e.app,
            this._methods = (Array.isArray(e.methods) ? e.methods : []).concat("use")
        }
        setupOnce(e, t) {
            this._router ? Bs(t) ? Us && Jn.log("Express Integration is skipped because of instrumenter configuration.") : (function(e, t=[]) {
                t.forEach((t => function(e, t) {
                    const n = e[t];
                    return e[t] = function(...e) {
                        return n.call(this, ...function(e, t) {
                            return e.map((e => "function" == typeof e ? Fs(e, t) : Array.isArray(e) ? e.map((e => "function" == typeof e ? Fs(e, t) : e)) : e))
                        }(e, t))
                    }
                    ,
                    e
                }(e, t)))
            }(this._router, this._methods),
            function(e) {
                const t = "settings"in e;
                t && void 0 === e._router && e.lazyrouter && e.lazyrouter();
                const n = t ? e._router : e;
                if (!n)
                    return Us && Jn.debug("Cannot instrument router for URL Parameterization (did not find a valid router)."),
                    void (Us && Jn.debug("Routing instrumentation is currently only supported in Express 4."));
                const o = Object.getPrototypeOf(n)
                  , i = o.process_params;
                o.process_params = function(e, t, n, o, r) {
                    n._reconstructedRoute || (n._reconstructedRoute = "");
                    const {layerRoutePath: s, isRegex: a, isArray: l, numExtraSegments: c} = function(e) {
                        let t = Ji([e, "access", e => e.route, "optionalAccess", e => e.path]);
                        const n = kn(t)
                          , o = Array.isArray(t);
                        if (!t) {
                            const [n] = Fn.process.versions.node.split(".").map(Number);
                            n >= 16 && (t = zs(e.path, e.regexp, e.keys))
                        }
                        if (!t)
                            return {
                                isRegex: n,
                                isArray: o,
                                numExtraSegments: 0
                            };
                        const i = o ? Math.max((s = t,
                        s.reduce(( (e, t) => e + $i(t.toString())), 0) - $i(e.path || "")), 0) : 0
                          , r = function(e, t) {
                            if (e)
                                return t.map((e => e.toString())).join(",");
                            return t && t.toString()
                        }(o, t);
                        var s;
                        return {
                            layerRoutePath: r,
                            isRegex: n,
                            isArray: o,
                            numExtraSegments: i
                        }
                    }(e);
                    let d;
                    (s || a || l) && (n._hasParameters = !0),
                    d = s || (function(e, t, n) {
                        const o = Ji([xi(e || ""), "optionalAccess", e => e.split, "call", e => e("/"), "access", e => e.filter, "call", e => e((e => !!e))]);
                        let i = 0;
                        const r = Ji([t, "optionalAccess", e => e.split, "call", e => e("/"), "access", e => e.filter, "call", e => e((e => !!e)), "access", e => e.length]) || 0;
                        return Ji([n, "optionalAccess", e => e.split, "call", e => e("/"), "access", e => e.filter, "call", e => e((e => Ji([o, "optionalAccess", e => e[r + i]]) === e && (i += 1,
                        !0))), "access", e => e.join, "call", e => e("/")])
                    }(n.originalUrl, n._reconstructedRoute, e.path) || "");
                    const u = d.split("/").filter((e => e.length > 0 && (a || l || !e.includes("*")))).join("/");
                    u && u.length > 0 && (n._reconstructedRoute += `/${u}${a ? "/" : ""}`);
                    if ($i(xi(n.originalUrl || "")) + c === $i(n._reconstructedRoute)) {
                        n._hasParameters || n._reconstructedRoute !== n.originalUrl && (n._reconstructedRoute = n.originalUrl ? xi(n.originalUrl) : n.originalUrl);
                        const e = o.__sentry_transaction
                          , t = e && dr(e).data || {};
                        if (e && "custom" !== t[Kr]) {
                            const t = n._reconstructedRoute || "/"
                              , [o,i] = Li(n, {
                                path: !0,
                                method: !0,
                                customRoute: t
                            });
                            e.updateName(o),
                            e.setAttribute(Kr, i)
                        }
                    }
                    return i.call(this, e, t, n, o, r)
                }
            }(this._router)) : Us && Jn.error("ExpressIntegration is missing an Express instance")
        }
    }
    function Fs(e, t) {
        const n = e.length;
        switch (n) {
        case 2:
            return function(n, o) {
                const i = o.__sentry_transaction;
                if (i) {
                    const n = i.startChild({
                        description: e.name,
                        op: `middleware.express.${t}`,
                        origin: "auto.middleware.express"
                    });
                    o.once("finish", ( () => {
                        n.end()
                    }
                    ))
                }
                return e.call(this, n, o)
            }
            ;
        case 3:
            return function(n, o, i) {
                const r = Ji([o.__sentry_transaction, "optionalAccess", e => e.startChild, "call", n => n({
                    description: e.name,
                    op: `middleware.express.${t}`,
                    origin: "auto.middleware.express"
                })]);
                e.call(this, n, o, (function(...e) {
                    Ji([r, "optionalAccess", e => e.end, "call", e => e()]),
                    i.call(this, ...e)
                }
                ))
            }
            ;
        case 4:
            return function(n, o, i, r) {
                const s = Ji([i.__sentry_transaction, "optionalAccess", e => e.startChild, "call", n => n({
                    description: e.name,
                    op: `middleware.express.${t}`,
                    origin: "auto.middleware.express"
                })]);
                e.call(this, n, o, i, (function(...e) {
                    Ji([s, "optionalAccess", e => e.end, "call", e => e()]),
                    r.call(this, ...e)
                }
                ))
            }
            ;
        default:
            throw new Error(`Express middleware takes 2-4 arguments. Got: ${n}`)
        }
    }
    Ws.__initStatic();
    const zs = (e, t, n) => {
        if (!(e && t && n && 0 !== Object.keys(n).length && Ji([n, "access", e => e[0], "optionalAccess", e => e.offset])))
            return;
        const o = n.sort(( (e, t) => e.offset - t.offset))
          , i = new RegExp(t,`${t.flags}d`).exec(e);
        if (!i || !i.indices)
            return;
        const [,...r] = i.indices;
        if (r.length !== o.length)
            return;
        let s = e
          , a = 0;
        return r.forEach(( (e, t) => {
            if (e) {
                const [n,i] = e
                  , r = s.substring(0, n - a)
                  , l = `:${o[t].name}`
                  , c = s.substring(i - a);
                s = r + l + c,
                a += i - n - l.length
            }
        }
        )),
        s
    }
    ;
    class Hs {
        static __initStatic() {
            this.id = "Postgres"
        }
        constructor(e={}) {
            this.name = Hs.id,
            this._usePgNative = !!e.usePgNative,
            this._module = e.module
        }
        loadDependency() {
            return this._module = this._module || di("pg")
        }
        setupOnce(e, t) {
            if (Bs(t))
                return void (Us && Jn.log("Postgres Integration is skipped because of instrumenter configuration."));
            const n = this.loadDependency();
            if (!n)
                return void (Us && Jn.error("Postgres Integration was unable to require `pg` package."));
            const o = this._usePgNative ? Ji([n, "access", e => e.native, "optionalAccess", e => e.Client]) : n.Client;
            o ? ro(o.prototype, "query", (function(e) {
                return function(n, o, i) {
                    const r = t().getScope().getSpan()
                      , s = {
                        "db.system": "postgresql"
                    };
                    try {
                        this.database && (s["db.name"] = this.database),
                        this.host && (s["server.address"] = this.host),
                        this.port && (s["server.port"] = this.port),
                        this.user && (s["db.user"] = this.user)
                    } catch (e) {}
                    const a = Ji([r, "optionalAccess", e => e.startChild, "call", e => e({
                        description: "string" == typeof n ? n : n.text,
                        op: "db",
                        origin: "auto.db.postgres",
                        data: s
                    })]);
                    if ("function" == typeof i)
                        return e.call(this, n, o, (function(e, t) {
                            Ji([a, "optionalAccess", e => e.end, "call", e => e()]),
                            i(e, t)
                        }
                        ));
                    if ("function" == typeof o)
                        return e.call(this, n, (function(e, t) {
                            Ji([a, "optionalAccess", e => e.end, "call", e => e()]),
                            o(e, t)
                        }
                        ));
                    const l = void 0 !== o ? e.call(this, n, o) : e.call(this, n);
                    return In(l) ? l.then((e => (Ji([a, "optionalAccess", e => e.end, "call", e => e()]),
                    e))) : (Ji([a, "optionalAccess", e => e.end, "call", e => e()]),
                    l)
                }
            }
            )) : Us && Jn.error("Postgres Integration was unable to access 'pg-native' bindings.")
        }
    }
    Hs.__initStatic();
    class js {
        static __initStatic() {
            this.id = "Mysql"
        }
        constructor() {
            this.name = js.id
        }
        loadDependency() {
            return this._module = this._module || di("mysql/lib/Connection.js")
        }
        setupOnce(e, t) {
            if (Bs(t))
                return void (Us && Jn.log("Mysql Integration is skipped because of instrumenter configuration."));
            const n = this.loadDependency();
            if (!n)
                return void (Us && Jn.error("Mysql Integration was unable to require `mysql` package."));
            let o;
            try {
                n.prototype.connect = new Proxy(n.prototype.connect,{
                    apply: (e, t, n) => (o || (o = t.config),
                    e.apply(t, n))
                })
            } catch (e) {
                Us && Jn.error("Mysql Integration was unable to instrument `mysql` config.")
            }
            function i(e) {
                if (!e)
                    return;
                const t = o ? {
                    "server.address": o.host,
                    "server.port": o.port,
                    "db.user": o.user
                } : {};
                Object.keys(t).forEach((n => {
                    e.setAttribute(n, t[n])
                }
                )),
                e.end()
            }
            ro(n, "createQuery", (function(e) {
                return function(n, o, r) {
                    const s = Ji([t().getScope().getSpan(), "optionalAccess", e => e.startChild, "call", e => e({
                        description: "string" == typeof n ? n : n.sql,
                        op: "db",
                        origin: "auto.db.mysql",
                        data: {
                            "db.system": "mysql"
                        }
                    })]);
                    if ("function" == typeof r)
                        return e.call(this, n, o, (function(e, t, n) {
                            i(s),
                            r(e, t, n)
                        }
                        ));
                    if ("function" == typeof o)
                        return e.call(this, n, (function(e, t, n) {
                            i(s),
                            o(e, t, n)
                        }
                        ));
                    const a = e.call(this, n, o);
                    return a.on("end", ( () => {
                        i(s)
                    }
                    )),
                    a
                }
            }
            ))
        }
    }
    js.__initStatic();
    const Gs = ["aggregate", "bulkWrite", "countDocuments", "createIndex", "createIndexes", "deleteMany", "deleteOne", "distinct", "drop", "dropIndex", "dropIndexes", "estimatedDocumentCount", "find", "findOne", "findOneAndDelete", "findOneAndReplace", "findOneAndUpdate", "indexes", "indexExists", "indexInformation", "initializeOrderedBulkOp", "insertMany", "insertOne", "isCapped", "mapReduce", "options", "parallelCollectionScan", "rename", "replaceOne", "stats", "updateMany", "updateOne"]
      , qs = {
        bulkWrite: ["operations"],
        countDocuments: ["query"],
        createIndex: ["fieldOrSpec"],
        createIndexes: ["indexSpecs"],
        deleteMany: ["filter"],
        deleteOne: ["filter"],
        distinct: ["key", "query"],
        dropIndex: ["indexName"],
        find: ["query"],
        findOne: ["query"],
        findOneAndDelete: ["filter"],
        findOneAndReplace: ["filter", "replacement"],
        findOneAndUpdate: ["filter", "update"],
        indexExists: ["indexes"],
        insertMany: ["docs"],
        insertOne: ["doc"],
        mapReduce: ["map", "reduce"],
        rename: ["newName"],
        replaceOne: ["filter", "doc"],
        updateMany: ["filter", "update"],
        updateOne: ["filter", "update"]
    };
    class Vs {
        static __initStatic() {
            this.id = "Mongo"
        }
        constructor(e={}) {
            this.name = Vs.id,
            this._operations = Array.isArray(e.operations) ? e.operations : Gs,
            this._describeOperations = !("describeOperations"in e) || e.describeOperations,
            this._useMongoose = !!e.useMongoose
        }
        loadDependency() {
            const e = this._useMongoose ? "mongoose" : "mongodb";
            return this._module = this._module || di(e)
        }
        setupOnce(e, t) {
            if (Bs(t))
                return void (Us && Jn.log("Mongo Integration is skipped because of instrumenter configuration."));
            const n = this.loadDependency();
            if (n)
                this._instrumentOperations(n.Collection, this._operations, t);
            else {
                const e = this._useMongoose ? "mongoose" : "mongodb";
                Us && Jn.error(`Mongo Integration was unable to require \`${e}\` package.`)
            }
        }
        _instrumentOperations(e, t, n) {
            t.forEach((t => this._patchOperation(e, t, n)))
        }
        _patchOperation(e, t, n) {
            if (!(t in e.prototype))
                return;
            const o = this._getSpanContextFromOperationArguments.bind(this);
            ro(e.prototype, t, (function(e) {
                return function(...i) {
                    const r = i[i.length - 1]
                      , s = n()
                      , a = s.getScope()
                      , l = s.getClient()
                      , c = a.getSpan()
                      , d = Ji([l, "optionalAccess", e => e.getOptions, "call", e => e(), "access", e => e.sendDefaultPii]);
                    if ("function" != typeof r || "mapReduce" === t && 2 === i.length) {
                        const n = Ji([c, "optionalAccess", e => e.startChild, "call", e => e(o(this, t, i, d))])
                          , r = e.call(this, ...i);
                        if (In(r))
                            return r.then((e => (Ji([n, "optionalAccess", e => e.end, "call", e => e()]),
                            e)));
                        if ((u = r) && "object" == typeof u && u.once && "function" == typeof u.once) {
                            const e = r;
                            try {
                                e.once("close", ( () => {
                                    Ji([n, "optionalAccess", e => e.end, "call", e => e()])
                                }
                                ))
                            } catch (e) {
                                Ji([n, "optionalAccess", e => e.end, "call", e => e()])
                            }
                            return e
                        }
                        return Ji([n, "optionalAccess", e => e.end, "call", e => e()]),
                        r
                    }
                    var u;
                    const p = Ji([c, "optionalAccess", e => e.startChild, "call", e => e(o(this, t, i.slice(0, -1)))]);
                    return e.call(this, ...i.slice(0, -1), (function(e, t) {
                        Ji([p, "optionalAccess", e => e.end, "call", e => e()]),
                        r(e, t)
                    }
                    ))
                }
            }
            ))
        }
        _getSpanContextFromOperationArguments(e, t, n, o=!1) {
            const i = {
                "db.system": "mongodb",
                "db.name": e.dbName,
                "db.operation": t,
                "db.mongodb.collection": e.collectionName
            }
              , r = {
                op: "db",
                origin: "auto.db.mongo",
                description: t,
                data: i
            }
              , s = qs[t]
              , a = Array.isArray(this._describeOperations) ? this._describeOperations.includes(t) : this._describeOperations;
            if (!s || !a || !o)
                return r;
            try {
                if ("mapReduce" === t) {
                    const [e,t] = n;
                    i[s[0]] = "string" == typeof e ? e : e.name || "<anonymous>",
                    i[s[1]] = "string" == typeof t ? t : t.name || "<anonymous>"
                } else
                    for (let e = 0; e < s.length; e++)
                        i[`db.mongodb.${s[e]}`] = JSON.stringify(n[e])
            } catch (e) {}
            return r
        }
    }
    Vs.__initStatic();
    class Ys {
        static __initStatic() {
            this.id = "Prisma"
        }
        constructor(e={}) {
            if (this.name = Ys.id,
            (t = e.client) && t.$use && !e.client._sentryInstrumented) {
                so(e.client, "_sentryInstrumented", !0);
                const t = {};
                try {
                    const n = e.client._engineConfig;
                    if (n) {
                        const {activeProvider: e, clientVersion: o} = n;
                        e && (t["db.system"] = e),
                        o && (t["db.prisma.version"] = o)
                    }
                } catch (e) {}
                e.client.$use(( (e, n) => {
                    if (Bs(Ur))
                        return n(e);
                    const o = e.action
                      , i = e.model;
                    return jr({
                        name: i ? `${i} ${o}` : o,
                        onlyIfParent: !0,
                        op: "db.prisma",
                        attributes: {
                            "sentry.origin": "auto.db.prisma"
                        },
                        data: {
                            ...t,
                            "db.operation": o
                        }
                    }, ( () => n(e)))
                }
                ))
            } else
                Us && Jn.warn("Unsupported Prisma client provided to PrismaIntegration. Provided client:", e.client);
            var t
        }
        setupOnce() {}
    }
    Ys.__initStatic();
    class Ks {
        static __initStatic() {
            this.id = "GraphQL"
        }
        constructor() {
            this.name = Ks.id
        }
        loadDependency() {
            return this._module = this._module || di("graphql/execution/execute.js")
        }
        setupOnce(e, t) {
            if (Bs(t))
                return void (Us && Jn.log("GraphQL Integration is skipped because of instrumenter configuration."));
            const n = this.loadDependency();
            n ? ro(n, "execute", (function(e) {
                return function(...n) {
                    const o = t().getScope()
                      , i = o.getSpan()
                      , r = Ji([i, "optionalAccess", e => e.startChild, "call", e => e({
                        description: "execute",
                        op: "graphql.execute",
                        origin: "auto.graphql.graphql"
                    })]);
                    Ji([o, "optionalAccess", e => e.setSpan, "call", e => e(r)]);
                    const s = e.call(this, ...n);
                    return In(s) ? s.then((e => (Ji([r, "optionalAccess", e => e.end, "call", e => e()]),
                    Ji([o, "optionalAccess", e => e.setSpan, "call", e => e(i)]),
                    e))) : (Ji([r, "optionalAccess", e => e.end, "call", e => e()]),
                    Ji([o, "optionalAccess", e => e.setSpan, "call", e => e(i)]),
                    s)
                }
            }
            )) : Us && Jn.error("GraphQL Integration was unable to require graphql/execution package.")
        }
    }
    Ks.__initStatic();
    class Zs {
        static __initStatic() {
            this.id = "Apollo"
        }
        constructor(e={
            useNestjs: !1
        }) {
            this.name = Zs.id,
            this._useNest = !!e.useNestjs
        }
        loadDependency() {
            return this._useNest ? this._module = this._module || di("@nestjs/graphql") : this._module = this._module || di("apollo-server-core"),
            this._module
        }
        setupOnce(e, t) {
            if (Bs(t))
                Us && Jn.log("Apollo Integration is skipped because of instrumenter configuration.");
            else if (this._useNest) {
                const e = this.loadDependency();
                if (!e)
                    return void (Us && Jn.error("Apollo-NestJS Integration was unable to require @nestjs/graphql package."));
                ro(e.GraphQLFactory.prototype, "mergeWithSchema", (function(e) {
                    return function(...n) {
                        return ro(this.resolversExplorerService, "explore", (function(e) {
                            return function() {
                                return Xs(Mo(e.call(this)), t)
                            }
                        }
                        )),
                        e.call(this, ...n)
                    }
                }
                ))
            } else {
                const e = this.loadDependency();
                if (!e)
                    return void (Us && Jn.error("Apollo Integration was unable to require apollo-server-core package."));
                ro(e.ApolloServerBase.prototype, "constructSchema", (function(e) {
                    return function() {
                        if (!this.config.resolvers)
                            return Us && (this.config.schema ? (Jn.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `schema` property.If you are using NestJS with Apollo, please use `Sentry.Integrations.Apollo({ useNestjs: true })` instead."),
                            Jn.warn()) : this.config.modules && Jn.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `modules` property."),
                            Jn.error("Skipping tracing as no resolvers found on the `ApolloServer` instance.")),
                            e.call(this);
                        const n = Mo(this.config.resolvers);
                        return this.config.resolvers = Xs(n, t),
                        e.call(this)
                    }
                }
                ))
            }
        }
    }
    function Xs(e, t) {
        return e.map((e => (Object.keys(e).forEach((n => {
            Object.keys(e[n]).forEach((o => {
                "function" == typeof e[n][o] && function(e, t, n, o) {
                    ro(e[t], n, (function(e) {
                        return function(...i) {
                            const r = Ji([o().getScope().getSpan(), "optionalAccess", e => e.startChild, "call", e => e({
                                description: `${t}.${n}`,
                                op: "graphql.resolve",
                                origin: "auto.graphql.apollo"
                            })])
                              , s = e.call(this, ...i);
                            return In(s) ? s.then((e => (Ji([r, "optionalAccess", e => e.end, "call", e => e()]),
                            e))) : (Ji([r, "optionalAccess", e => e.end, "call", e => e()]),
                            s)
                        }
                    }
                    ))
                }(e, n, o, t)
            }
            ))
        }
        )),
        e)))
    }
    Zs.__initStatic();
    const Qs = Fn
      , Js = () => Qs.__WEB_VITALS_POLYFILL__ ? Qs.performance && (performance.getEntriesByType && performance.getEntriesByType("navigation")[0] || ( () => {
        const e = Qs.performance.timing
          , t = Qs.performance.navigation.type
          , n = {
            entryType: "navigation",
            startTime: 0,
            type: 2 == t ? "back_forward" : 1 === t ? "reload" : "navigate"
        };
        for (const t in e)
            "navigationStart" !== t && "toJSON" !== t && (n[t] = Math.max(e[t] - e.navigationStart, 0));
        return n
    }
    )()) : Qs.performance && performance.getEntriesByType && performance.getEntriesByType("navigation")[0]
      , ea = () => {
        const e = Js();
        return e && e.activationStart || 0
    }
      , ta = (e, t, n) => {
        try {
            if (PerformanceObserver.supportedEntryTypes.includes(e)) {
                const o = new PerformanceObserver((e => {
                    t(e.getEntries())
                }
                ));
                return o.observe(Object.assign({
                    type: e,
                    buffered: !0
                }, n || {})),
                o
            }
        } catch (e) {}
    }
      , na = (e, t) => {
        const n = o => {
            "pagehide" !== o.type && "hidden" !== Qs.document.visibilityState || (e(o),
            t && (removeEventListener("visibilitychange", n, !0),
            removeEventListener("pagehide", n, !0)))
        }
        ;
        Qs.document && (addEventListener("visibilitychange", n, !0),
        addEventListener("pagehide", n, !0))
    }
    ;
    let oa = -1;
    const ia = () => (oa < 0 && (Qs.document && Qs.document.visibilityState && (oa = "hidden" !== Qs.document.visibilityState || Qs.document.prerendering ? 1 / 0 : 0),
    na(( ({timeStamp: e}) => {
        oa = e
    }
    ), !0)),
    {
        get firstHiddenTime() {
            return oa
        }
    })
      , ra = {}
      , sa = e => {
        const t = ia()
          , n = ( (e, t) => {
            const n = Js();
            let o = "navigate";
            return n && (o = Qs.document && Qs.document.prerendering || ea() > 0 ? "prerender" : n.type.replace(/_/g, "-")),
            {
                name: e,
                value: void 0 === t ? -1 : t,
                rating: "good",
                delta: 0,
                entries: [],
                id: `v3-${Date.now()}-${Math.floor(8999999999999 * Math.random()) + 1e12}`,
                navigationType: o
            }
        }
        )("LCP");
        let o;
        const i = e => {
            const i = e[e.length - 1];
            if (i) {
                const e = Math.max(i.startTime - ea(), 0);
                e < t.firstHiddenTime && (n.value = e,
                n.entries = [i],
                o())
            }
        }
          , r = ta("largest-contentful-paint", i);
        if (r) {
            o = ( (e, t, n) => {
                let o, i;
                return r => {
                    t.value >= 0 && (r || n) && (i = t.value - (o || 0),
                    (i || void 0 === o) && (o = t.value,
                    t.delta = i,
                    e(t)))
                }
            }
            )(e, n);
            const t = () => {
                ra[n.id] || (i(r.takeRecords()),
                r.disconnect(),
                ra[n.id] = !0,
                o(!0))
            }
            ;
            return ["keydown", "click"].forEach((e => {
                Qs.document && addEventListener(e, t, {
                    once: !0,
                    capture: !0
                })
            }
            )),
            na(t, !0),
            t
        }
    }
      , aa = {}
      , la = {};
    let ca;
    function da(e, t=!1) {
        return function(e, t, n, o, i=!1) {
            let r;
            ga(e, t),
            la[e] || (r = n(),
            la[e] = !0);
            o && t({
                metric: o
            });
            return ha(e, t, i ? r : void 0)
        }("lcp", e, ma, ca, t)
    }
    function ua(e, t) {
        return ga(e, t),
        la[e] || (!function(e) {
            const t = {};
            "event" === e && (t.durationThreshold = 0);
            ta(e, (t => {
                pa(e, {
                    entries: t
                })
            }
            ), t)
        }(e),
        la[e] = !0),
        ha(e, t)
    }
    function pa(e, t) {
        const n = aa[e];
        if (n && n.length)
            for (const o of n)
                try {
                    o(t)
                } catch (t) {
                    Us && Jn.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${yo(o)}\nError:`, t)
                }
    }
    function ma() {
        return sa((e => {
            pa("lcp", {
                metric: e
            }),
            ca = e
        }
        ))
    }
    function ga(e, t) {
        aa[e] = aa[e] || [],
        aa[e].push(t)
    }
    function ha(e, t, n) {
        return () => {
            n && n();
            const o = aa[e];
            if (!o)
                return;
            const i = o.indexOf(t);
            -1 !== i && o.splice(i, 1)
        }
    }
    const fa = Fn;
    let _a = 0;
    function va() {
        return _a > 0
    }
    function ya(e, t={}, n) {
        if ("function" != typeof e)
            return e;
        try {
            const t = e.__sentry_wrapped__;
            if (t)
                return t;
            if (lo(e))
                return e
        } catch (t) {
            return e
        }
        const o = function() {
            const o = Array.prototype.slice.call(arguments);
            try {
                n && "function" == typeof n && n.apply(this, arguments);
                const i = o.map((e => ya(e, t)));
                return e.apply(this, i)
            } catch (e) {
                throw _a++,
                setTimeout(( () => {
                    _a--
                }
                )),
                wr((n => {
                    n.addEventProcessor((e => (t.mechanism && (Lo(e, void 0, void 0),
                    Ao(e, t.mechanism)),
                    e.extra = {
                        ...e.extra,
                        arguments: o
                    },
                    e))),
                    fr(e)
                }
                )),
                e
            }
        };
        try {
            for (const t in e)
                Object.prototype.hasOwnProperty.call(e, t) && (o[t] = e[t])
        } catch (e) {}
        ao(o, e),
        so(e, "__sentry_wrapped__", o);
        try {
            Object.getOwnPropertyDescriptor(o, "name").configurable && Object.defineProperty(o, "name", {
                get: () => e.name
            })
        } catch (e) {}
        return o
    }
    const wa = "undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__;
    function ba(e, t) {
        const n = Ta(e, t)
          , o = {
            type: t && t.name,
            value: xa(t)
        };
        return n.length && (o.stacktrace = {
            frames: n
        }),
        void 0 === o.type && "" === o.value && (o.value = "Unrecoverable error caught"),
        o
    }
    function Ea(e, t) {
        return {
            exception: {
                values: [ba(e, t)]
            }
        }
    }
    function Ta(e, t) {
        const n = t.stacktrace || t.stack || ""
          , o = function(e) {
            if (e) {
                if ("number" == typeof e.framesToPop)
                    return e.framesToPop;
                if (Sa.test(e.message))
                    return 1
            }
            return 0
        }(t);
        try {
            return e(n, o)
        } catch (e) {}
        return []
    }
    const Sa = /Minified React error #\d+;/i;
    function xa(e) {
        const t = e && e.message;
        return t ? t.error && "string" == typeof t.error.message ? t.error.message : t : "No error message"
    }
    function $a(e, t, n, o, i) {
        let r;
        if (bn(t) && t.error) {
            return Ea(e, t.error)
        }
        if (En(t) || wn(t, "DOMException")) {
            const i = t;
            if ("stack"in t)
                r = Ea(e, t);
            else {
                const t = i.name || (En(i) ? "DOMError" : "DOMException")
                  , s = i.message ? `${t}: ${i.message}` : t;
                r = Ca(e, s, n, o),
                Lo(r, s)
            }
            return "code"in i && (r.tags = {
                ...r.tags,
                "DOMException.code": `${i.code}`
            }),
            r
        }
        if (yn(t))
            return Ea(e, t);
        if ($n(t) || Cn(t)) {
            return r = function(e, t, n, o) {
                const i = br()
                  , r = i && i.getOptions().normalizeDepth
                  , s = {
                    exception: {
                        values: [{
                            type: Cn(t) ? t.constructor.name : o ? "UnhandledRejection" : "Error",
                            value: ka(t, {
                                isUnhandledRejection: o
                            })
                        }]
                    },
                    extra: {
                        __serialized__: mi(t, r)
                    }
                };
                if (n) {
                    const t = Ta(e, n);
                    t.length && (s.exception.values[0].stacktrace = {
                        frames: t
                    })
                }
                return s
            }(e, t, n, i),
            Ao(r, {
                synthetic: !0
            }),
            r
        }
        return r = Ca(e, t, n, o),
        Lo(r, `${t}`, void 0),
        Ao(r, {
            synthetic: !0
        }),
        r
    }
    function Ca(e, t, n, o) {
        const i = {};
        if (o && n) {
            const o = Ta(e, n);
            o.length && (i.exception = {
                values: [{
                    value: t,
                    stacktrace: {
                        frames: o
                    }
                }]
            })
        }
        if (Sn(t)) {
            const {__sentry_template_string__: e, __sentry_template_values__: n} = t;
            return i.logentry = {
                message: e,
                params: n
            },
            i
        }
        return i.message = t,
        i
    }
    function ka(e, {isUnhandledRejection: t}) {
        const n = function(e, t=40) {
            const n = Object.keys(co(e));
            if (n.sort(),
            !n.length)
                return "[object has no keys]";
            if (n[0].length >= t)
                return Rn(n[0], t);
            for (let e = n.length; e > 0; e--) {
                const o = n.slice(0, e).join(", ");
                if (!(o.length > t))
                    return e === n.length ? o : Rn(o, t)
            }
            return ""
        }(e)
          , o = t ? "promise rejection" : "exception";
        if (bn(e))
            return `Event \`ErrorEvent\` captured as ${o} with message \`${e.message}\``;
        if (Cn(e)) {
            return `Event \`${function(e) {
                try {
                    const t = Object.getPrototypeOf(e);
                    return t ? t.constructor.name : void 0
                } catch (e) {}
            }(e)}\` (type=${e.type}) captured as ${o}`
        }
        return `Object captured as ${o} with keys: ${n}`
    }
    class Ia extends ls {
        constructor(e) {
            !function(e, t, n=[t], o="npm") {
                const i = e._metadata || {};
                i.sdk || (i.sdk = {
                    name: `sentry.javascript.${t}`,
                    packages: n.map((e => ({
                        name: `${o}:@sentry/${e}`,
                        version: Rr
                    }))),
                    version: Rr
                }),
                e._metadata = i
            }(e, "browser", ["browser"], fa.SENTRY_SDK_SOURCE || "npm"),
            super(e),
            e.sendClientReports && fa.document && fa.document.addEventListener("visibilitychange", ( () => {
                "hidden" === fa.document.visibilityState && this._flushOutcomes()
            }
            ))
        }
        eventFromException(e, t) {
            return function(e, t, n, o) {
                const i = $a(e, t, n && n.syntheticException || void 0, o);
                return Ao(i),
                i.level = "error",
                n && n.event_id && (i.event_id = n.event_id),
                wi(i)
            }(this._options.stackParser, e, t, this._options.attachStacktrace)
        }
        eventFromMessage(e, t="info", n) {
            return function(e, t, n="info", o, i) {
                const r = Ca(e, t, o && o.syntheticException || void 0, i);
                return r.level = n,
                o && o.event_id && (r.event_id = o.event_id),
                wi(r)
            }(this._options.stackParser, e, t, n, this._options.attachStacktrace)
        }
        captureUserFeedback(e) {
            if (!this._isEnabled())
                return void (wa && Jn.warn("SDK not enabled, will not capture user feedback."));
            const t = function(e, {metadata: t, tunnel: n, dsn: o}) {
                const i = {
                    event_id: e.event_id,
                    sent_at: (new Date).toISOString(),
                    ...t && t.sdk && {
                        sdk: {
                            name: t.sdk.name,
                            version: t.sdk.version
                        }
                    },
                    ...!!n && !!o && {
                        dsn: to(o)
                    }
                }
                  , r = function(e) {
                    return [{
                        type: "user_report"
                    }, e]
                }(e);
                return Bi(i, [r])
            }(e, {
                metadata: this.getSdkMetadata(),
                dsn: this.getDsn(),
                tunnel: this.getOptions().tunnel
            });
            this._sendEnvelope(t)
        }
        _prepareEvent(e, t, n) {
            return e.platform = e.platform || "javascript",
            super._prepareEvent(e, t, n)
        }
        _flushOutcomes() {
            const e = this._clearOutcomes();
            if (0 === e.length)
                return void (wa && Jn.log("No outcomes to send"));
            if (!this._dsn)
                return void (wa && Jn.log("No dsn provided, will not send outcomes"));
            wa && Jn.log("Sending outcomes:", e);
            const t = (n = e,
            Bi((o = this._options.tunnel && to(this._dsn)) ? {
                dsn: o
            } : {}, [[{
                type: "client_report"
            }, {
                timestamp: i || Di(),
                discarded_events: n
            }]]));
            var n, o, i;
            this._sendEnvelope(t)
        }
    }
    let La;
    function Aa(e, t=function() {
        if (La)
            return La;
        if (Ho(fa.fetch))
            return La = fa.fetch.bind(fa);
        const e = fa.document;
        let t = fa.fetch;
        if (e && "function" == typeof e.createElement)
            try {
                const n = e.createElement("iframe");
                n.hidden = !0,
                e.head.appendChild(n);
                const o = n.contentWindow;
                o && o.fetch && (t = o.fetch),
                e.head.removeChild(n)
            } catch (e) {
                wa && Jn.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ", e)
            }
        return La = t.bind(fa)
    }()) {
        let n = 0
          , o = 0;
        return function(e, t, n=Ti(e.bufferSize || ps)) {
            let o = {};
            function i(i) {
                const r = [];
                if (Fi(i, ( (t, n) => {
                    const i = qi(n);
                    if (Zi(o, i)) {
                        const o = ms(t, n);
                        e.recordDroppedEvent("ratelimit_backoff", i, o)
                    } else
                        r.push(t)
                }
                )),
                0 === r.length)
                    return wi();
                const s = Bi(i[0], r)
                  , a = t => {
                    Fi(s, ( (n, o) => {
                        const i = ms(n, o);
                        e.recordDroppedEvent(t, qi(o), i)
                    }
                    ))
                }
                ;
                return n.add(( () => t({
                    body: Hi(s, e.textEncoder)
                }).then((e => (void 0 !== e.statusCode && (e.statusCode < 200 || e.statusCode >= 300) && er && Jn.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),
                o = Xi(o, e),
                e)), (e => {
                    throw a("network_error"),
                    e
                }
                )))).then((e => e), (e => {
                    if (e instanceof io)
                        return er && Jn.error("Skipped sending event because buffer is full."),
                        a("queue_overflow"),
                        wi();
                    throw e
                }
                ))
            }
            return i.__sentry__baseTransport__ = !0,
            {
                send: i,
                flush: e => n.drain(e)
            }
        }(e, (function(i) {
            const r = i.body.length;
            n += r,
            o++;
            const s = {
                body: i.body,
                method: "POST",
                referrerPolicy: "origin",
                headers: e.headers,
                keepalive: n <= 6e4 && o < 15,
                ...e.fetchOptions
            };
            try {
                return t(e.url, s).then((e => (n -= r,
                o--,
                {
                    statusCode: e.status,
                    headers: {
                        "x-sentry-rate-limits": e.headers.get("X-Sentry-Rate-Limits"),
                        "retry-after": e.headers.get("Retry-After")
                    }
                })))
            } catch (e) {
                return La = void 0,
                n -= r,
                o--,
                bi(e)
            }
        }
        ))
    }
    const Ra = "?";
    function Ma(e, t, n, o) {
        const i = {
            filename: e,
            function: t,
            in_app: !0
        };
        return void 0 !== n && (i.lineno = n),
        void 0 !== o && (i.colno = o),
        i
    }
    const Oa = /^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i
      , Na = /\((\S*)(?::(\d+))(?::(\d+))\)/
      , Da = /^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i
      , Pa = /(\S+) line (\d+)(?: > eval line \d+)* > eval/i
      , Ua = /^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i
      , Ba = function(...e) {
        const t = e.sort(( (e, t) => e[0] - t[0])).map((e => e[1]));
        return (e, n=0) => {
            const o = []
              , i = e.split("\n");
            for (let e = n; e < i.length; e++) {
                const n = i[e];
                if (n.length > 1024)
                    continue;
                const r = fo.test(n) ? n.replace(fo, "$1") : n;
                if (!r.match(/\S*Error: /)) {
                    for (const e of t) {
                        const t = e(r);
                        if (t) {
                            o.push(t);
                            break
                        }
                    }
                    if (o.length >= ho)
                        break
                }
            }
            return function(e) {
                if (!e.length)
                    return [];
                const t = Array.from(e);
                /sentryWrapped/.test(t[t.length - 1].function || "") && t.pop();
                t.reverse(),
                _o.test(t[t.length - 1].function || "") && (t.pop(),
                _o.test(t[t.length - 1].function || "") && t.pop());
                return t.slice(0, ho).map((e => ({
                    ...e,
                    filename: e.filename || t[t.length - 1].filename,
                    function: e.function || "?"
                })))
            }(o)
        }
    }(...[[30, e => {
        const t = Oa.exec(e);
        if (t) {
            if (t[2] && 0 === t[2].indexOf("eval")) {
                const e = Na.exec(t[2]);
                e && (t[2] = e[1],
                t[3] = e[2],
                t[4] = e[3])
            }
            const [e,n] = Wa(t[1] || Ra, t[2]);
            return Ma(n, e, t[3] ? +t[3] : void 0, t[4] ? +t[4] : void 0)
        }
    }
    ], [50, e => {
        const t = Da.exec(e);
        if (t) {
            if (t[3] && t[3].indexOf(" > eval") > -1) {
                const e = Pa.exec(t[3]);
                e && (t[1] = t[1] || "eval",
                t[3] = e[1],
                t[4] = e[2],
                t[5] = "")
            }
            let e = t[3]
              , n = t[1] || Ra;
            return [n,e] = Wa(n, e),
            Ma(e, n, t[4] ? +t[4] : void 0, t[5] ? +t[5] : void 0)
        }
    }
    ], [40, e => {
        const t = Ua.exec(e);
        return t ? Ma(t[2], t[1] || Ra, +t[3], t[4] ? +t[4] : void 0) : void 0
    }
    ]])
      , Wa = (e, t) => {
        const n = -1 !== e.indexOf("safari-extension")
          , o = -1 !== e.indexOf("safari-web-extension");
        return n || o ? [-1 !== e.indexOf("@") ? e.split("@")[0] : Ra, n ? `safari-extension:${t}` : `safari-web-extension:${t}`] : [e, t]
    }
      , Fa = 1024
      , za = "Breadcrumbs"
      , Ha = (e={}) => {
        const t = {
            console: !0,
            dom: !0,
            fetch: !0,
            history: !0,
            sentry: !0,
            xhr: !0,
            ...e
        };
        return {
            name: za,
            setupOnce() {},
            setup(e) {
                t.console && xo(function(e) {
                    return function(t) {
                        if (br() !== e)
                            return;
                        const n = {
                            category: "console",
                            data: {
                                arguments: t.args,
                                logger: "console"
                            },
                            level: Oi(t.level),
                            message: On(t.args, " ")
                        };
                        if ("assert" === t.level) {
                            if (!1 !== t.args[0])
                                return;
                            n.message = `Assertion failed: ${On(t.args.slice(1), " ") || "console.assert"}`,
                            n.data.arguments = t.args.slice(1)
                        }
                        yr(n, {
                            input: t.args,
                            level: t.level
                        })
                    }
                }(e)),
                t.dom && Bo(function(e, t) {
                    return function(n) {
                        if (br() !== e)
                            return;
                        let o, i, r = "object" == typeof t ? t.serializeAttribute : void 0, s = "object" == typeof t && "number" == typeof t.maxStringLength ? t.maxStringLength : void 0;
                        s && s > Fa && (wa && Jn.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${s} was configured. Sentry will use 1024 instead.`),
                        s = Fa),
                        "string" == typeof r && (r = [r]);
                        try {
                            const e = n.event
                              , t = function(e) {
                                return !!e && !!e.target
                            }(e) ? e.target : e;
                            o = qn(t, {
                                keyAttrs: r,
                                maxStringLength: s
                            }),
                            i = function(e) {
                                if (!jn.HTMLElement)
                                    return null;
                                let t = e;
                                for (let e = 0; e < 5; e++) {
                                    if (!t)
                                        return null;
                                    if (t instanceof HTMLElement && t.dataset.sentryComponent)
                                        return t.dataset.sentryComponent;
                                    t = t.parentNode
                                }
                                return null
                            }(t)
                        } catch (e) {
                            o = "<unknown>"
                        }
                        if (0 === o.length)
                            return;
                        const a = {
                            category: `ui.${n.name}`,
                            message: o
                        };
                        i && (a.data = {
                            "ui.component_name": i
                        }),
                        yr(a, {
                            event: n.event,
                            name: n.name,
                            global: n.global
                        })
                    }
                }(e, t.dom)),
                t.xhr && si(function(e) {
                    return function(t) {
                        if (br() !== e)
                            return;
                        const {startTimestamp: n, endTimestamp: o} = t
                          , i = t.xhr[ri];
                        if (!n || !o || !i)
                            return;
                        const {method: r, url: s, status_code: a, body: l} = i;
                        yr({
                            category: "xhr",
                            data: {
                                method: r,
                                url: s,
                                status_code: a
                            },
                            type: "http"
                        }, {
                            xhr: t.xhr,
                            input: l,
                            startTimestamp: n,
                            endTimestamp: o
                        })
                    }
                }(e)),
                t.fetch && Go(function(e) {
                    return function(t) {
                        if (br() !== e)
                            return;
                        const {startTimestamp: n, endTimestamp: o} = t;
                        if (o && (!t.fetchData.url.match(/sentry_key/) || "POST" !== t.fetchData.method))
                            if (t.error) {
                                yr({
                                    category: "fetch",
                                    data: t.fetchData,
                                    level: "error",
                                    type: "http"
                                }, {
                                    data: t.error,
                                    input: t.args,
                                    startTimestamp: n,
                                    endTimestamp: o
                                })
                            } else {
                                const e = t.response;
                                yr({
                                    category: "fetch",
                                    data: {
                                        ...t.fetchData,
                                        status_code: e && e.status
                                    },
                                    type: "http"
                                }, {
                                    input: t.args,
                                    response: e,
                                    startTimestamp: n,
                                    endTimestamp: o
                                })
                            }
                    }
                }(e)),
                t.history && ni(function(e) {
                    return function(t) {
                        if (br() !== e)
                            return;
                        let n = t.from
                          , o = t.to;
                        const i = Si(fa.location.href);
                        let r = n ? Si(n) : void 0;
                        const s = Si(o);
                        r && r.path || (r = i),
                        i.protocol === s.protocol && i.host === s.host && (o = s.relative),
                        i.protocol === r.protocol && i.host === r.host && (n = r.relative),
                        yr({
                            category: "navigation",
                            data: {
                                from: n,
                                to: o
                            }
                        })
                    }
                }(e)),
                t.sentry && e.on && e.on("beforeSendEvent", function(e) {
                    return function(t) {
                        br() === e && yr({
                            category: "sentry." + ("transaction" === t.type ? "transaction" : "event"),
                            event_id: t.event_id,
                            level: t.level,
                            message: Io(t)
                        }, {
                            event: t
                        })
                    }
                }(e))
            }
        }
    }
    ;
    ns(za, Ha);
    const ja = "Dedupe"
      , Ga = () => {
        let e;
        return {
            name: ja,
            setupOnce() {},
            processEvent(t) {
                if (t.type)
                    return t;
                try {
                    if (function(e, t) {
                        if (!t)
                            return !1;
                        if (function(e, t) {
                            const n = e.message
                              , o = t.message;
                            if (!n && !o)
                                return !1;
                            if (n && !o || !n && o)
                                return !1;
                            if (n !== o)
                                return !1;
                            if (!Va(e, t))
                                return !1;
                            if (!qa(e, t))
                                return !1;
                            return !0
                        }(e, t))
                            return !0;
                        if (function(e, t) {
                            const n = Ya(t)
                              , o = Ya(e);
                            if (!n || !o)
                                return !1;
                            if (n.type !== o.type || n.value !== o.value)
                                return !1;
                            if (!Va(e, t))
                                return !1;
                            if (!qa(e, t))
                                return !1;
                            return !0
                        }(e, t))
                            return !0;
                        return !1
                    }(t, e))
                        return wa && Jn.warn("Event dropped due to being a duplicate of previously captured event."),
                        null
                } catch (e) {}
                return e = t
            }
        }
    }
    ;
    ns(ja, Ga);
    function qa(e, t) {
        let n = Ka(e)
          , o = Ka(t);
        if (!n && !o)
            return !0;
        if (n && !o || !n && o)
            return !1;
        if (o.length !== n.length)
            return !1;
        for (let e = 0; e < o.length; e++) {
            const t = o[e]
              , i = n[e];
            if (t.filename !== i.filename || t.lineno !== i.lineno || t.colno !== i.colno || t.function !== i.function)
                return !1
        }
        return !0
    }
    function Va(e, t) {
        let n = e.fingerprint
          , o = t.fingerprint;
        if (!n && !o)
            return !0;
        if (n && !o || !n && o)
            return !1;
        try {
            return !(n.join("") !== o.join(""))
        } catch (e) {
            return !1
        }
    }
    function Ya(e) {
        return e.exception && e.exception.values && e.exception.values[0]
    }
    function Ka(e) {
        const t = e.exception;
        if (t)
            try {
                return t.values[0].stacktrace.frames
            } catch (e) {
                return
            }
    }
    const Za = "GlobalHandlers"
      , Xa = (e={}) => {
        const t = {
            onerror: !0,
            onunhandledrejection: !0,
            ...e
        };
        return {
            name: Za,
            setupOnce() {
                Error.stackTraceLimit = 50
            },
            setup(e) {
                t.onerror && (!function(e) {
                    !function(e) {
                        const t = "error";
                        Eo(t, e),
                        To(t, Zo)
                    }((t => {
                        const {stackParser: n, attachStacktrace: o} = el();
                        if (br() !== e || va())
                            return;
                        const {msg: i, url: r, line: s, column: a, error: l} = t
                          , c = void 0 === l && Tn(i) ? function(e, t, n, o) {
                            const i = /^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;
                            let r = bn(e) ? e.message : e
                              , s = "Error";
                            const a = r.match(i);
                            a && (s = a[1],
                            r = a[2]);
                            const l = {
                                exception: {
                                    values: [{
                                        type: s,
                                        value: r
                                    }]
                                }
                            };
                            return Qa(l, t, n, o)
                        }(i, r, s, a) : Qa($a(n, l || i, void 0, o, !1), r, s, a);
                        c.level = "error",
                        vr(c, {
                            originalException: l,
                            mechanism: {
                                handled: !1,
                                type: "onerror"
                            }
                        })
                    }
                    ))
                }(e),
                Ja("onerror")),
                t.onunhandledrejection && (!function(e) {
                    !function(e) {
                        const t = "unhandledrejection";
                        Eo(t, e),
                        To(t, Qo)
                    }((t => {
                        const {stackParser: n, attachStacktrace: o} = el();
                        if (br() !== e || va())
                            return;
                        const i = function(e) {
                            if (xn(e))
                                return e;
                            const t = e;
                            try {
                                if ("reason"in t)
                                    return t.reason;
                                if ("detail"in t && "reason"in t.detail)
                                    return t.detail.reason
                            } catch (e) {}
                            return e
                        }(t)
                          , r = xn(i) ? {
                            exception: {
                                values: [{
                                    type: "UnhandledRejection",
                                    value: `Non-Error promise rejection captured with value: ${String(i)}`
                                }]
                            }
                        } : $a(n, i, void 0, o, !0);
                        r.level = "error",
                        vr(r, {
                            originalException: i,
                            mechanism: {
                                handled: !1,
                                type: "onunhandledrejection"
                            }
                        })
                    }
                    ))
                }(e),
                Ja("onunhandledrejection"))
            }
        }
    }
    ;
    ns(Za, Xa);
    function Qa(e, t, n, o) {
        const i = e.exception = e.exception || {}
          , r = i.values = i.values || []
          , s = r[0] = r[0] || {}
          , a = s.stacktrace = s.stacktrace || {}
          , l = a.frames = a.frames || []
          , c = isNaN(parseInt(o, 10)) ? void 0 : o
          , d = isNaN(parseInt(n, 10)) ? void 0 : n
          , u = Tn(t) && t.length > 0 ? t : Yn();
        return 0 === l.length && l.push({
            colno: c,
            filename: u,
            function: "?",
            in_app: !0,
            lineno: d
        }),
        e
    }
    function Ja(e) {
        wa && Jn.log(`Global Handler attached: ${e}`)
    }
    function el() {
        const e = br();
        return e && e.getOptions() || {
            stackParser: () => [],
            attachStacktrace: !1
        }
    }
    const tl = "HttpContext"
      , nl = () => ({
        name: tl,
        setupOnce() {},
        preprocessEvent(e) {
            if (!fa.navigator && !fa.location && !fa.document)
                return;
            const t = e.request && e.request.url || fa.location && fa.location.href
              , {referrer: n} = fa.document || {}
              , {userAgent: o} = fa.navigator || {}
              , i = {
                ...e.request && e.request.headers,
                ...n && {
                    Referer: n
                },
                ...o && {
                    "User-Agent": o
                }
            }
              , r = {
                ...e.request,
                ...t && {
                    url: t
                },
                headers: i
            };
            e.request = r
        }
    })
      , ol = (ns(tl, nl),
    "LinkedErrors")
      , il = (e={}) => {
        const t = e.limit || 5
          , n = e.key || "cause";
        return {
            name: ol,
            setupOnce() {},
            preprocessEvent(e, o, i) {
                const r = i.getOptions();
                Dn(ba, r.stackParser, r.maxValueLength, n, t, e, o)
            }
        }
    }
      , rl = (ns(ol, il),
    ["EventTarget", "Window", "Node", "ApplicationCache", "AudioTrackList", "BroadcastChannel", "ChannelMergerNode", "CryptoOperation", "EventSource", "FileReader", "HTMLUnknownElement", "IDBDatabase", "IDBRequest", "IDBTransaction", "KeyOperation", "MediaController", "MessagePort", "ModalWindow", "Notification", "SVGElementInstance", "Screen", "SharedWorker", "TextTrack", "TextTrackCue", "TextTrackList", "WebSocket", "WebSocketWorker", "Worker", "XMLHttpRequest", "XMLHttpRequestEventTarget", "XMLHttpRequestUpload"])
      , sl = "TryCatch"
      , al = (e={}) => {
        const t = {
            XMLHttpRequest: !0,
            eventTarget: !0,
            requestAnimationFrame: !0,
            setInterval: !0,
            setTimeout: !0,
            ...e
        };
        return {
            name: sl,
            setupOnce() {
                t.setTimeout && ro(fa, "setTimeout", ll),
                t.setInterval && ro(fa, "setInterval", ll),
                t.requestAnimationFrame && ro(fa, "requestAnimationFrame", cl),
                t.XMLHttpRequest && "XMLHttpRequest"in fa && ro(XMLHttpRequest.prototype, "send", dl);
                const e = t.eventTarget;
                if (e) {
                    (Array.isArray(e) ? e : rl).forEach(ul)
                }
            }
        }
    }
    ;
    ns(sl, al);
    function ll(e) {
        return function(...t) {
            const n = t[0];
            return t[0] = ya(n, {
                mechanism: {
                    data: {
                        function: yo(e)
                    },
                    handled: !1,
                    type: "instrument"
                }
            }),
            e.apply(this, t)
        }
    }
    function cl(e) {
        return function(t) {
            return e.apply(this, [ya(t, {
                mechanism: {
                    data: {
                        function: "requestAnimationFrame",
                        handler: yo(e)
                    },
                    handled: !1,
                    type: "instrument"
                }
            })])
        }
    }
    function dl(e) {
        return function(...t) {
            const n = this;
            return ["onload", "onerror", "onprogress", "onreadystatechange"].forEach((e => {
                e in n && "function" == typeof n[e] && ro(n, e, (function(t) {
                    const n = {
                        mechanism: {
                            data: {
                                function: e,
                                handler: yo(t)
                            },
                            handled: !1,
                            type: "instrument"
                        }
                    }
                      , o = lo(t);
                    return o && (n.mechanism.data.handler = yo(o)),
                    ya(t, n)
                }
                ))
            }
            )),
            e.apply(this, t)
        }
    }
    function ul(e) {
        const t = fa
          , n = t[e] && t[e].prototype;
        n && n.hasOwnProperty && n.hasOwnProperty("addEventListener") && (ro(n, "addEventListener", (function(t) {
            return function(n, o, i) {
                try {
                    "function" == typeof o.handleEvent && (o.handleEvent = ya(o.handleEvent, {
                        mechanism: {
                            data: {
                                function: "handleEvent",
                                handler: yo(o),
                                target: e
                            },
                            handled: !1,
                            type: "instrument"
                        }
                    }))
                } catch (e) {}
                return t.apply(this, [n, ya(o, {
                    mechanism: {
                        data: {
                            function: "addEventListener",
                            handler: yo(o),
                            target: e
                        },
                        handled: !1,
                        type: "instrument"
                    }
                }), i])
            }
        }
        )),
        ro(n, "removeEventListener", (function(e) {
            return function(t, n, o) {
                const i = n;
                try {
                    const n = i && i.__sentry_wrapped__;
                    n && e.call(this, t, n, o)
                } catch (e) {}
                return e.call(this, t, i, o)
            }
        }
        )))
    }
    const pl = [Cs(), Rs(), al(), Ha(), Xa(), il(), Ga(), nl()];
    const ml = Fn
      , gl = "sentryReplaySession"
      , hl = "replay_event"
      , fl = "Unable to send Replay"
      , _l = 15e4
      , vl = 5e3
      , yl = 2e7
      , wl = 36e5;
    function bl(e) {
        let t, n = e[0], o = 1;
        for (; o < e.length; ) {
            const i = e[o]
              , r = e[o + 1];
            if (o += 2,
            ("optionalAccess" === i || "optionalCall" === i) && null == n)
                return;
            "access" === i || "optionalAccess" === i ? (t = n,
            n = r(n)) : "call" !== i && "optionalCall" !== i || (n = r(( (...e) => n.call(t, ...e))),
            t = void 0)
        }
        return n
    }
    var El;
    function Tl(e) {
        const t = bl([e, "optionalAccess", e => e.host]);
        return Boolean(bl([t, "optionalAccess", e => e.shadowRoot]) === e)
    }
    function Sl(e) {
        return "[object ShadowRoot]" === Object.prototype.toString.call(e)
    }
    function xl(e) {
        try {
            const n = e.rules || e.cssRules;
            return n ? ((t = Array.from(n, $l).join("")).includes(" background-clip: text;") && !t.includes(" -webkit-background-clip: text;") && (t = t.replace(" background-clip: text;", " -webkit-background-clip: text; background-clip: text;")),
            t) : null
        } catch (e) {
            return null
        }
        var t
    }
    function $l(e) {
        let t;
        if (function(e) {
            return "styleSheet"in e
        }(e))
            try {
                t = xl(e.styleSheet) || function(e) {
                    const {cssText: t} = e;
                    if (t.split('"').length < 3)
                        return t;
                    const n = ["@import", `url(${JSON.stringify(e.href)})`];
                    return "" === e.layerName ? n.push("layer") : e.layerName && n.push(`layer(${e.layerName})`),
                    e.supportsText && n.push(`supports(${e.supportsText})`),
                    e.media.length && n.push(e.media.mediaText),
                    n.join(" ") + ";"
                }(e)
            } catch (e) {}
        else if (function(e) {
            return "selectorText"in e
        }(e) && e.selectorText.includes(":"))
            return function(e) {
                const t = /(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;
                return e.replace(t, "$1\\$2")
            }(e.cssText);
        return t || e.cssText
    }
    !function(e) {
        e[e.Document = 0] = "Document",
        e[e.DocumentType = 1] = "DocumentType",
        e[e.Element = 2] = "Element",
        e[e.Text = 3] = "Text",
        e[e.CDATA = 4] = "CDATA",
        e[e.Comment = 5] = "Comment"
    }(El || (El = {}));
    class Cl {
        constructor() {
            this.idNodeMap = new Map,
            this.nodeMetaMap = new WeakMap
        }
        getId(e) {
            if (!e)
                return -1;
            const t = bl([this, "access", e => e.getMeta, "call", t => t(e), "optionalAccess", e => e.id]);
            return o = () => -1,
            null != (n = t) ? n : o();
            var n, o
        }
        getNode(e) {
            return this.idNodeMap.get(e) || null
        }
        getIds() {
            return Array.from(this.idNodeMap.keys())
        }
        getMeta(e) {
            return this.nodeMetaMap.get(e) || null
        }
        removeNodeFromMap(e) {
            const t = this.getId(e);
            this.idNodeMap.delete(t),
            e.childNodes && e.childNodes.forEach((e => this.removeNodeFromMap(e)))
        }
        has(e) {
            return this.idNodeMap.has(e)
        }
        hasNode(e) {
            return this.nodeMetaMap.has(e)
        }
        add(e, t) {
            const n = t.id;
            this.idNodeMap.set(n, e),
            this.nodeMetaMap.set(e, t)
        }
        replace(e, t) {
            const n = this.getNode(e);
            if (n) {
                const e = this.nodeMetaMap.get(n);
                e && this.nodeMetaMap.set(t, e)
            }
            this.idNodeMap.set(e, t)
        }
        reset() {
            this.idNodeMap = new Map,
            this.nodeMetaMap = new WeakMap
        }
    }
    function kl({maskInputOptions: e, tagName: t, type: n}) {
        return "OPTION" === t && (t = "SELECT"),
        Boolean(e[t.toLowerCase()] || n && e[n] || "password" === n || "INPUT" === t && !n && e.text)
    }
    function Il({isMasked: e, element: t, value: n, maskInputFn: o}) {
        let i = n || "";
        return e ? (o && (i = o(i, t)),
        "*".repeat(i.length)) : i
    }
    function Ll(e) {
        return e.toLowerCase()
    }
    function Al(e) {
        return e.toUpperCase()
    }
    const Rl = "__rrweb_original__";
    function Ml(e) {
        const t = e.type;
        return e.hasAttribute("data-rr-is-password") ? "password" : t ? Ll(t) : null
    }
    function Ol(e, t, n) {
        return "INPUT" !== t || "radio" !== n && "checkbox" !== n ? e.value : e.getAttribute("value") || ""
    }
    let Nl = 1;
    const Dl = new RegExp("[^a-z0-9-_:]")
      , Pl = -2;
    function Ul() {
        return Nl++
    }
    let Bl, Wl;
    const Fl = /url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm
      , zl = /^(?:[a-z+]+:)?\/\//i
      , Hl = /^www\..*/i
      , jl = /^(data:)([^,]*),(.*)/i;
    function Gl(e, t) {
        return (e || "").replace(Fl, ( (e, n, o, i, r, s) => {
            const a = o || r || s
              , l = n || i || "";
            if (!a)
                return e;
            if (zl.test(a) || Hl.test(a))
                return `url(${l}${a}${l})`;
            if (jl.test(a))
                return `url(${l}${a}${l})`;
            if ("/" === a[0])
                return `url(${l}${function(e) {
                    lett = "";
                    return t = e.indexOf("//") > -1 ? e.split("/").slice(0, 3).join("/") : e.split("/")[0],
                    t = t.split("?")[0],
                    t
                }(t) + a}${l})`;
            const c = t.split("/")
              , d = a.split("/");
            c.pop();
            for (const e of d)
                "." !== e && (".." === e ? c.pop() : c.push(e));
            return `url(${l}${c.join("/")}${l})`
        }
        ))
    }
    const ql = /^[^ \t\n\r\u000c]+/
      , Vl = /^[, \t\n\r\u000c]+/;
    function Yl(e, t) {
        if (!t || "" === t.trim())
            return t;
        const n = e.createElement("a");
        return n.href = t,
        n.href
    }
    function Kl(e) {
        return Boolean("svg" === e.tagName || e.ownerSVGElement)
    }
    function Zl() {
        const e = document.createElement("a");
        return e.href = "",
        e.href
    }
    function Xl(e, t, n, o, i, r) {
        return o ? "src" === n || "href" === n && ("use" !== t || "#" !== o[0]) || "xlink:href" === n && "#" !== o[0] ? Yl(e, o) : "background" !== n || "table" !== t && "td" !== t && "th" !== t ? "srcset" === n ? function(e, t) {
            if ("" === t.trim())
                return t;
            let n = 0;
            function o(e) {
                let o;
                const i = e.exec(t.substring(n));
                return i ? (o = i[0],
                n += o.length,
                o) : ""
            }
            const i = [];
            for (; o(Vl),
            !(n >= t.length); ) {
                let r = o(ql);
                if ("," === r.slice(-1))
                    r = Yl(e, r.substring(0, r.length - 1)),
                    i.push(r);
                else {
                    let o = "";
                    r = Yl(e, r);
                    let s = !1;
                    for (; ; ) {
                        const e = t.charAt(n);
                        if ("" === e) {
                            i.push((r + o).trim());
                            break
                        }
                        if (s)
                            ")" === e && (s = !1);
                        else {
                            if ("," === e) {
                                n += 1,
                                i.push((r + o).trim());
                                break
                            }
                            "(" === e && (s = !0)
                        }
                        o += e,
                        n += 1
                    }
                }
            }
            return i.join(", ")
        }(e, o) : "style" === n ? Gl(o, Zl()) : "object" === t && "data" === n ? Yl(e, o) : "function" == typeof r ? r(n, o, i) : o : Yl(e, o) : o
    }
    function Ql(e, t, n) {
        return ("video" === e || "audio" === e) && "autoplay" === t
    }
    function Jl(e, t, n=1 / 0, o=0) {
        return e ? e.nodeType !== e.ELEMENT_NODE || o > n ? -1 : t(e) ? o : Jl(e.parentNode, t, n, o + 1) : -1
    }
    function ec(e, t) {
        return n => {
            const o = n;
            if (null === o)
                return !1;
            try {
                if (e)
                    if ("string" == typeof e) {
                        if (o.matches(`.${e}`))
                            return !0
                    } else if (function(e, t) {
                        for (let n = e.classList.length; n--; ) {
                            const o = e.classList[n];
                            if (t.test(o))
                                return !0
                        }
                        return !1
                    }(o, e))
                        return !0;
                return !(!t || !o.matches(t))
            } catch (e) {
                return !1
            }
        }
    }
    function tc(e, t, n, o, i, r) {
        try {
            const s = e.nodeType === e.ELEMENT_NODE ? e : e.parentElement;
            if (null === s)
                return !1;
            if ("INPUT" === s.tagName) {
                const e = s.getAttribute("autocomplete");
                if (["current-password", "new-password", "cc-number", "cc-exp", "cc-exp-month", "cc-exp-year", "cc-csc"].includes(e))
                    return !0
            }
            let a = -1
              , l = -1;
            if (r) {
                if (l = Jl(s, ec(o, i)),
                l < 0)
                    return !0;
                a = Jl(s, ec(t, n), l >= 0 ? l : 1 / 0)
            } else {
                if (a = Jl(s, ec(t, n)),
                a < 0)
                    return !1;
                l = Jl(s, ec(o, i), a >= 0 ? a : 1 / 0)
            }
            return a >= 0 ? !(l >= 0) || a <= l : !(l >= 0) && !!r
        } catch (e) {}
        return !!r
    }
    function nc(e, t) {
        const {doc: n, mirror: o, blockClass: i, blockSelector: r, unblockSelector: s, maskAllText: a, maskAttributeFn: l, maskTextClass: c, unmaskTextClass: d, maskTextSelector: u, unmaskTextSelector: p, inlineStylesheet: m, maskInputOptions: g={}, maskTextFn: h, maskInputFn: f, dataURLOptions: _={}, inlineImages: v, recordCanvas: y, keepIframeSrcFn: w, newlyAddedElement: b=!1} = t
          , E = function(e, t) {
            if (!t.hasNode(e))
                return;
            const n = t.getId(e);
            return 1 === n ? void 0 : n
        }(n, o);
        switch (e.nodeType) {
        case e.DOCUMENT_NODE:
            return "CSS1Compat" !== e.compatMode ? {
                type: El.Document,
                childNodes: [],
                compatMode: e.compatMode
            } : {
                type: El.Document,
                childNodes: []
            };
        case e.DOCUMENT_TYPE_NODE:
            return {
                type: El.DocumentType,
                name: e.name,
                publicId: e.publicId,
                systemId: e.systemId,
                rootId: E
            };
        case e.ELEMENT_NODE:
            return function(e, t) {
                const {doc: n, blockClass: o, blockSelector: i, unblockSelector: r, inlineStylesheet: s, maskInputOptions: a={}, maskAttributeFn: l, maskInputFn: c, dataURLOptions: d={}, inlineImages: u, recordCanvas: p, keepIframeSrcFn: m, newlyAddedElement: g=!1, rootId: h, maskAllText: f, maskTextClass: _, unmaskTextClass: v, maskTextSelector: y, unmaskTextSelector: w} = t
                  , b = function(e, t, n, o) {
                    try {
                        if (o && e.matches(o))
                            return !1;
                        if ("string" == typeof t) {
                            if (e.classList.contains(t))
                                return !0
                        } else
                            for (let n = e.classList.length; n--; ) {
                                const o = e.classList[n];
                                if (t.test(o))
                                    return !0
                            }
                        if (n)
                            return e.matches(n)
                    } catch (e) {}
                    return !1
                }(e, o, i, r)
                  , E = function(e) {
                    if (e instanceof HTMLFormElement)
                        return "form";
                    const t = Ll(e.tagName);
                    return Dl.test(t) ? "div" : t
                }(e);
                let T = {};
                const S = e.attributes.length;
                for (let t = 0; t < S; t++) {
                    const o = e.attributes[t];
                    o.name && !Ql(E, o.name, o.value) && (T[o.name] = Xl(n, E, Ll(o.name), o.value, e, l))
                }
                if ("link" === E && s) {
                    const t = Array.from(n.styleSheets).find((t => t.href === e.href));
                    let o = null;
                    t && (o = xl(t)),
                    o && (delete T.rel,
                    delete T.href,
                    T._cssText = Gl(o, t.href))
                }
                if ("style" === E && e.sheet && !(e.innerText || e.textContent || "").trim().length) {
                    const t = xl(e.sheet);
                    t && (T._cssText = Gl(t, Zl()))
                }
                if ("input" === E || "textarea" === E || "select" === E || "option" === E) {
                    const t = e
                      , n = Ml(t)
                      , o = Ol(t, Al(E), n)
                      , i = t.checked;
                    if ("submit" !== n && "button" !== n && o) {
                        const e = tc(t, _, y, v, w, kl({
                            type: n,
                            tagName: Al(E),
                            maskInputOptions: a
                        }));
                        T.value = Il({
                            isMasked: e,
                            element: t,
                            value: o,
                            maskInputFn: c
                        })
                    }
                    i && (T.checked = i)
                }
                "option" === E && (e.selected && !a.select ? T.selected = !0 : delete T.selected);
                if ("canvas" === E && p)
                    if ("2d" === e.__context)
                        (function(e) {
                            const t = e.getContext("2d");
                            if (!t)
                                return !0;
                            for (let n = 0; n < e.width; n += 50)
                                for (let o = 0; o < e.height; o += 50) {
                                    const i = t.getImageData
                                      , r = Rl in i ? i[Rl] : i;
                                    if (new Uint32Array(r.call(t, n, o, Math.min(50, e.width - n), Math.min(50, e.height - o)).data.buffer).some((e => 0 !== e)))
                                        return !1
                                }
                            return !0
                        }
                        )(e) || (T.rr_dataURL = e.toDataURL(d.type, d.quality));
                    else if (!("__context"in e)) {
                        const t = e.toDataURL(d.type, d.quality)
                          , n = document.createElement("canvas");
                        n.width = e.width,
                        n.height = e.height;
                        t !== n.toDataURL(d.type, d.quality) && (T.rr_dataURL = t)
                    }
                if ("img" === E && u) {
                    Bl || (Bl = n.createElement("canvas"),
                    Wl = Bl.getContext("2d"));
                    const t = e
                      , o = t.crossOrigin;
                    t.crossOrigin = "anonymous";
                    const i = () => {
                        t.removeEventListener("load", i);
                        try {
                            Bl.width = t.naturalWidth,
                            Bl.height = t.naturalHeight,
                            Wl.drawImage(t, 0, 0),
                            T.rr_dataURL = Bl.toDataURL(d.type, d.quality)
                        } catch (e) {
                            console.warn(`Cannot inline img src=${t.currentSrc}! Error: ${e}`)
                        }
                        o ? T.crossOrigin = o : t.removeAttribute("crossorigin")
                    }
                    ;
                    t.complete && 0 !== t.naturalWidth ? i() : t.addEventListener("load", i)
                }
                "audio" !== E && "video" !== E || (T.rr_mediaState = e.paused ? "paused" : "played",
                T.rr_mediaCurrentTime = e.currentTime);
                g || (e.scrollLeft && (T.rr_scrollLeft = e.scrollLeft),
                e.scrollTop && (T.rr_scrollTop = e.scrollTop));
                if (b) {
                    const {width: t, height: n} = e.getBoundingClientRect();
                    T = {
                        class: T.class,
                        rr_width: `${t}px`,
                        rr_height: `${n}px`
                    }
                }
                "iframe" !== E || m(T.src) || (e.contentDocument || (T.rr_src = T.src),
                delete T.src);
                let x;
                try {
                    customElements.get(E) && (x = !0)
                } catch (e) {}
                return {
                    type: El.Element,
                    tagName: E,
                    attributes: T,
                    childNodes: [],
                    isSVG: Kl(e) || void 0,
                    needBlock: b,
                    rootId: h,
                    isCustom: x
                }
            }(e, {
                doc: n,
                blockClass: i,
                blockSelector: r,
                unblockSelector: s,
                inlineStylesheet: m,
                maskAttributeFn: l,
                maskInputOptions: g,
                maskInputFn: f,
                dataURLOptions: _,
                inlineImages: v,
                recordCanvas: y,
                keepIframeSrcFn: w,
                newlyAddedElement: b,
                rootId: E,
                maskAllText: a,
                maskTextClass: c,
                unmaskTextClass: d,
                maskTextSelector: u,
                unmaskTextSelector: p
            });
        case e.TEXT_NODE:
            return function(e, t) {
                const {maskAllText: n, maskTextClass: o, unmaskTextClass: i, maskTextSelector: r, unmaskTextSelector: s, maskTextFn: a, maskInputOptions: l, maskInputFn: c, rootId: d} = t
                  , u = e.parentNode && e.parentNode.tagName;
                let p = e.textContent;
                const m = "STYLE" === u || void 0
                  , g = "SCRIPT" === u || void 0
                  , h = "TEXTAREA" === u || void 0;
                if (m && p) {
                    try {
                        e.nextSibling || e.previousSibling || bl([e, "access", e => e.parentNode, "access", e => e.sheet, "optionalAccess", e => e.cssRules]) && (p = xl(e.parentNode.sheet))
                    } catch (t) {
                        console.warn(`Cannot get CSS styles from text's parentNode. Error: ${t}`, e)
                    }
                    p = Gl(p, Zl())
                }
                g && (p = "SCRIPT_PLACEHOLDER");
                const f = tc(e, o, r, i, s, n);
                m || g || h || !p || !f || (p = a ? a(p, e.parentElement) : p.replace(/[\S]/g, "*"));
                h && p && (l.textarea || f) && (p = c ? c(p, e.parentNode) : p.replace(/[\S]/g, "*"));
                if ("OPTION" === u && p) {
                    p = Il({
                        isMasked: tc(e, o, r, i, s, kl({
                            type: null,
                            tagName: u,
                            maskInputOptions: l
                        })),
                        element: e,
                        value: p,
                        maskInputFn: c
                    })
                }
                return {
                    type: El.Text,
                    textContent: p || "",
                    isStyle: m,
                    rootId: d
                }
            }(e, {
                maskAllText: a,
                maskTextClass: c,
                unmaskTextClass: d,
                maskTextSelector: u,
                unmaskTextSelector: p,
                maskTextFn: h,
                maskInputOptions: g,
                maskInputFn: f,
                rootId: E
            });
        case e.CDATA_SECTION_NODE:
            return {
                type: El.CDATA,
                textContent: "",
                rootId: E
            };
        case e.COMMENT_NODE:
            return {
                type: El.Comment,
                textContent: e.textContent || "",
                rootId: E
            };
        default:
            return !1
        }
    }
    function oc(e) {
        return null == e ? "" : e.toLowerCase()
    }
    function ic(e, t) {
        const {doc: n, mirror: o, blockClass: i, blockSelector: r, unblockSelector: s, maskAllText: a, maskTextClass: l, unmaskTextClass: c, maskTextSelector: d, unmaskTextSelector: u, skipChild: p=!1, inlineStylesheet: m=!0, maskInputOptions: g={}, maskAttributeFn: h, maskTextFn: f, maskInputFn: _, slimDOMOptions: v, dataURLOptions: y={}, inlineImages: w=!1, recordCanvas: b=!1, onSerialize: E, onIframeLoad: T, iframeLoadTimeout: S=5e3, onStylesheetLoad: x, stylesheetLoadTimeout: $=5e3, keepIframeSrcFn: C=( () => !1), newlyAddedElement: k=!1} = t;
        let {preserveWhiteSpace: I=!0} = t;
        const L = nc(e, {
            doc: n,
            mirror: o,
            blockClass: i,
            blockSelector: r,
            maskAllText: a,
            unblockSelector: s,
            maskTextClass: l,
            unmaskTextClass: c,
            maskTextSelector: d,
            unmaskTextSelector: u,
            inlineStylesheet: m,
            maskInputOptions: g,
            maskAttributeFn: h,
            maskTextFn: f,
            maskInputFn: _,
            dataURLOptions: y,
            inlineImages: w,
            recordCanvas: b,
            keepIframeSrcFn: C,
            newlyAddedElement: k
        });
        if (!L)
            return console.warn(e, "not serialized"),
            null;
        let A;
        A = o.hasNode(e) ? o.getId(e) : !function(e, t) {
            if (t.comment && e.type === El.Comment)
                return !0;
            if (e.type === El.Element) {
                if (t.script && ("script" === e.tagName || "link" === e.tagName && ("preload" === e.attributes.rel || "modulepreload" === e.attributes.rel) && "script" === e.attributes.as || "link" === e.tagName && "prefetch" === e.attributes.rel && "string" == typeof e.attributes.href && e.attributes.href.endsWith(".js")))
                    return !0;
                if (t.headFavicon && ("link" === e.tagName && "shortcut icon" === e.attributes.rel || "meta" === e.tagName && (oc(e.attributes.name).match(/^msapplication-tile(image|color)$/) || "application-name" === oc(e.attributes.name) || "icon" === oc(e.attributes.rel) || "apple-touch-icon" === oc(e.attributes.rel) || "shortcut icon" === oc(e.attributes.rel))))
                    return !0;
                if ("meta" === e.tagName) {
                    if (t.headMetaDescKeywords && oc(e.attributes.name).match(/^description|keywords$/))
                        return !0;
                    if (t.headMetaSocial && (oc(e.attributes.property).match(/^(og|twitter|fb):/) || oc(e.attributes.name).match(/^(og|twitter):/) || "pinterest" === oc(e.attributes.name)))
                        return !0;
                    if (t.headMetaRobots && ("robots" === oc(e.attributes.name) || "googlebot" === oc(e.attributes.name) || "bingbot" === oc(e.attributes.name)))
                        return !0;
                    if (t.headMetaHttpEquiv && void 0 !== e.attributes["http-equiv"])
                        return !0;
                    if (t.headMetaAuthorship && ("author" === oc(e.attributes.name) || "generator" === oc(e.attributes.name) || "framework" === oc(e.attributes.name) || "publisher" === oc(e.attributes.name) || "progid" === oc(e.attributes.name) || oc(e.attributes.property).match(/^article:/) || oc(e.attributes.property).match(/^product:/)))
                        return !0;
                    if (t.headMetaVerification && ("google-site-verification" === oc(e.attributes.name) || "yandex-verification" === oc(e.attributes.name) || "csrf-token" === oc(e.attributes.name) || "p:domain_verify" === oc(e.attributes.name) || "verify-v1" === oc(e.attributes.name) || "verification" === oc(e.attributes.name) || "shopify-checkout-api-token" === oc(e.attributes.name)))
                        return !0
                }
            }
            return !1
        }(L, v) && (I || L.type !== El.Text || L.isStyle || L.textContent.replace(/^\s+|\s+$/gm, "").length) ? Ul() : Pl;
        const R = Object.assign(L, {
            id: A
        });
        if (o.add(e, R),
        A === Pl)
            return null;
        E && E(e);
        let M = !p;
        if (R.type === El.Element) {
            M = M && !R.needBlock,
            delete R.needBlock;
            const t = e.shadowRoot;
            t && Sl(t) && (R.isShadowHost = !0)
        }
        if ((R.type === El.Document || R.type === El.Element) && M) {
            v.headWhitespace && R.type === El.Element && "head" === R.tagName && (I = !1);
            const t = {
                doc: n,
                mirror: o,
                blockClass: i,
                blockSelector: r,
                maskAllText: a,
                unblockSelector: s,
                maskTextClass: l,
                unmaskTextClass: c,
                maskTextSelector: d,
                unmaskTextSelector: u,
                skipChild: p,
                inlineStylesheet: m,
                maskInputOptions: g,
                maskAttributeFn: h,
                maskTextFn: f,
                maskInputFn: _,
                slimDOMOptions: v,
                dataURLOptions: y,
                inlineImages: w,
                recordCanvas: b,
                preserveWhiteSpace: I,
                onSerialize: E,
                onIframeLoad: T,
                iframeLoadTimeout: S,
                onStylesheetLoad: x,
                stylesheetLoadTimeout: $,
                keepIframeSrcFn: C
            };
            for (const n of Array.from(e.childNodes)) {
                const e = ic(n, t);
                e && R.childNodes.push(e)
            }
            if (function(e) {
                return e.nodeType === e.ELEMENT_NODE
            }(e) && e.shadowRoot)
                for (const n of Array.from(e.shadowRoot.childNodes)) {
                    const o = ic(n, t);
                    o && (Sl(e.shadowRoot) && (o.isShadow = !0),
                    R.childNodes.push(o))
                }
        }
        return e.parentNode && Tl(e.parentNode) && Sl(e.parentNode) && (R.isShadow = !0),
        R.type === El.Element && "iframe" === R.tagName && function(e, t, n) {
            const o = e.contentWindow;
            if (!o)
                return;
            let i, r = !1;
            try {
                i = o.document.readyState
            } catch (e) {
                return
            }
            if ("complete" !== i) {
                const o = setTimeout(( () => {
                    r || (t(),
                    r = !0)
                }
                ), n);
                return void e.addEventListener("load", ( () => {
                    clearTimeout(o),
                    r = !0,
                    t()
                }
                ))
            }
            const s = "about:blank";
            if (o.location.href !== s || e.src === s || "" === e.src)
                return setTimeout(t, 0),
                e.addEventListener("load", t);
            e.addEventListener("load", t)
        }(e, ( () => {
            const t = e.contentDocument;
            if (t && T) {
                const n = ic(t, {
                    doc: t,
                    mirror: o,
                    blockClass: i,
                    blockSelector: r,
                    unblockSelector: s,
                    maskAllText: a,
                    maskTextClass: l,
                    unmaskTextClass: c,
                    maskTextSelector: d,
                    unmaskTextSelector: u,
                    skipChild: !1,
                    inlineStylesheet: m,
                    maskInputOptions: g,
                    maskAttributeFn: h,
                    maskTextFn: f,
                    maskInputFn: _,
                    slimDOMOptions: v,
                    dataURLOptions: y,
                    inlineImages: w,
                    recordCanvas: b,
                    preserveWhiteSpace: I,
                    onSerialize: E,
                    onIframeLoad: T,
                    iframeLoadTimeout: S,
                    onStylesheetLoad: x,
                    stylesheetLoadTimeout: $,
                    keepIframeSrcFn: C
                });
                n && T(e, n)
            }
        }
        ), S),
        R.type === El.Element && "link" === R.tagName && "stylesheet" === R.attributes.rel && function(e, t, n) {
            let o, i = !1;
            try {
                o = e.sheet
            } catch (e) {
                return
            }
            if (o)
                return;
            const r = setTimeout(( () => {
                i || (t(),
                i = !0)
            }
            ), n);
            e.addEventListener("load", ( () => {
                clearTimeout(r),
                i = !0,
                t()
            }
            ))
        }(e, ( () => {
            if (x) {
                const t = ic(e, {
                    doc: n,
                    mirror: o,
                    blockClass: i,
                    blockSelector: r,
                    unblockSelector: s,
                    maskAllText: a,
                    maskTextClass: l,
                    unmaskTextClass: c,
                    maskTextSelector: d,
                    unmaskTextSelector: u,
                    skipChild: !1,
                    inlineStylesheet: m,
                    maskInputOptions: g,
                    maskAttributeFn: h,
                    maskTextFn: f,
                    maskInputFn: _,
                    slimDOMOptions: v,
                    dataURLOptions: y,
                    inlineImages: w,
                    recordCanvas: b,
                    preserveWhiteSpace: I,
                    onSerialize: E,
                    onIframeLoad: T,
                    iframeLoadTimeout: S,
                    onStylesheetLoad: x,
                    stylesheetLoadTimeout: $,
                    keepIframeSrcFn: C
                });
                t && x(e, t)
            }
        }
        ), $),
        R
    }
    function rc(e) {
        let t, n = e[0], o = 1;
        for (; o < e.length; ) {
            const i = e[o]
              , r = e[o + 1];
            if (o += 2,
            ("optionalAccess" === i || "optionalCall" === i) && null == n)
                return;
            "access" === i || "optionalAccess" === i ? (t = n,
            n = r(n)) : "call" !== i && "optionalCall" !== i || (n = r(( (...e) => n.call(t, ...e))),
            t = void 0)
        }
        return n
    }
    function sc(e, t, n=document) {
        const o = {
            capture: !0,
            passive: !0
        };
        return n.addEventListener(e, t, o),
        () => n.removeEventListener(e, t, o)
    }
    const ac = "Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";
    let lc = {
        map: {},
        getId: () => (console.error(ac),
        -1),
        getNode: () => (console.error(ac),
        null),
        removeNodeFromMap() {
            console.error(ac)
        },
        has: () => (console.error(ac),
        !1),
        reset() {
            console.error(ac)
        }
    };
    function cc(e, t, n={}) {
        let o = null
          , i = 0;
        return function(...r) {
            const s = Date.now();
            i || !1 !== n.leading || (i = s);
            const a = t - (s - i)
              , l = this;
            a <= 0 || a > t ? (o && (!function(...e) {
                Ic("clearTimeout")(...e)
            }(o),
            o = null),
            i = s,
            e.apply(l, r)) : o || !1 === n.trailing || (o = Lc(( () => {
                i = !1 === n.leading ? 0 : Date.now(),
                o = null,
                e.apply(l, r)
            }
            ), a))
        }
    }
    function dc(e, t, n, o, i=window) {
        const r = i.Object.getOwnPropertyDescriptor(e, t);
        return i.Object.defineProperty(e, t, o ? n : {
            set(e) {
                Lc(( () => {
                    n.set.call(this, e)
                }
                ), 0),
                r && r.set && r.set.call(this, e)
            }
        }),
        () => dc(e, t, r || {}, !0)
    }
    function uc(e, t, n) {
        try {
            if (!(t in e))
                return () => {}
                ;
            const o = e[t]
              , i = n(o);
            return "function" == typeof i && (i.prototype = i.prototype || {},
            Object.defineProperties(i, {
                __rrweb_original__: {
                    enumerable: !1,
                    value: o
                }
            })),
            e[t] = i,
            () => {
                e[t] = o
            }
        } catch (e) {
            return () => {}
        }
    }
    "undefined" != typeof window && window.Proxy && window.Reflect && (lc = new Proxy(lc,{
        get: (e, t, n) => ("map" === t && console.error(ac),
        Reflect.get(e, t, n))
    }));
    let pc = Date.now;
    function mc(e) {
        const t = e.document;
        return {
            left: t.scrollingElement ? t.scrollingElement.scrollLeft : void 0 !== e.pageXOffset ? e.pageXOffset : rc([t, "optionalAccess", e => e.documentElement, "access", e => e.scrollLeft]) || rc([t, "optionalAccess", e => e.body, "optionalAccess", e => e.parentElement, "optionalAccess", e => e.scrollLeft]) || rc([t, "optionalAccess", e => e.body, "optionalAccess", e => e.scrollLeft]) || 0,
            top: t.scrollingElement ? t.scrollingElement.scrollTop : void 0 !== e.pageYOffset ? e.pageYOffset : rc([t, "optionalAccess", e => e.documentElement, "access", e => e.scrollTop]) || rc([t, "optionalAccess", e => e.body, "optionalAccess", e => e.parentElement, "optionalAccess", e => e.scrollTop]) || rc([t, "optionalAccess", e => e.body, "optionalAccess", e => e.scrollTop]) || 0
        }
    }
    function gc() {
        return window.innerHeight || document.documentElement && document.documentElement.clientHeight || document.body && document.body.clientHeight
    }
    function hc() {
        return window.innerWidth || document.documentElement && document.documentElement.clientWidth || document.body && document.body.clientWidth
    }
    function fc(e) {
        if (!e)
            return null;
        return e.nodeType === e.ELEMENT_NODE ? e : e.parentElement
    }
    function _c(e, t, n, o, i) {
        if (!e)
            return !1;
        const r = fc(e);
        if (!r)
            return !1;
        const s = ec(t, n);
        if (!i) {
            const e = o && r.matches(o);
            return s(r) && !e
        }
        const a = Jl(r, s);
        let l = -1;
        return !(a < 0) && (o && (l = Jl(r, ec(null, o))),
        a > -1 && l < 0 || a < l)
    }
    function vc(e, t) {
        return t.getId(e) === Pl
    }
    function yc(e, t) {
        if (Tl(e))
            return !1;
        const n = t.getId(e);
        return !t.has(n) || (!e.parentNode || e.parentNode.nodeType !== e.DOCUMENT_NODE) && (!e.parentNode || yc(e.parentNode, t))
    }
    function wc(e) {
        return Boolean(e.changedTouches)
    }
    function bc(e, t) {
        return Boolean("IFRAME" === e.nodeName && t.getMeta(e))
    }
    function Ec(e, t) {
        return Boolean("LINK" === e.nodeName && e.nodeType === e.ELEMENT_NODE && e.getAttribute && "stylesheet" === e.getAttribute("rel") && t.getMeta(e))
    }
    function Tc(e) {
        return Boolean(rc([e, "optionalAccess", e => e.shadowRoot]))
    }
    /[1-9][0-9]{12}/.test(Date.now().toString()) || (pc = () => (new Date).getTime());
    class Sc {
        constructor() {
            this.id = 1,
            this.styleIDMap = new WeakMap,
            this.idStyleMap = new Map
        }
        getId(e) {
            return t = this.styleIDMap.get(e),
            n = () => -1,
            null != t ? t : n();
            var t, n
        }
        has(e) {
            return this.styleIDMap.has(e)
        }
        add(e, t) {
            if (this.has(e))
                return this.getId(e);
            let n;
            return n = void 0 === t ? this.id++ : t,
            this.styleIDMap.set(e, n),
            this.idStyleMap.set(n, e),
            n
        }
        getStyle(e) {
            return this.idStyleMap.get(e) || null
        }
        reset() {
            this.styleIDMap = new WeakMap,
            this.idStyleMap = new Map,
            this.id = 1
        }
        generateId() {
            return this.id++
        }
    }
    function xc(e) {
        let t = null;
        return rc([e, "access", e => e.getRootNode, "optionalCall", e => e(), "optionalAccess", e => e.nodeType]) === Node.DOCUMENT_FRAGMENT_NODE && e.getRootNode().host && (t = e.getRootNode().host),
        t
    }
    function $c(e) {
        const t = e.ownerDocument;
        if (!t)
            return !1;
        const n = function(e) {
            let t, n = e;
            for (; t = xc(n); )
                n = t;
            return n
        }(e);
        return t.contains(n)
    }
    function Cc(e) {
        const t = e.ownerDocument;
        return !!t && (t.contains(e) || $c(e))
    }
    const kc = {};
    function Ic(e) {
        const t = kc[e];
        if (t)
            return t;
        const n = window.document;
        let o = window[e];
        if (n && "function" == typeof n.createElement)
            try {
                const t = n.createElement("iframe");
                t.hidden = !0,
                n.head.appendChild(t);
                const i = t.contentWindow;
                i && i[e] && (o = i[e]),
                n.head.removeChild(t)
            } catch (e) {}
        return kc[e] = o.bind(window)
    }
    function Lc(...e) {
        return Ic("setTimeout")(...e)
    }
    var Ac = (e => (e[e.DomContentLoaded = 0] = "DomContentLoaded",
    e[e.Load = 1] = "Load",
    e[e.FullSnapshot = 2] = "FullSnapshot",
    e[e.IncrementalSnapshot = 3] = "IncrementalSnapshot",
    e[e.Meta = 4] = "Meta",
    e[e.Custom = 5] = "Custom",
    e[e.Plugin = 6] = "Plugin",
    e))(Ac || {})
      , Rc = (e => (e[e.Mutation = 0] = "Mutation",
    e[e.MouseMove = 1] = "MouseMove",
    e[e.MouseInteraction = 2] = "MouseInteraction",
    e[e.Scroll = 3] = "Scroll",
    e[e.ViewportResize = 4] = "ViewportResize",
    e[e.Input = 5] = "Input",
    e[e.TouchMove = 6] = "TouchMove",
    e[e.MediaInteraction = 7] = "MediaInteraction",
    e[e.StyleSheetRule = 8] = "StyleSheetRule",
    e[e.CanvasMutation = 9] = "CanvasMutation",
    e[e.Font = 10] = "Font",
    e[e.Log = 11] = "Log",
    e[e.Drag = 12] = "Drag",
    e[e.StyleDeclaration = 13] = "StyleDeclaration",
    e[e.Selection = 14] = "Selection",
    e[e.AdoptedStyleSheet = 15] = "AdoptedStyleSheet",
    e[e.CustomElement = 16] = "CustomElement",
    e))(Rc || {})
      , Mc = (e => (e[e.MouseUp = 0] = "MouseUp",
    e[e.MouseDown = 1] = "MouseDown",
    e[e.Click = 2] = "Click",
    e[e.ContextMenu = 3] = "ContextMenu",
    e[e.DblClick = 4] = "DblClick",
    e[e.Focus = 5] = "Focus",
    e[e.Blur = 6] = "Blur",
    e[e.TouchStart = 7] = "TouchStart",
    e[e.TouchMove_Departed = 8] = "TouchMove_Departed",
    e[e.TouchEnd = 9] = "TouchEnd",
    e[e.TouchCancel = 10] = "TouchCancel",
    e))(Mc || {})
      , Oc = (e => (e[e.Mouse = 0] = "Mouse",
    e[e.Pen = 1] = "Pen",
    e[e.Touch = 2] = "Touch",
    e))(Oc || {});
    function Nc(e) {
        let t, n = e[0], o = 1;
        for (; o < e.length; ) {
            const i = e[o]
              , r = e[o + 1];
            if (o += 2,
            ("optionalAccess" === i || "optionalCall" === i) && null == n)
                return;
            "access" === i || "optionalAccess" === i ? (t = n,
            n = r(n)) : "call" !== i && "optionalCall" !== i || (n = r(( (...e) => n.call(t, ...e))),
            t = void 0)
        }
        return n
    }
    function Dc(e) {
        return "__ln"in e
    }
    class Pc {
        constructor() {
            this.length = 0,
            this.head = null,
            this.tail = null
        }
        get(e) {
            if (e >= this.length)
                throw new Error("Position outside of list range");
            let t = this.head;
            for (let n = 0; n < e; n++)
                t = Nc([t, "optionalAccess", e => e.next]) || null;
            return t
        }
        addNode(e) {
            const t = {
                value: e,
                previous: null,
                next: null
            };
            if (e.__ln = t,
            e.previousSibling && Dc(e.previousSibling)) {
                const n = e.previousSibling.__ln.next;
                t.next = n,
                t.previous = e.previousSibling.__ln,
                e.previousSibling.__ln.next = t,
                n && (n.previous = t)
            } else if (e.nextSibling && Dc(e.nextSibling) && e.nextSibling.__ln.previous) {
                const n = e.nextSibling.__ln.previous;
                t.previous = n,
                t.next = e.nextSibling.__ln,
                e.nextSibling.__ln.previous = t,
                n && (n.next = t)
            } else
                this.head && (this.head.previous = t),
                t.next = this.head,
                this.head = t;
            null === t.next && (this.tail = t),
            this.length++
        }
        removeNode(e) {
            const t = e.__ln;
            this.head && (t.previous ? (t.previous.next = t.next,
            t.next ? t.next.previous = t.previous : this.tail = t.previous) : (this.head = t.next,
            this.head ? this.head.previous = null : this.tail = null),
            e.__ln && delete e.__ln,
            this.length--)
        }
    }
    const Uc = (e, t) => `${e}@${t}`;
    class Bc {
        constructor() {
            this.frozen = !1,
            this.locked = !1,
            this.texts = [],
            this.attributes = [],
            this.attributeMap = new WeakMap,
            this.removes = [],
            this.mapRemoves = [],
            this.movedMap = {},
            this.addedSet = new Set,
            this.movedSet = new Set,
            this.droppedSet = new Set,
            this.processMutations = e => {
                e.forEach(this.processMutation),
                this.emit()
            }
            ,
            this.emit = () => {
                if (this.frozen || this.locked)
                    return;
                const e = []
                  , t = new Set
                  , n = new Pc
                  , o = e => {
                    let t = e
                      , n = Pl;
                    for (; n === Pl; )
                        t = t && t.nextSibling,
                        n = t && this.mirror.getId(t);
                    return n
                }
                  , i = i => {
                    if (!i.parentNode || !Cc(i))
                        return;
                    const r = Tl(i.parentNode) ? this.mirror.getId(xc(i)) : this.mirror.getId(i.parentNode)
                      , s = o(i);
                    if (-1 === r || -1 === s)
                        return n.addNode(i);
                    const a = ic(i, {
                        doc: this.doc,
                        mirror: this.mirror,
                        blockClass: this.blockClass,
                        blockSelector: this.blockSelector,
                        maskAllText: this.maskAllText,
                        unblockSelector: this.unblockSelector,
                        maskTextClass: this.maskTextClass,
                        unmaskTextClass: this.unmaskTextClass,
                        maskTextSelector: this.maskTextSelector,
                        unmaskTextSelector: this.unmaskTextSelector,
                        skipChild: !0,
                        newlyAddedElement: !0,
                        inlineStylesheet: this.inlineStylesheet,
                        maskInputOptions: this.maskInputOptions,
                        maskAttributeFn: this.maskAttributeFn,
                        maskTextFn: this.maskTextFn,
                        maskInputFn: this.maskInputFn,
                        slimDOMOptions: this.slimDOMOptions,
                        dataURLOptions: this.dataURLOptions,
                        recordCanvas: this.recordCanvas,
                        inlineImages: this.inlineImages,
                        onSerialize: e => {
                            bc(e, this.mirror) && this.iframeManager.addIframe(e),
                            Ec(e, this.mirror) && this.stylesheetManager.trackLinkElement(e),
                            Tc(i) && this.shadowDomManager.addShadowRoot(i.shadowRoot, this.doc)
                        }
                        ,
                        onIframeLoad: (e, t) => {
                            this.iframeManager.attachIframe(e, t),
                            this.shadowDomManager.observeAttachShadow(e)
                        }
                        ,
                        onStylesheetLoad: (e, t) => {
                            this.stylesheetManager.attachLinkElement(e, t)
                        }
                    });
                    a && (e.push({
                        parentId: r,
                        nextId: s,
                        node: a
                    }),
                    t.add(a.id))
                }
                ;
                for (; this.mapRemoves.length; )
                    this.mirror.removeNodeFromMap(this.mapRemoves.shift());
                for (const e of this.movedSet)
                    Fc(this.removes, e, this.mirror) && !this.movedSet.has(e.parentNode) || i(e);
                for (const e of this.addedSet)
                    Hc(this.droppedSet, e) || Fc(this.removes, e, this.mirror) ? Hc(this.movedSet, e) ? i(e) : this.droppedSet.add(e) : i(e);
                let r = null;
                for (; n.length; ) {
                    let e = null;
                    if (r) {
                        const t = this.mirror.getId(r.value.parentNode)
                          , n = o(r.value);
                        -1 !== t && -1 !== n && (e = r)
                    }
                    if (!e) {
                        let t = n.tail;
                        for (; t; ) {
                            const n = t;
                            if (t = t.previous,
                            n) {
                                const t = this.mirror.getId(n.value.parentNode);
                                if (-1 === o(n.value))
                                    continue;
                                if (-1 !== t) {
                                    e = n;
                                    break
                                }
                                {
                                    const t = n.value;
                                    if (t.parentNode && t.parentNode.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {
                                        const o = t.parentNode.host;
                                        if (-1 !== this.mirror.getId(o)) {
                                            e = n;
                                            break
                                        }
                                    }
                                }
                            }
                        }
                    }
                    if (!e) {
                        for (; n.head; )
                            n.removeNode(n.head.value);
                        break
                    }
                    r = e.previous,
                    n.removeNode(e.value),
                    i(e.value)
                }
                const s = {
                    texts: this.texts.map((e => ({
                        id: this.mirror.getId(e.node),
                        value: e.value
                    }))).filter((e => !t.has(e.id))).filter((e => this.mirror.has(e.id))),
                    attributes: this.attributes.map((e => {
                        const {attributes: t} = e;
                        if ("string" == typeof t.style) {
                            const n = JSON.stringify(e.styleDiff)
                              , o = JSON.stringify(e._unchangedStyles);
                            n.length < t.style.length && (n + o).split("var(").length === t.style.split("var(").length && (t.style = e.styleDiff)
                        }
                        return {
                            id: this.mirror.getId(e.node),
                            attributes: t
                        }
                    }
                    )).filter((e => !t.has(e.id))).filter((e => this.mirror.has(e.id))),
                    removes: this.removes,
                    adds: e
                };
                (s.texts.length || s.attributes.length || s.removes.length || s.adds.length) && (this.texts = [],
                this.attributes = [],
                this.attributeMap = new WeakMap,
                this.removes = [],
                this.addedSet = new Set,
                this.movedSet = new Set,
                this.droppedSet = new Set,
                this.movedMap = {},
                this.mutationCb(s))
            }
            ,
            this.processMutation = e => {
                if (!vc(e.target, this.mirror))
                    switch (e.type) {
                    case "characterData":
                        {
                            const t = e.target.textContent;
                            _c(e.target, this.blockClass, this.blockSelector, this.unblockSelector, !1) || t === e.oldValue || this.texts.push({
                                value: tc(e.target, this.maskTextClass, this.maskTextSelector, this.unmaskTextClass, this.unmaskTextSelector, this.maskAllText) && t ? this.maskTextFn ? this.maskTextFn(t, fc(e.target)) : t.replace(/[\S]/g, "*") : t,
                                node: e.target
                            });
                            break
                        }
                    case "attributes":
                        {
                            const t = e.target;
                            let n = e.attributeName
                              , o = e.target.getAttribute(n);
                            if ("value" === n) {
                                const n = Ml(t)
                                  , i = t.tagName;
                                o = Ol(t, i, n);
                                const r = kl({
                                    maskInputOptions: this.maskInputOptions,
                                    tagName: i,
                                    type: n
                                });
                                o = Il({
                                    isMasked: tc(e.target, this.maskTextClass, this.maskTextSelector, this.unmaskTextClass, this.unmaskTextSelector, r),
                                    element: t,
                                    value: o,
                                    maskInputFn: this.maskInputFn
                                })
                            }
                            if (_c(e.target, this.blockClass, this.blockSelector, this.unblockSelector, !1) || o === e.oldValue)
                                return;
                            let i = this.attributeMap.get(e.target);
                            if ("IFRAME" === t.tagName && "src" === n && !this.keepIframeSrcFn(o)) {
                                if (t.contentDocument)
                                    return;
                                n = "rr_src"
                            }
                            if (i || (i = {
                                node: e.target,
                                attributes: {},
                                styleDiff: {},
                                _unchangedStyles: {}
                            },
                            this.attributes.push(i),
                            this.attributeMap.set(e.target, i)),
                            "type" === n && "INPUT" === t.tagName && "password" === (e.oldValue || "").toLowerCase() && t.setAttribute("data-rr-is-password", "true"),
                            !Ql(t.tagName, n) && (i.attributes[n] = Xl(this.doc, Ll(t.tagName), Ll(n), o, t, this.maskAttributeFn),
                            "style" === n)) {
                                if (!this.unattachedDoc)
                                    try {
                                        this.unattachedDoc = document.implementation.createHTMLDocument()
                                    } catch (e) {
                                        this.unattachedDoc = this.doc
                                    }
                                const n = this.unattachedDoc.createElement("span");
                                e.oldValue && n.setAttribute("style", e.oldValue);
                                for (const e of Array.from(t.style)) {
                                    const o = t.style.getPropertyValue(e)
                                      , r = t.style.getPropertyPriority(e);
                                    o !== n.style.getPropertyValue(e) || r !== n.style.getPropertyPriority(e) ? i.styleDiff[e] = "" === r ? o : [o, r] : i._unchangedStyles[e] = [o, r]
                                }
                                for (const e of Array.from(n.style))
                                    "" === t.style.getPropertyValue(e) && (i.styleDiff[e] = !1)
                            }
                            break
                        }
                    case "childList":
                        if (_c(e.target, this.blockClass, this.blockSelector, this.unblockSelector, !0))
                            return;
                        e.addedNodes.forEach((t => this.genAdds(t, e.target))),
                        e.removedNodes.forEach((t => {
                            const n = this.mirror.getId(t)
                              , o = Tl(e.target) ? this.mirror.getId(e.target.host) : this.mirror.getId(e.target);
                            _c(e.target, this.blockClass, this.blockSelector, this.unblockSelector, !1) || vc(t, this.mirror) || !function(e, t) {
                                return -1 !== t.getId(e)
                            }(t, this.mirror) || (this.addedSet.has(t) ? (Wc(this.addedSet, t),
                            this.droppedSet.add(t)) : this.addedSet.has(e.target) && -1 === n || yc(e.target, this.mirror) || (this.movedSet.has(t) && this.movedMap[Uc(n, o)] ? Wc(this.movedSet, t) : this.removes.push({
                                parentId: o,
                                id: n,
                                isShadow: !(!Tl(e.target) || !Sl(e.target)) || void 0
                            })),
                            this.mapRemoves.push(t))
                        }
                        ))
                    }
            }
            ,
            this.genAdds = (e, t) => {
                if (!this.processedNodeManager.inOtherBuffer(e, this) && !this.addedSet.has(e) && !this.movedSet.has(e)) {
                    if (this.mirror.hasNode(e)) {
                        if (vc(e, this.mirror))
                            return;
                        this.movedSet.add(e);
                        let n = null;
                        t && this.mirror.hasNode(t) && (n = this.mirror.getId(t)),
                        n && -1 !== n && (this.movedMap[Uc(this.mirror.getId(e), n)] = !0)
                    } else
                        this.addedSet.add(e),
                        this.droppedSet.delete(e);
                    _c(e, this.blockClass, this.blockSelector, this.unblockSelector, !1) || (e.childNodes.forEach((e => this.genAdds(e))),
                    Tc(e) && e.shadowRoot.childNodes.forEach((t => {
                        this.processedNodeManager.add(t, this),
                        this.genAdds(t, e)
                    }
                    )))
                }
            }
        }
        init(e) {
            ["mutationCb", "blockClass", "blockSelector", "unblockSelector", "maskAllText", "maskTextClass", "unmaskTextClass", "maskTextSelector", "unmaskTextSelector", "inlineStylesheet", "maskInputOptions", "maskAttributeFn", "maskTextFn", "maskInputFn", "keepIframeSrcFn", "recordCanvas", "inlineImages", "slimDOMOptions", "dataURLOptions", "doc", "mirror", "iframeManager", "stylesheetManager", "shadowDomManager", "canvasManager", "processedNodeManager"].forEach((t => {
                this[t] = e[t]
            }
            ))
        }
        freeze() {
            this.frozen = !0,
            this.canvasManager.freeze()
        }
        unfreeze() {
            this.frozen = !1,
            this.canvasManager.unfreeze(),
            this.emit()
        }
        isFrozen() {
            return this.frozen
        }
        lock() {
            this.locked = !0,
            this.canvasManager.lock()
        }
        unlock() {
            this.locked = !1,
            this.canvasManager.unlock(),
            this.emit()
        }
        reset() {
            this.shadowDomManager.reset(),
            this.canvasManager.reset()
        }
    }
    function Wc(e, t) {
        e.delete(t),
        t.childNodes.forEach((t => Wc(e, t)))
    }
    function Fc(e, t, n) {
        return 0 !== e.length && zc(e, t, n)
    }
    function zc(e, t, n) {
        const {parentNode: o} = t;
        if (!o)
            return !1;
        const i = n.getId(o);
        return !!e.some((e => e.id === i)) || zc(e, o, n)
    }
    function Hc(e, t) {
        return 0 !== e.size && jc(e, t)
    }
    function jc(e, t) {
        const {parentNode: n} = t;
        return !!n && (!!e.has(n) || jc(e, n))
    }
    let Gc;
    const qc = e => {
        if (!Gc)
            return e;
        return (...t) => {
            try {
                return e(...t)
            } catch (e) {
                if (Gc && !0 === Gc(e))
                    return () => {}
                    ;
                throw e
            }
        }
    }
    ;
    function Vc(e) {
        let t, n = e[0], o = 1;
        for (; o < e.length; ) {
            const i = e[o]
              , r = e[o + 1];
            if (o += 2,
            ("optionalAccess" === i || "optionalCall" === i) && null == n)
                return;
            "access" === i || "optionalAccess" === i ? (t = n,
            n = r(n)) : "call" !== i && "optionalCall" !== i || (n = r(( (...e) => n.call(t, ...e))),
            t = void 0)
        }
        return n
    }
    const Yc = [];
    function Kc(e) {
        try {
            if ("composedPath"in e) {
                const t = e.composedPath();
                if (t.length)
                    return t[0]
            } else if ("path"in e && e.path.length)
                return e.path[0]
        } catch (e) {}
        return e && e.target
    }
    function Zc(e, t) {
        const n = new Bc;
        Yc.push(n),
        n.init(e);
        let o = window.MutationObserver || window.__rrMutationObserver;
        const i = Vc([window, "optionalAccess", e => e.Zone, "optionalAccess", e => e.__symbol__, "optionalCall", e => e("MutationObserver")]);
        i && window[i] && (o = window[i]);
        const r = new o(qc((t => {
            e.onMutation && !1 === e.onMutation(t) || n.processMutations.bind(n)(t)
        }
        )));
        return r.observe(t, {
            attributes: !0,
            attributeOldValue: !0,
            characterData: !0,
            characterDataOldValue: !0,
            childList: !0,
            subtree: !0
        }),
        r
    }
    function Xc({mouseInteractionCb: e, doc: t, mirror: n, blockClass: o, blockSelector: i, unblockSelector: r, sampling: s}) {
        if (!1 === s.mouseInteraction)
            return () => {}
            ;
        const a = !0 === s.mouseInteraction || void 0 === s.mouseInteraction ? {} : s.mouseInteraction
          , l = [];
        let c = null;
        return Object.keys(Mc).filter((e => Number.isNaN(Number(e)) && !e.endsWith("_Departed") && !1 !== a[e])).forEach((s => {
            let a = Ll(s);
            const d = (t => s => {
                const a = Kc(s);
                if (_c(a, o, i, r, !0))
                    return;
                let l = null
                  , d = t;
                if ("pointerType"in s) {
                    switch (s.pointerType) {
                    case "mouse":
                        l = Oc.Mouse;
                        break;
                    case "touch":
                        l = Oc.Touch;
                        break;
                    case "pen":
                        l = Oc.Pen
                    }
                    l === Oc.Touch ? Mc[t] === Mc.MouseDown ? d = "TouchStart" : Mc[t] === Mc.MouseUp && (d = "TouchEnd") : Oc.Pen
                } else
                    wc(s) && (l = Oc.Touch);
                null !== l ? (c = l,
                (d.startsWith("Touch") && l === Oc.Touch || d.startsWith("Mouse") && l === Oc.Mouse) && (l = null)) : Mc[t] === Mc.Click && (l = c,
                c = null);
                const u = wc(s) ? s.changedTouches[0] : s;
                if (!u)
                    return;
                const p = n.getId(a)
                  , {clientX: m, clientY: g} = u;
                qc(e)({
                    type: Mc[d],
                    id: p,
                    x: m,
                    y: g,
                    ...null !== l && {
                        pointerType: l
                    }
                })
            }
            )(s);
            if (window.PointerEvent)
                switch (Mc[s]) {
                case Mc.MouseDown:
                case Mc.MouseUp:
                    a = a.replace("mouse", "pointer");
                    break;
                case Mc.TouchStart:
                case Mc.TouchEnd:
                    return
                }
            l.push(sc(a, d, t))
        }
        )),
        qc(( () => {
            l.forEach((e => e()))
        }
        ))
    }
    function Qc({scrollCb: e, doc: t, mirror: n, blockClass: o, blockSelector: i, unblockSelector: r, sampling: s}) {
        return sc("scroll", qc(cc(qc((s => {
            const a = Kc(s);
            if (!a || _c(a, o, i, r, !0))
                return;
            const l = n.getId(a);
            if (a === t && t.defaultView) {
                const n = mc(t.defaultView);
                e({
                    id: l,
                    x: n.left,
                    y: n.top
                })
            } else
                e({
                    id: l,
                    x: a.scrollLeft,
                    y: a.scrollTop
                })
        }
        )), s.scroll || 100)), t)
    }
    const Jc = ["INPUT", "TEXTAREA", "SELECT"]
      , ed = new WeakMap;
    function td({inputCb: e, doc: t, mirror: n, blockClass: o, blockSelector: i, unblockSelector: r, ignoreClass: s, ignoreSelector: a, maskInputOptions: l, maskInputFn: c, sampling: d, userTriggeredOnInput: u, maskTextClass: p, unmaskTextClass: m, maskTextSelector: g, unmaskTextSelector: h}) {
        function f(e) {
            let n = Kc(e);
            const d = e.isTrusted
              , f = n && Al(n.tagName);
            if ("OPTION" === f && (n = n.parentElement),
            !n || !f || Jc.indexOf(f) < 0 || _c(n, o, i, r, !0))
                return;
            const v = n;
            if (v.classList.contains(s) || a && v.matches(a))
                return;
            const y = Ml(n);
            let w = Ol(v, f, y)
              , b = !1;
            const E = kl({
                maskInputOptions: l,
                tagName: f,
                type: y
            })
              , T = tc(n, p, g, m, h, E);
            "radio" !== y && "checkbox" !== y || (b = n.checked),
            w = Il({
                isMasked: T,
                element: n,
                value: w,
                maskInputFn: c
            }),
            _(n, u ? {
                text: w,
                isChecked: b,
                userTriggered: d
            } : {
                text: w,
                isChecked: b
            });
            const S = n.name;
            "radio" === y && S && b && t.querySelectorAll(`input[type="radio"][name="${S}"]`).forEach((e => {
                if (e !== n) {
                    const t = Il({
                        isMasked: T,
                        element: e,
                        value: Ol(e, f, y),
                        maskInputFn: c
                    });
                    _(e, u ? {
                        text: t,
                        isChecked: !b,
                        userTriggered: !1
                    } : {
                        text: t,
                        isChecked: !b
                    })
                }
            }
            ))
        }
        function _(t, o) {
            const i = ed.get(t);
            if (!i || i.text !== o.text || i.isChecked !== o.isChecked) {
                ed.set(t, o);
                const i = n.getId(t);
                qc(e)({
                    ...o,
                    id: i
                })
            }
        }
        const v = ("last" === d.input ? ["change"] : ["input", "change"]).map((e => sc(e, qc(f), t)))
          , y = t.defaultView;
        if (!y)
            return () => {
                v.forEach((e => e()))
            }
            ;
        const w = y.Object.getOwnPropertyDescriptor(y.HTMLInputElement.prototype, "value")
          , b = [[y.HTMLInputElement.prototype, "value"], [y.HTMLInputElement.prototype, "checked"], [y.HTMLSelectElement.prototype, "value"], [y.HTMLTextAreaElement.prototype, "value"], [y.HTMLSelectElement.prototype, "selectedIndex"], [y.HTMLOptionElement.prototype, "selected"]];
        return w && w.set && v.push(...b.map((e => dc(e[0], e[1], {
            set() {
                qc(f)({
                    target: this,
                    isTrusted: !1
                })
            }
        }, !1, y)))),
        qc(( () => {
            v.forEach((e => e()))
        }
        ))
    }
    function nd(e) {
        return function(e, t) {
            if (sd("CSSGroupingRule") && e.parentRule instanceof CSSGroupingRule || sd("CSSMediaRule") && e.parentRule instanceof CSSMediaRule || sd("CSSSupportsRule") && e.parentRule instanceof CSSSupportsRule || sd("CSSConditionRule") && e.parentRule instanceof CSSConditionRule) {
                const n = Array.from(e.parentRule.cssRules).indexOf(e);
                t.unshift(n)
            } else if (e.parentStyleSheet) {
                const n = Array.from(e.parentStyleSheet.cssRules).indexOf(e);
                t.unshift(n)
            }
            return t
        }(e, [])
    }
    function od(e, t, n) {
        let o, i;
        return e ? (e.ownerNode ? o = t.getId(e.ownerNode) : i = n.getId(e),
        {
            styleId: i,
            id: o
        }) : {}
    }
    function id({mirror: e, stylesheetManager: t}, n) {
        let o = null;
        o = "#document" === n.nodeName ? e.getId(n) : e.getId(n.host);
        const i = "#document" === n.nodeName ? Vc([n, "access", e => e.defaultView, "optionalAccess", e => e.Document]) : Vc([n, "access", e => e.ownerDocument, "optionalAccess", e => e.defaultView, "optionalAccess", e => e.ShadowRoot])
          , r = Vc([i, "optionalAccess", e => e.prototype]) ? Object.getOwnPropertyDescriptor(Vc([i, "optionalAccess", e => e.prototype]), "adoptedStyleSheets") : void 0;
        return null !== o && -1 !== o && i && r ? (Object.defineProperty(n, "adoptedStyleSheets", {
            configurable: r.configurable,
            enumerable: r.enumerable,
            get() {
                return Vc([r, "access", e => e.get, "optionalAccess", e => e.call, "call", e => e(this)])
            },
            set(e) {
                const n = Vc([r, "access", e => e.set, "optionalAccess", e => e.call, "call", t => t(this, e)]);
                if (null !== o && -1 !== o)
                    try {
                        t.adoptStyleSheets(e, o)
                    } catch (e) {}
                return n
            }
        }),
        qc(( () => {
            Object.defineProperty(n, "adoptedStyleSheets", {
                configurable: r.configurable,
                enumerable: r.enumerable,
                get: r.get,
                set: r.set
            })
        }
        ))) : () => {}
    }
    function rd(e, t={}) {
        const n = e.doc.defaultView;
        if (!n)
            return () => {}
            ;
        const o = Zc(e, e.doc)
          , i = function({mousemoveCb: e, sampling: t, doc: n, mirror: o}) {
            if (!1 === t.mousemove)
                return () => {}
                ;
            const i = "number" == typeof t.mousemove ? t.mousemove : 50
              , r = "number" == typeof t.mousemoveCallback ? t.mousemoveCallback : 500;
            let s, a = [];
            const l = cc(qc((t => {
                const n = Date.now() - s;
                e(a.map((e => (e.timeOffset -= n,
                e))), t),
                a = [],
                s = null
            }
            )), r)
              , c = qc(cc(qc((e => {
                const t = Kc(e)
                  , {clientX: n, clientY: i} = wc(e) ? e.changedTouches[0] : e;
                s || (s = pc()),
                a.push({
                    x: n,
                    y: i,
                    id: o.getId(t),
                    timeOffset: pc() - s
                }),
                l("undefined" != typeof DragEvent && e instanceof DragEvent ? Rc.Drag : e instanceof MouseEvent ? Rc.MouseMove : Rc.TouchMove)
            }
            )), i, {
                trailing: !1
            }))
              , d = [sc("mousemove", c, n), sc("touchmove", c, n), sc("drag", c, n)];
            return qc(( () => {
                d.forEach((e => e()))
            }
            ))
        }(e)
          , r = Xc(e)
          , s = Qc(e)
          , a = function({viewportResizeCb: e}, {win: t}) {
            let n = -1
              , o = -1;
            return sc("resize", qc(cc(qc(( () => {
                const t = gc()
                  , i = hc();
                n === t && o === i || (e({
                    width: Number(i),
                    height: Number(t)
                }),
                n = t,
                o = i)
            }
            )), 200)), t)
        }(e, {
            win: n
        })
          , l = td(e)
          , c = function({mediaInteractionCb: e, blockClass: t, blockSelector: n, unblockSelector: o, mirror: i, sampling: r, doc: s}) {
            const a = qc((s => cc(qc((r => {
                const a = Kc(r);
                if (!a || _c(a, t, n, o, !0))
                    return;
                const {currentTime: l, volume: c, muted: d, playbackRate: u} = a;
                e({
                    type: s,
                    id: i.getId(a),
                    currentTime: l,
                    volume: c,
                    muted: d,
                    playbackRate: u
                })
            }
            )), r.media || 500)))
              , l = [sc("play", a(0), s), sc("pause", a(1), s), sc("seeked", a(2), s), sc("volumechange", a(3), s), sc("ratechange", a(4), s)];
            return qc(( () => {
                l.forEach((e => e()))
            }
            ))
        }(e)
          , d = function({styleSheetRuleCb: e, mirror: t, stylesheetManager: n}, {win: o}) {
            if (!o.CSSStyleSheet || !o.CSSStyleSheet.prototype)
                return () => {}
                ;
            const i = o.CSSStyleSheet.prototype.insertRule;
            o.CSSStyleSheet.prototype.insertRule = new Proxy(i,{
                apply: qc(( (o, i, r) => {
                    const [s,a] = r
                      , {id: l, styleId: c} = od(i, t, n.styleMirror);
                    return (l && -1 !== l || c && -1 !== c) && e({
                        id: l,
                        styleId: c,
                        adds: [{
                            rule: s,
                            index: a
                        }]
                    }),
                    o.apply(i, r)
                }
                ))
            });
            const r = o.CSSStyleSheet.prototype.deleteRule;
            let s, a;
            o.CSSStyleSheet.prototype.deleteRule = new Proxy(r,{
                apply: qc(( (o, i, r) => {
                    const [s] = r
                      , {id: a, styleId: l} = od(i, t, n.styleMirror);
                    return (a && -1 !== a || l && -1 !== l) && e({
                        id: a,
                        styleId: l,
                        removes: [{
                            index: s
                        }]
                    }),
                    o.apply(i, r)
                }
                ))
            }),
            o.CSSStyleSheet.prototype.replace && (s = o.CSSStyleSheet.prototype.replace,
            o.CSSStyleSheet.prototype.replace = new Proxy(s,{
                apply: qc(( (o, i, r) => {
                    const [s] = r
                      , {id: a, styleId: l} = od(i, t, n.styleMirror);
                    return (a && -1 !== a || l && -1 !== l) && e({
                        id: a,
                        styleId: l,
                        replace: s
                    }),
                    o.apply(i, r)
                }
                ))
            })),
            o.CSSStyleSheet.prototype.replaceSync && (a = o.CSSStyleSheet.prototype.replaceSync,
            o.CSSStyleSheet.prototype.replaceSync = new Proxy(a,{
                apply: qc(( (o, i, r) => {
                    const [s] = r
                      , {id: a, styleId: l} = od(i, t, n.styleMirror);
                    return (a && -1 !== a || l && -1 !== l) && e({
                        id: a,
                        styleId: l,
                        replaceSync: s
                    }),
                    o.apply(i, r)
                }
                ))
            }));
            const l = {};
            ad("CSSGroupingRule") ? l.CSSGroupingRule = o.CSSGroupingRule : (ad("CSSMediaRule") && (l.CSSMediaRule = o.CSSMediaRule),
            ad("CSSConditionRule") && (l.CSSConditionRule = o.CSSConditionRule),
            ad("CSSSupportsRule") && (l.CSSSupportsRule = o.CSSSupportsRule));
            const c = {};
            return Object.entries(l).forEach(( ([o,i]) => {
                c[o] = {
                    insertRule: i.prototype.insertRule,
                    deleteRule: i.prototype.deleteRule
                },
                i.prototype.insertRule = new Proxy(c[o].insertRule,{
                    apply: qc(( (o, i, r) => {
                        const [s,a] = r
                          , {id: l, styleId: c} = od(i.parentStyleSheet, t, n.styleMirror);
                        return (l && -1 !== l || c && -1 !== c) && e({
                            id: l,
                            styleId: c,
                            adds: [{
                                rule: s,
                                index: [...nd(i), a || 0]
                            }]
                        }),
                        o.apply(i, r)
                    }
                    ))
                }),
                i.prototype.deleteRule = new Proxy(c[o].deleteRule,{
                    apply: qc(( (o, i, r) => {
                        const [s] = r
                          , {id: a, styleId: l} = od(i.parentStyleSheet, t, n.styleMirror);
                        return (a && -1 !== a || l && -1 !== l) && e({
                            id: a,
                            styleId: l,
                            removes: [{
                                index: [...nd(i), s]
                            }]
                        }),
                        o.apply(i, r)
                    }
                    ))
                })
            }
            )),
            qc(( () => {
                o.CSSStyleSheet.prototype.insertRule = i,
                o.CSSStyleSheet.prototype.deleteRule = r,
                s && (o.CSSStyleSheet.prototype.replace = s),
                a && (o.CSSStyleSheet.prototype.replaceSync = a),
                Object.entries(l).forEach(( ([e,t]) => {
                    t.prototype.insertRule = c[e].insertRule,
                    t.prototype.deleteRule = c[e].deleteRule
                }
                ))
            }
            ))
        }(e, {
            win: n
        })
          , u = id(e, e.doc)
          , p = function({styleDeclarationCb: e, mirror: t, ignoreCSSAttributes: n, stylesheetManager: o}, {win: i}) {
            const r = i.CSSStyleDeclaration.prototype.setProperty;
            i.CSSStyleDeclaration.prototype.setProperty = new Proxy(r,{
                apply: qc(( (i, s, a) => {
                    const [l,c,d] = a;
                    if (n.has(l))
                        return r.apply(s, [l, c, d]);
                    const {id: u, styleId: p} = od(Vc([s, "access", e => e.parentRule, "optionalAccess", e => e.parentStyleSheet]), t, o.styleMirror);
                    return (u && -1 !== u || p && -1 !== p) && e({
                        id: u,
                        styleId: p,
                        set: {
                            property: l,
                            value: c,
                            priority: d
                        },
                        index: nd(s.parentRule)
                    }),
                    i.apply(s, a)
                }
                ))
            });
            const s = i.CSSStyleDeclaration.prototype.removeProperty;
            return i.CSSStyleDeclaration.prototype.removeProperty = new Proxy(s,{
                apply: qc(( (i, r, a) => {
                    const [l] = a;
                    if (n.has(l))
                        return s.apply(r, [l]);
                    const {id: c, styleId: d} = od(Vc([r, "access", e => e.parentRule, "optionalAccess", e => e.parentStyleSheet]), t, o.styleMirror);
                    return (c && -1 !== c || d && -1 !== d) && e({
                        id: c,
                        styleId: d,
                        remove: {
                            property: l
                        },
                        index: nd(r.parentRule)
                    }),
                    i.apply(r, a)
                }
                ))
            }),
            qc(( () => {
                i.CSSStyleDeclaration.prototype.setProperty = r,
                i.CSSStyleDeclaration.prototype.removeProperty = s
            }
            ))
        }(e, {
            win: n
        })
          , m = e.collectFonts ? function({fontCb: e, doc: t}) {
            const n = t.defaultView;
            if (!n)
                return () => {}
                ;
            const o = []
              , i = new WeakMap
              , r = n.FontFace;
            n.FontFace = function(e, t, n) {
                const o = new r(e,t,n);
                return i.set(o, {
                    family: e,
                    buffer: "string" != typeof t,
                    descriptors: n,
                    fontSource: "string" == typeof t ? t : JSON.stringify(Array.from(new Uint8Array(t)))
                }),
                o
            }
            ;
            const s = uc(t.fonts, "add", (function(t) {
                return function(n) {
                    return Lc(qc(( () => {
                        const t = i.get(n);
                        t && (e(t),
                        i.delete(n))
                    }
                    )), 0),
                    t.apply(this, [n])
                }
            }
            ));
            return o.push(( () => {
                n.FontFace = r
            }
            )),
            o.push(s),
            qc(( () => {
                o.forEach((e => e()))
            }
            ))
        }(e) : () => {}
          , g = function(e) {
            const {doc: t, mirror: n, blockClass: o, blockSelector: i, unblockSelector: r, selectionCb: s} = e;
            let a = !0;
            const l = qc(( () => {
                const e = t.getSelection();
                if (!e || a && Vc([e, "optionalAccess", e => e.isCollapsed]))
                    return;
                a = e.isCollapsed || !1;
                const l = []
                  , c = e.rangeCount || 0;
                for (let t = 0; t < c; t++) {
                    const s = e.getRangeAt(t)
                      , {startContainer: a, startOffset: c, endContainer: d, endOffset: u} = s;
                    _c(a, o, i, r, !0) || _c(d, o, i, r, !0) || l.push({
                        start: n.getId(a),
                        startOffset: c,
                        end: n.getId(d),
                        endOffset: u
                    })
                }
                s({
                    ranges: l
                })
            }
            ));
            return l(),
            sc("selectionchange", l)
        }(e)
          , h = function({doc: e, customElementCb: t}) {
            const n = e.defaultView;
            return n && n.customElements ? uc(n.customElements, "define", (function(e) {
                return function(n, o, i) {
                    try {
                        t({
                            define: {
                                name: n
                            }
                        })
                    } catch (e) {}
                    return e.apply(this, [n, o, i])
                }
            }
            )) : () => {}
        }(e)
          , f = [];
        for (const t of e.plugins)
            f.push(t.observer(t.callback, n, t.options));
        return qc(( () => {
            Yc.forEach((e => e.reset())),
            o.disconnect(),
            i(),
            r(),
            s(),
            a(),
            l(),
            c(),
            d(),
            u(),
            p(),
            m(),
            g(),
            h(),
            f.forEach((e => e()))
        }
        ))
    }
    function sd(e) {
        return void 0 !== window[e]
    }
    function ad(e) {
        return Boolean(void 0 !== window[e] && window[e].prototype && "insertRule"in window[e].prototype && "deleteRule"in window[e].prototype)
    }
    class ld {
        constructor(e) {
            this.generateIdFn = e,
            this.iframeIdToRemoteIdMap = new WeakMap,
            this.iframeRemoteIdToIdMap = new WeakMap
        }
        getId(e, t, n, o) {
            const i = n || this.getIdToRemoteIdMap(e)
              , r = o || this.getRemoteIdToIdMap(e);
            let s = i.get(t);
            return s || (s = this.generateIdFn(),
            i.set(t, s),
            r.set(s, t)),
            s
        }
        getIds(e, t) {
            const n = this.getIdToRemoteIdMap(e)
              , o = this.getRemoteIdToIdMap(e);
            return t.map((t => this.getId(e, t, n, o)))
        }
        getRemoteId(e, t, n) {
            const o = n || this.getRemoteIdToIdMap(e);
            if ("number" != typeof t)
                return t;
            const i = o.get(t);
            return i || -1
        }
        getRemoteIds(e, t) {
            const n = this.getRemoteIdToIdMap(e);
            return t.map((t => this.getRemoteId(e, t, n)))
        }
        reset(e) {
            if (!e)
                return this.iframeIdToRemoteIdMap = new WeakMap,
                void (this.iframeRemoteIdToIdMap = new WeakMap);
            this.iframeIdToRemoteIdMap.delete(e),
            this.iframeRemoteIdToIdMap.delete(e)
        }
        getIdToRemoteIdMap(e) {
            let t = this.iframeIdToRemoteIdMap.get(e);
            return t || (t = new Map,
            this.iframeIdToRemoteIdMap.set(e, t)),
            t
        }
        getRemoteIdToIdMap(e) {
            let t = this.iframeRemoteIdToIdMap.get(e);
            return t || (t = new Map,
            this.iframeRemoteIdToIdMap.set(e, t)),
            t
        }
    }
    function cd(e) {
        let t, n = e[0], o = 1;
        for (; o < e.length; ) {
            const i = e[o]
              , r = e[o + 1];
            if (o += 2,
            ("optionalAccess" === i || "optionalCall" === i) && null == n)
                return;
            "access" === i || "optionalAccess" === i ? (t = n,
            n = r(n)) : "call" !== i && "optionalCall" !== i || (n = r(( (...e) => n.call(t, ...e))),
            t = void 0)
        }
        return n
    }
    class dd {
        constructor() {
            this.crossOriginIframeMirror = new ld(Ul),
            this.crossOriginIframeRootIdMap = new WeakMap
        }
        addIframe() {}
        addLoadListener() {}
        attachIframe() {}
    }
    class ud {
        constructor(e) {
            this.iframes = new WeakMap,
            this.crossOriginIframeMap = new WeakMap,
            this.crossOriginIframeMirror = new ld(Ul),
            this.crossOriginIframeRootIdMap = new WeakMap,
            this.mutationCb = e.mutationCb,
            this.wrappedEmit = e.wrappedEmit,
            this.stylesheetManager = e.stylesheetManager,
            this.recordCrossOriginIframes = e.recordCrossOriginIframes,
            this.crossOriginIframeStyleMirror = new ld(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),
            this.mirror = e.mirror,
            this.recordCrossOriginIframes && window.addEventListener("message", this.handleMessage.bind(this))
        }
        addIframe(e) {
            this.iframes.set(e, !0),
            e.contentWindow && this.crossOriginIframeMap.set(e.contentWindow, e)
        }
        addLoadListener(e) {
            this.loadListener = e
        }
        attachIframe(e, t) {
            this.mutationCb({
                adds: [{
                    parentId: this.mirror.getId(e),
                    nextId: null,
                    node: t
                }],
                removes: [],
                texts: [],
                attributes: [],
                isAttachIframe: !0
            }),
            cd([this, "access", e => e.loadListener, "optionalCall", t => t(e)]),
            e.contentDocument && e.contentDocument.adoptedStyleSheets && e.contentDocument.adoptedStyleSheets.length > 0 && this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets, this.mirror.getId(e.contentDocument))
        }
        handleMessage(e) {
            const t = e;
            if ("rrweb" !== t.data.type || t.origin !== t.data.origin)
                return;
            if (!e.source)
                return;
            const n = this.crossOriginIframeMap.get(e.source);
            if (!n)
                return;
            const o = this.transformCrossOriginEvent(n, t.data.event);
            o && this.wrappedEmit(o, t.data.isCheckout)
        }
        transformCrossOriginEvent(e, t) {
            switch (t.type) {
            case Ac.FullSnapshot:
                {
                    this.crossOriginIframeMirror.reset(e),
                    this.crossOriginIframeStyleMirror.reset(e),
                    this.replaceIdOnNode(t.data.node, e);
                    const n = t.data.node.id;
                    return this.crossOriginIframeRootIdMap.set(e, n),
                    this.patchRootIdOnNode(t.data.node, n),
                    {
                        timestamp: t.timestamp,
                        type: Ac.IncrementalSnapshot,
                        data: {
                            source: Rc.Mutation,
                            adds: [{
                                parentId: this.mirror.getId(e),
                                nextId: null,
                                node: t.data.node
                            }],
                            removes: [],
                            texts: [],
                            attributes: [],
                            isAttachIframe: !0
                        }
                    }
                }
            case Ac.Meta:
            case Ac.Load:
            case Ac.DomContentLoaded:
                return !1;
            case Ac.Plugin:
                return t;
            case Ac.Custom:
                return this.replaceIds(t.data.payload, e, ["id", "parentId", "previousId", "nextId"]),
                t;
            case Ac.IncrementalSnapshot:
                switch (t.data.source) {
                case Rc.Mutation:
                    return t.data.adds.forEach((t => {
                        this.replaceIds(t, e, ["parentId", "nextId", "previousId"]),
                        this.replaceIdOnNode(t.node, e);
                        const n = this.crossOriginIframeRootIdMap.get(e);
                        n && this.patchRootIdOnNode(t.node, n)
                    }
                    )),
                    t.data.removes.forEach((t => {
                        this.replaceIds(t, e, ["parentId", "id"])
                    }
                    )),
                    t.data.attributes.forEach((t => {
                        this.replaceIds(t, e, ["id"])
                    }
                    )),
                    t.data.texts.forEach((t => {
                        this.replaceIds(t, e, ["id"])
                    }
                    )),
                    t;
                case Rc.Drag:
                case Rc.TouchMove:
                case Rc.MouseMove:
                    return t.data.positions.forEach((t => {
                        this.replaceIds(t, e, ["id"])
                    }
                    )),
                    t;
                case Rc.ViewportResize:
                    return !1;
                case Rc.MediaInteraction:
                case Rc.MouseInteraction:
                case Rc.Scroll:
                case Rc.CanvasMutation:
                case Rc.Input:
                    return this.replaceIds(t.data, e, ["id"]),
                    t;
                case Rc.StyleSheetRule:
                case Rc.StyleDeclaration:
                    return this.replaceIds(t.data, e, ["id"]),
                    this.replaceStyleIds(t.data, e, ["styleId"]),
                    t;
                case Rc.Font:
                    return t;
                case Rc.Selection:
                    return t.data.ranges.forEach((t => {
                        this.replaceIds(t, e, ["start", "end"])
                    }
                    )),
                    t;
                case Rc.AdoptedStyleSheet:
                    return this.replaceIds(t.data, e, ["id"]),
                    this.replaceStyleIds(t.data, e, ["styleIds"]),
                    cd([t, "access", e => e.data, "access", e => e.styles, "optionalAccess", e => e.forEach, "call", t => t((t => {
                        this.replaceStyleIds(t, e, ["styleId"])
                    }
                    ))]),
                    t
                }
            }
            return !1
        }
        replace(e, t, n, o) {
            for (const i of o)
                (Array.isArray(t[i]) || "number" == typeof t[i]) && (Array.isArray(t[i]) ? t[i] = e.getIds(n, t[i]) : t[i] = e.getId(n, t[i]));
            return t
        }
        replaceIds(e, t, n) {
            return this.replace(this.crossOriginIframeMirror, e, t, n)
        }
        replaceStyleIds(e, t, n) {
            return this.replace(this.crossOriginIframeStyleMirror, e, t, n)
        }
        replaceIdOnNode(e, t) {
            this.replaceIds(e, t, ["id", "rootId"]),
            "childNodes"in e && e.childNodes.forEach((e => {
                this.replaceIdOnNode(e, t)
            }
            ))
        }
        patchRootIdOnNode(e, t) {
            e.type === El.Document || e.rootId || (e.rootId = t),
            "childNodes"in e && e.childNodes.forEach((e => {
                this.patchRootIdOnNode(e, t)
            }
            ))
        }
    }
    class pd {
        init() {}
        addShadowRoot() {}
        observeAttachShadow() {}
        reset() {}
    }
    class md {
        constructor(e) {
            this.shadowDoms = new WeakSet,
            this.restoreHandlers = [],
            this.mutationCb = e.mutationCb,
            this.scrollCb = e.scrollCb,
            this.bypassOptions = e.bypassOptions,
            this.mirror = e.mirror,
            this.init()
        }
        init() {
            this.reset(),
            this.patchAttachShadow(Element, document)
        }
        addShadowRoot(e, t) {
            if (!Sl(e))
                return;
            if (this.shadowDoms.has(e))
                return;
            this.shadowDoms.add(e);
            const n = Zc({
                ...this.bypassOptions,
                doc: t,
                mutationCb: this.mutationCb,
                mirror: this.mirror,
                shadowDomManager: this
            }, e);
            this.restoreHandlers.push(( () => n.disconnect())),
            this.restoreHandlers.push(Qc({
                ...this.bypassOptions,
                scrollCb: this.scrollCb,
                doc: e,
                mirror: this.mirror
            })),
            Lc(( () => {
                e.adoptedStyleSheets && e.adoptedStyleSheets.length > 0 && this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets, this.mirror.getId(e.host)),
                this.restoreHandlers.push(id({
                    mirror: this.mirror,
                    stylesheetManager: this.bypassOptions.stylesheetManager
                }, e))
            }
            ), 0)
        }
        observeAttachShadow(e) {
            e.contentWindow && e.contentDocument && this.patchAttachShadow(e.contentWindow.Element, e.contentDocument)
        }
        patchAttachShadow(e, t) {
            const n = this;
            this.restoreHandlers.push(uc(e.prototype, "attachShadow", (function(e) {
                return function(o) {
                    const i = e.call(this, o);
                    return this.shadowRoot && Cc(this) && n.addShadowRoot(this.shadowRoot, t),
                    i
                }
            }
            )))
        }
        reset() {
            this.restoreHandlers.forEach((e => {
                try {
                    e()
                } catch (e) {}
            }
            )),
            this.restoreHandlers = [],
            this.shadowDoms = new WeakSet
        }
    }
    class gd {
        reset() {}
        freeze() {}
        unfreeze() {}
        lock() {}
        unlock() {}
        snapshot() {}
    }
    class hd {
        constructor(e) {
            this.trackedLinkElements = new WeakSet,
            this.styleMirror = new Sc,
            this.mutationCb = e.mutationCb,
            this.adoptedStyleSheetCb = e.adoptedStyleSheetCb
        }
        attachLinkElement(e, t) {
            "_cssText"in t.attributes && this.mutationCb({
                adds: [],
                removes: [],
                texts: [],
                attributes: [{
                    id: t.id,
                    attributes: t.attributes
                }]
            }),
            this.trackLinkElement(e)
        }
        trackLinkElement(e) {
            this.trackedLinkElements.has(e) || (this.trackedLinkElements.add(e),
            this.trackStylesheetInLinkElement(e))
        }
        adoptStyleSheets(e, t) {
            if (0 === e.length)
                return;
            const n = {
                id: t,
                styleIds: []
            }
              , o = [];
            for (const t of e) {
                let e;
                this.styleMirror.has(t) ? e = this.styleMirror.getId(t) : (e = this.styleMirror.add(t),
                o.push({
                    styleId: e,
                    rules: Array.from(t.rules || CSSRule, ( (e, t) => ({
                        rule: $l(e),
                        index: t
                    })))
                })),
                n.styleIds.push(e)
            }
            o.length > 0 && (n.styles = o),
            this.adoptedStyleSheetCb(n)
        }
        reset() {
            this.styleMirror.reset(),
            this.trackedLinkElements = new WeakSet
        }
        trackStylesheetInLinkElement(e) {}
    }
    class fd {
        constructor() {
            this.nodeMap = new WeakMap,
            this.loop = !0,
            this.periodicallyClear()
        }
        periodicallyClear() {
            !function(...e) {
                Ic("requestAnimationFrame")(...e)
            }(( () => {
                this.clear(),
                this.loop && this.periodicallyClear()
            }
            ))
        }
        inOtherBuffer(e, t) {
            const n = this.nodeMap.get(e);
            return n && Array.from(n).some((e => e !== t))
        }
        add(e, t) {
            this.nodeMap.set(e, (this.nodeMap.get(e) || new Set).add(t))
        }
        clear() {
            this.nodeMap = new WeakMap
        }
        destroy() {
            this.loop = !1
        }
    }
    let _d, vd;
    const yd = new Cl;
    function wd(e={}) {
        const {emit: t, checkoutEveryNms: n, checkoutEveryNth: o, blockClass: i="rr-block", blockSelector: r=null, unblockSelector: s=null, ignoreClass: a="rr-ignore", ignoreSelector: l=null, maskAllText: c=!1, maskTextClass: d="rr-mask", unmaskTextClass: u=null, maskTextSelector: p=null, unmaskTextSelector: m=null, inlineStylesheet: g=!0, maskAllInputs: h, maskInputOptions: f, slimDOMOptions: _, maskAttributeFn: v, maskInputFn: y, maskTextFn: w, maxCanvasSize: b=null, packFn: E, sampling: T={}, dataURLOptions: S={}, mousemoveWait: x, recordCanvas: $=!1, recordCrossOriginIframes: C=!1, recordAfter: k=("DOMContentLoaded" === e.recordAfter ? e.recordAfter : "load"), userTriggeredOnInput: I=!1, collectFonts: L=!1, inlineImages: A=!1, plugins: R, keepIframeSrcFn: M=( () => !1), ignoreCSSAttributes: O=new Set([]), errorHandler: N, onMutation: D, getCanvasManager: P} = e;
        Gc = N;
        const U = !C || window.parent === window;
        let B = !1;
        if (!U)
            try {
                window.parent.document && (B = !1)
            } catch (e) {
                B = !0
            }
        if (U && !t)
            throw new Error("emit function is required");
        void 0 !== x && void 0 === T.mousemove && (T.mousemove = x),
        yd.reset();
        const W = !0 === h ? {
            color: !0,
            date: !0,
            "datetime-local": !0,
            email: !0,
            month: !0,
            number: !0,
            range: !0,
            search: !0,
            tel: !0,
            text: !0,
            time: !0,
            url: !0,
            week: !0,
            textarea: !0,
            select: !0,
            radio: !0,
            checkbox: !0
        } : void 0 !== f ? f : {}
          , F = !0 === _ || "all" === _ ? {
            script: !0,
            comment: !0,
            headFavicon: !0,
            headWhitespace: !0,
            headMetaSocial: !0,
            headMetaRobots: !0,
            headMetaHttpEquiv: !0,
            headMetaVerification: !0,
            headMetaAuthorship: "all" === _,
            headMetaDescKeywords: "all" === _
        } : _ || {};
        let z;
        !function(e=window) {
            "NodeList"in e && !e.NodeList.prototype.forEach && (e.NodeList.prototype.forEach = Array.prototype.forEach),
            "DOMTokenList"in e && !e.DOMTokenList.prototype.forEach && (e.DOMTokenList.prototype.forEach = Array.prototype.forEach),
            Node.prototype.contains || (Node.prototype.contains = (...e) => {
                let t = e[0];
                if (!(0 in e))
                    throw new TypeError("1 argument is required");
                do {
                    if (this === t)
                        return !0
                } while (t = t && t.parentNode);
                return !1
            }
            )
        }();
        let H = 0;
        const j = e => {
            for (const t of R || [])
                t.eventProcessor && (e = t.eventProcessor(e));
            return E && !B && (e = E(e)),
            e
        }
        ;
        _d = (e, i) => {
            const r = e;
            if (r.timestamp = pc(),
            !Ji([Yc, "access", e => e[0], "optionalAccess", e => e.isFrozen, "call", e => e()]) || r.type === Ac.FullSnapshot || r.type === Ac.IncrementalSnapshot && r.data.source === Rc.Mutation || Yc.forEach((e => e.unfreeze())),
            U)
                Ji([t, "optionalCall", e => e(j(r), i)]);
            else if (B) {
                const e = {
                    type: "rrweb",
                    event: j(r),
                    origin: window.location.origin,
                    isCheckout: i
                };
                window.parent.postMessage(e, "*")
            }
            if (r.type === Ac.FullSnapshot)
                z = r,
                H = 0;
            else if (r.type === Ac.IncrementalSnapshot) {
                if (r.data.source === Rc.Mutation && r.data.isAttachIframe)
                    return;
                H++;
                const e = o && H >= o
                  , t = n && z && r.timestamp - z.timestamp > n;
                (e || t) && J(!0)
            }
        }
        ;
        const G = e => {
            _d({
                type: Ac.IncrementalSnapshot,
                data: {
                    source: Rc.Mutation,
                    ...e
                }
            })
        }
          , q = e => _d({
            type: Ac.IncrementalSnapshot,
            data: {
                source: Rc.Scroll,
                ...e
            }
        })
          , V = e => _d({
            type: Ac.IncrementalSnapshot,
            data: {
                source: Rc.CanvasMutation,
                ...e
            }
        })
          , Y = new hd({
            mutationCb: G,
            adoptedStyleSheetCb: e => _d({
                type: Ac.IncrementalSnapshot,
                data: {
                    source: Rc.AdoptedStyleSheet,
                    ...e
                }
            })
        })
          , K = "boolean" == typeof __RRWEB_EXCLUDE_IFRAME__ && __RRWEB_EXCLUDE_IFRAME__ ? new dd : new ud({
            mirror: yd,
            mutationCb: G,
            stylesheetManager: Y,
            recordCrossOriginIframes: C,
            wrappedEmit: _d
        });
        for (const e of R || [])
            e.getMirror && e.getMirror({
                nodeMirror: yd,
                crossOriginIframeMirror: K.crossOriginIframeMirror,
                crossOriginIframeStyleMirror: K.crossOriginIframeStyleMirror
            });
        const Z = new fd
          , X = function(e, t) {
            try {
                return e ? e(t) : new gd
            } catch (e) {
                return console.warn("Unable to initialize CanvasManager"),
                new gd
            }
        }(P, {
            mirror: yd,
            win: window,
            mutationCb: e => _d({
                type: Ac.IncrementalSnapshot,
                data: {
                    source: Rc.CanvasMutation,
                    ...e
                }
            }),
            recordCanvas: $,
            blockClass: i,
            blockSelector: r,
            unblockSelector: s,
            maxCanvasSize: b,
            sampling: T.canvas,
            dataURLOptions: S,
            errorHandler: N
        })
          , Q = "boolean" == typeof __RRWEB_EXCLUDE_SHADOW_DOM__ && __RRWEB_EXCLUDE_SHADOW_DOM__ ? new pd : new md({
            mutationCb: G,
            scrollCb: q,
            bypassOptions: {
                onMutation: D,
                blockClass: i,
                blockSelector: r,
                unblockSelector: s,
                maskAllText: c,
                maskTextClass: d,
                unmaskTextClass: u,
                maskTextSelector: p,
                unmaskTextSelector: m,
                inlineStylesheet: g,
                maskInputOptions: W,
                dataURLOptions: S,
                maskAttributeFn: v,
                maskTextFn: w,
                maskInputFn: y,
                recordCanvas: $,
                inlineImages: A,
                sampling: T,
                slimDOMOptions: F,
                iframeManager: K,
                stylesheetManager: Y,
                canvasManager: X,
                keepIframeSrcFn: M,
                processedNodeManager: Z
            },
            mirror: yd
        })
          , J = (e=!1) => {
            _d({
                type: Ac.Meta,
                data: {
                    href: window.location.href,
                    width: hc(),
                    height: gc()
                }
            }, e),
            Y.reset(),
            Q.init(),
            Yc.forEach((e => e.lock()));
            const t = function(e, t) {
                const {mirror: n=new Cl, blockClass: o="rr-block", blockSelector: i=null, unblockSelector: r=null, maskAllText: s=!1, maskTextClass: a="rr-mask", unmaskTextClass: l=null, maskTextSelector: c=null, unmaskTextSelector: d=null, inlineStylesheet: u=!0, inlineImages: p=!1, recordCanvas: m=!1, maskAllInputs: g=!1, maskAttributeFn: h, maskTextFn: f, maskInputFn: _, slimDOM: v=!1, dataURLOptions: y, preserveWhiteSpace: w, onSerialize: b, onIframeLoad: E, iframeLoadTimeout: T, onStylesheetLoad: S, stylesheetLoadTimeout: x, keepIframeSrcFn: $=( () => !1)} = t || {};
                return ic(e, {
                    doc: e,
                    mirror: n,
                    blockClass: o,
                    blockSelector: i,
                    unblockSelector: r,
                    maskAllText: s,
                    maskTextClass: a,
                    unmaskTextClass: l,
                    maskTextSelector: c,
                    unmaskTextSelector: d,
                    skipChild: !1,
                    inlineStylesheet: u,
                    maskInputOptions: !0 === g ? {
                        color: !0,
                        date: !0,
                        "datetime-local": !0,
                        email: !0,
                        month: !0,
                        number: !0,
                        range: !0,
                        search: !0,
                        tel: !0,
                        text: !0,
                        time: !0,
                        url: !0,
                        week: !0,
                        textarea: !0,
                        select: !0
                    } : !1 === g ? {} : g,
                    maskAttributeFn: h,
                    maskTextFn: f,
                    maskInputFn: _,
                    slimDOMOptions: !0 === v || "all" === v ? {
                        script: !0,
                        comment: !0,
                        headFavicon: !0,
                        headWhitespace: !0,
                        headMetaDescKeywords: "all" === v,
                        headMetaSocial: !0,
                        headMetaRobots: !0,
                        headMetaHttpEquiv: !0,
                        headMetaAuthorship: !0,
                        headMetaVerification: !0
                    } : !1 === v ? {} : v,
                    dataURLOptions: y,
                    inlineImages: p,
                    recordCanvas: m,
                    preserveWhiteSpace: w,
                    onSerialize: b,
                    onIframeLoad: E,
                    iframeLoadTimeout: T,
                    onStylesheetLoad: S,
                    stylesheetLoadTimeout: x,
                    keepIframeSrcFn: $,
                    newlyAddedElement: !1
                })
            }(document, {
                mirror: yd,
                blockClass: i,
                blockSelector: r,
                unblockSelector: s,
                maskAllText: c,
                maskTextClass: d,
                unmaskTextClass: u,
                maskTextSelector: p,
                unmaskTextSelector: m,
                inlineStylesheet: g,
                maskAllInputs: W,
                maskAttributeFn: v,
                maskInputFn: y,
                maskTextFn: w,
                slimDOM: F,
                dataURLOptions: S,
                recordCanvas: $,
                inlineImages: A,
                onSerialize: e => {
                    bc(e, yd) && K.addIframe(e),
                    Ec(e, yd) && Y.trackLinkElement(e),
                    Tc(e) && Q.addShadowRoot(e.shadowRoot, document)
                }
                ,
                onIframeLoad: (e, t) => {
                    K.attachIframe(e, t),
                    Q.observeAttachShadow(e)
                }
                ,
                onStylesheetLoad: (e, t) => {
                    Y.attachLinkElement(e, t)
                }
                ,
                keepIframeSrcFn: M
            });
            if (!t)
                return console.warn("Failed to snapshot the document");
            _d({
                type: Ac.FullSnapshot,
                data: {
                    node: t,
                    initialOffset: mc(window)
                }
            }),
            Yc.forEach((e => e.unlock())),
            document.adoptedStyleSheets && document.adoptedStyleSheets.length > 0 && Y.adoptStyleSheets(document.adoptedStyleSheets, yd.getId(document))
        }
        ;
        vd = J;
        try {
            const e = []
              , t = e => qc(rd)({
                onMutation: D,
                mutationCb: G,
                mousemoveCb: (e, t) => _d({
                    type: Ac.IncrementalSnapshot,
                    data: {
                        source: t,
                        positions: e
                    }
                }),
                mouseInteractionCb: e => _d({
                    type: Ac.IncrementalSnapshot,
                    data: {
                        source: Rc.MouseInteraction,
                        ...e
                    }
                }),
                scrollCb: q,
                viewportResizeCb: e => _d({
                    type: Ac.IncrementalSnapshot,
                    data: {
                        source: Rc.ViewportResize,
                        ...e
                    }
                }),
                inputCb: e => _d({
                    type: Ac.IncrementalSnapshot,
                    data: {
                        source: Rc.Input,
                        ...e
                    }
                }),
                mediaInteractionCb: e => _d({
                    type: Ac.IncrementalSnapshot,
                    data: {
                        source: Rc.MediaInteraction,
                        ...e
                    }
                }),
                styleSheetRuleCb: e => _d({
                    type: Ac.IncrementalSnapshot,
                    data: {
                        source: Rc.StyleSheetRule,
                        ...e
                    }
                }),
                styleDeclarationCb: e => _d({
                    type: Ac.IncrementalSnapshot,
                    data: {
                        source: Rc.StyleDeclaration,
                        ...e
                    }
                }),
                canvasMutationCb: V,
                fontCb: e => _d({
                    type: Ac.IncrementalSnapshot,
                    data: {
                        source: Rc.Font,
                        ...e
                    }
                }),
                selectionCb: e => {
                    _d({
                        type: Ac.IncrementalSnapshot,
                        data: {
                            source: Rc.Selection,
                            ...e
                        }
                    })
                }
                ,
                customElementCb: e => {
                    _d({
                        type: Ac.IncrementalSnapshot,
                        data: {
                            source: Rc.CustomElement,
                            ...e
                        }
                    })
                }
                ,
                blockClass: i,
                ignoreClass: a,
                ignoreSelector: l,
                maskAllText: c,
                maskTextClass: d,
                unmaskTextClass: u,
                maskTextSelector: p,
                unmaskTextSelector: m,
                maskInputOptions: W,
                inlineStylesheet: g,
                sampling: T,
                recordCanvas: $,
                inlineImages: A,
                userTriggeredOnInput: I,
                collectFonts: L,
                doc: e,
                maskAttributeFn: v,
                maskInputFn: y,
                maskTextFn: w,
                keepIframeSrcFn: M,
                blockSelector: r,
                unblockSelector: s,
                slimDOMOptions: F,
                dataURLOptions: S,
                mirror: yd,
                iframeManager: K,
                stylesheetManager: Y,
                shadowDomManager: Q,
                processedNodeManager: Z,
                canvasManager: X,
                ignoreCSSAttributes: O,
                plugins: Ji([R, "optionalAccess", e => e.filter, "call", e => e((e => e.observer)), "optionalAccess", e => e.map, "call", e => e((e => ({
                    observer: e.observer,
                    options: e.options,
                    callback: t => _d({
                        type: Ac.Plugin,
                        data: {
                            plugin: e.name,
                            payload: t
                        }
                    })
                })))]) || []
            }, {});
            K.addLoadListener((n => {
                try {
                    e.push(t(n.contentDocument))
                } catch (e) {
                    console.warn(e)
                }
            }
            ));
            const n = () => {
                J(),
                e.push(t(document))
            }
            ;
            return "interactive" === document.readyState || "complete" === document.readyState ? n() : (e.push(sc("DOMContentLoaded", ( () => {
                _d({
                    type: Ac.DomContentLoaded,
                    data: {}
                }),
                "DOMContentLoaded" === k && n()
            }
            ))),
            e.push(sc("load", ( () => {
                _d({
                    type: Ac.Load,
                    data: {}
                }),
                "load" === k && n()
            }
            ), window))),
            () => {
                e.forEach((e => e())),
                Z.destroy(),
                vd = void 0,
                Gc = void 0
            }
        } catch (e) {
            console.warn(e)
        }
    }
    wd.mirror = yd,
    wd.takeFullSnapshot = function(e) {
        if (!vd)
            throw new Error("please take full snapshot after start recording");
        vd(e)
    }
    ;
    const bd = 3;
    function Ed(e) {
        return e > 9999999999 ? e : 1e3 * e
    }
    function Td(e) {
        return e > 9999999999 ? e / 1e3 : e
    }
    function Sd(e, t) {
        "sentry.transaction" !== t.category && (["ui.click", "ui.input"].includes(t.category) ? e.triggerUserActivity() : e.checkAndHandleExpiredSession(),
        e.addUpdate(( () => (e.throttledAddEvent({
            type: Ac.Custom,
            timestamp: 1e3 * (t.timestamp || 0),
            data: {
                tag: "breadcrumb",
                payload: pi(t, 10, 1e3)
            }
        }),
        "console" === t.category))))
    }
    const xd = "button,a";
    function $d(e) {
        return e.closest(xd) || e
    }
    function Cd(e) {
        const t = kd(e);
        return t && t instanceof Element ? $d(t) : t
    }
    function kd(e) {
        return function(e) {
            return "object" == typeof e && !!e && "target"in e
        }(e) ? e.target : e
    }
    let Id;
    function Ld(e) {
        return Id || (Id = [],
        ro(ml, "open", (function(e) {
            return function(...t) {
                if (Id)
                    try {
                        Id.forEach((e => e()))
                    } catch (e) {}
                return e.apply(ml, t)
            }
        }
        ))),
        Id.push(e),
        () => {
            const t = Id ? Id.indexOf(e) : -1;
            t > -1 && Id.splice(t, 1)
        }
    }
    class Ad {
        constructor(e, t, n=Sd) {
            this._lastMutation = 0,
            this._lastScroll = 0,
            this._clicks = [],
            this._timeout = t.timeout / 1e3,
            this._threshold = t.threshold / 1e3,
            this._scollTimeout = t.scrollTimeout / 1e3,
            this._replay = e,
            this._ignoreSelector = t.ignoreSelector,
            this._addBreadcrumbEvent = n
        }
        addListeners() {
            const e = Ld(( () => {
                this._lastMutation = Md()
            }
            ));
            this._teardown = () => {
                e(),
                this._clicks = [],
                this._lastMutation = 0,
                this._lastScroll = 0
            }
        }
        removeListeners() {
            this._teardown && this._teardown(),
            this._checkClickTimeout && clearTimeout(this._checkClickTimeout)
        }
        handleClick(e, t) {
            if (function(e, t) {
                if (!Rd.includes(e.tagName))
                    return !0;
                if ("INPUT" === e.tagName && !["submit", "button"].includes(e.getAttribute("type") || ""))
                    return !0;
                if ("A" === e.tagName && (e.hasAttribute("download") || e.hasAttribute("target") && "_self" !== e.getAttribute("target")))
                    return !0;
                if (t && e.matches(t))
                    return !0;
                return !1
            }(t, this._ignoreSelector) || !function(e) {
                return !(!e.data || "number" != typeof e.data.nodeId || !e.timestamp)
            }(e))
                return;
            const n = {
                timestamp: Td(e.timestamp),
                clickBreadcrumb: e,
                clickCount: 0,
                node: t
            };
            this._clicks.some((e => e.node === n.node && Math.abs(e.timestamp - n.timestamp) < 1)) || (this._clicks.push(n),
            1 === this._clicks.length && this._scheduleCheckClicks())
        }
        registerMutation(e=Date.now()) {
            this._lastMutation = Td(e)
        }
        registerScroll(e=Date.now()) {
            this._lastScroll = Td(e)
        }
        registerClick(e) {
            const t = $d(e);
            this._handleMultiClick(t)
        }
        _handleMultiClick(e) {
            this._getClicks(e).forEach((e => {
                e.clickCount++
            }
            ))
        }
        _getClicks(e) {
            return this._clicks.filter((t => t.node === e))
        }
        _checkClicks() {
            const e = []
              , t = Md();
            this._clicks.forEach((n => {
                !n.mutationAfter && this._lastMutation && (n.mutationAfter = n.timestamp <= this._lastMutation ? this._lastMutation - n.timestamp : void 0),
                !n.scrollAfter && this._lastScroll && (n.scrollAfter = n.timestamp <= this._lastScroll ? this._lastScroll - n.timestamp : void 0),
                n.timestamp + this._timeout <= t && e.push(n)
            }
            ));
            for (const t of e) {
                const e = this._clicks.indexOf(t);
                e > -1 && (this._generateBreadcrumbs(t),
                this._clicks.splice(e, 1))
            }
            this._clicks.length && this._scheduleCheckClicks()
        }
        _generateBreadcrumbs(e) {
            const t = this._replay
              , n = e.scrollAfter && e.scrollAfter <= this._scollTimeout
              , o = e.mutationAfter && e.mutationAfter <= this._threshold
              , i = !n && !o
              , {clickCount: r, clickBreadcrumb: s} = e;
            if (i) {
                const n = 1e3 * Math.min(e.mutationAfter || this._timeout, this._timeout)
                  , o = n < 1e3 * this._timeout ? "mutation" : "timeout"
                  , i = {
                    type: "default",
                    message: s.message,
                    timestamp: s.timestamp,
                    category: "ui.slowClickDetected",
                    data: {
                        ...s.data,
                        url: ml.location.href,
                        route: t.getCurrentRoute(),
                        timeAfterClickMs: n,
                        endReason: o,
                        clickCount: r || 1
                    }
                };
                this._addBreadcrumbEvent(t, i)
            } else if (r > 1) {
                const e = {
                    type: "default",
                    message: s.message,
                    timestamp: s.timestamp,
                    category: "ui.multiClick",
                    data: {
                        ...s.data,
                        url: ml.location.href,
                        route: t.getCurrentRoute(),
                        clickCount: r,
                        metric: !0
                    }
                };
                this._addBreadcrumbEvent(t, e)
            }
        }
        _scheduleCheckClicks() {
            this._checkClickTimeout && clearTimeout(this._checkClickTimeout),
            this._checkClickTimeout = setTimeout(( () => this._checkClicks()), 1e3)
        }
    }
    const Rd = ["A", "BUTTON", "INPUT"];
    function Md() {
        return Date.now() / 1e3
    }
    function Od(e, t) {
        try {
            if (!function(e) {
                return e.type === bd
            }(t))
                return;
            const {source: n} = t.data;
            if (n === Rc.Mutation && e.registerMutation(t.timestamp),
            n === Rc.Scroll && e.registerScroll(t.timestamp),
            function(e) {
                return e.data.source === Rc.MouseInteraction
            }(t)) {
                const {type: n, id: o} = t.data
                  , i = wd.mirror.getNode(o);
                i instanceof HTMLElement && n === Mc.Click && e.registerClick(i)
            }
        } catch (e) {}
    }
    function Nd(e) {
        return {
            timestamp: Date.now() / 1e3,
            type: "default",
            ...e
        }
    }
    var Dd;
    !function(e) {
        e[e.Document = 0] = "Document",
        e[e.DocumentType = 1] = "DocumentType",
        e[e.Element = 2] = "Element",
        e[e.Text = 3] = "Text",
        e[e.CDATA = 4] = "CDATA",
        e[e.Comment = 5] = "Comment"
    }(Dd || (Dd = {}));
    const Pd = new Set(["id", "class", "aria-label", "role", "name", "alt", "title", "data-test-id", "data-testid", "disabled", "aria-disabled", "data-sentry-component"]);
    function Ud(e) {
        const t = {};
        for (const n in e)
            if (Pd.has(n)) {
                let o = n;
                "data-testid" !== n && "data-test-id" !== n || (o = "testId"),
                t[o] = e[n]
            }
        return t
    }
    const Bd = e => t => {
        if (!e.isEnabled())
            return;
        const n = function(e) {
            const {target: t, message: n} = function(e) {
                const t = "click" === e.name;
                let n, o = null;
                try {
                    o = t ? Cd(e.event) : kd(e.event),
                    n = qn(o, {
                        maxStringLength: 200
                    }) || "<unknown>"
                } catch (e) {
                    n = "<unknown>"
                }
                return {
                    target: o,
                    message: n
                }
            }(e);
            return Nd({
                category: `ui.${e.name}`,
                ...Wd(t, n)
            })
        }(t);
        if (!n)
            return;
        const o = "click" === t.name
          , i = o ? t.event : void 0;
        var r, s, a;
        !(o && e.clickDetector && i && i.target) || i.altKey || i.metaKey || i.ctrlKey || i.shiftKey || (r = e.clickDetector,
        s = n,
        a = Cd(t.event),
        r.handleClick(s, a)),
        Sd(e, n)
    }
    ;
    function Wd(e, t) {
        const n = wd.mirror.getId(e)
          , o = n && wd.mirror.getNode(n)
          , i = o && wd.mirror.getMeta(o)
          , r = i && function(e) {
            return e.type === Dd.Element
        }(i) ? i : null;
        return {
            message: t,
            data: r ? {
                nodeId: n,
                node: {
                    id: n,
                    tagName: r.tagName,
                    textContent: Array.from(r.childNodes).map((e => e.type === Dd.Text && e.textContent)).filter(Boolean).map((e => e.trim())).join(""),
                    attributes: Ud(r.attributes)
                }
            } : {}
        }
    }
    function Fd(e, t) {
        if (!e.isEnabled())
            return;
        e.updateUserActivity();
        const n = function(e) {
            const {metaKey: t, shiftKey: n, ctrlKey: o, altKey: i, key: r, target: s} = e;
            if (!s || function(e) {
                return "INPUT" === e.tagName || "TEXTAREA" === e.tagName || e.isContentEditable
            }(s) || !r)
                return null;
            const a = t || o || i
              , l = 1 === r.length;
            if (!a && l)
                return null;
            const c = qn(s, {
                maxStringLength: 200
            }) || "<unknown>"
              , d = Wd(s, c);
            return Nd({
                category: "ui.keyDown",
                message: c,
                data: {
                    ...d.data,
                    metaKey: t,
                    shiftKey: n,
                    ctrlKey: o,
                    altKey: i,
                    key: r
                }
            })
        }(t);
        n && Sd(e, n)
    }
    const zd = {
        resource: function(e) {
            const {entryType: t, initiatorType: n, name: o, responseEnd: i, startTime: r, decodedBodySize: s, encodedBodySize: a, responseStatus: l, transferSize: c} = e;
            if (["fetch", "xmlhttprequest"].includes(n))
                return null;
            return {
                type: `${t}.${n}`,
                start: jd(r),
                end: jd(i),
                name: o,
                data: {
                    size: c,
                    statusCode: l,
                    decodedBodySize: s,
                    encodedBodySize: a
                }
            }
        },
        paint: function(e) {
            const {duration: t, entryType: n, name: o, startTime: i} = e
              , r = jd(i);
            return {
                type: n,
                name: o,
                start: r,
                end: r + t,
                data: void 0
            }
        },
        navigation: function(e) {
            const {entryType: t, name: n, decodedBodySize: o, duration: i, domComplete: r, encodedBodySize: s, domContentLoadedEventStart: a, domContentLoadedEventEnd: l, domInteractive: c, loadEventStart: d, loadEventEnd: u, redirectCount: p, startTime: m, transferSize: g, type: h} = e;
            if (0 === i)
                return null;
            return {
                type: `${t}.${h}`,
                start: jd(m),
                end: jd(r),
                name: n,
                data: {
                    size: g,
                    decodedBodySize: o,
                    encodedBodySize: s,
                    duration: i,
                    domInteractive: c,
                    domContentLoadedEventStart: a,
                    domContentLoadedEventEnd: l,
                    loadEventStart: d,
                    loadEventEnd: u,
                    domComplete: r,
                    redirectCount: p
                }
            }
        }
    };
    function Hd(e) {
        return zd[e.entryType] ? zd[e.entryType](e) : null
    }
    function jd(e) {
        return ((Ui || ml.performance.timeOrigin) + e) / 1e3
    }
    function Gd(e) {
        function t(t) {
            e.performanceEntries.includes(t) || e.performanceEntries.push(t)
        }
        function n({entries: e}) {
            e.forEach(t)
        }
        const o = [];
        return ["navigation", "paint", "resource"].forEach((e => {
            o.push(ua(e, n))
        }
        )),
        o.push(da(( ({metric: t}) => {
            e.replayPerformanceEntries.push(function(e) {
                const t = e.entries
                  , n = t[t.length - 1]
                  , o = n ? n.element : void 0
                  , i = e.value
                  , r = jd(i);
                return {
                    type: "largest-contentful-paint",
                    name: "largest-contentful-paint",
                    start: r,
                    end: r,
                    data: {
                        value: i,
                        size: i,
                        nodeId: o ? wd.mirror.getId(o) : void 0
                    }
                }
            }(t))
        }
        ))),
        () => {
            o.forEach((e => e()))
        }
    }
    const qd = "undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__
      , Vd = 'var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';
    function Yd(e, t) {
        qd && (Jn.info(e),
        t && Zd(e))
    }
    function Kd(e, t) {
        qd && (Jn.info(e),
        t && setTimeout(( () => {
            Zd(e)
        }
        ), 0))
    }
    function Zd(e) {
        yr({
            category: "console",
            data: {
                logger: "replay"
            },
            level: "info",
            message: e
        }, {
            level: "info"
        })
    }
    class Xd extends Error {
        constructor() {
            super("Event buffer exceeded maximum size of 20000000.")
        }
    }
    class Qd {
        constructor() {
            this.events = [],
            this._totalSize = 0,
            this.hasCheckout = !1
        }
        get hasEvents() {
            return this.events.length > 0
        }
        get type() {
            return "sync"
        }
        destroy() {
            this.events = []
        }
        async addEvent(e) {
            const t = JSON.stringify(e).length;
            if (this._totalSize += t,
            this._totalSize > yl)
                throw new Xd;
            this.events.push(e)
        }
        finish() {
            return new Promise((e => {
                const t = this.events;
                this.clear(),
                e(JSON.stringify(t))
            }
            ))
        }
        clear() {
            this.events = [],
            this._totalSize = 0,
            this.hasCheckout = !1
        }
        getEarliestTimestamp() {
            const e = this.events.map((e => e.timestamp)).sort()[0];
            return e ? Ed(e) : null
        }
    }
    class Jd {
        constructor(e) {
            this._worker = e,
            this._id = 0
        }
        ensureReady() {
            return this._ensureReadyPromise || (this._ensureReadyPromise = new Promise(( (e, t) => {
                this._worker.addEventListener("message", ( ({data: n}) => {
                    n.success ? e() : t()
                }
                ), {
                    once: !0
                }),
                this._worker.addEventListener("error", (e => {
                    t(e)
                }
                ), {
                    once: !0
                })
            }
            ))),
            this._ensureReadyPromise
        }
        destroy() {
            Yd("[Replay] Destroying compression worker"),
            this._worker.terminate()
        }
        postMessage(e, t) {
            const n = this._getAndIncrementId();
            return new Promise(( (o, i) => {
                const r = ({data: t}) => {
                    const s = t;
                    if (s.method === e && s.id === n) {
                        if (this._worker.removeEventListener("message", r),
                        !s.success)
                            return qd && Jn.error("[Replay]", s.response),
                            void i(new Error("Error in compression worker"));
                        o(s.response)
                    }
                }
                ;
                this._worker.addEventListener("message", r),
                this._worker.postMessage({
                    id: n,
                    method: e,
                    arg: t
                })
            }
            ))
        }
        _getAndIncrementId() {
            return this._id++
        }
    }
    class eu {
        constructor(e) {
            this._worker = new Jd(e),
            this._earliestTimestamp = null,
            this._totalSize = 0,
            this.hasCheckout = !1
        }
        get hasEvents() {
            return !!this._earliestTimestamp
        }
        get type() {
            return "worker"
        }
        ensureReady() {
            return this._worker.ensureReady()
        }
        destroy() {
            this._worker.destroy()
        }
        addEvent(e) {
            const t = Ed(e.timestamp);
            (!this._earliestTimestamp || t < this._earliestTimestamp) && (this._earliestTimestamp = t);
            const n = JSON.stringify(e);
            return this._totalSize += n.length,
            this._totalSize > yl ? Promise.reject(new Xd) : this._sendEventToWorker(n)
        }
        finish() {
            return this._finishRequest()
        }
        clear() {
            this._earliestTimestamp = null,
            this._totalSize = 0,
            this.hasCheckout = !1,
            this._worker.postMessage("clear").then(null, (e => {
                qd && Jn.warn('[Replay] Sending "clear" message to worker failed', e)
            }
            ))
        }
        getEarliestTimestamp() {
            return this._earliestTimestamp
        }
        _sendEventToWorker(e) {
            return this._worker.postMessage("addEvent", e)
        }
        async _finishRequest() {
            const e = await this._worker.postMessage("finish");
            return this._earliestTimestamp = null,
            this._totalSize = 0,
            e
        }
    }
    class tu {
        constructor(e) {
            this._fallback = new Qd,
            this._compression = new eu(e),
            this._used = this._fallback,
            this._ensureWorkerIsLoadedPromise = this._ensureWorkerIsLoaded()
        }
        get type() {
            return this._used.type
        }
        get hasEvents() {
            return this._used.hasEvents
        }
        get hasCheckout() {
            return this._used.hasCheckout
        }
        set hasCheckout(e) {
            this._used.hasCheckout = e
        }
        destroy() {
            this._fallback.destroy(),
            this._compression.destroy()
        }
        clear() {
            return this._used.clear()
        }
        getEarliestTimestamp() {
            return this._used.getEarliestTimestamp()
        }
        addEvent(e) {
            return this._used.addEvent(e)
        }
        async finish() {
            return await this.ensureWorkerIsLoaded(),
            this._used.finish()
        }
        ensureWorkerIsLoaded() {
            return this._ensureWorkerIsLoadedPromise
        }
        async _ensureWorkerIsLoaded() {
            try {
                await this._compression.ensureReady()
            } catch (e) {
                return void Yd("[Replay] Failed to load the compression worker, falling back to simple buffer")
            }
            await this._switchToCompressionWorker()
        }
        async _switchToCompressionWorker() {
            const {events: e, hasCheckout: t} = this._fallback
              , n = [];
            for (const t of e)
                n.push(this._compression.addEvent(t));
            this._compression.hasCheckout = t,
            this._used = this._compression;
            try {
                await Promise.all(n)
            } catch (e) {
                qd && Jn.warn("[Replay] Failed to add events when switching buffers.", e)
            }
        }
    }
    function nu({useCompression: e, workerUrl: t}) {
        if (e && window.Worker) {
            const e = function(e) {
                try {
                    const t = e || function() {
                        if ("undefined" == typeof __SENTRY_EXCLUDE_REPLAY_WORKER__ || !__SENTRY_EXCLUDE_REPLAY_WORKER__)
                            return function() {
                                const e = new Blob([Vd]);
                                return URL.createObjectURL(e)
                            }();
                        return ""
                    }();
                    if (!t)
                        return;
                    Yd("[Replay] Using compression worker" + (e ? ` from ${e}` : ""));
                    const n = new Worker(t);
                    return new tu(n)
                } catch (e) {
                    Yd("[Replay] Failed to create compression worker")
                }
            }(t);
            if (e)
                return e
        }
        return Yd("[Replay] Using simple buffer"),
        new Qd
    }
    function ou() {
        try {
            return "sessionStorage"in ml && !!ml.sessionStorage
        } catch (e) {
            return !1
        }
    }
    function iu(e) {
        !function() {
            if (!ou())
                return;
            try {
                ml.sessionStorage.removeItem(gl)
            } catch (e) {}
        }(),
        e.session = void 0
    }
    function ru(e) {
        return void 0 !== e && Math.random() < e
    }
    function su(e) {
        const t = Date.now();
        return {
            id: e.id || Co(),
            started: e.started || t,
            lastActivity: e.lastActivity || t,
            segmentId: e.segmentId || 0,
            sampled: e.sampled,
            previousSessionId: e.previousSessionId
        }
    }
    function au(e) {
        if (ou())
            try {
                ml.sessionStorage.setItem(gl, JSON.stringify(e))
            } catch (e) {}
    }
    function lu({sessionSampleRate: e, allowBuffering: t, stickySession: n=!1}, {previousSessionId: o}={}) {
        const i = function(e, t) {
            return ru(e) ? "session" : !!t && "buffer"
        }(e, t)
          , r = su({
            sampled: i,
            previousSessionId: o
        });
        return n && au(r),
        r
    }
    function cu(e, t, n=+new Date) {
        return null === e || void 0 === t || t < 0 || 0 !== t && e + t <= n
    }
    function du(e, {maxReplayDuration: t, sessionIdleExpire: n, targetTime: o=Date.now()}) {
        return cu(e.started, t, o) || cu(e.lastActivity, n, o)
    }
    function uu(e, {sessionIdleExpire: t, maxReplayDuration: n}) {
        return !!du(e, {
            sessionIdleExpire: t,
            maxReplayDuration: n
        }) && ("buffer" !== e.sampled || 0 !== e.segmentId)
    }
    function pu({traceInternals: e, sessionIdleExpire: t, maxReplayDuration: n, previousSessionId: o}, i) {
        const r = i.stickySession && function(e) {
            if (!ou())
                return null;
            try {
                const t = ml.sessionStorage.getItem(gl);
                if (!t)
                    return null;
                const n = JSON.parse(t);
                return Kd("[Replay] Loading existing session", e),
                su(n)
            } catch (e) {
                return null
            }
        }(e);
        return r ? uu(r, {
            sessionIdleExpire: t,
            maxReplayDuration: n
        }) ? (Kd("[Replay] Session in sessionStorage is expired, creating new one..."),
        lu(i, {
            previousSessionId: r.id
        })) : r : (Kd("[Replay] Creating new session", e),
        lu(i, {
            previousSessionId: o
        }))
    }
    function mu(e, t, n) {
        return !!hu(e, t) && (gu(e, t, n),
        !0)
    }
    async function gu(e, t, n) {
        if (!e.eventBuffer)
            return null;
        try {
            n && "buffer" === e.recordingMode && e.eventBuffer.clear(),
            n && (e.eventBuffer.hasCheckout = !0);
            const o = function(e, t) {
                try {
                    if ("function" == typeof t && function(e) {
                        return e.type === Ac.Custom
                    }(e))
                        return t(e)
                } catch (e) {
                    return qd && Jn.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...", e),
                    null
                }
                return e
            }(t, e.getOptions().beforeAddRecordingEvent);
            if (!o)
                return;
            return await e.eventBuffer.addEvent(o)
        } catch (t) {
            const n = t && t instanceof Xd ? "addEventSizeExceeded" : "addEvent";
            qd && Jn.error(t),
            await e.stop({
                reason: n
            });
            const o = br();
            o && o.recordDroppedEvent("internal_sdk_error", "replay")
        }
    }
    function hu(e, t) {
        if (!e.eventBuffer || e.isPaused() || !e.isEnabled())
            return !1;
        const n = Ed(t.timestamp);
        return !(n + e.timeouts.sessionIdlePause < Date.now()) && (!(n > e.getContext().initialTimestamp + e.getOptions().maxReplayDuration) || (Yd(`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`, e.getOptions()._experiments.traceInternals),
        !1))
    }
    function fu(e) {
        return !e.type
    }
    function _u(e) {
        return "transaction" === e.type
    }
    function vu(e) {
        return "feedback" === e.type
    }
    function yu(e) {
        const t = function() {
            const e = br();
            if (!e)
                return !1;
            const t = e.getTransport();
            if (!t)
                return !1;
            return t.send.__sentry__baseTransport__ || !1
        }();
        return (n, o) => {
            if (!e.isEnabled() || !fu(n) && !_u(n))
                return;
            const i = o && o.statusCode;
            t && (!i || i < 200 || i >= 300) || (_u(n) ? function(e, t) {
                const n = e.getContext();
                t.contexts && t.contexts.trace && t.contexts.trace.trace_id && n.traceIds.size < 100 && n.traceIds.add(t.contexts.trace.trace_id)
            }(e, n) : function(e, t) {
                const n = e.getContext();
                t.event_id && n.errorIds.size < 100 && n.errorIds.add(t.event_id);
                if ("buffer" !== e.recordingMode || !t.tags || !t.tags.replayId)
                    return;
                const {beforeErrorSampling: o} = e.getOptions();
                if ("function" == typeof o && !o(t))
                    return;
                setTimeout(( () => {
                    e.sendBufferedReplayOrFlush()
                }
                ))
            }(e, n))
        }
    }
    function wu(e) {
        return t => {
            e.isEnabled() && fu(t) && function(e, t) {
                const n = t.exception && t.exception.values && t.exception.values[0].value;
                if ("string" != typeof n)
                    return;
                if (n.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/) || n.match(/(does not match server-rendered HTML|Hydration failed because)/i)) {
                    Sd(e, Nd({
                        category: "replay.hydrate-error"
                    }))
                }
            }(e, t)
        }
    }
    function bu(e, t=!1) {
        const n = t ? yu(e) : void 0;
        return Object.assign(( (t, o) => {
            if (!e.isEnabled())
                return t;
            if (function(e) {
                return "replay_event" === e.type
            }(t))
                return delete t.breadcrumbs,
                t;
            if (!fu(t) && !_u(t) && !vu(t))
                return t;
            if (!e.checkAndHandleExpiredSession())
                return t;
            if (vu(t))
                return e.flush(),
                t.contexts.feedback.replay_id = e.getSessionId(),
                function(e, t) {
                    e.triggerUserActivity(),
                    e.addUpdate(( () => !t.timestamp || (e.throttledAddEvent({
                        type: Ac.Custom,
                        timestamp: 1e3 * t.timestamp,
                        data: {
                            tag: "breadcrumb",
                            payload: {
                                timestamp: t.timestamp,
                                type: "default",
                                category: "sentry.feedback",
                                data: {
                                    feedbackId: t.event_id
                                }
                            }
                        }
                    }),
                    !1)))
                }(e, t),
                t;
            if (function(e, t) {
                return !(e.type || !e.exception || !e.exception.values || !e.exception.values.length || !t.originalException || !t.originalException.__rrweb__)
            }(t, o) && !e.getOptions()._experiments.captureExceptions)
                return qd && Jn.log("[Replay] Ignoring error from rrweb internals", t),
                null;
            const i = function(e, t) {
                return "buffer" === e.recordingMode && t.message !== fl && !(!t.exception || t.type) && ru(e.getOptions().errorSampleRate)
            }(e, t);
            return (i || "session" === e.recordingMode) && (t.tags = {
                ...t.tags,
                replayId: e.getSessionId()
            }),
            n && n(t, {
                statusCode: 200
            }),
            t
        }
        ), {
            id: "Replay"
        })
    }
    function Eu(e, t) {
        return t.map(( ({type: t, start: n, end: o, name: i, data: r}) => {
            const s = e.throttledAddEvent({
                type: Ac.Custom,
                timestamp: n,
                data: {
                    tag: "performanceSpan",
                    payload: {
                        op: t,
                        description: i,
                        startTimestamp: n,
                        endTimestamp: o,
                        data: r
                    }
                }
            });
            return "string" == typeof s ? Promise.resolve(null) : s
        }
        ))
    }
    function Tu(e) {
        return t => {
            if (!e.isEnabled())
                return;
            const n = function(e) {
                const {from: t, to: n} = e
                  , o = Date.now() / 1e3;
                return {
                    type: "navigation.push",
                    start: o,
                    end: o,
                    name: n,
                    data: {
                        previous: t
                    }
                }
            }(t);
            null !== n && (e.getContext().urls.push(n.name),
            e.triggerUserActivity(),
            e.addUpdate(( () => (Eu(e, [n]),
            !1))))
        }
    }
    function Su(e, t) {
        e.isEnabled() && null !== t && (function(e, t) {
            return (!qd || !e.getOptions()._experiments.traceInternals) && gs(t, br())
        }(e, t.name) || e.addUpdate(( () => (Eu(e, [t]),
        !0))))
    }
    function xu(e) {
        return t => {
            if (!e.isEnabled())
                return;
            const n = function(e) {
                const {startTimestamp: t, endTimestamp: n, xhr: o} = e
                  , i = o[ri];
                if (!t || !n || !i)
                    return null;
                const {method: r, url: s, status_code: a} = i;
                return void 0 === s ? null : {
                    type: "resource.xhr",
                    name: s,
                    start: t / 1e3,
                    end: n / 1e3,
                    data: {
                        method: r,
                        statusCode: a
                    }
                }
            }(t);
            Su(e, n)
        }
    }
    function $u(e, t) {
        if (e)
            try {
                if ("string" == typeof e)
                    return t.encode(e).length;
                if (e instanceof URLSearchParams)
                    return t.encode(e.toString()).length;
                if (e instanceof FormData) {
                    const n = Ou(e);
                    return t.encode(n).length
                }
                if (e instanceof Blob)
                    return e.size;
                if (e instanceof ArrayBuffer)
                    return e.byteLength
            } catch (e) {}
    }
    function Cu(e) {
        if (!e)
            return;
        const t = parseInt(e, 10);
        return isNaN(t) ? void 0 : t
    }
    function ku(e) {
        try {
            if ("string" == typeof e)
                return [e];
            if (e instanceof URLSearchParams)
                return [e.toString()];
            if (e instanceof FormData)
                return [Ou(e)];
            if (!e)
                return [void 0]
        } catch (t) {
            return qd && Jn.warn("[Replay] Failed to serialize body", e),
            [void 0, "BODY_PARSE_ERROR"]
        }
        return qd && Jn.info("[Replay] Skipping network body because of body type", e),
        [void 0, "UNPARSEABLE_BODY_TYPE"]
    }
    function Iu(e, t) {
        if (!e)
            return {
                headers: {},
                size: void 0,
                _meta: {
                    warnings: [t]
                }
            };
        const n = {
            ...e._meta
        }
          , o = n.warnings || [];
        return n.warnings = [...o, t],
        e._meta = n,
        e
    }
    function Lu(e, t) {
        if (!t)
            return null;
        const {startTimestamp: n, endTimestamp: o, url: i, method: r, statusCode: s, request: a, response: l} = t;
        return {
            type: e,
            start: n / 1e3,
            end: o / 1e3,
            name: i,
            data: mo({
                method: r,
                statusCode: s,
                request: a,
                response: l
            })
        }
    }
    function Au(e) {
        return {
            headers: {},
            size: e,
            _meta: {
                warnings: ["URL_SKIPPED"]
            }
        }
    }
    function Ru(e, t, n) {
        if (!t && 0 === Object.keys(e).length)
            return;
        if (!t)
            return {
                headers: e
            };
        if (!n)
            return {
                headers: e,
                size: t
            };
        const o = {
            headers: e,
            size: t
        }
          , {body: i, warnings: r} = function(e) {
            if (!e || "string" != typeof e)
                return {
                    body: e
                };
            const t = e.length > _l
              , n = function(e) {
                const t = e[0]
                  , n = e[e.length - 1];
                return "[" === t && "]" === n || "{" === t && "}" === n
            }(e);
            if (t) {
                const t = e.slice(0, _l);
                return n ? {
                    body: t,
                    warnings: ["MAYBE_JSON_TRUNCATED"]
                } : {
                    body: `${t}â¦`,
                    warnings: ["TEXT_TRUNCATED"]
                }
            }
            if (n)
                try {
                    return {
                        body: JSON.parse(e)
                    }
                } catch (e) {}
            return {
                body: e
            }
        }(n);
        return o.body = i,
        r && r.length > 0 && (o._meta = {
            warnings: r
        }),
        o
    }
    function Mu(e, t) {
        return Object.keys(e).reduce(( (n, o) => {
            const i = o.toLowerCase();
            return t.includes(i) && e[o] && (n[i] = e[o]),
            n
        }
        ), {})
    }
    function Ou(e) {
        return new URLSearchParams(e).toString()
    }
    function Nu(e, t) {
        const n = function(e, t=ml.document.baseURI) {
            if (e.startsWith("http://") || e.startsWith("https://") || e.startsWith(ml.location.origin))
                return e;
            const n = new URL(e,t);
            if (n.origin !== new URL(t).origin)
                return e;
            const o = n.href;
            if (!e.endsWith("/") && o.endsWith("/"))
                return o.slice(0, -1);
            return o
        }(e);
        return Nn(n, t)
    }
    async function Du(e, t, n) {
        try {
            const o = await async function(e, t, n) {
                const o = Date.now()
                  , {startTimestamp: i=o, endTimestamp: r=o} = t
                  , {url: s, method: a, status_code: l=0, request_body_size: c, response_body_size: d} = e.data
                  , u = Nu(s, n.networkDetailAllowUrls) && !Nu(s, n.networkDetailDenyUrls)
                  , p = u ? function({networkCaptureBodies: e, networkRequestHeaders: t}, n, o) {
                    const i = n ? function(e, t) {
                        if (1 === e.length && "string" != typeof e[0])
                            return Bu(e[0], t);
                        if (2 === e.length)
                            return Bu(e[1], t);
                        return {}
                    }(n, t) : {};
                    if (!e)
                        return Ru(i, o, void 0);
                    const r = Pu(n)
                      , [s,a] = ku(r)
                      , l = Ru(i, o, s);
                    if (a)
                        return Iu(l, a);
                    return l
                }(n, t.input, c) : Au(c)
                  , m = await async function(e, {networkCaptureBodies: t, textEncoder: n, networkResponseHeaders: o}, i, r) {
                    if (!e && void 0 !== r)
                        return Au(r);
                    const s = i ? Uu(i.headers, o) : {};
                    if (!i || !t && void 0 !== r)
                        return Ru(s, r, void 0);
                    const [a,l] = await async function(e) {
                        const t = function(e) {
                            try {
                                return e.clone()
                            } catch (e) {
                                qd && Jn.warn("[Replay] Failed to clone response body", e)
                            }
                        }(e);
                        if (!t)
                            return [void 0, "BODY_PARSE_ERROR"];
                        try {
                            const e = await function(e) {
                                return new Promise(( (t, n) => {
                                    const o = setTimeout(( () => n(new Error("Timeout while trying to read response body"))), 500);
                                    (async function(e) {
                                        return await e.text()
                                    }
                                    )(e).then((e => t(e)), (e => n(e))).finally(( () => clearTimeout(o)))
                                }
                                ))
                            }(t);
                            return [e]
                        } catch (e) {
                            return qd && Jn.warn("[Replay] Failed to get text body from response", e),
                            [void 0, "BODY_PARSE_ERROR"]
                        }
                    }(i)
                      , c = function(e, {networkCaptureBodies: t, textEncoder: n, responseBodySize: o, captureDetails: i, headers: r}) {
                        try {
                            const s = e && e.length && void 0 === o ? $u(e, n) : o;
                            return i ? Ru(r, s, t ? e : void 0) : Au(s)
                        } catch (e) {
                            return qd && Jn.warn("[Replay] Failed to serialize response body", e),
                            Ru(r, o, void 0)
                        }
                    }(a, {
                        networkCaptureBodies: t,
                        textEncoder: n,
                        responseBodySize: r,
                        captureDetails: e,
                        headers: s
                    });
                    if (l)
                        return Iu(c, l);
                    return c
                }(u, n, t.response, d);
                return {
                    startTimestamp: i,
                    endTimestamp: r,
                    url: s,
                    method: a,
                    statusCode: l,
                    request: p,
                    response: m
                }
            }(e, t, n)
              , i = Lu("resource.fetch", o);
            Su(n.replay, i)
        } catch (e) {
            qd && Jn.error("[Replay] Failed to capture fetch breadcrumb", e)
        }
    }
    function Pu(e=[]) {
        if (2 === e.length && "object" == typeof e[1])
            return e[1].body
    }
    function Uu(e, t) {
        const n = {};
        return t.forEach((t => {
            e.get(t) && (n[t] = e.get(t))
        }
        )),
        n
    }
    function Bu(e, t) {
        if (!e)
            return {};
        const n = e.headers;
        return n ? n instanceof Headers ? Uu(n, t) : Array.isArray(n) ? {} : Mu(n, t) : {}
    }
    async function Wu(e, t, n) {
        try {
            const o = function(e, t, n) {
                const o = Date.now()
                  , {startTimestamp: i=o, endTimestamp: r=o, input: s, xhr: a} = t
                  , {url: l, method: c, status_code: d=0, request_body_size: u, response_body_size: p} = e.data;
                if (!l)
                    return null;
                if (!a || !Nu(l, n.networkDetailAllowUrls) || Nu(l, n.networkDetailDenyUrls)) {
                    return {
                        startTimestamp: i,
                        endTimestamp: r,
                        url: l,
                        method: c,
                        statusCode: d,
                        request: Au(u),
                        response: Au(p)
                    }
                }
                const m = a[ri]
                  , g = m ? Mu(m.request_headers, n.networkRequestHeaders) : {}
                  , h = Mu(function(e) {
                    const t = e.getAllResponseHeaders();
                    if (!t)
                        return {};
                    return t.split("\r\n").reduce(( (e, t) => {
                        const [n,o] = t.split(": ");
                        return e[n.toLowerCase()] = o,
                        e
                    }
                    ), {})
                }(a), n.networkResponseHeaders)
                  , [f,_] = n.networkCaptureBodies ? ku(s) : [void 0]
                  , [v,y] = n.networkCaptureBodies ? function(e) {
                    const t = [];
                    try {
                        return [e.responseText]
                    } catch (e) {
                        t.push(e)
                    }
                    try {
                        return function(e, t) {
                            try {
                                if ("string" == typeof e)
                                    return [e];
                                if (e instanceof Document)
                                    return [e.body.outerHTML];
                                if ("json" === t && e && "object" == typeof e)
                                    return [JSON.stringify(e)];
                                if (!e)
                                    return [void 0]
                            } catch (t) {
                                return qd && Jn.warn("[Replay] Failed to serialize body", e),
                                [void 0, "BODY_PARSE_ERROR"]
                            }
                            return qd && Jn.info("[Replay] Skipping network body because of body type", e),
                            [void 0, "UNPARSEABLE_BODY_TYPE"]
                        }(e.response, e.responseType)
                    } catch (e) {
                        t.push(e)
                    }
                    return qd && Jn.warn("[Replay] Failed to get xhr response body", ...t),
                    [void 0]
                }(a) : [void 0]
                  , w = Ru(g, u, f)
                  , b = Ru(h, p, v);
                return {
                    startTimestamp: i,
                    endTimestamp: r,
                    url: l,
                    method: c,
                    statusCode: d,
                    request: _ ? Iu(w, _) : w,
                    response: y ? Iu(b, y) : b
                }
            }(e, t, n)
              , i = Lu("resource.xhr", o);
            Su(n.replay, i)
        } catch (e) {
            qd && Jn.error("[Replay] Failed to capture xhr breadcrumb", e)
        }
    }
    function Fu(e, t, n) {
        const {xhr: o, input: i} = t;
        if (!o)
            return;
        const r = $u(i, n.textEncoder)
          , s = o.getResponseHeader("content-length") ? Cu(o.getResponseHeader("content-length")) : function(e, t, n) {
            try {
                return $u("json" === t && e && "object" == typeof e ? JSON.stringify(e) : e, n)
            } catch (e) {
                return
            }
        }(o.response, o.responseType, n.textEncoder);
        void 0 !== r && (e.data.request_body_size = r),
        void 0 !== s && (e.data.response_body_size = s)
    }
    function zu(e) {
        const t = br();
        try {
            const n = new TextEncoder
              , {networkDetailAllowUrls: o, networkDetailDenyUrls: i, networkCaptureBodies: r, networkRequestHeaders: s, networkResponseHeaders: a} = e.getOptions()
              , l = {
                replay: e,
                textEncoder: n,
                networkDetailAllowUrls: o,
                networkDetailDenyUrls: i,
                networkCaptureBodies: r,
                networkRequestHeaders: s,
                networkResponseHeaders: a
            };
            t && t.on ? t.on("beforeAddBreadcrumb", ( (e, t) => function(e, t, n) {
                if (!t.data)
                    return;
                try {
                    (function(e) {
                        return "xhr" === e.category
                    }
                    )(t) && function(e) {
                        return e && e.xhr
                    }(n) && (Fu(t, n, e),
                    Wu(t, n, e)),
                    function(e) {
                        return "fetch" === e.category
                    }(t) && function(e) {
                        return e && e.response
                    }(n) && (!function(e, t, n) {
                        const {input: o, response: i} = t
                          , r = $u(o ? Pu(o) : void 0, n.textEncoder)
                          , s = i ? Cu(i.headers.get("content-length")) : void 0;
                        void 0 !== r && (e.data.request_body_size = r),
                        void 0 !== s && (e.data.response_body_size = s)
                    }(t, n, e),
                    Du(t, n, e))
                } catch (e) {
                    qd && Jn.warn("Error when enriching network breadcrumb")
                }
            }(l, e, t))) : (Go(function(e) {
                return t => {
                    if (!e.isEnabled())
                        return;
                    const n = function(e) {
                        const {startTimestamp: t, endTimestamp: n, fetchData: o, response: i} = e;
                        if (!n)
                            return null;
                        const {method: r, url: s} = o;
                        return {
                            type: "resource.fetch",
                            start: t / 1e3,
                            end: n / 1e3,
                            name: s,
                            data: {
                                method: r,
                                statusCode: i ? i.status : void 0
                            }
                        }
                    }(t);
                    Su(e, n)
                }
            }(e)),
            si(xu(e)))
        } catch (e) {}
    }
    let Hu = null;
    const ju = e => t => {
        if (!e.isEnabled())
            return;
        const n = function(e) {
            const t = e.getLastBreadcrumb && e.getLastBreadcrumb();
            if (Hu === t || !t)
                return null;
            if (Hu = t,
            !function(e) {
                return !!e.category
            }(t) || ["fetch", "xhr", "sentry.event", "sentry.transaction"].includes(t.category) || t.category.startsWith("ui."))
                return null;
            if ("console" === t.category)
                return function(e) {
                    const t = e.data && e.data.arguments;
                    if (!Array.isArray(t) || 0 === t.length)
                        return Nd(e);
                    let n = !1;
                    const o = t.map((e => {
                        if (!e)
                            return e;
                        if ("string" == typeof e)
                            return e.length > vl ? (n = !0,
                            `${e.slice(0, vl)}â¦`) : e;
                        if ("object" == typeof e)
                            try {
                                const t = pi(e, 7);
                                return JSON.stringify(t).length > vl ? (n = !0,
                                `${JSON.stringify(t, null, 2).slice(0, vl)}â¦`) : t
                            } catch (e) {}
                        return e
                    }
                    ));
                    return Nd({
                        ...e,
                        data: {
                            ...e.data,
                            arguments: o,
                            ...n ? {
                                _meta: {
                                    warnings: ["CONSOLE_ARG_TRUNCATED"]
                                }
                            } : {}
                        }
                    })
                }(t);
            return Nd(t)
        }(t);
        n && Sd(e, n)
    }
    ;
    function Gu(e) {
        const t = Er()
          , n = br();
        t.addScopeListener(ju(e)),
        Bo(Bd(e)),
        ni(Tu(e)),
        zu(e);
        const o = bu(e, !qu(n));
        n && n.addEventProcessor ? n.addEventProcessor(o) : function(e) {
            const t = br();
            t && t.addEventProcessor && t.addEventProcessor(e)
        }(o),
        qu(n) && (n.on("beforeSendEvent", wu(e)),
        n.on("afterSendEvent", yu(e)),
        n.on("createDsc", (t => {
            const n = e.getSessionId();
            if (n && e.isEnabled() && "session" === e.recordingMode) {
                e.checkAndHandleExpiredSession() && (t.replay_id = n)
            }
        }
        )),
        n.on("startTransaction", (t => {
            e.lastTransaction = t
        }
        )),
        n.on("finishTransaction", (t => {
            e.lastTransaction = t
        }
        )),
        n.on("beforeSendFeedback", ( (t, n) => {
            const o = e.getSessionId();
            n && n.includeReplay && e.isEnabled() && o && t.contexts && t.contexts.feedback && (t.contexts.feedback.replay_id = o)
        }
        )))
    }
    function qu(e) {
        return !(!e || !e.on)
    }
    function Vu(e) {
        const {jsHeapSizeLimit: t, totalJSHeapSize: n, usedJSHeapSize: o} = e
          , i = Date.now() / 1e3;
        return {
            type: "memory",
            name: "memory",
            start: i,
            end: i,
            data: {
                memory: {
                    jsHeapSizeLimit: t,
                    totalJSHeapSize: n,
                    usedJSHeapSize: o
                }
            }
        }
    }
    function Yu(e) {
        let t = !1;
        return (n, o) => {
            if (!e.checkAndHandleExpiredSession())
                return void (qd && Jn.warn("[Replay] Received replay event after session expired."));
            const i = o || !t;
            t = !0,
            e.clickDetector && Od(e.clickDetector, n),
            e.addUpdate(( () => {
                if ("buffer" === e.recordingMode && i && e.setInitialState(),
                !mu(e, n, i))
                    return !0;
                if (!i)
                    return !1;
                if (function(e, t) {
                    if (!t || !e.session || 0 !== e.session.segmentId)
                        return;
                    mu(e, function(e) {
                        const t = e.getOptions();
                        return {
                            type: Ac.Custom,
                            timestamp: Date.now(),
                            data: {
                                tag: "options",
                                payload: {
                                    shouldRecordCanvas: e.isRecordingCanvas(),
                                    sessionSampleRate: t.sessionSampleRate,
                                    errorSampleRate: t.errorSampleRate,
                                    useCompressionOption: t.useCompression,
                                    blockAllMedia: t.blockAllMedia,
                                    maskAllText: t.maskAllText,
                                    maskAllInputs: t.maskAllInputs,
                                    useCompression: !!e.eventBuffer && "worker" === e.eventBuffer.type,
                                    networkDetailHasUrls: t.networkDetailAllowUrls.length > 0,
                                    networkCaptureBodies: t.networkCaptureBodies,
                                    networkRequestHasHeaders: t.networkRequestHeaders.length > 0,
                                    networkResponseHasHeaders: t.networkResponseHeaders.length > 0
                                }
                            }
                        }
                    }(e), !1)
                }(e, i),
                e.session && e.session.previousSessionId)
                    return !0;
                if ("buffer" === e.recordingMode && e.session && e.eventBuffer) {
                    const t = e.eventBuffer.getEarliestTimestamp();
                    t && (Yd(`[Replay] Updating session start time to earliest event in buffer to ${new Date(t)}`, e.getOptions()._experiments.traceInternals),
                    e.session.started = t,
                    e.getOptions().stickySession && au(e.session))
                }
                return "session" === e.recordingMode && e.flush(),
                !0
            }
            ))
        }
    }
    async function Ku({recordingData: e, replayId: t, segmentId: n, eventContext: o, timestamp: i, session: r}) {
        const s = function({recordingData: e, headers: t}) {
            let n;
            const o = `${JSON.stringify(t)}\n`;
            if ("string" == typeof e)
                n = `${o}${e}`;
            else {
                const t = (new TextEncoder).encode(o);
                n = new Uint8Array(t.length + e.length),
                n.set(t),
                n.set(e, t.length)
            }
            return n
        }({
            recordingData: e,
            headers: {
                segment_id: n
            }
        })
          , {urls: a, errorIds: l, traceIds: c, initialTimestamp: d} = o
          , u = br()
          , p = Er()
          , m = u && u.getTransport()
          , g = u && u.getDsn();
        if (!(u && m && g && r.sampled))
            return;
        const h = {
            type: hl,
            replay_start_timestamp: d / 1e3,
            timestamp: i / 1e3,
            error_ids: l,
            trace_ids: c,
            urls: a,
            replay_id: t,
            segment_id: n,
            replay_type: r.sampled
        }
          , f = await async function({client: e, scope: t, replayId: n, event: o}) {
            const i = {
                event_id: n,
                integrations: "object" != typeof e._integrations || null === e._integrations || Array.isArray(e._integrations) ? void 0 : Object.keys(e._integrations)
            };
            e.emit && e.emit("preprocessEvent", o, i);
            const r = await pr(e.getOptions(), o, i, t, e, Br());
            if (!r)
                return null;
            r.platform = r.platform || "javascript";
            const s = e.getSdkMetadata && e.getSdkMetadata()
              , {name: a, version: l} = s && s.sdk || {};
            return r.sdk = {
                ...r.sdk,
                name: a || "sentry.javascript.unknown",
                version: l || "0.0.0"
            },
            r
        }({
            scope: p,
            client: u,
            replayId: t,
            event: h
        });
        if (!f)
            return u.recordDroppedEvent("event_processor", "replay", h),
            void Yd("An event processor returned `null`, will not send event.");
        delete f.sdkProcessingMetadata;
        const _ = function(e, t, n, o) {
            return Bi(Yi(e, Vi(e), o, n), [[{
                type: "replay_event"
            }, e], [{
                type: "replay_recording",
                length: "string" == typeof t ? (new TextEncoder).encode(t).length : t.length
            }, t]])
        }(f, s, g, u.getOptions().tunnel);
        let v;
        try {
            v = await m.send(_)
        } catch (e) {
            const t = new Error(fl);
            try {
                t.cause = e
            } catch (e) {}
            throw t
        }
        if (!v)
            return v;
        if ("number" == typeof v.statusCode && (v.statusCode < 200 || v.statusCode >= 300))
            throw new Zu(v.statusCode);
        const y = Xi({}, v);
        if (Zi(y, "replay"))
            throw new Xu(y);
        return v
    }
    class Zu extends Error {
        constructor(e) {
            super(`Transport returned status code ${e}`)
        }
    }
    class Xu extends Error {
        constructor(e) {
            super("Rate limit hit"),
            this.rateLimits = e
        }
    }
    async function Qu(e, t={
        count: 0,
        interval: 5e3
    }) {
        const {recordingData: n, options: o} = e;
        var i, r;
        if (n.length)
            try {
                return await Ku(e),
                !0
            } catch (n) {
                if (n instanceof Zu || n instanceof Xu)
                    throw n;
                if (i = "Replays",
                r = {
                    _retryCount: t.count
                },
                Ur().setContext(i, r),
                qd && o._experiments && o._experiments.captureExceptions && fr(n),
                t.count >= 3) {
                    const e = new Error(`${fl} - max retries exceeded`);
                    try {
                        e.cause = n
                    } catch (e) {}
                    throw e
                }
                return t.interval *= ++t.count,
                new Promise(( (n, o) => {
                    setTimeout((async () => {
                        try {
                            await Qu(e, t),
                            n(!0)
                        } catch (e) {
                            o(e)
                        }
                    }
                    ), t.interval)
                }
                ))
            }
    }
    const Ju = "__THROTTLED";
    function ep(e, t, n) {
        const o = new Map;
        let i = !1;
        return (...r) => {
            const s = Math.floor(Date.now() / 1e3);
            if ((e => {
                const t = e - n;
                o.forEach(( (e, n) => {
                    n < t && o.delete(n)
                }
                ))
            }
            )(s),
            [...o.values()].reduce(( (e, t) => e + t), 0) >= t) {
                const e = i;
                return i = !0,
                e ? "__SKIPPED" : Ju
            }
            i = !1;
            const a = o.get(s) || 0;
            return o.set(s, a + 1),
            e(...r)
        }
    }
    class tp {
        constructor({options: e, recordingOptions: t}) {
            tp.prototype.__init.call(this),
            tp.prototype.__init2.call(this),
            tp.prototype.__init3.call(this),
            tp.prototype.__init4.call(this),
            tp.prototype.__init5.call(this),
            tp.prototype.__init6.call(this),
            this.eventBuffer = null,
            this.performanceEntries = [],
            this.replayPerformanceEntries = [],
            this.recordingMode = "session",
            this.timeouts = {
                sessionIdlePause: 3e5,
                sessionIdleExpire: 9e5
            },
            this._lastActivity = Date.now(),
            this._isEnabled = !1,
            this._isPaused = !1,
            this._hasInitializedCoreListeners = !1,
            this._context = {
                errorIds: new Set,
                traceIds: new Set,
                urls: [],
                initialTimestamp: Date.now(),
                initialUrl: ""
            },
            this._recordingOptions = t,
            this._options = e,
            this._debouncedFlush = function(e, t, n) {
                let o, i, r;
                const s = n && n.maxWait ? Math.max(n.maxWait, t) : 0;
                function a() {
                    return l(),
                    o = e(),
                    o
                }
                function l() {
                    void 0 !== i && clearTimeout(i),
                    void 0 !== r && clearTimeout(r),
                    i = r = void 0
                }
                function c() {
                    return i && clearTimeout(i),
                    i = setTimeout(a, t),
                    s && void 0 === r && (r = setTimeout(a, s)),
                    o
                }
                return c.cancel = l,
                c.flush = function() {
                    return void 0 !== i || void 0 !== r ? a() : o
                }
                ,
                c
            }(( () => this._flush()), this._options.flushMinDelay, {
                maxWait: this._options.flushMaxDelay
            }),
            this._throttledAddEvent = ep(( (e, t) => function(e, t, n) {
                return hu(e, t) ? gu(e, t, n) : Promise.resolve(null)
            }(this, e, t)), 300, 5);
            const {slowClickTimeout: n, slowClickIgnoreSelectors: o} = this.getOptions()
              , i = n ? {
                threshold: Math.min(3e3, n),
                timeout: n,
                scrollTimeout: 300,
                ignoreSelector: o ? o.join(",") : ""
            } : void 0;
            i && (this.clickDetector = new Ad(this,i))
        }
        getContext() {
            return this._context
        }
        isEnabled() {
            return this._isEnabled
        }
        isPaused() {
            return this._isPaused
        }
        isRecordingCanvas() {
            return Boolean(this._canvas)
        }
        getOptions() {
            return this._options
        }
        initializeSampling(e) {
            const {errorSampleRate: t, sessionSampleRate: n} = this._options;
            t <= 0 && n <= 0 || (this._initializeSessionForSampling(e),
            this.session ? !1 !== this.session.sampled && (this.recordingMode = "buffer" === this.session.sampled && 0 === this.session.segmentId ? "buffer" : "session",
            Kd(`[Replay] Starting replay in ${this.recordingMode} mode`, this._options._experiments.traceInternals),
            this._initializeRecording()) : this._handleException(new Error("Unable to initialize and create session")))
        }
        start() {
            if (this._isEnabled && "session" === this.recordingMode)
                throw new Error("Replay recording is already in progress");
            if (this._isEnabled && "buffer" === this.recordingMode)
                throw new Error("Replay buffering is in progress, call `flush()` to save the replay");
            Kd("[Replay] Starting replay in session mode", this._options._experiments.traceInternals),
            this._updateUserActivity();
            const e = pu({
                maxReplayDuration: this._options.maxReplayDuration,
                sessionIdleExpire: this.timeouts.sessionIdleExpire,
                traceInternals: this._options._experiments.traceInternals
            }, {
                stickySession: this._options.stickySession,
                sessionSampleRate: 1,
                allowBuffering: !1
            });
            this.session = e,
            this._initializeRecording()
        }
        startBuffering() {
            if (this._isEnabled)
                throw new Error("Replay recording is already in progress");
            Kd("[Replay] Starting replay in buffer mode", this._options._experiments.traceInternals);
            const e = pu({
                sessionIdleExpire: this.timeouts.sessionIdleExpire,
                maxReplayDuration: this._options.maxReplayDuration,
                traceInternals: this._options._experiments.traceInternals
            }, {
                stickySession: this._options.stickySession,
                sessionSampleRate: 0,
                allowBuffering: !0
            });
            this.session = e,
            this.recordingMode = "buffer",
            this._initializeRecording()
        }
        startRecording() {
            try {
                const e = this._canvas;
                this._stopRecording = wd({
                    ...this._recordingOptions,
                    ..."buffer" === this.recordingMode && {
                        checkoutEveryNms: 6e4
                    },
                    emit: Yu(this),
                    onMutation: this._onMutationHandler,
                    ...e ? {
                        recordCanvas: e.recordCanvas,
                        getCanvasManager: e.getCanvasManager,
                        sampling: e.sampling,
                        dataURLOptions: e.dataURLOptions
                    } : {}
                })
            } catch (e) {
                this._handleException(e)
            }
        }
        stopRecording() {
            try {
                return this._stopRecording && (this._stopRecording(),
                this._stopRecording = void 0),
                !0
            } catch (e) {
                return this._handleException(e),
                !1
            }
        }
        async stop({forceFlush: e=!1, reason: t}={}) {
            if (this._isEnabled) {
                this._isEnabled = !1;
                try {
                    Yd("[Replay] Stopping Replay" + (t ? ` triggered by ${t}` : ""), this._options._experiments.traceInternals),
                    this._removeListeners(),
                    this.stopRecording(),
                    this._debouncedFlush.cancel(),
                    e && await this._flush({
                        force: !0
                    }),
                    this.eventBuffer && this.eventBuffer.destroy(),
                    this.eventBuffer = null,
                    iu(this)
                } catch (e) {
                    this._handleException(e)
                }
            }
        }
        pause() {
            this._isPaused || (this._isPaused = !0,
            this.stopRecording(),
            Yd("[Replay] Pausing replay", this._options._experiments.traceInternals))
        }
        resume() {
            this._isPaused && this._checkSession() && (this._isPaused = !1,
            this.startRecording(),
            Yd("[Replay] Resuming replay", this._options._experiments.traceInternals))
        }
        async sendBufferedReplayOrFlush({continueRecording: e=!0}={}) {
            if ("session" === this.recordingMode)
                return this.flushImmediate();
            const t = Date.now();
            Yd("[Replay] Converting buffer to session", this._options._experiments.traceInternals),
            await this.flushImmediate();
            const n = this.stopRecording();
            e && n && "session" !== this.recordingMode && (this.recordingMode = "session",
            this.session && (this._updateUserActivity(t),
            this._updateSessionActivity(t),
            this._maybeSaveSession()),
            this.startRecording())
        }
        addUpdate(e) {
            const t = e();
            "buffer" !== this.recordingMode && !0 !== t && this._debouncedFlush()
        }
        triggerUserActivity() {
            if (this._updateUserActivity(),
            this._stopRecording)
                this.checkAndHandleExpiredSession(),
                this._updateSessionActivity();
            else {
                if (!this._checkSession())
                    return;
                this.resume()
            }
        }
        updateUserActivity() {
            this._updateUserActivity(),
            this._updateSessionActivity()
        }
        conditionalFlush() {
            return "buffer" === this.recordingMode ? Promise.resolve() : this.flushImmediate()
        }
        flush() {
            return this._debouncedFlush()
        }
        flushImmediate() {
            return this._debouncedFlush(),
            this._debouncedFlush.flush()
        }
        cancelFlush() {
            this._debouncedFlush.cancel()
        }
        getSessionId() {
            return this.session && this.session.id
        }
        checkAndHandleExpiredSession() {
            if (!(this._lastActivity && cu(this._lastActivity, this.timeouts.sessionIdlePause) && this.session && "session" === this.session.sampled))
                return !!this._checkSession();
            this.pause()
        }
        setInitialState() {
            const e = `${ml.location.pathname}${ml.location.hash}${ml.location.search}`
              , t = `${ml.location.origin}${e}`;
            this.performanceEntries = [],
            this.replayPerformanceEntries = [],
            this._clearContext(),
            this._context.initialUrl = t,
            this._context.initialTimestamp = Date.now(),
            this._context.urls.push(t)
        }
        throttledAddEvent(e, t) {
            const n = this._throttledAddEvent(e, t);
            if (n === Ju) {
                const e = Nd({
                    category: "replay.throttled"
                });
                this.addUpdate(( () => !mu(this, {
                    type: 5,
                    timestamp: e.timestamp || 0,
                    data: {
                        tag: "breadcrumb",
                        payload: e,
                        metric: !0
                    }
                })))
            }
            return n
        }
        getCurrentRoute() {
            const e = this.lastTransaction || Er().getTransaction()
              , t = (e && dr(e).data || {})[Kr];
            if (e && t && ["route", "custom"].includes(t))
                return dr(e).description
        }
        _initializeRecording() {
            this.setInitialState(),
            this._updateSessionActivity(),
            this.eventBuffer = nu({
                useCompression: this._options.useCompression,
                workerUrl: this._options.workerUrl
            }),
            this._removeListeners(),
            this._addListeners(),
            this._isEnabled = !0,
            this._isPaused = !1,
            this.startRecording()
        }
        _handleException(e) {
            qd && Jn.error("[Replay]", e),
            qd && this._options._experiments && this._options._experiments.captureExceptions && fr(e)
        }
        _initializeSessionForSampling(e) {
            const t = this._options.errorSampleRate > 0
              , n = pu({
                sessionIdleExpire: this.timeouts.sessionIdleExpire,
                maxReplayDuration: this._options.maxReplayDuration,
                traceInternals: this._options._experiments.traceInternals,
                previousSessionId: e
            }, {
                stickySession: this._options.stickySession,
                sessionSampleRate: this._options.sessionSampleRate,
                allowBuffering: t
            });
            this.session = n
        }
        _checkSession() {
            if (!this.session)
                return !1;
            const e = this.session;
            return !uu(e, {
                sessionIdleExpire: this.timeouts.sessionIdleExpire,
                maxReplayDuration: this._options.maxReplayDuration
            }) || (this._refreshSession(e),
            !1)
        }
        async _refreshSession(e) {
            this._isEnabled && (await this.stop({
                reason: "refresh session"
            }),
            this.initializeSampling(e.id))
        }
        _addListeners() {
            try {
                ml.document.addEventListener("visibilitychange", this._handleVisibilityChange),
                ml.addEventListener("blur", this._handleWindowBlur),
                ml.addEventListener("focus", this._handleWindowFocus),
                ml.addEventListener("keydown", this._handleKeyboardEvent),
                this.clickDetector && this.clickDetector.addListeners(),
                this._hasInitializedCoreListeners || (Gu(this),
                this._hasInitializedCoreListeners = !0)
            } catch (e) {
                this._handleException(e)
            }
            this._performanceCleanupCallback = Gd(this)
        }
        _removeListeners() {
            try {
                ml.document.removeEventListener("visibilitychange", this._handleVisibilityChange),
                ml.removeEventListener("blur", this._handleWindowBlur),
                ml.removeEventListener("focus", this._handleWindowFocus),
                ml.removeEventListener("keydown", this._handleKeyboardEvent),
                this.clickDetector && this.clickDetector.removeListeners(),
                this._performanceCleanupCallback && this._performanceCleanupCallback()
            } catch (e) {
                this._handleException(e)
            }
        }
        __init() {
            this._handleVisibilityChange = () => {
                "visible" === ml.document.visibilityState ? this._doChangeToForegroundTasks() : this._doChangeToBackgroundTasks()
            }
        }
        __init2() {
            this._handleWindowBlur = () => {
                const e = Nd({
                    category: "ui.blur"
                });
                this._doChangeToBackgroundTasks(e)
            }
        }
        __init3() {
            this._handleWindowFocus = () => {
                const e = Nd({
                    category: "ui.focus"
                });
                this._doChangeToForegroundTasks(e)
            }
        }
        __init4() {
            this._handleKeyboardEvent = e => {
                Fd(this, e)
            }
        }
        _doChangeToBackgroundTasks(e) {
            if (!this.session)
                return;
            du(this.session, {
                maxReplayDuration: this._options.maxReplayDuration,
                sessionIdleExpire: this.timeouts.sessionIdleExpire
            }) || (e && this._createCustomBreadcrumb(e),
            this.conditionalFlush())
        }
        _doChangeToForegroundTasks(e) {
            if (!this.session)
                return;
            this.checkAndHandleExpiredSession() ? e && this._createCustomBreadcrumb(e) : Yd("[Replay] Document has become active, but session has expired")
        }
        _updateUserActivity(e=Date.now()) {
            this._lastActivity = e
        }
        _updateSessionActivity(e=Date.now()) {
            this.session && (this.session.lastActivity = e,
            this._maybeSaveSession())
        }
        _createCustomBreadcrumb(e) {
            this.addUpdate(( () => {
                this.throttledAddEvent({
                    type: Ac.Custom,
                    timestamp: e.timestamp || 0,
                    data: {
                        tag: "breadcrumb",
                        payload: e
                    }
                })
            }
            ))
        }
        _addPerformanceEntries() {
            const e = (t = this.performanceEntries,
            t.map(Hd).filter(Boolean)).concat(this.replayPerformanceEntries);
            var t;
            return this.performanceEntries = [],
            this.replayPerformanceEntries = [],
            Promise.all(Eu(this, e))
        }
        _clearContext() {
            this._context.errorIds.clear(),
            this._context.traceIds.clear(),
            this._context.urls = []
        }
        _updateInitialTimestampFromEventBuffer() {
            const {session: e, eventBuffer: t} = this;
            if (!e || !t)
                return;
            if (e.segmentId)
                return;
            const n = t.getEarliestTimestamp();
            n && n < this._context.initialTimestamp && (this._context.initialTimestamp = n)
        }
        _popEventContext() {
            const e = {
                initialTimestamp: this._context.initialTimestamp,
                initialUrl: this._context.initialUrl,
                errorIds: Array.from(this._context.errorIds),
                traceIds: Array.from(this._context.traceIds),
                urls: this._context.urls
            };
            return this._clearContext(),
            e
        }
        async _runFlush() {
            const e = this.getSessionId();
            if (this.session && this.eventBuffer && e) {
                if (await this._addPerformanceEntries(),
                this.eventBuffer && this.eventBuffer.hasEvents && (await async function(e) {
                    try {
                        return Promise.all(Eu(e, [Vu(ml.performance.memory)]))
                    } catch (e) {
                        return []
                    }
                }(this),
                this.eventBuffer && e === this.getSessionId()))
                    try {
                        this._updateInitialTimestampFromEventBuffer();
                        const t = Date.now();
                        if (t - this._context.initialTimestamp > this._options.maxReplayDuration + 3e4)
                            throw new Error("Session is too long, not sending replay");
                        const n = this._popEventContext()
                          , o = this.session.segmentId++;
                        this._maybeSaveSession();
                        const i = await this.eventBuffer.finish();
                        await Qu({
                            replayId: e,
                            recordingData: i,
                            segmentId: o,
                            eventContext: n,
                            session: this.session,
                            options: this.getOptions(),
                            timestamp: t
                        })
                    } catch (e) {
                        this._handleException(e),
                        this.stop({
                            reason: "sendReplay"
                        });
                        const t = br();
                        t && t.recordDroppedEvent("send_error", "replay")
                    }
            } else
                qd && Jn.error("[Replay] No session or eventBuffer found to flush.")
        }
        __init5() {
            this._flush = async ({force: e=!1}={}) => {
                if (!this._isEnabled && !e)
                    return;
                if (!this.checkAndHandleExpiredSession())
                    return void (qd && Jn.error("[Replay] Attempting to finish replay event after session expired."));
                if (!this.session)
                    return;
                const t = this.session.started
                  , n = Date.now() - t;
                this._debouncedFlush.cancel();
                const o = n < this._options.minReplayDuration
                  , i = n > this._options.maxReplayDuration + 5e3;
                if (o || i)
                    return Yd(`[Replay] Session duration (${Math.floor(n / 1e3)}s) is too ${o ? "short" : "long"}, not sending replay.`, this._options._experiments.traceInternals),
                    void (o && this._debouncedFlush());
                const r = this.eventBuffer;
                if (r && 0 === this.session.segmentId && !r.hasCheckout && Yd("[Replay] Flushing initial segment without checkout.", this._options._experiments.traceInternals),
                !this._flushLock)
                    return this._flushLock = this._runFlush(),
                    await this._flushLock,
                    void (this._flushLock = void 0);
                try {
                    await this._flushLock
                } catch (e) {
                    qd && Jn.error(e)
                } finally {
                    this._debouncedFlush()
                }
            }
        }
        _maybeSaveSession() {
            this.session && this._options.stickySession && au(this.session)
        }
        __init6() {
            this._onMutationHandler = e => {
                const t = e.length
                  , n = this._options.mutationLimit
                  , o = n && t > n;
                if (t > this._options.mutationBreadcrumbLimit || o) {
                    const e = Nd({
                        category: "replay.mutations",
                        data: {
                            count: t,
                            limit: o
                        }
                    });
                    this._createCustomBreadcrumb(e)
                }
                return !o || (this.stop({
                    reason: "mutationLimit",
                    forceFlush: "session" === this.recordingMode
                }),
                !1)
            }
        }
    }
    function np(e, t, n, o) {
        const i = [...e, ..."string" == typeof o ? o.split(",") : [], ...t];
        return void 0 !== n && ("string" == typeof n && i.push(`.${n}`),
        Qn(( () => {
            console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")
        }
        ))),
        i.join(",")
    }
    const op = 'img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]'
      , ip = ["content-length", "content-type", "accept"];
    let rp = !1;
    class sp {
        static __initStatic() {
            this.id = "Replay"
        }
        constructor({flushMinDelay: e=5e3, flushMaxDelay: t=5500, minReplayDuration: n=4999, maxReplayDuration: o=36e5, stickySession: i=!0, useCompression: r=!0, workerUrl: s, _experiments: a={}, sessionSampleRate: l, errorSampleRate: c, maskAllText: d=!0, maskAllInputs: u=!0, blockAllMedia: p=!0, mutationBreadcrumbLimit: m=750, mutationLimit: g=1e4, slowClickTimeout: h=7e3, slowClickIgnoreSelectors: f=[], networkDetailAllowUrls: _=[], networkDetailDenyUrls: v=[], networkCaptureBodies: y=!0, networkRequestHeaders: w=[], networkResponseHeaders: b=[], mask: E=[], maskAttributes: T=["title", "placeholder"], unmask: S=[], block: x=[], unblock: $=[], ignore: C=[], maskFn: k, beforeAddRecordingEvent: I, beforeErrorSampling: L, blockClass: A, blockSelector: R, maskInputOptions: M, maskTextClass: O, maskTextSelector: N, ignoreClass: D}={}) {
            this.name = sp.id;
            const P = function({mask: e, unmask: t, block: n, unblock: o, ignore: i, blockClass: r, blockSelector: s, maskTextClass: a, maskTextSelector: l, ignoreClass: c}) {
                const d = {
                    maskTextSelector: np(e, [".sentry-mask", "[data-sentry-mask]"], a, l),
                    unmaskTextSelector: np(t, [".sentry-unmask", "[data-sentry-unmask]"]),
                    blockSelector: np(n, [".sentry-block", "[data-sentry-block]", 'base[href="/"]'], r, s),
                    unblockSelector: np(o, [".sentry-unblock", "[data-sentry-unblock]"]),
                    ignoreSelector: np(i, [".sentry-ignore", "[data-sentry-ignore]", 'input[type="file"]'], c)
                };
                return r instanceof RegExp && (d.blockClass = r),
                a instanceof RegExp && (d.maskTextClass = a),
                d
            }({
                mask: E,
                unmask: S,
                block: x,
                unblock: $,
                ignore: C,
                blockClass: A,
                blockSelector: R,
                maskTextClass: O,
                maskTextSelector: N,
                ignoreClass: D
            });
            if (this._recordingOptions = {
                maskAllInputs: u,
                maskAllText: d,
                maskInputOptions: {
                    ...M || {},
                    password: !0
                },
                maskTextFn: k,
                maskInputFn: k,
                maskAttributeFn: (e, t, n) => function({el: e, key: t, maskAttributes: n, maskAllText: o, privacyOptions: i, value: r}) {
                    return o ? i.unmaskTextSelector && e.matches(i.unmaskTextSelector) ? r : n.includes(t) || "value" === t && "INPUT" === e.tagName && ["submit", "button"].includes(e.getAttribute("type") || "") ? r.replace(/[\S]/g, "*") : r : r
                }({
                    maskAttributes: T,
                    maskAllText: d,
                    privacyOptions: P,
                    key: e,
                    value: t,
                    el: n
                }),
                ...P,
                slimDOMOptions: "all",
                inlineStylesheet: !0,
                inlineImages: !1,
                collectFonts: !0,
                errorHandler: e => {
                    try {
                        e.__rrweb__ = !0
                    } catch (e) {}
                }
            },
            this._initialOptions = {
                flushMinDelay: e,
                flushMaxDelay: t,
                minReplayDuration: Math.min(n, 15e3),
                maxReplayDuration: Math.min(o, wl),
                stickySession: i,
                sessionSampleRate: l,
                errorSampleRate: c,
                useCompression: r,
                workerUrl: s,
                blockAllMedia: p,
                maskAllInputs: u,
                maskAllText: d,
                mutationBreadcrumbLimit: m,
                mutationLimit: g,
                slowClickTimeout: h,
                slowClickIgnoreSelectors: f,
                networkDetailAllowUrls: _,
                networkDetailDenyUrls: v,
                networkCaptureBodies: y,
                networkRequestHeaders: ap(w),
                networkResponseHeaders: ap(b),
                beforeAddRecordingEvent: I,
                beforeErrorSampling: L,
                _experiments: a
            },
            "number" == typeof l && (console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysSessionSampleRate: ${l} })`),
            this._initialOptions.sessionSampleRate = l),
            "number" == typeof c && (console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysOnErrorSampleRate: ${c} })`),
            this._initialOptions.errorSampleRate = c),
            this._initialOptions.blockAllMedia && (this._recordingOptions.blockSelector = this._recordingOptions.blockSelector ? `${this._recordingOptions.blockSelector},${op}` : op),
            this._isInitialized && ui())
                throw new Error("Multiple Sentry Session Replay instances are not supported");
            this._isInitialized = !0
        }
        get _isInitialized() {
            return rp
        }
        set _isInitialized(e) {
            rp = e
        }
        setupOnce() {
            ui() && (this._setup(),
            setTimeout(( () => this._initialize())))
        }
        start() {
            this._replay && this._replay.start()
        }
        startBuffering() {
            this._replay && this._replay.startBuffering()
        }
        stop() {
            return this._replay ? this._replay.stop({
                forceFlush: "session" === this._replay.recordingMode
            }) : Promise.resolve()
        }
        flush(e) {
            return this._replay && this._replay.isEnabled() ? this._replay.sendBufferedReplayOrFlush(e) : Promise.resolve()
        }
        getReplayId() {
            if (this._replay && this._replay.isEnabled())
                return this._replay.getSessionId()
        }
        _initialize() {
            this._replay && (this._maybeLoadFromReplayCanvasIntegration(),
            this._replay.initializeSampling())
        }
        _setup() {
            const e = function(e) {
                const t = br()
                  , n = t && t.getOptions()
                  , o = {
                    sessionSampleRate: 0,
                    errorSampleRate: 0,
                    ...mo(e)
                };
                if (!n)
                    return Qn(( () => {
                        console.warn("SDK client is not available.")
                    }
                    )),
                    o;
                null == e.sessionSampleRate && null == e.errorSampleRate && null == n.replaysSessionSampleRate && null == n.replaysOnErrorSampleRate && Qn(( () => {
                    console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")
                }
                ));
                "number" == typeof n.replaysSessionSampleRate && (o.sessionSampleRate = n.replaysSessionSampleRate);
                "number" == typeof n.replaysOnErrorSampleRate && (o.errorSampleRate = n.replaysOnErrorSampleRate);
                return o
            }(this._initialOptions);
            this._replay = new tp({
                options: e,
                recordingOptions: this._recordingOptions
            })
        }
        _maybeLoadFromReplayCanvasIntegration() {
            try {
                const e = br().getIntegrationByName("ReplayCanvas");
                if (!e)
                    return;
                this._replay._canvas = e.getOptions()
            } catch (e) {}
        }
    }
    function ap(e) {
        return [...ip, ...e.map((e => e.toLowerCase()))]
    }
    var lp;
    function cp(e, t, n=1 / 0, o=0) {
        return e ? e.nodeType !== e.ELEMENT_NODE || o > n ? -1 : t(e) ? o : cp(e.parentNode, t, n, o + 1) : -1
    }
    function dp(e, t) {
        return n => {
            const o = n;
            if (null === o)
                return !1;
            try {
                if (e)
                    if ("string" == typeof e) {
                        if (o.matches(`.${e}`))
                            return !0
                    } else if (function(e, t) {
                        for (let n = e.classList.length; n--; ) {
                            const o = e.classList[n];
                            if (t.test(o))
                                return !0
                        }
                        return !1
                    }(o, e))
                        return !0;
                return !(!t || !o.matches(t))
            } catch (e) {
                return !1
            }
        }
    }
    sp.__initStatic(),
    function(e) {
        e[e.Document = 0] = "Document",
        e[e.DocumentType = 1] = "DocumentType",
        e[e.Element = 2] = "Element",
        e[e.Text = 3] = "Text",
        e[e.CDATA = 4] = "CDATA",
        e[e.Comment = 5] = "Comment"
    }(lp || (lp = {}));
    const up = "Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";
    let pp = {
        map: {},
        getId: () => (console.error(up),
        -1),
        getNode: () => (console.error(up),
        null),
        removeNodeFromMap() {
            console.error(up)
        },
        has: () => (console.error(up),
        !1),
        reset() {
            console.error(up)
        }
    };
    function mp(e, t, n, o, i=window) {
        const r = i.Object.getOwnPropertyDescriptor(e, t);
        return i.Object.defineProperty(e, t, o ? n : {
            set(e) {
                yp(( () => {
                    n.set.call(this, e)
                }
                ), 0),
                r && r.set && r.set.call(this, e)
            }
        }),
        () => mp(e, t, r || {}, !0)
    }
    function gp(e, t, n) {
        try {
            if (!(t in e))
                return () => {}
                ;
            const o = e[t]
              , i = n(o);
            return "function" == typeof i && (i.prototype = i.prototype || {},
            Object.defineProperties(i, {
                __rrweb_original__: {
                    enumerable: !1,
                    value: o
                }
            })),
            e[t] = i,
            () => {
                e[t] = o
            }
        } catch (e) {
            return () => {}
        }
    }
    function hp(e, t, n, o, i) {
        if (!e)
            return !1;
        const r = function(e) {
            return e ? e.nodeType === e.ELEMENT_NODE ? e : e.parentElement : null
        }(e);
        if (!r)
            return !1;
        const s = dp(t, n);
        if (!i) {
            const e = o && r.matches(o);
            return s(r) && !e
        }
        const a = cp(r, s);
        let l = -1;
        return !(a < 0) && (o && (l = cp(r, dp(null, o))),
        a > -1 && l < 0 || a < l)
    }
    "undefined" != typeof window && window.Proxy && window.Reflect && (pp = new Proxy(pp,{
        get: (e, t, n) => ("map" === t && console.error(up),
        Reflect.get(e, t, n))
    })),
    /[1-9][0-9]{12}/.test(Date.now().toString());
    const fp = {};
    function _p(e) {
        const t = fp[e];
        if (t)
            return t;
        const n = window.document;
        let o = window[e];
        if (n && "function" == typeof n.createElement)
            try {
                const t = n.createElement("iframe");
                t.hidden = !0,
                n.head.appendChild(t);
                const i = t.contentWindow;
                i && i[e] && (o = i[e]),
                n.head.removeChild(t)
            } catch (e) {}
        return fp[e] = o.bind(window)
    }
    function vp(...e) {
        return _p("requestAnimationFrame")(...e)
    }
    function yp(...e) {
        return _p("setTimeout")(...e)
    }
    var wp = (e => (e[e["2D"] = 0] = "2D",
    e[e.WebGL = 1] = "WebGL",
    e[e.WebGL2 = 2] = "WebGL2",
    e))(wp || {});
    let bp;
    function Ep(e) {
        bp = e
    }
    const Tp = e => {
        if (!bp)
            return e;
        return (...t) => {
            try {
                return e(...t)
            } catch (e) {
                if (bp && !0 === bp(e))
                    return () => {}
                    ;
                throw e
            }
        }
    }
    ;
    for (var Sp = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", xp = "undefined" == typeof Uint8Array ? [] : new Uint8Array(256), $p = 0; $p < 64; $p++)
        xp[Sp.charCodeAt($p)] = $p;
    const Cp = new Map;
    const kp = (e, t, n) => {
        if (!e || !Ap(e, t) && "object" != typeof e)
            return;
        const o = function(e, t) {
            let n = Cp.get(e);
            return n || (n = new Map,
            Cp.set(e, n)),
            n.has(t) || n.set(t, []),
            n.get(t)
        }(n, e.constructor.name);
        let i = o.indexOf(e);
        return -1 === i && (i = o.length,
        o.push(e)),
        i
    }
    ;
    function Ip(e, t, n) {
        if (e instanceof Array)
            return e.map((e => Ip(e, t, n)));
        if (null === e)
            return e;
        if (e instanceof Float32Array || e instanceof Float64Array || e instanceof Int32Array || e instanceof Uint32Array || e instanceof Uint8Array || e instanceof Uint16Array || e instanceof Int16Array || e instanceof Int8Array || e instanceof Uint8ClampedArray) {
            return {
                rr_type: e.constructor.name,
                args: [Object.values(e)]
            }
        }
        if (e instanceof ArrayBuffer) {
            const t = e.constructor.name
              , n = function(e) {
                var t, n = new Uint8Array(e), o = n.length, i = "";
                for (t = 0; t < o; t += 3)
                    i += Sp[n[t] >> 2],
                    i += Sp[(3 & n[t]) << 4 | n[t + 1] >> 4],
                    i += Sp[(15 & n[t + 1]) << 2 | n[t + 2] >> 6],
                    i += Sp[63 & n[t + 2]];
                return o % 3 == 2 ? i = i.substring(0, i.length - 1) + "=" : o % 3 == 1 && (i = i.substring(0, i.length - 2) + "=="),
                i
            }(e);
            return {
                rr_type: t,
                base64: n
            }
        }
        if (e instanceof DataView) {
            return {
                rr_type: e.constructor.name,
                args: [Ip(e.buffer, t, n), e.byteOffset, e.byteLength]
            }
        }
        if (e instanceof HTMLImageElement) {
            const t = e.constructor.name
              , {src: n} = e;
            return {
                rr_type: t,
                src: n
            }
        }
        if (e instanceof HTMLCanvasElement) {
            return {
                rr_type: "HTMLImageElement",
                src: e.toDataURL()
            }
        }
        if (e instanceof ImageData) {
            return {
                rr_type: e.constructor.name,
                args: [Ip(e.data, t, n), e.width, e.height]
            }
        }
        if (Ap(e, t) || "object" == typeof e) {
            return {
                rr_type: e.constructor.name,
                index: kp(e, t, n)
            }
        }
        return e
    }
    const Lp = (e, t, n) => e.map((e => Ip(e, t, n)))
      , Ap = (e, t) => {
        const n = ["WebGLActiveInfo", "WebGLBuffer", "WebGLFramebuffer", "WebGLProgram", "WebGLRenderbuffer", "WebGLShader", "WebGLShaderPrecisionFormat", "WebGLTexture", "WebGLUniformLocation", "WebGLVertexArrayObject", "WebGLVertexArrayObjectOES"].filter((e => "function" == typeof t[e]));
        return Boolean(n.find((n => e instanceof t[n])))
    }
    ;
    function Rp(e, t, n, o, i) {
        const r = [];
        try {
            const s = gp(e.HTMLCanvasElement.prototype, "getContext", (function(e) {
                return function(r, ...s) {
                    if (!hp(this, t, n, o, !0)) {
                        const e = function(e) {
                            return "experimental-webgl" === e ? "webgl" : e
                        }(r);
                        if ("__context"in this || (this.__context = e),
                        i && ["webgl", "webgl2"].includes(e))
                            if (s[0] && "object" == typeof s[0]) {
                                const e = s[0];
                                e.preserveDrawingBuffer || (e.preserveDrawingBuffer = !0)
                            } else
                                s.splice(0, 1, {
                                    preserveDrawingBuffer: !0
                                })
                    }
                    return e.apply(this, [r, ...s])
                }
            }
            ));
            r.push(s)
        } catch (e) {
            console.error("failed to patch HTMLCanvasElement.prototype.getContext")
        }
        return () => {
            r.forEach((e => e()))
        }
    }
    function Mp(e, t, n, o, i, r, s, a) {
        const l = []
          , c = Object.getOwnPropertyNames(e);
        for (const s of c)
            if (!["isContextLost", "canvas", "drawingBufferWidth", "drawingBufferHeight"].includes(s))
                try {
                    if ("function" != typeof e[s])
                        continue;
                    const c = gp(e, s, (function(e) {
                        return function(...l) {
                            const c = e.apply(this, l);
                            if (kp(c, a, this),
                            "tagName"in this.canvas && !hp(this.canvas, o, i, r, !0)) {
                                const e = Lp(l, a, this)
                                  , o = {
                                    type: t,
                                    property: s,
                                    args: e
                                };
                                n(this.canvas, o)
                            }
                            return c
                        }
                    }
                    ));
                    l.push(c)
                } catch (o) {
                    const i = mp(e, s, {
                        set(e) {
                            n(this.canvas, {
                                type: t,
                                property: s,
                                args: [e],
                                setter: !0
                            })
                        }
                    });
                    l.push(i)
                }
        return l
    }
    class Op {
        reset() {
            this.pendingCanvasMutations.clear(),
            this.resetObservers && this.resetObservers()
        }
        freeze() {
            this.frozen = !0
        }
        unfreeze() {
            this.frozen = !1
        }
        lock() {
            this.locked = !0
        }
        unlock() {
            this.locked = !1
        }
        constructor(e) {
            this.pendingCanvasMutations = new Map,
            this.rafStamps = {
                latestId: 0,
                invokeId: null
            },
            this.frozen = !1,
            this.locked = !1,
            this.processMutation = (e, t) => {
                !(this.rafStamps.invokeId && this.rafStamps.latestId !== this.rafStamps.invokeId) && this.rafStamps.invokeId || (this.rafStamps.invokeId = this.rafStamps.latestId),
                this.pendingCanvasMutations.has(e) || this.pendingCanvasMutations.set(e, []),
                this.pendingCanvasMutations.get(e).push(t)
            }
            ;
            const {sampling: t="all", win: n, blockClass: o, blockSelector: i, unblockSelector: r, maxCanvasSize: s, recordCanvas: a, dataURLOptions: l, errorHandler: c} = e;
            this.mutationCb = e.mutationCb,
            this.mirror = e.mirror,
            this.options = e,
            c && Ep(c),
            e.enableManualSnapshot || Tp(( () => {
                a && "all" === t && this.initCanvasMutationObserver(n, o, i, r),
                a && "number" == typeof t && this.initCanvasFPSObserver(t, n, o, i, r, s, {
                    dataURLOptions: l
                })
            }
            ))()
        }
        initCanvasFPSObserver(e, t, n, o, i, r, s) {
            const a = Rp(t, n, o, i, !0)
              , l = this.takeSnapshot(!1, e, t, n, o, i, r, s.dataURLOptions);
            this.resetObservers = () => {
                a(),
                cancelAnimationFrame(l)
            }
        }
        initCanvasMutationObserver(e, t, n, o) {
            this.startRAFTimestamping(),
            this.startPendingCanvasMutationFlusher();
            const i = Rp(e, t, n, o, !1)
              , r = function(e, t, n, o, i) {
                const r = []
                  , s = Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);
                for (const a of s)
                    try {
                        if ("function" != typeof t.CanvasRenderingContext2D.prototype[a])
                            continue;
                        const s = gp(t.CanvasRenderingContext2D.prototype, a, (function(r) {
                            return function(...s) {
                                return hp(this.canvas, n, o, i, !0) || yp(( () => {
                                    const n = Lp(s, t, this);
                                    e(this.canvas, {
                                        type: wp["2D"],
                                        property: a,
                                        args: n
                                    })
                                }
                                ), 0),
                                r.apply(this, s)
                            }
                        }
                        ));
                        r.push(s)
                    } catch (n) {
                        const o = mp(t.CanvasRenderingContext2D.prototype, a, {
                            set(t) {
                                e(this.canvas, {
                                    type: wp["2D"],
                                    property: a,
                                    args: [t],
                                    setter: !0
                                })
                            }
                        });
                        r.push(o)
                    }
                return () => {
                    r.forEach((e => e()))
                }
            }(this.processMutation.bind(this), e, t, n, o)
              , s = function(e, t, n, o, i, r) {
                const s = [];
                return s.push(...Mp(t.WebGLRenderingContext.prototype, wp.WebGL, e, n, o, i, 0, t)),
                void 0 !== t.WebGL2RenderingContext && s.push(...Mp(t.WebGL2RenderingContext.prototype, wp.WebGL2, e, n, o, i, 0, t)),
                () => {
                    s.forEach((e => e()))
                }
            }(this.processMutation.bind(this), e, t, n, o, this.mirror);
            this.resetObservers = () => {
                i(),
                r(),
                s()
            }
        }
        snapshot(e) {
            const {options: t} = this
              , n = this.takeSnapshot(!0, "all" === t.sampling ? 2 : t.sampling || 2, t.win, t.blockClass, t.blockSelector, t.unblockSelector, t.maxCanvasSize, t.dataURLOptions, e);
            this.resetObservers = () => {
                cancelAnimationFrame(n)
            }
        }
        takeSnapshot(e, t, n, o, i, r, s, a, l) {
            const c = new Map
              , d = new Worker(function() {
                const e = new Blob(['for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};']);
                return URL.createObjectURL(e)
            }());
            d.onmessage = e => {
                const t = e.data
                  , {id: n} = t;
                if (c.set(n, !1),
                !("base64"in t))
                    return;
                const {base64: o, type: i, width: r, height: s} = t;
                this.mutationCb({
                    id: n,
                    type: wp["2D"],
                    commands: [{
                        property: "clearRect",
                        args: [0, 0, r, s]
                    }, {
                        property: "drawImage",
                        args: [{
                            rr_type: "ImageBitmap",
                            args: [{
                                rr_type: "Blob",
                                data: [{
                                    rr_type: "ArrayBuffer",
                                    base64: o
                                }],
                                type: i
                            }]
                        }, 0, 0, r, s]
                    }]
                })
            }
            ;
            const u = 1e3 / t;
            let p, m = 0;
            const g = t => {
                m && t - m < u || (m = t,
                (e => {
                    if (e)
                        return [e];
                    const t = [];
                    return n.document.querySelectorAll("canvas").forEach((e => {
                        hp(e, o, i, r, !0) || t.push(e)
                    }
                    )),
                    t
                }
                )(l).forEach((t => {
                    const n = this.mirror.getId(t);
                    if (!c.get(n) && t.width && t.height) {
                        if (c.set(n, !0),
                        !e && ["webgl", "webgl2"].includes(t.__context)) {
                            const e = t.getContext(t.__context);
                            !1 === Ji([e, "optionalAccess", e => e.getContextAttributes, "call", e => e(), "optionalAccess", e => e.preserveDrawingBuffer]) && e.clear(e.COLOR_BUFFER_BIT)
                        }
                        createImageBitmap(t).then((e => {
                            d.postMessage({
                                id: n,
                                bitmap: e,
                                width: t.width,
                                height: t.height,
                                dataURLOptions: a,
                                maxCanvasSize: s
                            }, [e])
                        }
                        )).catch((e => {
                            Tp(( () => {
                                throw e
                            }
                            ))()
                        }
                        ))
                    }
                }
                ))),
                p = vp(g)
            }
            ;
            return p = vp(g),
            p
        }
        startPendingCanvasMutationFlusher() {
            vp(( () => this.flushPendingCanvasMutations()))
        }
        startRAFTimestamping() {
            const e = t => {
                this.rafStamps.latestId = t,
                vp(e)
            }
            ;
            vp(e)
        }
        flushPendingCanvasMutations() {
            this.pendingCanvasMutations.forEach(( (e, t) => {
                const n = this.mirror.getId(t);
                this.flushPendingCanvasMutationFor(t, n)
            }
            )),
            vp(( () => this.flushPendingCanvasMutations()))
        }
        flushPendingCanvasMutationFor(e, t) {
            if (this.frozen || this.locked)
                return;
            const n = this.pendingCanvasMutations.get(e);
            if (!n || -1 === t)
                return;
            const o = n.map((e => {
                const {type: t, ...n} = e;
                return n
            }
            ))
              , {type: i} = n[0];
            this.mutationCb({
                id: t,
                type: i,
                commands: o
            }),
            this.pendingCanvasMutations.delete(e)
        }
    }
    const Np = {
        low: {
            sampling: {
                canvas: 1
            },
            dataURLOptions: {
                type: "image/webp",
                quality: .25
            }
        },
        medium: {
            sampling: {
                canvas: 2
            },
            dataURLOptions: {
                type: "image/webp",
                quality: .4
            }
        },
        high: {
            sampling: {
                canvas: 4
            },
            dataURLOptions: {
                type: "image/webp",
                quality: .5
            }
        }
    }
      , Dp = "ReplayCanvas"
      , Pp = 1280
      , Up = (e={}) => {
        const [t,n] = e.maxCanvasSize || []
          , o = {
            quality: e.quality || "medium",
            enableManualSnapshot: e.enableManualSnapshot,
            maxCanvasSize: [t ? Math.min(t, Pp) : Pp, n ? Math.min(n, Pp) : Pp]
        };
        let i;
        const r = new Promise((e => i = e));
        return {
            name: Dp,
            setupOnce() {},
            getOptions() {
                const {quality: e, enableManualSnapshot: t, maxCanvasSize: n} = o;
                return {
                    enableManualSnapshot: t,
                    recordCanvas: !0,
                    getCanvasManager: e => {
                        const o = new Op({
                            ...e,
                            enableManualSnapshot: t,
                            maxCanvasSize: n,
                            errorHandler: e => {
                                try {
                                    "object" == typeof e && (e.__rrweb__ = !0)
                                } catch (e) {}
                            }
                        });
                        return i(o),
                        o
                    }
                    ,
                    ...Np[e || "medium"] || Np.medium
                }
            },
            async snapshot(e) {
                (await r).snapshot(e)
            }
        }
    }
    ;
    ns(Dp, Up);
    const Bp = Fn
      , Wp = "#ffffff"
      , Fp = "inherit"
      , zp = "rgba(108, 95, 199, 1)"
      , Hp = {
        fontFamily: "system-ui, 'Helvetica Neue', Arial, sans-serif",
        fontSize: "14px",
        background: Wp,
        backgroundHover: "#f6f6f7",
        foreground: "#2b2233",
        border: "1.5px solid rgba(41, 35, 47, 0.13)",
        borderRadius: "25px",
        boxShadow: "0px 4px 24px 0px rgba(43, 34, 51, 0.12)",
        success: "#268d75",
        error: "#df3338",
        submitBackground: "rgba(88, 74, 192, 1)",
        submitBackgroundHover: zp,
        submitBorder: zp,
        submitOutlineFocus: "#29232f",
        submitForeground: Wp,
        submitForegroundHover: Wp,
        cancelBackground: "transparent",
        cancelBackgroundHover: "var(--background-hover)",
        cancelBorder: "var(--border)",
        cancelOutlineFocus: "var(--input-outline-focus)",
        cancelForeground: "var(--foreground)",
        cancelForegroundHover: "var(--foreground)",
        inputBackground: Fp,
        inputForeground: Fp,
        inputBorder: "var(--border)",
        inputOutlineFocus: zp,
        formBorderRadius: "20px",
        formContentBorderRadius: "6px"
    }
      , jp = Hp
      , Gp = {
        ...Hp,
        background: "#29232f",
        backgroundHover: "#352f3b",
        foreground: "#ebe6ef",
        border: "1.5px solid rgba(235, 230, 239, 0.15)",
        success: "#2da98c",
        error: "#f55459"
    }
      , qp = "widget"
      , Vp = "api";
    async function Yp({feedback: {message: e, email: t, name: n, source: o, url: i}}, {includeReplay: r=!0}={}) {
        const s = br()
          , a = s && s.getTransport()
          , l = s && s.getDsn();
        if (!s || !a || !l)
            return;
        const c = {
            contexts: {
                feedback: {
                    contact_email: t,
                    name: n,
                    message: e,
                    url: i,
                    source: o
                }
            },
            type: "feedback"
        };
        return wr((async e => {
            e.clearBreadcrumbs(),
            [Vp, qp].includes(String(o)) && e.setLevel("info");
            const t = await async function({client: e, scope: t, event: n}) {
                const o = {};
                e.emit && e.emit("preprocessEvent", n, o);
                const i = await pr(e.getOptions(), n, o, t, e, Br());
                return null === i ? (e.recordDroppedEvent("event_processor", "feedback", n),
                null) : (i.platform = i.platform || "javascript",
                i)
            }({
                scope: e,
                client: s,
                event: c
            });
            if (!t)
                return;
            s.emit && s.emit("beforeSendFeedback", t, {
                includeReplay: Boolean(r)
            });
            const n = Zr(t, l, s.getOptions()._metadata, s.getOptions().tunnel);
            let i;
            try {
                i = await a.send(n)
            } catch (e) {
                const t = new Error("Unable to send Feedback");
                try {
                    t.cause = e
                } catch (e) {}
                throw t
            }
            if (i) {
                if ("number" == typeof i.statusCode && (i.statusCode < 200 || i.statusCode >= 300))
                    throw new Error("Unable to send Feedback");
                return i
            }
        }
        ))
    }
    const Kp = "undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__;
    function Zp(e, t) {
        return {
            ...e,
            ...t,
            themeDark: {
                ...e.themeDark,
                ...t.themeDark
            },
            themeLight: {
                ...e.themeLight,
                ...t.themeLight
            }
        }
    }
    function Xp(e) {
        return `\n  --background: ${e.background};\n  --background-hover: ${e.backgroundHover};\n  --foreground: ${e.foreground};\n  --error: ${e.error};\n  --success: ${e.success};\n  --border: ${e.border};\n  --border-radius: ${e.borderRadius};\n  --box-shadow: ${e.boxShadow};\n\n  --submit-background: ${e.submitBackground};\n  --submit-background-hover: ${e.submitBackgroundHover};\n  --submit-border: ${e.submitBorder};\n  --submit-outline-focus: ${e.submitOutlineFocus};\n  --submit-foreground: ${e.submitForeground};\n  --submit-foreground-hover: ${e.submitForegroundHover};\n\n  --cancel-background: ${e.cancelBackground};\n  --cancel-background-hover: ${e.cancelBackgroundHover};\n  --cancel-border: ${e.cancelBorder};\n  --cancel-outline-focus: ${e.cancelOutlineFocus};\n  --cancel-foreground: ${e.cancelForeground};\n  --cancel-foreground-hover: ${e.cancelForegroundHover};\n\n  --input-background: ${e.inputBackground};\n  --input-foreground: ${e.inputForeground};\n  --input-border: ${e.inputBorder};\n  --input-outline-focus: ${e.inputOutlineFocus};\n\n  --form-border-radius: ${e.formBorderRadius};\n  --form-content-border-radius: ${e.formContentBorderRadius};\n  `
    }
    function Qp({id: e, colorScheme: t, themeDark: n, themeLight: o}) {
        try {
            const i = Bp.document
              , r = i.createElement("div");
            r.id = e;
            const s = r.attachShadow({
                mode: "open"
            });
            return s.appendChild(function(e, t, n) {
                const o = e.createElement("style");
                return o.textContent = `\n:host {\n  --bottom: 1rem;\n  --right: 1rem;\n  --top: auto;\n  --left: auto;\n  --z-index: 100000;\n  --font-family: ${n.light.fontFamily};\n  --font-size: ${n.light.fontSize};\n\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n  z-index: var(--z-index);\n\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n\n  ${Xp("dark" === t ? n.dark : n.light)}\n}\n\n${"system" === t ? `\n@media (prefers-color-scheme: dark) {\n  :host {\n    ${Xp(n.dark)}\n  }\n}` : ""}\n}`,
                o
            }(i, t, {
                dark: n,
                light: o
            })),
            s.appendChild(function(e) {
                const t = e.createElement("style");
                return t.textContent = "\n.dialog {\n  line-height: 25px;\n  background-color: rgba(0, 0, 0, 0.05);\n  border: none;\n  position: fixed;\n  inset: 0;\n  z-index: 10000;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 1;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.dialog:not([open]) {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n.dialog:not([open]) .dialog__content {\n  transform: translate(0, -16px) scale(0.98);\n}\n\n.dialog__content {\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n\n  border: var(--border);\n  border-radius: var(--form-border-radius);\n  background-color: var(--background);\n  color: var(--foreground);\n\n  width: 320px;\n  max-width: 100%;\n  max-height: calc(100% - 2rem);\n  display: flex;\n  flex-direction: column;\n  box-shadow: var(--box-shadow);\n  transition: transform 0.2s ease-in-out;\n  transform: translate(0, 0) scale(1);\n}\n\n.dialog__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 20px;\n  font-weight: 600;\n  padding: 24px 24px 0 24px;\n  margin: 0;\n  margin-bottom: 16px;\n}\n\n.brand-link {\n  display: inline-flex;\n}\n\n.error {\n  color: var(--error);\n  margin-bottom: 16px;\n}\n\n.form {\n  display: grid;\n  overflow: auto;\n  flex-direction: column;\n  gap: 16px;\n  padding: 0 24px 24px;\n}\n\n.form__error-container {\n  color: var(--error);\n}\n\n.form__error-container--hidden {\n  display: none;\n}\n\n.form__label {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin: 0px;\n}\n\n.form__label__text {\n  display: grid;\n  gap: 4px;\n  align-items: center;\n  grid-auto-flow: column;\n  grid-auto-columns: max-content;\n}\n\n.form__label__text--required {\n  font-size: 0.85em;\n}\n\n.form__input {\n  line-height: inherit;\n  background-color: var(--input-background);\n  box-sizing: border-box;\n  border: var(--input-border);\n  border-radius: var(--form-content-border-radius);\n  color: var(--input-foreground);\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 500;\n  padding: 6px 12px;\n}\n\n.form__input::placeholder {\n  color: var(--input-foreground);\n  opacity: 0.65;\n}\n\n.form__input:focus-visible {\n  outline: 1px auto var(--input-outline-focus);\n}\n\n.form__input--textarea {\n  font-family: inherit;\n  resize: vertical;\n}\n\n.btn-group {\n  display: grid;\n  gap: 8px;\n  margin-top: 8px;\n}\n\n.btn {\n  line-height: inherit;\n  border: var(--cancel-border);\n  border-radius: var(--form-content-border-radius);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  padding: 6px 16px;\n}\n.btn[disabled] {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.btn--primary {\n  background-color: var(--submit-background);\n  border-color: var(--submit-border);\n  color: var(--submit-foreground);\n}\n.btn--primary:hover {\n  background-color: var(--submit-background-hover);\n  color: var(--submit-foreground-hover);\n}\n.btn--primary:focus-visible {\n  outline: 1px auto var(--submit-outline-focus);\n}\n\n.btn--default {\n  background-color: var(--cancel-background);\n  color: var(--cancel-foreground);\n  font-weight: 500;\n}\n.btn--default:hover {\n  background-color: var(--cancel-background-hover);\n  color: var(--cancel-foreground-hover);\n}\n.btn--default:focus-visible {\n  outline: 1px auto var(--cancel-outline-focus);\n}\n\n.success-message {\n  background-color: var(--background);\n  border: var(--border);\n  border-radius: var(--border-radius);\n  box-shadow: var(--box-shadow);\n  font-weight: 600;\n  color: var(--success);\n  padding: 12px 24px;\n  line-height: 25px;\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  gap: 6px;\n  cursor: default;\n}\n\n.success-icon path {\n  fill: var(--success);\n}\n",
                t
            }(i)),
            {
                shadow: s,
                host: r
            }
        } catch (e) {
            throw Jn.warn("[Feedback] Browser does not support shadow DOM API"),
            new Error("Browser does not support shadow DOM API.")
        }
    }
    async function Jp(e, t, n) {
        if (!e)
            return;
        e.hideError();
        try {
            const e = await function({name: e, email: t, message: n, source: o=Vp, url: i=Yn()}, r={}) {
                if (!n)
                    throw new Error("Unable to submit feedback with empty message");
                return Yp({
                    feedback: {
                        name: e,
                        email: t,
                        message: n,
                        url: i,
                        source: o
                    }
                }, r)
            }({
                ...t,
                source: qp
            }, n);
            return e
        } catch (t) {
            Kp && Jn.error(t),
            e && e.showError("There was a problem submitting feedback, please wait and try again.")
        }
    }
    function em(e, t) {
        return Object.entries(t).forEach(( ([t,n]) => {
            e.setAttributeNS(null, t, n)
        }
        )),
        e
    }
    const tm = 20
      , nm = "http://www.w3.org/2000/svg";
    function om(e, t, ...n) {
        const o = Bp.document.createElement(e);
        t && Object.entries(t).forEach(( ([e,t]) => {
            "className" === e && "string" == typeof t ? o.setAttribute("class", t) : "boolean" == typeof t && t ? o.setAttribute(e, "") : "string" == typeof t ? o.setAttribute(e, t) : e.startsWith("on") && "function" == typeof t && o.addEventListener(e.substring(2).toLowerCase(), t)
        }
        ));
        for (const e of n)
            im(o, e);
        return o
    }
    function im(e, t) {
        const n = Bp.document;
        if (null != t)
            if (Array.isArray(t))
                for (const n of t)
                    im(e, n);
            else
                !1 === t || ("string" == typeof t ? e.appendChild(n.createTextNode(t)) : t instanceof Node ? e.appendChild(t) : e.appendChild(n.createTextNode(String(t))))
    }
    function rm({buttonLabel: e, onClick: t}) {
        const n = om("button", {
            type: "button",
            className: "widget__actor",
            "aria-label": e,
            "aria-hidden": "false"
        }, function() {
            const e = e => Bp.document.createElementNS(nm, e)
              , t = em(e("svg"), {
                class: "feedback-icon",
                width: `${tm}`,
                height: `${tm}`,
                viewBox: `0 0 ${tm} ${tm}`,
                fill: "none"
            })
              , n = em(e("g"), {
                clipPath: "url(#clip0_57_80)"
            })
              , o = em(e("path"), {
                "fill-rule": "evenodd",
                "clip-rule": "evenodd",
                d: "M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"
            });
            t.appendChild(n).appendChild(o);
            const i = e("defs")
              , r = em(e("clipPath"), {
                id: "clip0_57_80"
            })
              , s = em(e("rect"), {
                width: `${tm}`,
                height: `${tm}`,
                fill: "white"
            });
            return r.appendChild(s),
            i.appendChild(r),
            t.appendChild(i).appendChild(r).appendChild(s),
            {
                get el() {
                    return t
                }
            }
        }().el, e ? om("span", {
            className: "widget__actor__text"
        }, e) : null);
        return n.addEventListener("click", (function(e) {
            t && t(e)
        }
        )),
        {
            get el() {
                return n
            },
            show: () => {
                n.classList.remove("widget__actor--hidden"),
                n.setAttribute("aria-hidden", "false")
            }
            ,
            hide: () => {
                n.classList.add("widget__actor--hidden"),
                n.setAttribute("aria-hidden", "true")
            }
        }
    }
    function sm(e, t) {
        const n = e.get(t);
        return "string" == typeof n ? n.trim() : ""
    }
    function am({nameLabel: e, namePlaceholder: t, emailLabel: n, emailPlaceholder: o, messageLabel: i, messagePlaceholder: r, isRequiredLabel: s, cancelButtonLabel: a, submitButtonLabel: l, showName: c, showEmail: d, isNameRequired: u, isEmailRequired: p, defaultName: m, defaultEmail: g, onCancel: h, onSubmit: f}) {
        const {el: _} = function({label: e}) {
            return {
                el: om("button", {
                    type: "submit",
                    className: "btn btn--primary",
                    "aria-label": e
                }, e)
            }
        }({
            label: l
        });
        const v = om("div", {
            className: "form__error-container form__error-container--hidden",
            "aria-hidden": "true"
        });
        const y = om("input", {
            id: "name",
            type: c ? "text" : "hidden",
            "aria-hidden": c ? "false" : "true",
            name: "name",
            required: u,
            className: "form__input",
            placeholder: t,
            value: m
        })
          , w = om("input", {
            id: "email",
            type: d ? "text" : "hidden",
            "aria-hidden": d ? "false" : "true",
            name: "email",
            required: p,
            className: "form__input",
            placeholder: o,
            value: g
        })
          , b = om("textarea", {
            id: "message",
            autoFocus: "true",
            rows: "5",
            name: "message",
            required: !0,
            className: "form__input form__input--textarea",
            placeholder: r
        })
          , E = om("button", {
            type: "button",
            className: "btn btn--default",
            "aria-label": a,
            onClick: e => {
                h && h(e)
            }
        }, a)
          , T = om("form", {
            className: "form",
            onSubmit: function(e) {
                if (e.preventDefault(),
                e.target instanceof HTMLFormElement)
                    try {
                        if (f) {
                            const t = new FormData(e.target)
                              , n = {
                                name: sm(t, "name"),
                                email: sm(t, "email"),
                                message: sm(t, "message")
                            };
                            f(n)
                        }
                    } catch (e) {}
            }
        }, [v, c && om("label", {
            htmlFor: "name",
            className: "form__label"
        }, [om("span", {
            className: "form__label__text"
        }, e, u && om("span", {
            className: "form__label__text--required"
        }, ` ${s}`)), y]), !c && y, d && om("label", {
            htmlFor: "email",
            className: "form__label"
        }, [om("span", {
            className: "form__label__text"
        }, n, p && om("span", {
            className: "form__label__text--required"
        }, ` ${s}`)), w]), !d && w, om("label", {
            htmlFor: "message",
            className: "form__label"
        }, [om("span", {
            className: "form__label__text"
        }, i, om("span", {
            className: "form__label__text--required"
        }, ` ${s}`)), b]), om("div", {
            className: "btn-group"
        }, [_, E])]);
        return {
            get el() {
                return T
            },
            showError: function(e) {
                v.textContent = e,
                v.classList.remove("form__error-container--hidden"),
                v.setAttribute("aria-hidden", "false")
            },
            hideError: function() {
                v.textContent = "",
                v.classList.add("form__error-container--hidden"),
                v.setAttribute("aria-hidden", "true")
            }
        }
    }
    const lm = "http://www.w3.org/2000/svg";
    function cm({formTitle: e, showBranding: t, showName: n, showEmail: o, isNameRequired: i, isEmailRequired: r, colorScheme: s, defaultName: a, defaultEmail: l, onClosed: c, onCancel: d, onSubmit: u, ...p}) {
        let m = null;
        function g() {
            m && (m.open = !1)
        }
        const {el: h, showError: f, hideError: _} = am({
            showEmail: o,
            showName: n,
            isEmailRequired: r,
            isNameRequired: i,
            defaultName: a,
            defaultEmail: l,
            onSubmit: u,
            onCancel: d,
            ...p
        });
        return m = om("dialog", {
            className: "dialog",
            open: !0,
            onClick: function() {
                g(),
                c && c()
            }
        }, om("div", {
            className: "dialog__content",
            onClick: e => {
                e.stopPropagation()
            }
        }, om("h2", {
            className: "dialog__header"
        }, e, t && om("a", {
            className: "brand-link",
            target: "_blank",
            href: "https://sentry.io/welcome/",
            title: "Powered by Sentry",
            rel: "noopener noreferrer"
        }, function({colorScheme: e}) {
            const t = e => Bp.document.createElementNS(lm, e)
              , n = em(t("svg"), {
                class: "sentry-logo",
                width: "32",
                height: "30",
                viewBox: "0 0 72 66",
                fill: "none"
            })
              , o = em(t("path"), {
                transform: "translate(11, 11)",
                d: "M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"
            });
            n.append(o);
            const i = t("defs")
              , r = t("style");
            return r.textContent = `\n    path {\n      fill: ${"dark" === e ? "#fff" : "#362d59"};\n    }`,
            "system" === e && (r.textContent += "\n    @media (prefers-color-scheme: dark) {\n      path: {\n        fill: '#fff';\n      }\n    }\n    "),
            i.append(r),
            n.append(i),
            {
                get el() {
                    return n
                }
            }
        }({
            colorScheme: s
        }).el)), h)),
        {
            get el() {
                return m
            },
            showError: f,
            hideError: _,
            open: function() {
                m && (m.open = !0)
            },
            close: g,
            checkIsOpen: function() {
                return m && !0 === m.open || !1
            }
        }
    }
    const dm = 16
      , um = 17
      , pm = "http://www.w3.org/2000/svg";
    function mm({message: e, onRemove: t}) {
        function n() {
            o && (o.remove(),
            t && t())
        }
        const o = om("div", {
            className: "success-message",
            onClick: n
        }, function() {
            const e = e => Bp.document.createElementNS(pm, e)
              , t = em(e("svg"), {
                class: "success-icon",
                width: `${dm}`,
                height: `${um}`,
                viewBox: `0 0 ${dm} ${um}`,
                fill: "none"
            })
              , n = em(e("g"), {
                clipPath: "url(#clip0_57_156)"
            })
              , o = em(e("path"), {
                "fill-rule": "evenodd",
                "clip-rule": "evenodd",
                d: "M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"
            })
              , i = em(e("path"), {
                d: "M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"
            });
            t.appendChild(n).append(i, o);
            const r = e("defs")
              , s = em(e("clipPath"), {
                id: "clip0_57_156"
            })
              , a = em(e("rect"), {
                width: `${dm}`,
                height: `${dm}`,
                fill: "white",
                transform: "translate(0 0.5)"
            });
            return s.appendChild(a),
            r.appendChild(s),
            t.appendChild(r).appendChild(s).appendChild(a),
            {
                get el() {
                    return t
                }
            }
        }().el, e);
        return {
            el: o,
            remove: n
        }
    }
    function gm({shadow: e, options: {shouldCreateActor: t=!0, ...n}, attachTo: o}) {
        let i, r, s = !1;
        async function a(t) {
            if (!r)
                return;
            const o = [];
            if (n.isNameRequired && !t.name && o.push(n.nameLabel),
            n.isEmailRequired && !t.email && o.push(n.emailLabel),
            t.message || o.push(n.messageLabel),
            o.length > 0)
                return void r.showError(`Please enter in the following required fields: ${o.join(", ")}`);
            await Jp(r, t) ? (m(),
            function() {
                if (e)
                    try {
                        const t = mm({
                            message: n.successMessageText,
                            onRemove: () => {
                                o && clearTimeout(o),
                                c()
                            }
                        });
                        if (!t.el)
                            throw new Error("Unable to show success message");
                        e.appendChild(t.el);
                        const o = setTimeout(( () => {
                            t && t.remove()
                        }
                        ), 5e3)
                    } catch (e) {
                        Jn.error(e)
                    }
            }(),
            n.onSubmitSuccess && n.onSubmitSuccess()) : n.onSubmitError && n.onSubmitError()
        }
        function l() {
            const e = br()
              , t = e && e.getIntegrationByName && e.getIntegrationByName("Replay");
            t && t.flush().catch((e => {
                Kp && Jn.error(e)
            }
            ))
        }
        function c() {
            i && i.show()
        }
        function d() {
            i && i.hide()
        }
        function u() {
            try {
                if (r)
                    return r.open(),
                    s = !0,
                    n.onFormOpen && n.onFormOpen(),
                    void l();
                const t = n.useSentryUser
                  , o = Er()
                  , i = o && o.getUser();
                if (r = cm({
                    colorScheme: n.colorScheme,
                    showBranding: n.showBranding,
                    showName: n.showName || n.isNameRequired,
                    showEmail: n.showEmail || n.isEmailRequired,
                    isNameRequired: n.isNameRequired,
                    isEmailRequired: n.isEmailRequired,
                    formTitle: n.formTitle,
                    cancelButtonLabel: n.cancelButtonLabel,
                    submitButtonLabel: n.submitButtonLabel,
                    emailLabel: n.emailLabel,
                    emailPlaceholder: n.emailPlaceholder,
                    messageLabel: n.messageLabel,
                    messagePlaceholder: n.messagePlaceholder,
                    nameLabel: n.nameLabel,
                    namePlaceholder: n.namePlaceholder,
                    isRequiredLabel: n.isRequiredLabel,
                    defaultName: t && i && i[t.name] || "",
                    defaultEmail: t && i && i[t.email] || "",
                    onClosed: () => {
                        c(),
                        s = !1,
                        n.onFormClose && n.onFormClose()
                    }
                    ,
                    onCancel: () => {
                        p(),
                        c()
                    }
                    ,
                    onSubmit: a
                }),
                !r.el)
                    throw new Error("Unable to open Feedback dialog");
                e.appendChild(r.el),
                d(),
                n.onFormOpen && n.onFormOpen(),
                l()
            } catch (e) {
                Jn.error(e)
            }
        }
        function p() {
            r && (r.close(),
            s = !1,
            n.onFormClose && n.onFormClose())
        }
        function m() {
            if (r) {
                p();
                const e = r.el;
                e && e.remove(),
                r = void 0
            }
        }
        function g() {
            s || u(),
            d()
        }
        return o ? o.addEventListener("click", g) : t && (i = rm({
            buttonLabel: n.buttonLabel,
            onClick: g
        }),
        i.el && e.appendChild(i.el)),
        {
            get actor() {
                return i
            },
            get dialog() {
                return r
            },
            showActor: c,
            hideActor: d,
            removeActor: function() {
                i && i.el && i.el.remove()
            },
            openDialog: u,
            closeDialog: p,
            removeDialog: m
        }
    }
    const hm = Bp.document;
    class fm {
        static __initStatic() {
            this.id = "Feedback"
        }
        constructor({autoInject: e=!0, id: t="sentry-feedback", isEmailRequired: n=!1, isNameRequired: o=!1, showBranding: i=!0, showEmail: r=!0, showName: s=!0, useSentryUser: a={
            email: "email",
            name: "username"
        }, themeDark: l, themeLight: c, colorScheme: d="system", buttonLabel: u="Report a Bug", cancelButtonLabel: p="Cancel", submitButtonLabel: m="Send Bug Report", formTitle: g="Report a Bug", emailPlaceholder: h="your.email@example.org", emailLabel: f="Email", messagePlaceholder: _="What's the bug? What did you expect?", messageLabel: v="Description", namePlaceholder: y="Your Name", nameLabel: w="Name", isRequiredLabel: b="(required)", successMessageText: E="Thank you for your report!", onFormClose: T, onFormOpen: S, onSubmitError: x, onSubmitSuccess: $}={}) {
            this.name = fm.id,
            this._host = null,
            this._shadow = null,
            this._widget = null,
            this._widgets = new Set,
            this._hasInsertedActorStyles = !1,
            this.options = {
                autoInject: e,
                showBranding: i,
                id: t,
                isEmailRequired: n,
                isNameRequired: o,
                showEmail: r,
                showName: s,
                useSentryUser: a,
                colorScheme: d,
                themeDark: {
                    ...Gp,
                    ...l
                },
                themeLight: {
                    ...jp,
                    ...c
                },
                buttonLabel: u,
                cancelButtonLabel: p,
                submitButtonLabel: m,
                formTitle: g,
                emailLabel: f,
                emailPlaceholder: h,
                messageLabel: v,
                messagePlaceholder: _,
                nameLabel: w,
                namePlaceholder: y,
                isRequiredLabel: b,
                successMessageText: E,
                onFormClose: T,
                onFormOpen: S,
                onSubmitError: x,
                onSubmitSuccess: $
            }
        }
        setupOnce() {
            if (ui())
                try {
                    this._cleanupWidgetIfExists();
                    const {autoInject: e} = this.options;
                    if (!e)
                        return;
                    this._createWidget(this.options)
                } catch (e) {
                    Kp && Jn.error(e)
                }
        }
        openDialog() {
            this._widget || this._createWidget({
                ...this.options,
                shouldCreateActor: !1
            }),
            this._widget && this._widget.openDialog()
        }
        closeDialog() {
            this._widget && this._widget.closeDialog()
        }
        attachTo(e, t) {
            try {
                const n = Zp(this.options, t || {});
                return this._ensureShadowHost(n, ( ({shadow: t}) => {
                    const o = "string" == typeof e ? hm.querySelector(e) : "function" == typeof e.addEventListener ? e : null;
                    if (!o)
                        return Kp && Jn.error("[Feedback] Unable to attach to target element"),
                        null;
                    const i = gm({
                        shadow: t,
                        options: n,
                        attachTo: o
                    });
                    return this._widgets.add(i),
                    this._widget || (this._widget = i),
                    i
                }
                ))
            } catch (e) {
                return Kp && Jn.error(e),
                null
            }
        }
        createWidget(e) {
            try {
                return this._createWidget(Zp(this.options, e || {}))
            } catch (e) {
                return Kp && Jn.error(e),
                null
            }
        }
        removeWidget(e) {
            if (!e)
                return !1;
            try {
                if (this._widgets.has(e))
                    return e.removeActor(),
                    e.removeDialog(),
                    this._widgets.delete(e),
                    this._widget === e && (this._widget = null),
                    !0
            } catch (e) {
                Kp && Jn.error(e)
            }
            return !1
        }
        getWidget() {
            return this._widget
        }
        remove() {
            this._host && this._host.remove(),
            this._initialize()
        }
        _initialize() {
            this._host = null,
            this._shadow = null,
            this._widget = null,
            this._widgets = new Set,
            this._hasInsertedActorStyles = !1
        }
        _cleanupWidgetIfExists() {
            this._host && this.remove();
            const e = hm.querySelector(`#${this.options.id}`);
            e && e.remove()
        }
        _createWidget(e) {
            return this._ensureShadowHost(e, ( ({shadow: t}) => {
                const n = gm({
                    shadow: t,
                    options: e
                });
                return !this._hasInsertedActorStyles && n.actor && (t.appendChild(function(e) {
                    const t = e.createElement("style");
                    return t.textContent = "\n.widget__actor {\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n  z-index: var(--z-index);\n\n  line-height: 16px;\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n\n  border-radius: var(--border-radius);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  padding: 16px;\n  text-decoration: none;\n  z-index: 9000;\n\n  color: var(--foreground);\n  background-color: var(--background);\n  border: var(--border);\n  box-shadow: var(--box-shadow);\n  opacity: 1;\n  transition: opacity 0.1s ease-in-out;\n}\n\n.widget__actor:hover {\n  background-color: var(--background-hover);\n}\n\n.widget__actor svg {\n  width: 16px;\n  height: 16px;\n}\n\n.widget__actor--hidden {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n\n.widget__actor__text {\n}\n\n@media (max-width: 600px) {\n  .widget__actor__text {\n    display: none;\n  }\n}\n\n.feedback-icon path {\n  fill: var(--foreground);\n}\n",
                    t
                }(hm)),
                this._hasInsertedActorStyles = !0),
                this._widgets.add(n),
                this._widget || (this._widget = n),
                n
            }
            ))
        }
        _ensureShadowHost(e, t) {
            let n = !1;
            if (!this._shadow || !this._host) {
                const {id: t, colorScheme: o, themeLight: i, themeDark: r} = e
                  , {shadow: s, host: a} = Qp({
                    id: t,
                    colorScheme: o,
                    themeLight: i,
                    themeDark: r
                });
                this._shadow = s,
                this._host = a,
                n = !0
            }
            this._host.dataset.sentryFeedbackColorscheme = e.colorScheme;
            const o = t({
                shadow: this._shadow,
                host: this._host
            });
            return n && hm.body.appendChild(this._host),
            o
        }
    }
    fm.__initStatic();
    const _m = "CaptureConsole"
      , vm = (e={}) => {
        const t = e.levels || Zn;
        return {
            name: _m,
            setupOnce() {},
            setup(e) {
                "console"in Fn && xo(( ({args: n, level: o}) => {
                    br() === e && t.includes(o) && function(e, t) {
                        const n = {
                            level: Oi(t),
                            extra: {
                                arguments: e
                            }
                        };
                        wr((o => {
                            if (o.addEventProcessor((e => (e.logger = "console",
                            Ao(e, {
                                handled: !1,
                                type: "console"
                            }),
                            e))),
                            "assert" === t && !1 === e[0]) {
                                const t = `Assertion failed: ${On(e.slice(1), " ") || "console.assert"}`;
                                return o.setExtra("arguments", e.slice(1)),
                                void _r(t, n)
                            }
                            const i = e.find((e => e instanceof Error));
                            if ("error" === t && i)
                                return void fr(i, n);
                            _r(On(e, " "), n)
                        }
                        ))
                    }(n, o)
                }
                ))
            }
        }
    }
    ;
    ns(_m, vm);
    const ym = "Debug"
      , wm = (e={}) => {
        const t = {
            debugger: !1,
            stringify: !1,
            ...e
        };
        return {
            name: ym,
            setupOnce() {},
            setup(e) {
                e.on && e.on("beforeSendEvent", ( (e, n) => {
                    t.debugger,
                    Qn(( () => {
                        t.stringify ? (console.log(JSON.stringify(e, null, 2)),
                        n && Object.keys(n).length && console.log(JSON.stringify(n, null, 2))) : (console.log(e),
                        n && Object.keys(n).length && console.log(n))
                    }
                    ))
                }
                ))
            }
        }
    }
    ;
    ns(ym, wm);
    const bm = "undefined" == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__
      , Em = "Dedupe";
    function Tm(e, t) {
        let n = $m(e)
          , o = $m(t);
        if (!n && !o)
            return !0;
        if (n && !o || !n && o)
            return !1;
        if (o.length !== n.length)
            return !1;
        for (let e = 0; e < o.length; e++) {
            const t = o[e]
              , i = n[e];
            if (t.filename !== i.filename || t.lineno !== i.lineno || t.colno !== i.colno || t.function !== i.function)
                return !1
        }
        return !0
    }
    function Sm(e, t) {
        let n = e.fingerprint
          , o = t.fingerprint;
        if (!n && !o)
            return !0;
        if (n && !o || !n && o)
            return !1;
        try {
            return !(n.join("") !== o.join(""))
        } catch (e) {
            return !1
        }
    }
    function xm(e) {
        return e.exception && e.exception.values && e.exception.values[0]
    }
    function $m(e) {
        const t = e.exception;
        if (t)
            try {
                return t.values[0].stacktrace.frames
            } catch (e) {
                return
            }
    }
    ns(Em, ( () => {
        let e;
        return {
            name: Em,
            setupOnce() {},
            processEvent(t) {
                if (t.type)
                    return t;
                try {
                    if (function(e, t) {
                        if (!t)
                            return !1;
                        if (function(e, t) {
                            const n = e.message
                              , o = t.message;
                            if (!n && !o)
                                return !1;
                            if (n && !o || !n && o)
                                return !1;
                            if (n !== o)
                                return !1;
                            if (!Sm(e, t))
                                return !1;
                            if (!Tm(e, t))
                                return !1;
                            return !0
                        }(e, t))
                            return !0;
                        if (function(e, t) {
                            const n = xm(t)
                              , o = xm(e);
                            if (!n || !o)
                                return !1;
                            if (n.type !== o.type || n.value !== o.value)
                                return !1;
                            if (!Sm(e, t))
                                return !1;
                            if (!Tm(e, t))
                                return !1;
                            return !0
                        }(e, t))
                            return !0;
                        return !1
                    }(t, e))
                        return bm && Jn.warn("Event dropped due to being a duplicate of previously captured event."),
                        null
                } catch (e) {}
                return e = t
            }
        }
    }
    ));
    const Cm = "ExtraErrorData";
    function km(e) {
        throw new Error('Could not dynamically require "' + e + '". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')
    }
    ns(Cm, ( (e={}) => {
        const t = e.depth || 3
          , n = e.captureErrorCause || !1;
        return {
            name: Cm,
            setupOnce() {},
            processEvent: (e, o) => function(e, t={}, n, o) {
                if (!t.originalException || !yn(t.originalException))
                    return e;
                const i = t.originalException.name || t.originalException.constructor.name
                  , r = function(e, t) {
                    try {
                        const n = ["name", "message", "stack", "line", "column", "fileName", "lineNumber", "columnNumber", "toJSON"]
                          , o = {};
                        for (const t of Object.keys(e)) {
                            if (-1 !== n.indexOf(t))
                                continue;
                            const i = e[t];
                            o[t] = yn(i) ? i.toString() : i
                        }
                        if (t && void 0 !== e.cause && (o.cause = yn(e.cause) ? e.cause.toString() : e.cause),
                        "function" == typeof e.toJSON) {
                            const t = e.toJSON();
                            for (const e of Object.keys(t)) {
                                const n = t[e];
                                o[e] = yn(n) ? n.toString() : n
                            }
                        }
                        return o
                    } catch (e) {
                        bm && Jn.error("Unable to extract extra data from the Error object:", e)
                    }
                    return null
                }(t.originalException, o);
                if (r) {
                    const t = {
                        ...e.contexts
                    }
                      , o = pi(r, n);
                    return $n(o) && (so(o, "__sentry_skip_normalization__", !0),
                    t[i] = o),
                    {
                        ...e,
                        contexts: t
                    }
                }
                return e
            }(e, o, t, n)
        }
    }
    ));
    var Im = {
        exports: {}
    };
    /*!
      localForage -- Offline Storage, Improved
      Version 1.10.0
      https://localforage.github.io/localForage
      (c) 2013-2017 Mozilla, Apache License 2.0
  */
    !function(e, t) {
        e.exports = function e(t, n, o) {
            function i(s, a) {
                if (!n[s]) {
                    if (!t[s]) {
                        if (!a && km)
                            return km(s);
                        if (r)
                            return r(s, !0);
                        var l = new Error("Cannot find module '" + s + "'");
                        throw l.code = "MODULE_NOT_FOUND",
                        l
                    }
                    var c = n[s] = {
                        exports: {}
                    };
                    t[s][0].call(c.exports, (function(e) {
                        var n = t[s][1][e];
                        return i(n || e)
                    }
                    ), c, c.exports, e, t, n, o)
                }
                return n[s].exports
            }
            for (var r = km, s = 0; s < o.length; s++)
                i(o[s]);
            return i
        }({
            1: [function(e, t, n) {
                (function(e) {
                    var n, o, i = e.MutationObserver || e.WebKitMutationObserver;
                    if (i) {
                        var r = 0
                          , s = new i(d)
                          , a = e.document.createTextNode("");
                        s.observe(a, {
                            characterData: !0
                        }),
                        n = function() {
                            a.data = r = ++r % 2
                        }
                    } else if (e.setImmediate || void 0 === e.MessageChannel)
                        n = "document"in e && "onreadystatechange"in e.document.createElement("script") ? function() {
                            var t = e.document.createElement("script");
                            t.onreadystatechange = function() {
                                d(),
                                t.onreadystatechange = null,
                                t.parentNode.removeChild(t),
                                t = null
                            }
                            ,
                            e.document.documentElement.appendChild(t)
                        }
                        : function() {
                            setTimeout(d, 0)
                        }
                        ;
                    else {
                        var l = new e.MessageChannel;
                        l.port1.onmessage = d,
                        n = function() {
                            l.port2.postMessage(0)
                        }
                    }
                    var c = [];
                    function d() {
                        var e, t;
                        o = !0;
                        for (var n = c.length; n; ) {
                            for (t = c,
                            c = [],
                            e = -1; ++e < n; )
                                t[e]();
                            n = c.length
                        }
                        o = !1
                    }
                    function u(e) {
                        1 !== c.push(e) || o || n()
                    }
                    t.exports = u
                }
                ).call(this, void 0 !== ft ? ft : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }
            , {}],
            2: [function(e, t, n) {
                var o = e(1);
                function i() {}
                var r = {}
                  , s = ["REJECTED"]
                  , a = ["FULFILLED"]
                  , l = ["PENDING"];
                function c(e) {
                    if ("function" != typeof e)
                        throw new TypeError("resolver must be a function");
                    this.state = l,
                    this.queue = [],
                    this.outcome = void 0,
                    e !== i && m(this, e)
                }
                function d(e, t, n) {
                    this.promise = e,
                    "function" == typeof t && (this.onFulfilled = t,
                    this.callFulfilled = this.otherCallFulfilled),
                    "function" == typeof n && (this.onRejected = n,
                    this.callRejected = this.otherCallRejected)
                }
                function u(e, t, n) {
                    o((function() {
                        var o;
                        try {
                            o = t(n)
                        } catch (t) {
                            return r.reject(e, t)
                        }
                        o === e ? r.reject(e, new TypeError("Cannot resolve promise with itself")) : r.resolve(e, o)
                    }
                    ))
                }
                function p(e) {
                    var t = e && e.then;
                    if (e && ("object" == typeof e || "function" == typeof e) && "function" == typeof t)
                        return function() {
                            t.apply(e, arguments)
                        }
                }
                function m(e, t) {
                    var n = !1;
                    function o(t) {
                        n || (n = !0,
                        r.reject(e, t))
                    }
                    function i(t) {
                        n || (n = !0,
                        r.resolve(e, t))
                    }
                    function s() {
                        t(i, o)
                    }
                    var a = g(s);
                    "error" === a.status && o(a.value)
                }
                function g(e, t) {
                    var n = {};
                    try {
                        n.value = e(t),
                        n.status = "success"
                    } catch (e) {
                        n.status = "error",
                        n.value = e
                    }
                    return n
                }
                function h(e) {
                    return e instanceof this ? e : r.resolve(new this(i), e)
                }
                function f(e) {
                    var t = new this(i);
                    return r.reject(t, e)
                }
                function _(e) {
                    var t = this;
                    if ("[object Array]" !== Object.prototype.toString.call(e))
                        return this.reject(new TypeError("must be an array"));
                    var n = e.length
                      , o = !1;
                    if (!n)
                        return this.resolve([]);
                    for (var s = new Array(n), a = 0, l = -1, c = new this(i); ++l < n; )
                        d(e[l], l);
                    return c;
                    function d(e, i) {
                        function l(e) {
                            s[i] = e,
                            ++a !== n || o || (o = !0,
                            r.resolve(c, s))
                        }
                        t.resolve(e).then(l, (function(e) {
                            o || (o = !0,
                            r.reject(c, e))
                        }
                        ))
                    }
                }
                function v(e) {
                    var t = this;
                    if ("[object Array]" !== Object.prototype.toString.call(e))
                        return this.reject(new TypeError("must be an array"));
                    var n = e.length
                      , o = !1;
                    if (!n)
                        return this.resolve([]);
                    for (var s = -1, a = new this(i); ++s < n; )
                        l(e[s]);
                    return a;
                    function l(e) {
                        t.resolve(e).then((function(e) {
                            o || (o = !0,
                            r.resolve(a, e))
                        }
                        ), (function(e) {
                            o || (o = !0,
                            r.reject(a, e))
                        }
                        ))
                    }
                }
                t.exports = c,
                c.prototype.catch = function(e) {
                    return this.then(null, e)
                }
                ,
                c.prototype.then = function(e, t) {
                    if ("function" != typeof e && this.state === a || "function" != typeof t && this.state === s)
                        return this;
                    var n = new this.constructor(i);
                    return this.state !== l ? u(n, this.state === a ? e : t, this.outcome) : this.queue.push(new d(n,e,t)),
                    n
                }
                ,
                d.prototype.callFulfilled = function(e) {
                    r.resolve(this.promise, e)
                }
                ,
                d.prototype.otherCallFulfilled = function(e) {
                    u(this.promise, this.onFulfilled, e)
                }
                ,
                d.prototype.callRejected = function(e) {
                    r.reject(this.promise, e)
                }
                ,
                d.prototype.otherCallRejected = function(e) {
                    u(this.promise, this.onRejected, e)
                }
                ,
                r.resolve = function(e, t) {
                    var n = g(p, t);
                    if ("error" === n.status)
                        return r.reject(e, n.value);
                    var o = n.value;
                    if (o)
                        m(e, o);
                    else {
                        e.state = a,
                        e.outcome = t;
                        for (var i = -1, s = e.queue.length; ++i < s; )
                            e.queue[i].callFulfilled(t)
                    }
                    return e
                }
                ,
                r.reject = function(e, t) {
                    e.state = s,
                    e.outcome = t;
                    for (var n = -1, o = e.queue.length; ++n < o; )
                        e.queue[n].callRejected(t);
                    return e
                }
                ,
                c.resolve = h,
                c.reject = f,
                c.all = _,
                c.race = v
            }
            , {
                1: 1
            }],
            3: [function(e, t, n) {
                (function(t) {
                    "function" != typeof t.Promise && (t.Promise = e(2))
                }
                ).call(this, void 0 !== ft ? ft : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }
            , {
                2: 2
            }],
            4: [function(e, t, n) {
                var o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                    return typeof e
                }
                : function(e) {
                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                }
                ;
                function i(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }
                function r() {
                    try {
                        if ("undefined" != typeof indexedDB)
                            return indexedDB;
                        if ("undefined" != typeof webkitIndexedDB)
                            return webkitIndexedDB;
                        if ("undefined" != typeof mozIndexedDB)
                            return mozIndexedDB;
                        if ("undefined" != typeof OIndexedDB)
                            return OIndexedDB;
                        if ("undefined" != typeof msIndexedDB)
                            return msIndexedDB
                    } catch (e) {
                        return
                    }
                }
                var s = r();
                function a() {
                    try {
                        if (!s || !s.open)
                            return !1;
                        var e = "undefined" != typeof openDatabase && /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/BlackBerry/.test(navigator.platform)
                          , t = "function" == typeof fetch && -1 !== fetch.toString().indexOf("[native code");
                        return (!e || t) && "undefined" != typeof indexedDB && "undefined" != typeof IDBKeyRange
                    } catch (e) {
                        return !1
                    }
                }
                function l(e, t) {
                    e = e || [],
                    t = t || {};
                    try {
                        return new Blob(e,t)
                    } catch (i) {
                        if ("TypeError" !== i.name)
                            throw i;
                        for (var n = new ("undefined" != typeof BlobBuilder ? BlobBuilder : "undefined" != typeof MSBlobBuilder ? MSBlobBuilder : "undefined" != typeof MozBlobBuilder ? MozBlobBuilder : WebKitBlobBuilder), o = 0; o < e.length; o += 1)
                            n.append(e[o]);
                        return n.getBlob(t.type)
                    }
                }
                "undefined" == typeof Promise && e(3);
                var c = Promise;
                function d(e, t) {
                    t && e.then((function(e) {
                        t(null, e)
                    }
                    ), (function(e) {
                        t(e)
                    }
                    ))
                }
                function u(e, t, n) {
                    "function" == typeof t && e.then(t),
                    "function" == typeof n && e.catch(n)
                }
                function p(e) {
                    return "string" != typeof e && (console.warn(e + " used as a key, but it is not a string."),
                    e = String(e)),
                    e
                }
                function m() {
                    if (arguments.length && "function" == typeof arguments[arguments.length - 1])
                        return arguments[arguments.length - 1]
                }
                var g = "local-forage-detect-blob-support"
                  , h = void 0
                  , f = {}
                  , _ = Object.prototype.toString
                  , v = "readonly"
                  , y = "readwrite";
                function w(e) {
                    for (var t = e.length, n = new ArrayBuffer(t), o = new Uint8Array(n), i = 0; i < t; i++)
                        o[i] = e.charCodeAt(i);
                    return n
                }
                function b(e) {
                    return new c((function(t) {
                        var n = e.transaction(g, y)
                          , o = l([""]);
                        n.objectStore(g).put(o, "key"),
                        n.onabort = function(e) {
                            e.preventDefault(),
                            e.stopPropagation(),
                            t(!1)
                        }
                        ,
                        n.oncomplete = function() {
                            var e = navigator.userAgent.match(/Chrome\/(\d+)/)
                              , n = navigator.userAgent.match(/Edge\//);
                            t(n || !e || parseInt(e[1], 10) >= 43)
                        }
                    }
                    )).catch((function() {
                        return !1
                    }
                    ))
                }
                function E(e) {
                    return "boolean" == typeof h ? c.resolve(h) : b(e).then((function(e) {
                        return h = e
                    }
                    ))
                }
                function T(e) {
                    var t = f[e.name]
                      , n = {};
                    n.promise = new c((function(e, t) {
                        n.resolve = e,
                        n.reject = t
                    }
                    )),
                    t.deferredOperations.push(n),
                    t.dbReady ? t.dbReady = t.dbReady.then((function() {
                        return n.promise
                    }
                    )) : t.dbReady = n.promise
                }
                function S(e) {
                    var t = f[e.name].deferredOperations.pop();
                    if (t)
                        return t.resolve(),
                        t.promise
                }
                function x(e, t) {
                    var n = f[e.name].deferredOperations.pop();
                    if (n)
                        return n.reject(t),
                        n.promise
                }
                function $(e, t) {
                    return new c((function(n, o) {
                        if (f[e.name] = f[e.name] || D(),
                        e.db) {
                            if (!t)
                                return n(e.db);
                            T(e),
                            e.db.close()
                        }
                        var i = [e.name];
                        t && i.push(e.version);
                        var r = s.open.apply(s, i);
                        t && (r.onupgradeneeded = function(t) {
                            var n = r.result;
                            try {
                                n.createObjectStore(e.storeName),
                                t.oldVersion <= 1 && n.createObjectStore(g)
                            } catch (n) {
                                if ("ConstraintError" !== n.name)
                                    throw n;
                                console.warn('The database "' + e.name + '" has been upgraded from version ' + t.oldVersion + " to version " + t.newVersion + ', but the storage "' + e.storeName + '" already exists.')
                            }
                        }
                        ),
                        r.onerror = function(e) {
                            e.preventDefault(),
                            o(r.error)
                        }
                        ,
                        r.onsuccess = function() {
                            var t = r.result;
                            t.onversionchange = function(e) {
                                e.target.close()
                            }
                            ,
                            n(t),
                            S(e)
                        }
                    }
                    ))
                }
                function C(e) {
                    return $(e, !1)
                }
                function k(e) {
                    return $(e, !0)
                }
                function I(e, t) {
                    if (!e.db)
                        return !0;
                    var n = !e.db.objectStoreNames.contains(e.storeName)
                      , o = e.version < e.db.version
                      , i = e.version > e.db.version;
                    if (o && (e.version !== t && console.warn('The database "' + e.name + "\" can't be downgraded from version " + e.db.version + " to version " + e.version + "."),
                    e.version = e.db.version),
                    i || n) {
                        if (n) {
                            var r = e.db.version + 1;
                            r > e.version && (e.version = r)
                        }
                        return !0
                    }
                    return !1
                }
                function L(e) {
                    return new c((function(t, n) {
                        var o = new FileReader;
                        o.onerror = n,
                        o.onloadend = function(n) {
                            var o = btoa(n.target.result || "");
                            t({
                                __local_forage_encoded_blob: !0,
                                data: o,
                                type: e.type
                            })
                        }
                        ,
                        o.readAsBinaryString(e)
                    }
                    ))
                }
                function A(e) {
                    return l([w(atob(e.data))], {
                        type: e.type
                    })
                }
                function R(e) {
                    return e && e.__local_forage_encoded_blob
                }
                function M(e) {
                    var t = this
                      , n = t._initReady().then((function() {
                        var e = f[t._dbInfo.name];
                        if (e && e.dbReady)
                            return e.dbReady
                    }
                    ));
                    return u(n, e, e),
                    n
                }
                function O(e) {
                    T(e);
                    for (var t = f[e.name], n = t.forages, o = 0; o < n.length; o++) {
                        var i = n[o];
                        i._dbInfo.db && (i._dbInfo.db.close(),
                        i._dbInfo.db = null)
                    }
                    return e.db = null,
                    C(e).then((function(t) {
                        return e.db = t,
                        I(e) ? k(e) : t
                    }
                    )).then((function(o) {
                        e.db = t.db = o;
                        for (var i = 0; i < n.length; i++)
                            n[i]._dbInfo.db = o
                    }
                    )).catch((function(t) {
                        throw x(e, t),
                        t
                    }
                    ))
                }
                function N(e, t, n, o) {
                    void 0 === o && (o = 1);
                    try {
                        var i = e.db.transaction(e.storeName, t);
                        n(null, i)
                    } catch (i) {
                        if (o > 0 && (!e.db || "InvalidStateError" === i.name || "NotFoundError" === i.name))
                            return c.resolve().then((function() {
                                if (!e.db || "NotFoundError" === i.name && !e.db.objectStoreNames.contains(e.storeName) && e.version <= e.db.version)
                                    return e.db && (e.version = e.db.version + 1),
                                    k(e)
                            }
                            )).then((function() {
                                return O(e).then((function() {
                                    N(e, t, n, o - 1)
                                }
                                ))
                            }
                            )).catch(n);
                        n(i)
                    }
                }
                function D() {
                    return {
                        forages: [],
                        db: null,
                        dbReady: null,
                        deferredOperations: []
                    }
                }
                function P(e) {
                    var t = this
                      , n = {
                        db: null
                    };
                    if (e)
                        for (var o in e)
                            n[o] = e[o];
                    var i = f[n.name];
                    i || (i = D(),
                    f[n.name] = i),
                    i.forages.push(t),
                    t._initReady || (t._initReady = t.ready,
                    t.ready = M);
                    var r = [];
                    function s() {
                        return c.resolve()
                    }
                    for (var a = 0; a < i.forages.length; a++) {
                        var l = i.forages[a];
                        l !== t && r.push(l._initReady().catch(s))
                    }
                    var d = i.forages.slice(0);
                    return c.all(r).then((function() {
                        return n.db = i.db,
                        C(n)
                    }
                    )).then((function(e) {
                        return n.db = e,
                        I(n, t._defaultConfig.version) ? k(n) : e
                    }
                    )).then((function(e) {
                        n.db = i.db = e,
                        t._dbInfo = n;
                        for (var o = 0; o < d.length; o++) {
                            var r = d[o];
                            r !== t && (r._dbInfo.db = n.db,
                            r._dbInfo.version = n.version)
                        }
                    }
                    ))
                }
                function U(e, t) {
                    var n = this;
                    e = p(e);
                    var o = new c((function(t, o) {
                        n.ready().then((function() {
                            N(n._dbInfo, v, (function(i, r) {
                                if (i)
                                    return o(i);
                                try {
                                    var s = r.objectStore(n._dbInfo.storeName).get(e);
                                    s.onsuccess = function() {
                                        var e = s.result;
                                        void 0 === e && (e = null),
                                        R(e) && (e = A(e)),
                                        t(e)
                                    }
                                    ,
                                    s.onerror = function() {
                                        o(s.error)
                                    }
                                } catch (e) {
                                    o(e)
                                }
                            }
                            ))
                        }
                        )).catch(o)
                    }
                    ));
                    return d(o, t),
                    o
                }
                function B(e, t) {
                    var n = this
                      , o = new c((function(t, o) {
                        n.ready().then((function() {
                            N(n._dbInfo, v, (function(i, r) {
                                if (i)
                                    return o(i);
                                try {
                                    var s = r.objectStore(n._dbInfo.storeName).openCursor()
                                      , a = 1;
                                    s.onsuccess = function() {
                                        var n = s.result;
                                        if (n) {
                                            var o = n.value;
                                            R(o) && (o = A(o));
                                            var i = e(o, n.key, a++);
                                            void 0 !== i ? t(i) : n.continue()
                                        } else
                                            t()
                                    }
                                    ,
                                    s.onerror = function() {
                                        o(s.error)
                                    }
                                } catch (e) {
                                    o(e)
                                }
                            }
                            ))
                        }
                        )).catch(o)
                    }
                    ));
                    return d(o, t),
                    o
                }
                function W(e, t, n) {
                    var o = this;
                    e = p(e);
                    var i = new c((function(n, i) {
                        var r;
                        o.ready().then((function() {
                            return r = o._dbInfo,
                            "[object Blob]" === _.call(t) ? E(r.db).then((function(e) {
                                return e ? t : L(t)
                            }
                            )) : t
                        }
                        )).then((function(t) {
                            N(o._dbInfo, y, (function(r, s) {
                                if (r)
                                    return i(r);
                                try {
                                    var a = s.objectStore(o._dbInfo.storeName);
                                    null === t && (t = void 0);
                                    var l = a.put(t, e);
                                    s.oncomplete = function() {
                                        void 0 === t && (t = null),
                                        n(t)
                                    }
                                    ,
                                    s.onabort = s.onerror = function() {
                                        var e = l.error ? l.error : l.transaction.error;
                                        i(e)
                                    }
                                } catch (e) {
                                    i(e)
                                }
                            }
                            ))
                        }
                        )).catch(i)
                    }
                    ));
                    return d(i, n),
                    i
                }
                function F(e, t) {
                    var n = this;
                    e = p(e);
                    var o = new c((function(t, o) {
                        n.ready().then((function() {
                            N(n._dbInfo, y, (function(i, r) {
                                if (i)
                                    return o(i);
                                try {
                                    var s = r.objectStore(n._dbInfo.storeName).delete(e);
                                    r.oncomplete = function() {
                                        t()
                                    }
                                    ,
                                    r.onerror = function() {
                                        o(s.error)
                                    }
                                    ,
                                    r.onabort = function() {
                                        var e = s.error ? s.error : s.transaction.error;
                                        o(e)
                                    }
                                } catch (e) {
                                    o(e)
                                }
                            }
                            ))
                        }
                        )).catch(o)
                    }
                    ));
                    return d(o, t),
                    o
                }
                function z(e) {
                    var t = this
                      , n = new c((function(e, n) {
                        t.ready().then((function() {
                            N(t._dbInfo, y, (function(o, i) {
                                if (o)
                                    return n(o);
                                try {
                                    var r = i.objectStore(t._dbInfo.storeName).clear();
                                    i.oncomplete = function() {
                                        e()
                                    }
                                    ,
                                    i.onabort = i.onerror = function() {
                                        var e = r.error ? r.error : r.transaction.error;
                                        n(e)
                                    }
                                } catch (e) {
                                    n(e)
                                }
                            }
                            ))
                        }
                        )).catch(n)
                    }
                    ));
                    return d(n, e),
                    n
                }
                function H(e) {
                    var t = this
                      , n = new c((function(e, n) {
                        t.ready().then((function() {
                            N(t._dbInfo, v, (function(o, i) {
                                if (o)
                                    return n(o);
                                try {
                                    var r = i.objectStore(t._dbInfo.storeName).count();
                                    r.onsuccess = function() {
                                        e(r.result)
                                    }
                                    ,
                                    r.onerror = function() {
                                        n(r.error)
                                    }
                                } catch (e) {
                                    n(e)
                                }
                            }
                            ))
                        }
                        )).catch(n)
                    }
                    ));
                    return d(n, e),
                    n
                }
                function j(e, t) {
                    var n = this
                      , o = new c((function(t, o) {
                        e < 0 ? t(null) : n.ready().then((function() {
                            N(n._dbInfo, v, (function(i, r) {
                                if (i)
                                    return o(i);
                                try {
                                    var s = r.objectStore(n._dbInfo.storeName)
                                      , a = !1
                                      , l = s.openKeyCursor();
                                    l.onsuccess = function() {
                                        var n = l.result;
                                        n ? 0 === e || a ? t(n.key) : (a = !0,
                                        n.advance(e)) : t(null)
                                    }
                                    ,
                                    l.onerror = function() {
                                        o(l.error)
                                    }
                                } catch (e) {
                                    o(e)
                                }
                            }
                            ))
                        }
                        )).catch(o)
                    }
                    ));
                    return d(o, t),
                    o
                }
                function G(e) {
                    var t = this
                      , n = new c((function(e, n) {
                        t.ready().then((function() {
                            N(t._dbInfo, v, (function(o, i) {
                                if (o)
                                    return n(o);
                                try {
                                    var r = i.objectStore(t._dbInfo.storeName).openKeyCursor()
                                      , s = [];
                                    r.onsuccess = function() {
                                        var t = r.result;
                                        t ? (s.push(t.key),
                                        t.continue()) : e(s)
                                    }
                                    ,
                                    r.onerror = function() {
                                        n(r.error)
                                    }
                                } catch (e) {
                                    n(e)
                                }
                            }
                            ))
                        }
                        )).catch(n)
                    }
                    ));
                    return d(n, e),
                    n
                }
                function q(e, t) {
                    t = m.apply(this, arguments);
                    var n = this.config();
                    (e = "function" != typeof e && e || {}).name || (e.name = e.name || n.name,
                    e.storeName = e.storeName || n.storeName);
                    var o, i = this;
                    if (e.name) {
                        var r = e.name === n.name && i._dbInfo.db ? c.resolve(i._dbInfo.db) : C(e).then((function(t) {
                            var n = f[e.name]
                              , o = n.forages;
                            n.db = t;
                            for (var i = 0; i < o.length; i++)
                                o[i]._dbInfo.db = t;
                            return t
                        }
                        ));
                        o = e.storeName ? r.then((function(t) {
                            if (t.objectStoreNames.contains(e.storeName)) {
                                var n = t.version + 1;
                                T(e);
                                var o = f[e.name]
                                  , i = o.forages;
                                t.close();
                                for (var r = 0; r < i.length; r++) {
                                    var a = i[r];
                                    a._dbInfo.db = null,
                                    a._dbInfo.version = n
                                }
                                var l = new c((function(t, o) {
                                    var i = s.open(e.name, n);
                                    i.onerror = function(e) {
                                        i.result.close(),
                                        o(e)
                                    }
                                    ,
                                    i.onupgradeneeded = function() {
                                        i.result.deleteObjectStore(e.storeName)
                                    }
                                    ,
                                    i.onsuccess = function() {
                                        var e = i.result;
                                        e.close(),
                                        t(e)
                                    }
                                }
                                ));
                                return l.then((function(e) {
                                    o.db = e;
                                    for (var t = 0; t < i.length; t++) {
                                        var n = i[t];
                                        n._dbInfo.db = e,
                                        S(n._dbInfo)
                                    }
                                }
                                )).catch((function(t) {
                                    throw (x(e, t) || c.resolve()).catch((function() {}
                                    )),
                                    t
                                }
                                ))
                            }
                        }
                        )) : r.then((function(t) {
                            T(e);
                            var n = f[e.name]
                              , o = n.forages;
                            t.close();
                            for (var i = 0; i < o.length; i++)
                                o[i]._dbInfo.db = null;
                            var r = new c((function(t, n) {
                                var o = s.deleteDatabase(e.name);
                                o.onerror = function() {
                                    var e = o.result;
                                    e && e.close(),
                                    n(o.error)
                                }
                                ,
                                o.onblocked = function() {
                                    console.warn('dropInstance blocked for database "' + e.name + '" until all open connections are closed')
                                }
                                ,
                                o.onsuccess = function() {
                                    var e = o.result;
                                    e && e.close(),
                                    t(e)
                                }
                            }
                            ));
                            return r.then((function(e) {
                                n.db = e;
                                for (var t = 0; t < o.length; t++)
                                    S(o[t]._dbInfo)
                            }
                            )).catch((function(t) {
                                throw (x(e, t) || c.resolve()).catch((function() {}
                                )),
                                t
                            }
                            ))
                        }
                        ))
                    } else
                        o = c.reject("Invalid arguments");
                    return d(o, t),
                    o
                }
                var V = {
                    _driver: "asyncStorage",
                    _initStorage: P,
                    _support: a(),
                    iterate: B,
                    getItem: U,
                    setItem: W,
                    removeItem: F,
                    clear: z,
                    length: H,
                    key: j,
                    keys: G,
                    dropInstance: q
                };
                function Y() {
                    return "function" == typeof openDatabase
                }
                var K = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"
                  , Z = "~~local_forage_type~"
                  , X = /^~~local_forage_type~([^~]+)~/
                  , Q = "__lfsc__:"
                  , J = Q.length
                  , ee = "arbf"
                  , te = "blob"
                  , ne = "si08"
                  , oe = "ui08"
                  , ie = "uic8"
                  , re = "si16"
                  , se = "si32"
                  , ae = "ur16"
                  , le = "ui32"
                  , ce = "fl32"
                  , de = "fl64"
                  , ue = J + ee.length
                  , pe = Object.prototype.toString;
                function me(e) {
                    var t, n, o, i, r, s = .75 * e.length, a = e.length, l = 0;
                    "=" === e[e.length - 1] && (s--,
                    "=" === e[e.length - 2] && s--);
                    var c = new ArrayBuffer(s)
                      , d = new Uint8Array(c);
                    for (t = 0; t < a; t += 4)
                        n = K.indexOf(e[t]),
                        o = K.indexOf(e[t + 1]),
                        i = K.indexOf(e[t + 2]),
                        r = K.indexOf(e[t + 3]),
                        d[l++] = n << 2 | o >> 4,
                        d[l++] = (15 & o) << 4 | i >> 2,
                        d[l++] = (3 & i) << 6 | 63 & r;
                    return c
                }
                function ge(e) {
                    var t, n = new Uint8Array(e), o = "";
                    for (t = 0; t < n.length; t += 3)
                        o += K[n[t] >> 2],
                        o += K[(3 & n[t]) << 4 | n[t + 1] >> 4],
                        o += K[(15 & n[t + 1]) << 2 | n[t + 2] >> 6],
                        o += K[63 & n[t + 2]];
                    return n.length % 3 == 2 ? o = o.substring(0, o.length - 1) + "=" : n.length % 3 == 1 && (o = o.substring(0, o.length - 2) + "=="),
                    o
                }
                function he(e, t) {
                    var n = "";
                    if (e && (n = pe.call(e)),
                    e && ("[object ArrayBuffer]" === n || e.buffer && "[object ArrayBuffer]" === pe.call(e.buffer))) {
                        var o, i = Q;
                        e instanceof ArrayBuffer ? (o = e,
                        i += ee) : (o = e.buffer,
                        "[object Int8Array]" === n ? i += ne : "[object Uint8Array]" === n ? i += oe : "[object Uint8ClampedArray]" === n ? i += ie : "[object Int16Array]" === n ? i += re : "[object Uint16Array]" === n ? i += ae : "[object Int32Array]" === n ? i += se : "[object Uint32Array]" === n ? i += le : "[object Float32Array]" === n ? i += ce : "[object Float64Array]" === n ? i += de : t(new Error("Failed to get type for BinaryArray"))),
                        t(i + ge(o))
                    } else if ("[object Blob]" === n) {
                        var r = new FileReader;
                        r.onload = function() {
                            var n = Z + e.type + "~" + ge(this.result);
                            t(Q + te + n)
                        }
                        ,
                        r.readAsArrayBuffer(e)
                    } else
                        try {
                            t(JSON.stringify(e))
                        } catch (n) {
                            console.error("Couldn't convert value into a JSON string: ", e),
                            t(null, n)
                        }
                }
                function fe(e) {
                    if (e.substring(0, J) !== Q)
                        return JSON.parse(e);
                    var t, n = e.substring(ue), o = e.substring(J, ue);
                    if (o === te && X.test(n)) {
                        var i = n.match(X);
                        t = i[1],
                        n = n.substring(i[0].length)
                    }
                    var r = me(n);
                    switch (o) {
                    case ee:
                        return r;
                    case te:
                        return l([r], {
                            type: t
                        });
                    case ne:
                        return new Int8Array(r);
                    case oe:
                        return new Uint8Array(r);
                    case ie:
                        return new Uint8ClampedArray(r);
                    case re:
                        return new Int16Array(r);
                    case ae:
                        return new Uint16Array(r);
                    case se:
                        return new Int32Array(r);
                    case le:
                        return new Uint32Array(r);
                    case ce:
                        return new Float32Array(r);
                    case de:
                        return new Float64Array(r);
                    default:
                        throw new Error("Unkown type: " + o)
                    }
                }
                var _e = {
                    serialize: he,
                    deserialize: fe,
                    stringToBuffer: me,
                    bufferToString: ge
                };
                function ve(e, t, n, o) {
                    e.executeSql("CREATE TABLE IF NOT EXISTS " + t.storeName + " (id INTEGER PRIMARY KEY, key unique, value)", [], n, o)
                }
                function ye(e) {
                    var t = this
                      , n = {
                        db: null
                    };
                    if (e)
                        for (var o in e)
                            n[o] = "string" != typeof e[o] ? e[o].toString() : e[o];
                    var i = new c((function(e, o) {
                        try {
                            n.db = openDatabase(n.name, String(n.version), n.description, n.size)
                        } catch (e) {
                            return o(e)
                        }
                        n.db.transaction((function(i) {
                            ve(i, n, (function() {
                                t._dbInfo = n,
                                e()
                            }
                            ), (function(e, t) {
                                o(t)
                            }
                            ))
                        }
                        ), o)
                    }
                    ));
                    return n.serializer = _e,
                    i
                }
                function we(e, t, n, o, i, r) {
                    e.executeSql(n, o, i, (function(e, s) {
                        s.code === s.SYNTAX_ERR ? e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?", [t.storeName], (function(e, a) {
                            a.rows.length ? r(e, s) : ve(e, t, (function() {
                                e.executeSql(n, o, i, r)
                            }
                            ), r)
                        }
                        ), r) : r(e, s)
                    }
                    ), r)
                }
                function be(e, t) {
                    var n = this;
                    e = p(e);
                    var o = new c((function(t, o) {
                        n.ready().then((function() {
                            var i = n._dbInfo;
                            i.db.transaction((function(n) {
                                we(n, i, "SELECT * FROM " + i.storeName + " WHERE key = ? LIMIT 1", [e], (function(e, n) {
                                    var o = n.rows.length ? n.rows.item(0).value : null;
                                    o && (o = i.serializer.deserialize(o)),
                                    t(o)
                                }
                                ), (function(e, t) {
                                    o(t)
                                }
                                ))
                            }
                            ))
                        }
                        )).catch(o)
                    }
                    ));
                    return d(o, t),
                    o
                }
                function Ee(e, t) {
                    var n = this
                      , o = new c((function(t, o) {
                        n.ready().then((function() {
                            var i = n._dbInfo;
                            i.db.transaction((function(n) {
                                we(n, i, "SELECT * FROM " + i.storeName, [], (function(n, o) {
                                    for (var r = o.rows, s = r.length, a = 0; a < s; a++) {
                                        var l = r.item(a)
                                          , c = l.value;
                                        if (c && (c = i.serializer.deserialize(c)),
                                        void 0 !== (c = e(c, l.key, a + 1)))
                                            return void t(c)
                                    }
                                    t()
                                }
                                ), (function(e, t) {
                                    o(t)
                                }
                                ))
                            }
                            ))
                        }
                        )).catch(o)
                    }
                    ));
                    return d(o, t),
                    o
                }
                function Te(e, t, n, o) {
                    var i = this;
                    e = p(e);
                    var r = new c((function(r, s) {
                        i.ready().then((function() {
                            void 0 === t && (t = null);
                            var a = t
                              , l = i._dbInfo;
                            l.serializer.serialize(t, (function(t, c) {
                                c ? s(c) : l.db.transaction((function(n) {
                                    we(n, l, "INSERT OR REPLACE INTO " + l.storeName + " (key, value) VALUES (?, ?)", [e, t], (function() {
                                        r(a)
                                    }
                                    ), (function(e, t) {
                                        s(t)
                                    }
                                    ))
                                }
                                ), (function(t) {
                                    if (t.code === t.QUOTA_ERR) {
                                        if (o > 0)
                                            return void r(Te.apply(i, [e, a, n, o - 1]));
                                        s(t)
                                    }
                                }
                                ))
                            }
                            ))
                        }
                        )).catch(s)
                    }
                    ));
                    return d(r, n),
                    r
                }
                function Se(e, t, n) {
                    return Te.apply(this, [e, t, n, 1])
                }
                function xe(e, t) {
                    var n = this;
                    e = p(e);
                    var o = new c((function(t, o) {
                        n.ready().then((function() {
                            var i = n._dbInfo;
                            i.db.transaction((function(n) {
                                we(n, i, "DELETE FROM " + i.storeName + " WHERE key = ?", [e], (function() {
                                    t()
                                }
                                ), (function(e, t) {
                                    o(t)
                                }
                                ))
                            }
                            ))
                        }
                        )).catch(o)
                    }
                    ));
                    return d(o, t),
                    o
                }
                function $e(e) {
                    var t = this
                      , n = new c((function(e, n) {
                        t.ready().then((function() {
                            var o = t._dbInfo;
                            o.db.transaction((function(t) {
                                we(t, o, "DELETE FROM " + o.storeName, [], (function() {
                                    e()
                                }
                                ), (function(e, t) {
                                    n(t)
                                }
                                ))
                            }
                            ))
                        }
                        )).catch(n)
                    }
                    ));
                    return d(n, e),
                    n
                }
                function Ce(e) {
                    var t = this
                      , n = new c((function(e, n) {
                        t.ready().then((function() {
                            var o = t._dbInfo;
                            o.db.transaction((function(t) {
                                we(t, o, "SELECT COUNT(key) as c FROM " + o.storeName, [], (function(t, n) {
                                    var o = n.rows.item(0).c;
                                    e(o)
                                }
                                ), (function(e, t) {
                                    n(t)
                                }
                                ))
                            }
                            ))
                        }
                        )).catch(n)
                    }
                    ));
                    return d(n, e),
                    n
                }
                function ke(e, t) {
                    var n = this
                      , o = new c((function(t, o) {
                        n.ready().then((function() {
                            var i = n._dbInfo;
                            i.db.transaction((function(n) {
                                we(n, i, "SELECT key FROM " + i.storeName + " WHERE id = ? LIMIT 1", [e + 1], (function(e, n) {
                                    var o = n.rows.length ? n.rows.item(0).key : null;
                                    t(o)
                                }
                                ), (function(e, t) {
                                    o(t)
                                }
                                ))
                            }
                            ))
                        }
                        )).catch(o)
                    }
                    ));
                    return d(o, t),
                    o
                }
                function Ie(e) {
                    var t = this
                      , n = new c((function(e, n) {
                        t.ready().then((function() {
                            var o = t._dbInfo;
                            o.db.transaction((function(t) {
                                we(t, o, "SELECT key FROM " + o.storeName, [], (function(t, n) {
                                    for (var o = [], i = 0; i < n.rows.length; i++)
                                        o.push(n.rows.item(i).key);
                                    e(o)
                                }
                                ), (function(e, t) {
                                    n(t)
                                }
                                ))
                            }
                            ))
                        }
                        )).catch(n)
                    }
                    ));
                    return d(n, e),
                    n
                }
                function Le(e) {
                    return new c((function(t, n) {
                        e.transaction((function(o) {
                            o.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'", [], (function(n, o) {
                                for (var i = [], r = 0; r < o.rows.length; r++)
                                    i.push(o.rows.item(r).name);
                                t({
                                    db: e,
                                    storeNames: i
                                })
                            }
                            ), (function(e, t) {
                                n(t)
                            }
                            ))
                        }
                        ), (function(e) {
                            n(e)
                        }
                        ))
                    }
                    ))
                }
                function Ae(e, t) {
                    t = m.apply(this, arguments);
                    var n = this.config();
                    (e = "function" != typeof e && e || {}).name || (e.name = e.name || n.name,
                    e.storeName = e.storeName || n.storeName);
                    var o, i = this;
                    return o = e.name ? new c((function(t) {
                        var o;
                        o = e.name === n.name ? i._dbInfo.db : openDatabase(e.name, "", "", 0),
                        e.storeName ? t({
                            db: o,
                            storeNames: [e.storeName]
                        }) : t(Le(o))
                    }
                    )).then((function(e) {
                        return new c((function(t, n) {
                            e.db.transaction((function(o) {
                                function i(e) {
                                    return new c((function(t, n) {
                                        o.executeSql("DROP TABLE IF EXISTS " + e, [], (function() {
                                            t()
                                        }
                                        ), (function(e, t) {
                                            n(t)
                                        }
                                        ))
                                    }
                                    ))
                                }
                                for (var r = [], s = 0, a = e.storeNames.length; s < a; s++)
                                    r.push(i(e.storeNames[s]));
                                c.all(r).then((function() {
                                    t()
                                }
                                )).catch((function(e) {
                                    n(e)
                                }
                                ))
                            }
                            ), (function(e) {
                                n(e)
                            }
                            ))
                        }
                        ))
                    }
                    )) : c.reject("Invalid arguments"),
                    d(o, t),
                    o
                }
                var Re = {
                    _driver: "webSQLStorage",
                    _initStorage: ye,
                    _support: Y(),
                    iterate: Ee,
                    getItem: be,
                    setItem: Se,
                    removeItem: xe,
                    clear: $e,
                    length: Ce,
                    key: ke,
                    keys: Ie,
                    dropInstance: Ae
                };
                function Me() {
                    try {
                        return "undefined" != typeof localStorage && "setItem"in localStorage && !!localStorage.setItem
                    } catch (e) {
                        return !1
                    }
                }
                function Oe(e, t) {
                    var n = e.name + "/";
                    return e.storeName !== t.storeName && (n += e.storeName + "/"),
                    n
                }
                function Ne() {
                    var e = "_localforage_support_test";
                    try {
                        return localStorage.setItem(e, !0),
                        localStorage.removeItem(e),
                        !1
                    } catch (e) {
                        return !0
                    }
                }
                function De() {
                    return !Ne() || localStorage.length > 0
                }
                function Pe(e) {
                    var t = this
                      , n = {};
                    if (e)
                        for (var o in e)
                            n[o] = e[o];
                    return n.keyPrefix = Oe(e, t._defaultConfig),
                    De() ? (t._dbInfo = n,
                    n.serializer = _e,
                    c.resolve()) : c.reject()
                }
                function Ue(e) {
                    var t = this
                      , n = t.ready().then((function() {
                        for (var e = t._dbInfo.keyPrefix, n = localStorage.length - 1; n >= 0; n--) {
                            var o = localStorage.key(n);
                            0 === o.indexOf(e) && localStorage.removeItem(o)
                        }
                    }
                    ));
                    return d(n, e),
                    n
                }
                function Be(e, t) {
                    var n = this;
                    e = p(e);
                    var o = n.ready().then((function() {
                        var t = n._dbInfo
                          , o = localStorage.getItem(t.keyPrefix + e);
                        return o && (o = t.serializer.deserialize(o)),
                        o
                    }
                    ));
                    return d(o, t),
                    o
                }
                function We(e, t) {
                    var n = this
                      , o = n.ready().then((function() {
                        for (var t = n._dbInfo, o = t.keyPrefix, i = o.length, r = localStorage.length, s = 1, a = 0; a < r; a++) {
                            var l = localStorage.key(a);
                            if (0 === l.indexOf(o)) {
                                var c = localStorage.getItem(l);
                                if (c && (c = t.serializer.deserialize(c)),
                                void 0 !== (c = e(c, l.substring(i), s++)))
                                    return c
                            }
                        }
                    }
                    ));
                    return d(o, t),
                    o
                }
                function Fe(e, t) {
                    var n = this
                      , o = n.ready().then((function() {
                        var t, o = n._dbInfo;
                        try {
                            t = localStorage.key(e)
                        } catch (e) {
                            t = null
                        }
                        return t && (t = t.substring(o.keyPrefix.length)),
                        t
                    }
                    ));
                    return d(o, t),
                    o
                }
                function ze(e) {
                    var t = this
                      , n = t.ready().then((function() {
                        for (var e = t._dbInfo, n = localStorage.length, o = [], i = 0; i < n; i++) {
                            var r = localStorage.key(i);
                            0 === r.indexOf(e.keyPrefix) && o.push(r.substring(e.keyPrefix.length))
                        }
                        return o
                    }
                    ));
                    return d(n, e),
                    n
                }
                function He(e) {
                    var t = this.keys().then((function(e) {
                        return e.length
                    }
                    ));
                    return d(t, e),
                    t
                }
                function je(e, t) {
                    var n = this;
                    e = p(e);
                    var o = n.ready().then((function() {
                        var t = n._dbInfo;
                        localStorage.removeItem(t.keyPrefix + e)
                    }
                    ));
                    return d(o, t),
                    o
                }
                function Ge(e, t, n) {
                    var o = this;
                    e = p(e);
                    var i = o.ready().then((function() {
                        void 0 === t && (t = null);
                        var n = t;
                        return new c((function(i, r) {
                            var s = o._dbInfo;
                            s.serializer.serialize(t, (function(t, o) {
                                if (o)
                                    r(o);
                                else
                                    try {
                                        localStorage.setItem(s.keyPrefix + e, t),
                                        i(n)
                                    } catch (e) {
                                        "QuotaExceededError" !== e.name && "NS_ERROR_DOM_QUOTA_REACHED" !== e.name || r(e),
                                        r(e)
                                    }
                            }
                            ))
                        }
                        ))
                    }
                    ));
                    return d(i, n),
                    i
                }
                function qe(e, t) {
                    if (t = m.apply(this, arguments),
                    !(e = "function" != typeof e && e || {}).name) {
                        var n = this.config();
                        e.name = e.name || n.name,
                        e.storeName = e.storeName || n.storeName
                    }
                    var o, i = this;
                    return o = e.name ? new c((function(t) {
                        e.storeName ? t(Oe(e, i._defaultConfig)) : t(e.name + "/")
                    }
                    )).then((function(e) {
                        for (var t = localStorage.length - 1; t >= 0; t--) {
                            var n = localStorage.key(t);
                            0 === n.indexOf(e) && localStorage.removeItem(n)
                        }
                    }
                    )) : c.reject("Invalid arguments"),
                    d(o, t),
                    o
                }
                var Ve = {
                    _driver: "localStorageWrapper",
                    _initStorage: Pe,
                    _support: Me(),
                    iterate: We,
                    getItem: Be,
                    setItem: Ge,
                    removeItem: je,
                    clear: Ue,
                    length: He,
                    key: Fe,
                    keys: ze,
                    dropInstance: qe
                }
                  , Ye = function(e, t) {
                    return e === t || "number" == typeof e && "number" == typeof t && isNaN(e) && isNaN(t)
                }
                  , Ke = function(e, t) {
                    for (var n = e.length, o = 0; o < n; ) {
                        if (Ye(e[o], t))
                            return !0;
                        o++
                    }
                    return !1
                }
                  , Ze = Array.isArray || function(e) {
                    return "[object Array]" === Object.prototype.toString.call(e)
                }
                  , Xe = {}
                  , Qe = {}
                  , Je = {
                    INDEXEDDB: V,
                    WEBSQL: Re,
                    LOCALSTORAGE: Ve
                }
                  , et = [Je.INDEXEDDB._driver, Je.WEBSQL._driver, Je.LOCALSTORAGE._driver]
                  , tt = ["dropInstance"]
                  , nt = ["clear", "getItem", "iterate", "key", "keys", "length", "removeItem", "setItem"].concat(tt)
                  , ot = {
                    description: "",
                    driver: et.slice(),
                    name: "localforage",
                    size: 4980736,
                    storeName: "keyvaluepairs",
                    version: 1
                };
                function it(e, t) {
                    e[t] = function() {
                        var n = arguments;
                        return e.ready().then((function() {
                            return e[t].apply(e, n)
                        }
                        ))
                    }
                }
                function rt() {
                    for (var e = 1; e < arguments.length; e++) {
                        var t = arguments[e];
                        if (t)
                            for (var n in t)
                                t.hasOwnProperty(n) && (Ze(t[n]) ? arguments[0][n] = t[n].slice() : arguments[0][n] = t[n])
                    }
                    return arguments[0]
                }
                var st = function() {
                    function e(t) {
                        for (var n in i(this, e),
                        Je)
                            if (Je.hasOwnProperty(n)) {
                                var o = Je[n]
                                  , r = o._driver;
                                this[n] = r,
                                Xe[r] || this.defineDriver(o)
                            }
                        this._defaultConfig = rt({}, ot),
                        this._config = rt({}, this._defaultConfig, t),
                        this._driverSet = null,
                        this._initDriver = null,
                        this._ready = !1,
                        this._dbInfo = null,
                        this._wrapLibraryMethodsWithReady(),
                        this.setDriver(this._config.driver).catch((function() {}
                        ))
                    }
                    return e.prototype.config = function(e) {
                        if ("object" === (void 0 === e ? "undefined" : o(e))) {
                            if (this._ready)
                                return new Error("Can't call config() after localforage has been used.");
                            for (var t in e) {
                                if ("storeName" === t && (e[t] = e[t].replace(/\W/g, "_")),
                                "version" === t && "number" != typeof e[t])
                                    return new Error("Database version must be a number.");
                                this._config[t] = e[t]
                            }
                            return !("driver"in e) || !e.driver || this.setDriver(this._config.driver)
                        }
                        return "string" == typeof e ? this._config[e] : this._config
                    }
                    ,
                    e.prototype.defineDriver = function(e, t, n) {
                        var o = new c((function(t, n) {
                            try {
                                var o = e._driver
                                  , i = new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");
                                if (!e._driver)
                                    return void n(i);
                                for (var r = nt.concat("_initStorage"), s = 0, a = r.length; s < a; s++) {
                                    var l = r[s];
                                    if ((!Ke(tt, l) || e[l]) && "function" != typeof e[l])
                                        return void n(i)
                                }
                                var u = function() {
                                    for (var t = function(e) {
                                        return function() {
                                            var t = new Error("Method " + e + " is not implemented by the current driver")
                                              , n = c.reject(t);
                                            return d(n, arguments[arguments.length - 1]),
                                            n
                                        }
                                    }, n = 0, o = tt.length; n < o; n++) {
                                        var i = tt[n];
                                        e[i] || (e[i] = t(i))
                                    }
                                };
                                u();
                                var p = function(n) {
                                    Xe[o] && console.info("Redefining LocalForage driver: " + o),
                                    Xe[o] = e,
                                    Qe[o] = n,
                                    t()
                                };
                                "_support"in e ? e._support && "function" == typeof e._support ? e._support().then(p, n) : p(!!e._support) : p(!0)
                            } catch (e) {
                                n(e)
                            }
                        }
                        ));
                        return u(o, t, n),
                        o
                    }
                    ,
                    e.prototype.driver = function() {
                        return this._driver || null
                    }
                    ,
                    e.prototype.getDriver = function(e, t, n) {
                        var o = Xe[e] ? c.resolve(Xe[e]) : c.reject(new Error("Driver not found."));
                        return u(o, t, n),
                        o
                    }
                    ,
                    e.prototype.getSerializer = function(e) {
                        var t = c.resolve(_e);
                        return u(t, e),
                        t
                    }
                    ,
                    e.prototype.ready = function(e) {
                        var t = this
                          , n = t._driverSet.then((function() {
                            return null === t._ready && (t._ready = t._initDriver()),
                            t._ready
                        }
                        ));
                        return u(n, e, e),
                        n
                    }
                    ,
                    e.prototype.setDriver = function(e, t, n) {
                        var o = this;
                        Ze(e) || (e = [e]);
                        var i = this._getSupportedDrivers(e);
                        function r() {
                            o._config.driver = o.driver()
                        }
                        function s(e) {
                            return o._extend(e),
                            r(),
                            o._ready = o._initStorage(o._config),
                            o._ready
                        }
                        function a(e) {
                            return function() {
                                var t = 0;
                                function n() {
                                    for (; t < e.length; ) {
                                        var i = e[t];
                                        return t++,
                                        o._dbInfo = null,
                                        o._ready = null,
                                        o.getDriver(i).then(s).catch(n)
                                    }
                                    r();
                                    var a = new Error("No available storage method found.");
                                    return o._driverSet = c.reject(a),
                                    o._driverSet
                                }
                                return n()
                            }
                        }
                        var l = null !== this._driverSet ? this._driverSet.catch((function() {
                            return c.resolve()
                        }
                        )) : c.resolve();
                        return this._driverSet = l.then((function() {
                            var e = i[0];
                            return o._dbInfo = null,
                            o._ready = null,
                            o.getDriver(e).then((function(e) {
                                o._driver = e._driver,
                                r(),
                                o._wrapLibraryMethodsWithReady(),
                                o._initDriver = a(i)
                            }
                            ))
                        }
                        )).catch((function() {
                            r();
                            var e = new Error("No available storage method found.");
                            return o._driverSet = c.reject(e),
                            o._driverSet
                        }
                        )),
                        u(this._driverSet, t, n),
                        this._driverSet
                    }
                    ,
                    e.prototype.supports = function(e) {
                        return !!Qe[e]
                    }
                    ,
                    e.prototype._extend = function(e) {
                        rt(this, e)
                    }
                    ,
                    e.prototype._getSupportedDrivers = function(e) {
                        for (var t = [], n = 0, o = e.length; n < o; n++) {
                            var i = e[n];
                            this.supports(i) && t.push(i)
                        }
                        return t
                    }
                    ,
                    e.prototype._wrapLibraryMethodsWithReady = function() {
                        for (var e = 0, t = nt.length; e < t; e++)
                            it(this, nt[e])
                    }
                    ,
                    e.prototype.createInstance = function(t) {
                        return new e(t)
                    }
                    ,
                    e
                }()
                  , at = new st;
                t.exports = at
            }
            , {
                3: 3
            }]
        }, {}, [4])(4)
    }(Im);
    const Lm = Fn;
    class Am {
        static __initStatic() {
            this.id = "Offline"
        }
        constructor(e={}) {
            this.name = Am.id,
            this.maxStoredEvents = e.maxStoredEvents || 30,
            this.offlineEventStore = Im.exports.createInstance({
                name: "sentry/offlineEventStore"
            })
        }
        setupOnce(e, t) {
            this.hub = t(),
            "addEventListener"in Lm && Lm.addEventListener("online", ( () => {
                this._sendEvents().catch(( () => {
                    bm && Jn.warn("could not send cached events")
                }
                ))
            }
            ));
            const n = e => this.hub && this.hub.getIntegration(Am) && "navigator"in Lm && "onLine"in Lm.navigator && !Lm.navigator.onLine ? (bm && Jn.log("Event dropped due to being a offline - caching instead"),
            this._cacheEvent(e).then((e => this._enforceMaxEvents())).catch((e => {
                bm && Jn.warn("could not cache event while offline")
            }
            )),
            null) : e;
            n.id = this.name,
            e(n),
            "navigator"in Lm && "onLine"in Lm.navigator && Lm.navigator.onLine && this._sendEvents().catch(( () => {
                bm && Jn.warn("could not send cached events")
            }
            ))
        }
        async _cacheEvent(e) {
            return this.offlineEventStore.setItem(Co(), pi(e))
        }
        async _enforceMaxEvents() {
            const e = [];
            return this.offlineEventStore.iterate(( (t, n, o) => {
                e.push({
                    cacheKey: n,
                    event: t
                })
            }
            )).then(( () => this._purgeEvents(e.sort(( (e, t) => (t.event.timestamp || 0) - (e.event.timestamp || 0))).slice(this.maxStoredEvents < e.length ? this.maxStoredEvents : e.length).map((e => e.cacheKey))))).catch((e => {
                bm && Jn.warn("could not enforce max events")
            }
            ))
        }
        async _purgeEvent(e) {
            return this.offlineEventStore.removeItem(e)
        }
        async _purgeEvents(e) {
            return Promise.all(e.map((e => this._purgeEvent(e)))).then()
        }
        async _sendEvents() {
            return this.offlineEventStore.iterate(( (e, t, n) => {
                this.hub ? (this.hub.captureEvent(e),
                this._purgeEvent(t).catch((e => {
                    bm && Jn.warn("could not purge event from cache")
                }
                ))) : bm && Jn.warn("no hub found - could not send cached event")
            }
            ))
        }
    }
    Am.__initStatic();
    const Rm = Fn
      , Mm = "ReportingObserver"
      , Om = new WeakMap
      , Nm = (e={}) => {
        const t = e.types || ["crash", "deprecation", "intervention"];
        function n(e) {
            if (Om.has(br()))
                for (const t of e)
                    wr((e => {
                        e.setExtra("url", t.url);
                        const n = `ReportingObserver [${t.type}]`;
                        let o = "No details available";
                        if (t.body) {
                            const n = {};
                            for (const e in t.body)
                                n[e] = t.body[e];
                            if (e.setExtra("body", n),
                            "crash" === t.type) {
                                const e = t.body;
                                o = [e.crashId || "", e.reason || ""].join(" ").trim() || o
                            } else {
                                o = t.body.message || o
                            }
                        }
                        _r(`${n}: ${o}`)
                    }
                    ))
        }
        return {
            name: Mm,
            setupOnce() {
                if (!("ReportingObserver"in zo))
                    return;
                new Rm.ReportingObserver(n,{
                    buffered: !0,
                    types: t
                }).observe()
            },
            setup(e) {
                Om.set(e, !0)
            }
        }
    }
    ;
    ns(Mm, Nm);
    const Dm = "RewriteFrames"
      , Pm = (e={}) => {
        const t = e.root
          , n = e.prefix || "app:///"
          , o = e.iteratee || (e => {
            if (!e.filename)
                return e;
            const o = /^[a-zA-Z]:\\/.test(e.filename) || e.filename.includes("\\") && !e.filename.includes("/")
              , i = /^\//.test(e.filename);
            if (o || i) {
                const i = o ? e.filename.replace(/^[a-zA-Z]:/, "").replace(/\\/g, "/") : e.filename
                  , r = t ? function(e, t) {
                    e = fi(e).slice(1),
                    t = fi(t).slice(1);
                    const n = _i(e.split("/"))
                      , o = _i(t.split("/"))
                      , i = Math.min(n.length, o.length);
                    let r = i;
                    for (let e = 0; e < i; e++)
                        if (n[e] !== o[e]) {
                            r = e;
                            break
                        }
                    let s = [];
                    for (let e = r; e < n.length; e++)
                        s.push("..");
                    return s = s.concat(o.slice(r)),
                    s.join("/")
                }(t, i) : vi(i);
                e.filename = `${n}${r}`
            }
            return e
        }
        );
        return {
            name: Dm,
            setupOnce() {},
            processEvent(e) {
                let t = e;
                return e.exception && Array.isArray(e.exception.values) && (t = function(e) {
                    try {
                        return {
                            ...e,
                            exception: {
                                ...e.exception,
                                values: e.exception.values.map((e => {
                                    return {
                                        ...e,
                                        ...e.stacktrace && {
                                            stacktrace: (t = e.stacktrace,
                                            {
                                                ...t,
                                                frames: t && t.frames && t.frames.map((e => o(e)))
                                            })
                                        }
                                    };
                                    var t
                                }
                                ))
                            }
                        }
                    } catch (t) {
                        return e
                    }
                }(t)),
                t
            }
        }
    }
    ;
    ns(Dm, Pm);
    const Um = "SessionTiming"
      , Bm = () => {
        const e = Date.now();
        return {
            name: Um,
            setupOnce() {},
            processEvent(t) {
                const n = Date.now();
                return {
                    ...t,
                    extra: {
                        ...t.extra,
                        "session:start": e,
                        "session:duration": n - e,
                        "session:end": n
                    }
                }
            }
        }
    }
    ;
    ns(Um, Bm);
    const Wm = "Transaction";
    function Fm(e) {
        return e.module || e.function ? `${e.module || "?"}/${e.function || "?"}` : "<unknown>"
    }
    ns(Wm, ( () => ({
        name: Wm,
        setupOnce() {},
        processEvent(e) {
            const t = function(e) {
                const t = e.exception && e.exception.values && e.exception.values[0];
                return t && t.stacktrace && t.stacktrace.frames || []
            }(e);
            for (let n = t.length - 1; n >= 0; n--) {
                const o = t[n];
                if (!0 === o.in_app) {
                    e.transaction = Fm(o);
                    break
                }
            }
            return e
        }
    })));
    const zm = "HttpClient"
      , Hm = (e={}) => {
        const t = {
            failedRequestStatusCodes: [[500, 599]],
            failedRequestTargets: [/.*/],
            ...e
        };
        return {
            name: zm,
            setupOnce() {},
            setup(e) {
                !function(e, t) {
                    if (!jo())
                        return;
                    Go((n => {
                        if (br() !== e)
                            return;
                        const {response: o, args: i} = n
                          , [r,s] = i;
                        o && function(e, t, n, o) {
                            if (qm(e, n.status, n.url)) {
                                const e = function(e, t) {
                                    if (!t && e instanceof Request)
                                        return e;
                                    if (e instanceof Request && e.bodyUsed)
                                        return e;
                                    return new Request(e,t)
                                }(t, o);
                                let i, r, s, a;
                                Ym() && ([{headers: i, cookies: s},{headers: r, cookies: a}] = [{
                                    cookieHeader: "Cookie",
                                    obj: e
                                }, {
                                    cookieHeader: "Set-Cookie",
                                    obj: n
                                }].map(( ({cookieHeader: e, obj: t}) => {
                                    const n = function(e) {
                                        const t = {};
                                        return e.forEach(( (e, n) => {
                                            t[n] = e
                                        }
                                        )),
                                        t
                                    }(t.headers);
                                    let o;
                                    try {
                                        const t = n[e] || n[e.toLowerCase()] || void 0;
                                        t && (o = Gm(t))
                                    } catch (t) {
                                        bm && Jn.log(`Could not extract cookies from header ${e}`)
                                    }
                                    return {
                                        headers: n,
                                        cookies: o
                                    }
                                }
                                )));
                                vr(Vm({
                                    url: e.url,
                                    method: e.method,
                                    status: n.status,
                                    requestHeaders: i,
                                    responseHeaders: r,
                                    requestCookies: s,
                                    responseCookies: a
                                }))
                            }
                        }(t, r, o, s)
                    }
                    ))
                }(e, t),
                function(e, t) {
                    if (!("XMLHttpRequest"in Fn))
                        return;
                    si((n => {
                        if (br() !== e)
                            return;
                        const o = n.xhr
                          , i = o[ri];
                        if (!i)
                            return;
                        const {method: r, request_headers: s} = i;
                        try {
                            !function(e, t, n, o) {
                                if (qm(e, t.status, t.responseURL)) {
                                    let e, i, r;
                                    if (Ym()) {
                                        try {
                                            const e = t.getResponseHeader("Set-Cookie") || t.getResponseHeader("set-cookie") || void 0;
                                            e && (i = Gm(e))
                                        } catch (e) {
                                            bm && Jn.log("Could not extract cookies from response headers")
                                        }
                                        try {
                                            r = function(e) {
                                                const t = e.getAllResponseHeaders();
                                                if (!t)
                                                    return {};
                                                return t.split("\r\n").reduce(( (e, t) => {
                                                    const [n,o] = t.split(": ");
                                                    return e[n] = o,
                                                    e
                                                }
                                                ), {})
                                            }(t)
                                        } catch (e) {
                                            bm && Jn.log("Could not extract headers from response")
                                        }
                                        e = o
                                    }
                                    vr(Vm({
                                        url: t.responseURL,
                                        method: n,
                                        status: t.status,
                                        requestHeaders: e,
                                        responseHeaders: r,
                                        responseCookies: i
                                    }))
                                }
                            }(t, o, r, s)
                        } catch (e) {
                            bm && Jn.warn("Error while extracting response event form XHR response", e)
                        }
                    }
                    ))
                }(e, t)
            }
        }
    }
    ;
    function jm(e) {
        if (e) {
            const t = e["Content-Length"] || e["content-length"];
            if (t)
                return parseInt(t, 10)
        }
    }
    function Gm(e) {
        return e.split("; ").reduce(( (e, t) => {
            const [n,o] = t.split("=");
            return e[n] = o,
            e
        }
        ), {})
    }
    function qm(e, t, n) {
        return function(e, t) {
            return e.some((e => "number" == typeof e ? e === t : t >= e[0] && t <= e[1]))
        }(e.failedRequestStatusCodes, t) && (o = e.failedRequestTargets,
        i = n,
        o.some((e => "string" == typeof e ? i.includes(e) : e.test(i)))) && !gs(n, br());
        var o, i
    }
    function Vm(e) {
        const t = `HTTP Client Error with status code: ${e.status}`
          , n = {
            message: t,
            exception: {
                values: [{
                    type: "Error",
                    value: t
                }]
            },
            request: {
                url: e.url,
                method: e.method,
                headers: e.requestHeaders,
                cookies: e.requestCookies
            },
            contexts: {
                response: {
                    status_code: e.status,
                    headers: e.responseHeaders,
                    cookies: e.responseCookies,
                    body_size: jm(e.responseHeaders)
                }
            }
        };
        return Ao(n, {
            type: "http.client",
            handled: !1
        }),
        n
    }
    function Ym() {
        const e = br();
        return !!e && Boolean(e.getOptions().sendDefaultPii)
    }
    ns(zm, Hm);
    const Km = Fn
      , Zm = "ContextLines"
      , Xm = (e={}) => {
        const t = null != e.frameContextLines ? e.frameContextLines : 7;
        return {
            name: Zm,
            setupOnce() {},
            processEvent: e => function(e, t) {
                const n = Km.document
                  , o = Km.location && xi(Km.location.href);
                if (!n || !o)
                    return e;
                const i = e.exception && e.exception.values;
                if (!i || !i.length)
                    return e;
                const r = n.documentElement.innerHTML;
                if (!r)
                    return e;
                const s = ["<!DOCTYPE html>", "<html>", ...r.split("\n"), "</html>"];
                return i.forEach((e => {
                    const n = e.stacktrace;
                    n && n.frames && (n.frames = n.frames.map((e => function(e, t, n, o) {
                        if (e.filename !== n || !e.lineno || !t.length)
                            return e;
                        return function(e, t, n=5) {
                            if (void 0 === t.lineno)
                                return;
                            const o = e.length
                              , i = Math.max(Math.min(o - 1, t.lineno - 1), 0);
                            t.pre_context = e.slice(Math.max(0, i - n), i).map((e => Mn(e, 0))),
                            t.context_line = Mn(e[Math.min(o - 1, i)], t.colno || 0),
                            t.post_context = e.slice(Math.min(i + 1, o), i + 1 + n).map((e => Mn(e, 0)))
                        }(t, e, o),
                        e
                    }(e, s, o, t))))
                }
                )),
                e
            }(e, t)
        }
    }
    ;
    ns(Zm, Xm);
    const Qm = 1e6
      , Jm = String(0)
      , eg = "main";
    let tg = ""
      , ng = ""
      , og = ""
      , ig = fa.navigator && fa.navigator.userAgent || ""
      , rg = "";
    const sg = fa.navigator && fa.navigator.language || fa.navigator && fa.navigator.languages && fa.navigator.languages[0] || "";
    const ag = fa.navigator && fa.navigator.userAgentData;
    var lg;
    function cg(e) {
        return function(e) {
            return !("thread_metadata"in e)
        }(e) ? function(e) {
            let t, n = 0;
            const o = {
                samples: [],
                stacks: [],
                frames: [],
                thread_metadata: {
                    [Jm]: {
                        name: eg
                    }
                }
            };
            if (!e.samples.length)
                return o;
            const i = e.samples[0].timestamp
              , r = "number" == typeof performance.timeOrigin ? performance.timeOrigin : Ui || 0
              , s = r - (Ui || r);
            for (let r = 0; r < e.samples.length; r++) {
                const a = e.samples[r];
                if (void 0 === a.stackId) {
                    void 0 === t && (t = n,
                    o.stacks[t] = [],
                    n++),
                    o.samples[r] = {
                        elapsed_since_start_ns: ((a.timestamp + s - i) * Qm).toFixed(0),
                        stack_id: t,
                        thread_id: Jm
                    };
                    continue
                }
                let l = e.stacks[a.stackId];
                const c = [];
                for (; l; ) {
                    c.push(l.frameId);
                    const t = e.frames[l.frameId];
                    void 0 === o.frames[l.frameId] && (o.frames[l.frameId] = {
                        function: t.name,
                        abs_path: "number" == typeof t.resourceId ? e.resources[t.resourceId] : void 0,
                        lineno: t.line,
                        colno: t.column
                    }),
                    l = void 0 === l.parentId ? void 0 : e.stacks[l.parentId]
                }
                const d = {
                    elapsed_since_start_ns: ((a.timestamp + s - i) * Qm).toFixed(0),
                    stack_id: n,
                    thread_id: Jm
                };
                o.stacks[n] = c,
                o.samples[r] = d,
                n++
            }
            return o
        }(e) : e
    }
    function dg(e, t, n, o) {
        if ("transaction" !== o.type)
            throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");
        if (null == n)
            throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);
        const i = function(e) {
            const t = e && e.contexts && e.contexts.trace && e.contexts.trace.trace_id;
            return "string" == typeof t && 32 !== t.length && wa && Jn.log(`[Profiling] Invalid traceId: ${t} on profiled event`),
            "string" != typeof t ? "" : t
        }(o)
          , r = cg(n)
          , s = t || ("number" == typeof o.start_timestamp ? 1e3 * o.start_timestamp : Date.now())
          , a = "number" == typeof o.timestamp ? 1e3 * o.timestamp : Date.now();
        return {
            event_id: e,
            timestamp: new Date(s).toISOString(),
            platform: "javascript",
            version: "1",
            release: o.release || "",
            environment: o.environment || tr,
            runtime: {
                name: "javascript",
                version: fa.navigator.userAgent
            },
            os: {
                name: tg,
                version: ng,
                build_number: ig
            },
            device: {
                locale: sg,
                model: rg,
                manufacturer: ig,
                architecture: og,
                is_emulator: !1
            },
            debug_meta: {
                images: mg(n.resources)
            },
            profile: r,
            transactions: [{
                name: o.transaction || "",
                id: o.event_id || Co(),
                trace_id: i,
                active_thread_id: Jm,
                relative_start_ns: "0",
                relative_end_ns: (1e6 * (a - s)).toFixed(0)
            }]
        }
    }
    function ug(e) {
        return "pageload" === e.op
    }
    "object" == typeof (lg = ag) && null !== lg && "getHighEntropyValues"in lg && ag.getHighEntropyValues(["architecture", "model", "platform", "platformVersion", "fullVersionList"]).then((e => {
        if (tg = e.platform || "",
        og = e.architecture || "",
        rg = e.model || "",
        ng = e.platformVersion || "",
        e.fullVersionList && e.fullVersionList.length > 0) {
            const t = e.fullVersionList[e.fullVersionList.length - 1];
            ig = `${t.brand} ${t.version}`
        }
    }
    )).catch((e => {}
    ));
    const pg = new WeakMap;
    function mg(e) {
        const t = Fn._sentryDebugIds;
        if (!t)
            return [];
        const n = br()
          , o = n && n.getOptions()
          , i = o && o.stackParser;
        if (!i)
            return [];
        let r;
        const s = pg.get(i);
        s ? r = s : (r = new Map,
        pg.set(i, r));
        const a = Object.keys(t).reduce(( (e, n) => {
            let o;
            const s = r.get(n);
            s ? o = s : (o = i(n),
            r.set(n, o));
            for (let i = o.length - 1; i >= 0; i--) {
                const r = o[i]
                  , s = r && r.filename;
                if (r && s) {
                    e[s] = t[n];
                    break
                }
            }
            return e
        }
        ), {})
          , l = [];
        for (const t of e)
            t && a[t] && l.push({
                type: "sourcemap",
                code_file: t,
                debug_id: a[t]
            });
        return l
    }
    let gg = !1;
    const hg = 3e4;
    function fg(e) {
        if (gg)
            return wa && Jn.log("[Profiling] Profiling has been disabled for the duration of the current user session."),
            !1;
        if (!e.isRecording())
            return wa && Jn.log("[Profiling] Discarding profile because transaction was not sampled."),
            !1;
        const t = br()
          , n = t && t.getOptions();
        if (!n)
            return wa && Jn.log("[Profiling] Profiling disabled, no options found."),
            !1;
        const o = n.profilesSampleRate;
        if (!("number" != typeof (i = o) && "boolean" != typeof i || "number" == typeof i && isNaN(i) ? (wa && Jn.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(i)} of type ${JSON.stringify(typeof i)}.`),
        0) : !0 === i || !1 === i || !(i < 0 || i > 1) || (wa && Jn.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${i}.`),
        0)))
            return wa && Jn.warn("[Profiling] Discarding profile because of invalid sample rate."),
            !1;
        var i;
        if (!o)
            return wa && Jn.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),
            !1;
        return !!(!0 === o || Math.random() < o) || (wa && Jn.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(o)})`),
        !1)
    }
    function _g(e, t, n, o) {
        return function(e) {
            return e.samples.length < 2 ? (wa && Jn.log("[Profiling] Discarding profile because it contains less than 2 samples"),
            !1) : !!e.frames.length || (wa && Jn.log("[Profiling] Discarding profile because it contains no frames"),
            !1)
        }(n) ? dg(e, t, n, o) : null
    }
    const vg = new Map;
    function yg(e) {
        const t = vg.get(e);
        return t && vg.delete(e),
        t
    }
    function wg(e) {
        let t;
        ug(e) && (t = 1e3 * Pi());
        const n = function() {
            const e = fa.Profiler;
            if ("function" != typeof e)
                return void (wa && Jn.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object."));
            const t = Math.floor(hg / 10);
            try {
                return new e({
                    sampleInterval: 10,
                    maxBufferSize: t
                })
            } catch (e) {
                wa && (Jn.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),
                Jn.log("[Profiling] Disabling profiling for current user session.")),
                gg = !0
            }
        }();
        if (!n)
            return e;
        wa && Jn.log(`[Profiling] started profiling transaction: ${dr(e).description}`);
        const o = Co();
        async function i() {
            return e && n ? n.stop().then((t => (r && (fa.clearTimeout(r),
            r = void 0),
            wa && Jn.log(`[Profiling] stopped profiling of transaction: ${dr(e).description}`),
            t ? (function(e, t) {
                if (vg.set(e, t),
                vg.size > 30) {
                    const e = vg.keys().next().value;
                    vg.delete(e)
                }
            }(o, t),
            null) : (wa && Jn.log(`[Profiling] profiler returned null profile for: ${dr(e).description}`, "this may indicate an overlapping transaction or a call to stopProfiling with a profile title that was never started"),
            null)))).catch((e => (wa && Jn.log("[Profiling] error while stopping profiler:", e),
            null))) : null
        }
        let r = fa.setTimeout(( () => {
            wa && Jn.log("[Profiling] max profile duration elapsed, stopping profiling for:", dr(e).description),
            i()
        }
        ), hg);
        const s = e.end.bind(e);
        return e.end = function() {
            return e ? (i().then(( () => {
                e.setContext("profile", {
                    profile_id: o,
                    start_timestamp: t
                }),
                s()
            }
            ), ( () => {
                s()
            }
            )),
            e) : s()
        }
        ,
        e
    }
    const bg = "BrowserProfiling"
      , Eg = () => ({
        name: bg,
        setupOnce() {},
        setup(e) {
            const t = Er().getTransaction();
            t && ug(t) && fg(t) && wg(t),
            "function" == typeof e.on ? (e.on("startTransaction", (e => {
                fg(e) && wg(e)
            }
            )),
            e.on("beforeEnvelope", (e => {
                if (!vg.size)
                    return;
                const t = function(e) {
                    const t = [];
                    return Fi(e, ( (e, n) => {
                        if ("transaction" === n)
                            for (let n = 1; n < e.length; n++) {
                                const o = e[n];
                                o && o.contexts && o.contexts.profile && o.contexts.profile.profile_id && t.push(e[n])
                            }
                    }
                    )),
                    t
                }(e);
                if (!t.length)
                    return;
                const n = [];
                for (const e of t) {
                    const t = e && e.contexts
                      , o = t && t.profile && t.profile.profile_id
                      , i = t && t.profile && t.profile.start_timestamp;
                    if ("string" != typeof o) {
                        wa && Jn.log("[Profiling] cannot find profile for a transaction without a profile context");
                        continue
                    }
                    if (!o) {
                        wa && Jn.log("[Profiling] cannot find profile for a transaction without a profile context");
                        continue
                    }
                    t && t.profile && delete t.profile;
                    const r = yg(o);
                    if (!r) {
                        wa && Jn.log(`[Profiling] Could not retrieve profile for transaction: ${o}`);
                        continue
                    }
                    const s = _g(o, i, r, e);
                    s && n.push(s)
                }
                !function(e, t) {
                    if (!t.length)
                        return e;
                    for (const n of t)
                        e[1].push([{
                            type: "profile"
                        }, n])
                }(e, n)
            }
            ))) : Jn.warn("[Profiling] Client does not support hooks, profiling will be disabled")
        }
    });
    ns(bg, Eg);
    let Tg = {};
    function Sg(e, t, n, o) {
        return new (n || (n = Promise))((function(i, r) {
            function s(e) {
                try {
                    l(o.next(e))
                } catch (e) {
                    r(e)
                }
            }
            function a(e) {
                try {
                    l(o.throw(e))
                } catch (e) {
                    r(e)
                }
            }
            function l(e) {
                var t;
                e.done ? i(e.value) : (t = e.value,
                t instanceof n ? t : new n((function(e) {
                    e(t)
                }
                ))).then(s, a)
            }
            l((o = o.apply(e, t || [])).next())
        }
        ))
    }
    function xg() {}
    fa.Sentry && fa.Sentry.Integrations && (Tg = fa.Sentry.Integrations),
    "function" == typeof SuppressedError && SuppressedError;
    const $g = e => e;
    function Cg(e) {
        return e()
    }
    function kg() {
        return Object.create(null)
    }
    function Ig(e) {
        e.forEach(Cg)
    }
    function Lg(e) {
        return "function" == typeof e
    }
    function Ag(e, t) {
        return e != e ? t == t : e !== t || e && "object" == typeof e || "function" == typeof e
    }
    function Rg(e, ...t) {
        if (null == e) {
            for (const e of t)
                e(void 0);
            return xg
        }
        const n = e.subscribe(...t);
        return n.unsubscribe ? () => n.unsubscribe() : n
    }
    function Mg(e, t, n) {
        e.$$.on_destroy.push(Rg(t, n))
    }
    function Og(e, t, n, o) {
        if (e) {
            const i = Ng(e, t, n, o);
            return e[0](i)
        }
    }
    function Ng(e, t, n, o) {
        return e[1] && o ? function(e, t) {
            for (const n in t)
                e[n] = t[n];
            return e
        }(n.ctx.slice(), e[1](o(t))) : n.ctx
    }
    function Dg(e, t, n, o) {
        if (e[2] && o) {
            const i = e[2](o(n));
            if (void 0 === t.dirty)
                return i;
            if ("object" == typeof i) {
                const e = []
                  , n = Math.max(t.dirty.length, i.length);
                for (let o = 0; o < n; o += 1)
                    e[o] = t.dirty[o] | i[o];
                return e
            }
            return t.dirty | i
        }
        return t.dirty
    }
    function Pg(e, t, n, o, i, r) {
        if (i) {
            const s = Ng(t, n, o, r);
            e.p(s, i)
        }
    }
    function Ug(e) {
        if (e.ctx.length > 32) {
            const t = []
              , n = e.ctx.length / 32;
            for (let e = 0; e < n; e++)
                t[e] = -1;
            return t
        }
        return -1
    }
    function Bg(e) {
        return null == e ? "" : e
    }
    function Wg(e, t, n) {
        return e.set(n),
        t
    }
    function Fg(e) {
        return e && Lg(e.destroy) ? e.destroy : xg
    }
    function zg(e) {
        const t = "string" == typeof e && e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);
        return t ? [parseFloat(t[1]), t[2] || "px"] : [e, "px"]
    }
    const Hg = "undefined" != typeof window;
    let jg = Hg ? () => window.performance.now() : () => Date.now()
      , Gg = Hg ? e => requestAnimationFrame(e) : xg;
    const qg = new Set;
    function Vg(e) {
        qg.forEach((t => {
            t.c(e) || (qg.delete(t),
            t.f())
        }
        )),
        0 !== qg.size && Gg(Vg)
    }
    function Yg(e) {
        let t;
        return 0 === qg.size && Gg(Vg),
        {
            promise: new Promise((n => {
                qg.add(t = {
                    c: e,
                    f: n
                })
            }
            )),
            abort() {
                qg.delete(t)
            }
        }
    }
    function Kg(e, t) {
        e.appendChild(t)
    }
    function Zg(e) {
        if (!e)
            return document;
        const t = e.getRootNode ? e.getRootNode() : e.ownerDocument;
        return t && t.host ? t : e.ownerDocument
    }
    function Xg(e) {
        const t = th("style");
        return t.textContent = "/* empty */",
        function(e, t) {
            Kg(e.head || e, t),
            t.sheet
        }(Zg(e), t),
        t.sheet
    }
    function Qg(e, t, n) {
        e.insertBefore(t, n || null)
    }
    function Jg(e) {
        e.parentNode && e.parentNode.removeChild(e)
    }
    function eh(e, t) {
        for (let n = 0; n < e.length; n += 1)
            e[n] && e[n].d(t)
    }
    function th(e) {
        return document.createElement(e)
    }
    function nh(e) {
        return document.createElementNS("http://www.w3.org/2000/svg", e)
    }
    function oh(e) {
        return document.createTextNode(e)
    }
    function ih() {
        return oh(" ")
    }
    function rh() {
        return oh("")
    }
    function sh(e, t, n, o) {
        return e.addEventListener(t, n, o),
        () => e.removeEventListener(t, n, o)
    }
    function ah(e) {
        return function(t) {
            return t.preventDefault(),
            e.call(this, t)
        }
    }
    function lh(e) {
        return function(t) {
            return t.stopPropagation(),
            e.call(this, t)
        }
    }
    function ch(e, t, n) {
        null == n ? e.removeAttribute(t) : e.getAttribute(t) !== n && e.setAttribute(t, n)
    }
    function dh(e, t) {
        t = "" + t,
        e.data !== t && (e.data = t)
    }
    function uh(e, t) {
        e.value = null == t ? "" : t
    }
    function ph(e, t, n, o) {
        null == n ? e.style.removeProperty(t) : e.style.setProperty(t, n, o ? "important" : "")
    }
    function mh(e, t, n) {
        for (let n = 0; n < e.options.length; n += 1) {
            const o = e.options[n];
            if (o.__value === t)
                return void (o.selected = !0)
        }
        n && void 0 === t || (e.selectedIndex = -1)
    }
    let gh;
    function hh() {
        if (void 0 === gh) {
            gh = !1;
            try {
                "undefined" != typeof window && window.parent && window.parent.document
            } catch (e) {
                gh = !0
            }
        }
        return gh
    }
    function fh(e, t, n) {
        e.classList.toggle(t, !!n)
    }
    function _h(e, t, {bubbles: n=!1, cancelable: o=!1}={}) {
        return new CustomEvent(e,{
            detail: t,
            bubbles: n,
            cancelable: o
        })
    }
    class vh {
        is_svg = !1;
        e = void 0;
        n = void 0;
        t = void 0;
        a = void 0;
        constructor(e=!1) {
            this.is_svg = e,
            this.e = this.n = null
        }
        c(e) {
            this.h(e)
        }
        m(e, t, n=null) {
            this.e || (this.is_svg ? this.e = nh(t.nodeName) : this.e = th(11 === t.nodeType ? "TEMPLATE" : t.nodeName),
            this.t = "TEMPLATE" !== t.tagName ? t : t.content,
            this.c(e)),
            this.i(n)
        }
        h(e) {
            this.e.innerHTML = e,
            this.n = Array.from("TEMPLATE" === this.e.nodeName ? this.e.content.childNodes : this.e.childNodes)
        }
        i(e) {
            for (let t = 0; t < this.n.length; t += 1)
                Qg(this.t, this.n[t], e)
        }
        p(e) {
            this.d(),
            this.h(e),
            this.i(this.a)
        }
        d() {
            this.n.forEach(Jg)
        }
    }
    function yh(e, t) {
        return new e(t)
    }
    const wh = new Map;
    let bh, Eh = 0;
    function Th(e, t, n, o, i, r, s, a=0) {
        const l = 16.666 / o;
        let c = "{\n";
        for (let e = 0; e <= 1; e += l) {
            const o = t + (n - t) * r(e);
            c += 100 * e + `%{${s(o, 1 - o)}}\n`
        }
        const d = c + `100% {${s(n, 1 - n)}}\n}`
          , u = `__svelte_${function(e) {
            lett = 5381
              , n = e.length;
            for (; n--; )
                t = (t << 5) - t ^ e.charCodeAt(n);
            return t >>> 0
        }(d)}_${a}`
          , p = Zg(e)
          , {stylesheet: m, rules: g} = wh.get(p) || function(e, t) {
            const n = {
                stylesheet: Xg(t),
                rules: {}
            };
            return wh.set(e, n),
            n
        }(p, e);
        g[u] || (g[u] = !0,
        m.insertRule(`@keyframes ${u} ${d}`, m.cssRules.length));
        const h = e.style.animation || "";
        return e.style.animation = `${h ? `${h}, ` : ""}${u} ${o}ms linear ${i}ms 1 both`,
        Eh += 1,
        u
    }
    function Sh(e, t) {
        const n = (e.style.animation || "").split(", ")
          , o = n.filter(t ? e => e.indexOf(t) < 0 : e => -1 === e.indexOf("__svelte"))
          , i = n.length - o.length;
        i && (e.style.animation = o.join(", "),
        Eh -= i,
        Eh || Gg(( () => {
            Eh || (wh.forEach((e => {
                const {ownerNode: t} = e.stylesheet;
                t && Jg(t)
            }
            )),
            wh.clear())
        }
        )))
    }
    function xh(e) {
        bh = e
    }
    function $h() {
        if (!bh)
            throw new Error("Function called outside component initialization");
        return bh
    }
    function Ch(e) {
        $h().$$.on_mount.push(e)
    }
    function kh(e) {
        $h().$$.on_destroy.push(e)
    }
    function Ih() {
        const e = $h();
        return (t, n, {cancelable: o=!1}={}) => {
            const i = e.$$.callbacks[t];
            if (i) {
                const r = _h(t, n, {
                    cancelable: o
                });
                return i.slice().forEach((t => {
                    t.call(e, r)
                }
                )),
                !r.defaultPrevented
            }
            return !0
        }
    }
    function Lh(e, t) {
        return $h().$$.context.set(e, t),
        t
    }
    function Ah(e) {
        return $h().$$.context.get(e)
    }
    function Rh(e, t) {
        const n = e.$$.callbacks[t.type];
        n && n.slice().forEach((e => e.call(this, t)))
    }
    const Mh = []
      , Oh = [];
    let Nh = [];
    const Dh = []
      , Ph = Promise.resolve();
    let Uh = !1;
    function Bh() {
        Uh || (Uh = !0,
        Ph.then(Gh))
    }
    function Wh(e) {
        Nh.push(e)
    }
    function Fh(e) {
        Dh.push(e)
    }
    const zh = new Set;
    let Hh, jh = 0;
    function Gh() {
        if (0 !== jh)
            return;
        const e = bh;
        do {
            try {
                for (; jh < Mh.length; ) {
                    const e = Mh[jh];
                    jh++,
                    xh(e),
                    qh(e.$$)
                }
            } catch (e) {
                throw Mh.length = 0,
                jh = 0,
                e
            }
            for (xh(null),
            Mh.length = 0,
            jh = 0; Oh.length; )
                Oh.pop()();
            for (let e = 0; e < Nh.length; e += 1) {
                const t = Nh[e];
                zh.has(t) || (zh.add(t),
                t())
            }
            Nh.length = 0
        } while (Mh.length);
        for (; Dh.length; )
            Dh.pop()();
        Uh = !1,
        zh.clear(),
        xh(e)
    }
    function qh(e) {
        if (null !== e.fragment) {
            e.update(),
            Ig(e.before_update);
            const t = e.dirty;
            e.dirty = [-1],
            e.fragment && e.fragment.p(e.ctx, t),
            e.after_update.forEach(Wh)
        }
    }
    function Vh() {
        return Hh || (Hh = Promise.resolve(),
        Hh.then(( () => {
            Hh = null
        }
        ))),
        Hh
    }
    function Yh(e, t, n) {
        e.dispatchEvent(_h(`${t ? "intro" : "outro"}${n}`))
    }
    const Kh = new Set;
    let Zh;
    function Xh() {
        Zh = {
            r: 0,
            c: [],
            p: Zh
        }
    }
    function Qh() {
        Zh.r || Ig(Zh.c),
        Zh = Zh.p
    }
    function Jh(e, t) {
        e && e.i && (Kh.delete(e),
        e.i(t))
    }
    function ef(e, t, n, o) {
        if (e && e.o) {
            if (Kh.has(e))
                return;
            Kh.add(e),
            Zh.c.push(( () => {
                Kh.delete(e),
                o && (n && e.d(1),
                o())
            }
            )),
            e.o(t)
        } else
            o && o()
    }
    const tf = {
        duration: 0
    };
    function nf(e, t, n) {
        const o = {
            direction: "in"
        };
        let i, r, s = t(e, n, o), a = !1, l = 0;
        function c() {
            i && Sh(e, i)
        }
        function d() {
            const {delay: t=0, duration: n=300, easing: o=$g, tick: d=xg, css: u} = s || tf;
            u && (i = Th(e, 0, 1, n, t, o, u, l++)),
            d(0, 1);
            const p = jg() + t
              , m = p + n;
            r && r.abort(),
            a = !0,
            Wh(( () => Yh(e, !0, "start"))),
            r = Yg((t => {
                if (a) {
                    if (t >= m)
                        return d(1, 0),
                        Yh(e, !0, "end"),
                        c(),
                        a = !1;
                    if (t >= p) {
                        const e = o((t - p) / n);
                        d(e, 1 - e)
                    }
                }
                return a
            }
            ))
        }
        let u = !1;
        return {
            start() {
                u || (u = !0,
                Sh(e),
                Lg(s) ? (s = s(o),
                Vh().then(d)) : d())
            },
            invalidate() {
                u = !1
            },
            end() {
                a && (c(),
                a = !1)
            }
        }
    }
    function of(e, t, n) {
        const o = {
            direction: "out"
        };
        let i, r = t(e, n, o), s = !0;
        const a = Zh;
        let l;
        function c() {
            const {delay: t=0, duration: n=300, easing: o=$g, tick: c=xg, css: d} = r || tf;
            d && (i = Th(e, 1, 0, n, t, o, d));
            const u = jg() + t
              , p = u + n;
            Wh(( () => Yh(e, !1, "start"))),
            "inert"in e && (l = e.inert,
            e.inert = !0),
            Yg((t => {
                if (s) {
                    if (t >= p)
                        return c(0, 1),
                        Yh(e, !1, "end"),
                        --a.r || Ig(a.c),
                        !1;
                    if (t >= u) {
                        const e = o((t - u) / n);
                        c(1 - e, e)
                    }
                }
                return s
            }
            ))
        }
        return a.r += 1,
        Lg(r) ? Vh().then(( () => {
            r = r(o),
            c()
        }
        )) : c(),
        {
            end(t) {
                t && "inert"in e && (e.inert = l),
                t && r.tick && r.tick(1, 0),
                s && (i && Sh(e, i),
                s = !1)
            }
        }
    }
    function rf(e, t, n, o) {
        let i, r = t(e, n, {
            direction: "both"
        }), s = o ? 0 : 1, a = null, l = null, c = null;
        function d() {
            c && Sh(e, c)
        }
        function u(e, t) {
            const n = e.b - s;
            return t *= Math.abs(n),
            {
                a: s,
                b: e.b,
                d: n,
                duration: t,
                start: e.start,
                end: e.start + t,
                group: e.group
            }
        }
        function p(t) {
            const {delay: n=0, duration: o=300, easing: p=$g, tick: m=xg, css: g} = r || tf
              , h = {
                start: jg() + n,
                b: t
            };
            t || (h.group = Zh,
            Zh.r += 1),
            "inert"in e && (t ? void 0 !== i && (e.inert = i) : (i = e.inert,
            e.inert = !0)),
            a || l ? l = h : (g && (d(),
            c = Th(e, s, t, o, n, p, g)),
            t && m(0, 1),
            a = u(h, o),
            Wh(( () => Yh(e, t, "start"))),
            Yg((t => {
                if (l && t > l.start && (a = u(l, o),
                l = null,
                Yh(e, a.b, "start"),
                g && (d(),
                c = Th(e, s, a.b, a.duration, 0, p, r.css))),
                a)
                    if (t >= a.end)
                        m(s = a.b, 1 - s),
                        Yh(e, a.b, "end"),
                        l || (a.b ? d() : --a.group.r || Ig(a.group.c)),
                        a = null;
                    else if (t >= a.start) {
                        const e = t - a.start;
                        s = a.a + a.d * p(e / a.duration),
                        m(s, 1 - s)
                    }
                return !(!a && !l)
            }
            )))
        }
        return {
            run(e) {
                Lg(r) ? Vh().then(( () => {
                    r = r({
                        direction: e ? "in" : "out"
                    }),
                    p(e)
                }
                )) : p(e)
            },
            end() {
                d(),
                a = l = null
            }
        }
    }
    function sf(e) {
        return void 0 !== e?.length ? e : Array.from(e)
    }
    function af(e, t, n) {
        const o = e.$$.props[t];
        void 0 !== o && (e.$$.bound[o] = n,
        n(e.$$.ctx[o]))
    }
    function lf(e) {
        e && e.c()
    }
    function cf(e, t, n) {
        const {fragment: o, after_update: i} = e.$$;
        o && o.m(t, n),
        Wh(( () => {
            const t = e.$$.on_mount.map(Cg).filter(Lg);
            e.$$.on_destroy ? e.$$.on_destroy.push(...t) : Ig(t),
            e.$$.on_mount = []
        }
        )),
        i.forEach(Wh)
    }
    function df(e, t) {
        const n = e.$$;
        null !== n.fragment && (!function(e) {
            const t = []
              , n = [];
            Nh.forEach((o => -1 === e.indexOf(o) ? t.push(o) : n.push(o))),
            n.forEach((e => e())),
            Nh = t
        }(n.after_update),
        Ig(n.on_destroy),
        n.fragment && n.fragment.d(t),
        n.on_destroy = n.fragment = null,
        n.ctx = [])
    }
    function uf(e, t, n, o, i, r, s=null, a=[-1]) {
        const l = bh;
        xh(e);
        const c = e.$$ = {
            fragment: null,
            ctx: [],
            props: r,
            update: xg,
            not_equal: i,
            bound: kg(),
            on_mount: [],
            on_destroy: [],
            on_disconnect: [],
            before_update: [],
            after_update: [],
            context: new Map(t.context || (l ? l.$$.context : [])),
            callbacks: kg(),
            dirty: a,
            skip_bound: !1,
            root: t.target || l.$$.root
        };
        s && s(c.root);
        let d = !1;
        if (c.ctx = n ? n(e, t.props || {}, ( (t, n, ...o) => {
            const r = o.length ? o[0] : n;
            return c.ctx && i(c.ctx[t], c.ctx[t] = r) && (!c.skip_bound && c.bound[t] && c.bound[t](r),
            d && function(e, t) {
                -1 === e.$$.dirty[0] && (Mh.push(e),
                Bh(),
                e.$$.dirty.fill(0)),
                e.$$.dirty[t / 31 | 0] |= 1 << t % 31
            }(e, t)),
            n
        }
        )) : [],
        c.update(),
        d = !0,
        Ig(c.before_update),
        c.fragment = !!o && o(c.ctx),
        t.target) {
            if (t.hydrate) {
                const e = function(e) {
                    return Array.from(e.childNodes)
                }(t.target);
                c.fragment && c.fragment.l(e),
                e.forEach(Jg)
            } else
                c.fragment && c.fragment.c();
            t.intro && Jh(e.$$.fragment),
            cf(e, t.target, t.anchor),
            Gh()
        }
        xh(l)
    }
    class pf {
        $$ = void 0;
        $$set = void 0;
        $destroy() {
            df(this, 1),
            this.$destroy = xg
        }
        $on(e, t) {
            if (!Lg(t))
                return xg;
            const n = this.$$.callbacks[e] || (this.$$.callbacks[e] = []);
            return n.push(t),
            () => {
                const e = n.indexOf(t);
                -1 !== e && n.splice(e, 1)
            }
        }
        $set(e) {
            var t;
            this.$$set && (t = e,
            0 !== Object.keys(t).length) && (this.$$.skip_bound = !0,
            this.$$set(e),
            this.$$.skip_bound = !1)
        }
    }
    const mf = [];
    function gf(e, t=xg) {
        let n;
        const o = new Set;
        function i(t) {
            if (Ag(e, t) && (e = t,
            n)) {
                const t = !mf.length;
                for (const t of o)
                    t[1](),
                    mf.push(t, e);
                if (t) {
                    for (let e = 0; e < mf.length; e += 2)
                        mf[e][0](mf[e + 1]);
                    mf.length = 0
                }
            }
        }
        function r(t) {
            i(t(e))
        }
        return {
            set: i,
            update: r,
            subscribe: function(s, a=xg) {
                const l = [s, a];
                return o.add(l),
                1 === o.size && (n = t(i, r) || xg),
                s(e),
                () => {
                    o.delete(l),
                    0 === o.size && n && (n(),
                    n = null)
                }
            }
        }
    }
    const hf = function() {
        const {subscribe: e, set: t, update: n} = gf({});
        return chrome.storage.sync.get(null, (e => {
            t(e),
            chrome.storage.local.get(["isLoggedIn", "isProUser", "translatorServiceType", "writeServiceType", "apiServiceType", "docTranslatorServiceType", "browserInstanceId", "featureSet", "hasTermbaseService"], (e => {
                n((t => Object.assign(Object.assign({}, t), e)))
            }
            ))
        }
        )),
        chrome.storage.onChanged.addListener((e => {
            const t = ["a_t", "r_t", "i_t", "accountId"];
            let o = {};
            for (const [n,i] of Object.entries(e))
                !1 === t.includes(n) && (o[n] = i.newValue);
            if (hn()) {
                const e = "background-color: #324054;padding: 3px; font-size:12px;color:#e1e8c3; font-weight:600";
                console.log(`%c${(new Date).toISOString()} UPDATE USER SETTINGS`, e, o)
            }
            return n((e => Object.assign(Object.assign({}, e), o))),
            !0
        }
        )),
        {
            subscribe: e,
            set: e => chrome.storage.sync.set(e)
        }
    }()
      , ff = function() {
        const {subscribe: e, update: t} = gf({});
        return chrome.runtime.onMessage.addListener((function(e, n) {
            switch (e.action) {
            case "newWebsiteState":
                e.payload && t((t => Object.assign(Object.assign({}, t), {
                    [n.tab.id]: Object.assign(Object.assign(Object.assign({}, t[n.tab.id]), e.payload), {
                        error: e.payload.error ? e.payload.error : void 0
                    })
                })));
                break;
            case "resetWebsiteState":
                e.payload && t((t => Object.assign(Object.assign({}, t), {
                    [n.tab.id]: Object.assign({}, e.payload)
                })))
            }
            return !0
        }
        )),
        {
            subscribe: e,
            fetchCurrentWebsiteSettings: () => {
                chrome.tabs && chrome.tabs.query({
                    active: !0,
                    currentWindow: !0
                }, (function(e) {
                    chrome.tabs.sendMessage(e[0].id, {
                        action: "dlGetWebsiteData"
                    }, (function(n) {
                        t((t => Object.assign(Object.assign({}, t), {
                            [e[0].id]: Object.assign(Object.assign({}, t[e[0].id]), n)
                        })))
                    }
                    ))
                }
                ))
            }
        }
    }();
    !function(e, t, n) {
        const o = !Array.isArray(e)
          , i = o ? [e] : e;
        if (!i.every(Boolean))
            throw new Error("derived() expects stores as input, got a falsy value");
        const r = t.length < 2;
        return s = (e, n) => {
            let s = !1;
            const a = [];
            let l = 0
              , c = xg;
            const d = () => {
                if (l)
                    return;
                c();
                const i = t(o ? a[0] : a, e, n);
                r ? e(i) : c = Lg(i) ? i : xg
            }
              , u = i.map(( (e, t) => Rg(e, (e => {
                a[t] = e,
                l &= ~(1 << t),
                s && d()
            }
            ), ( () => {
                l |= 1 << t
            }
            ))));
            return s = !0,
            d(),
            function() {
                Ig(u),
                c(),
                s = !1
            }
        }
        ,
        {
            subscribe: gf(n, s).subscribe
        };
        var s
    }(ff, ( (e, t) => Sg(void 0, void 0, void 0, (function*() {
        if (!chrome.tabs)
            return;
        const n = yield chrome.tabs.query({
            active: !0,
            currentWindow: !0
        });
        t(e[n[0].id])
    }
    )))),
    function() {
        const {subscribe: e, set: n} = gf([]);
        t({
            action: "dlGetExperiments",
            payload: {
                forceFetch: !1
            }
        }).then((e => n(e))),
        chrome.runtime.onMessage.addListener((function(e) {
            if ("dlExperimentsUpdated" === e.action)
                e.payload && n(e.payload.experiments);
            return !0
        }
        ))
    }();
    const _f = () => Sg(void 0, void 0, void 0, (function*() {
        return yield t({
            action: "dlGetExperiments",
            payload: {
                forceFetch: !1
            }
        })
    }
    ))
      , vf = e => !![/Receiving end does not exist/, /message channel closed before a response was received/, /Extension context invalidated/].some((t => t.test(e)))
      , yf = {
        dsn: "https://f7c23f019d154c319e91e8de004727dc@errortracking.deepl.com/12",
        release: "deepl-browser-extension@1.36.0",
        environment: gn(),
        tracesSampleRate: fn() ? .1 : 1,
        sampleRate: fn() ? .1 : 1,
        ignoreErrors: [/Receiving end does not exist/, /message channel closed before a response was received/, /Extension context invalidated/],
        beforeSend(e) {
            const t = e.message || e.exception && e.exception.values && e.exception.values[0].value || "";
            return vf(t) ? null : (hn() && console.error(e),
            e)
        }
    };
    function wf(e, t) {
        t.captureException(e)
    }
    const bf = "NETWORK_ERROR"
      , Ef = "PROTOCOL_ERROR"
      , Tf = "NETWORK_ERROR"
      , Sf = "FULL_PAGE_SERVER_ERROR"
      , xf = "-32003"
      , $f = "429"
      , Cf = "403"
      , kf = "1045601"
      , If = "1042902"
      , Lf = {
        ENTRY_NOT_FOUND: "ENTRY_NOT_FOUND",
        SERVER_ERROR: "SERVER_ERROR"
    }
      , Af = "TRANSLATED_INPUT_NOT_SET"
      , Rf = "HTML_NODE_CHAR_LENGTH_TOO_LONG"
      , Mf = "TRANSLATOR_FREE_ACCOUNT_LIMIT_EXCEEDED"
      , Of = "TRANSLATOR_ANONYMOUS_LIMIT_EXCEEDED"
      , Nf = "TRANSLATOR_FREE_ANON_WITH_WRITE_PRO"
      , Df = "WRITE_ANON_OR_FREE_LIMIT_EXCEEDED"
      , Pf = "WRITE_WITH_PRO_TRANSLATOR_LIMIT_EXCEEDED"
      , Uf = "LOGIN_REQUIRED";
    class Bf extends Error {
        constructor(e, t) {
            super(t),
            this.name = Mf,
            this.limit = e,
            this.message = t
        }
    }
    class Wf extends Error {
        constructor(e, t) {
            super(t),
            this.name = Of,
            this.limit = e,
            this.message = t
        }
    }
    class Ff extends Error {
        constructor(e, t) {
            super(t),
            this.name = Df,
            this.limit = e,
            this.message = t
        }
    }
    class zf extends Error {
        constructor(e, t) {
            super(t),
            this.name = Pf,
            this.limit = e,
            this.message = t
        }
    }
    function Hf(e) {
        let t;
        return {
            c() {
                t = th("div"),
                ch(t, "class", "dl-zendesk-icon svelte-1tytp0d")
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    "undefined" != typeof window && (window.__svelte || (window.__svelte = {
        v: new Set
    })).v.add("4");
    function jf(e, t, n) {
        let o, i, r, s;
        Mg(e, hf, (e => n(1, o = e))),
        Lh("text_direction", Vt());
        const a = () => {
            const e = window.location.pathname
              , t = SE(e);
            if (t) {
                const e = xE();
                if (!e)
                    return;
                const n = $E(e) || CE(e, t);
                let o = !1;
                if (s?.id !== t) {
                    const i = n.getTicketLanguageInformation();
                    o = e.id === s?.paneId || !i?.hasAttemptedLanguageDetection,
                    s = {
                        id: t,
                        paneId: e.id
                    }
                }
                n && n.processRefreshUI(o)
            }
        }
          , l = async e => {
            if ("dlChangeActiveTabStatus" === e.action)
                if (e.payload.isActive)
                    c();
                else {
                    if (!document.hidden)
                        return;
                    d()
                }
            return !0
        }
          , c = () => {
            i && clearInterval(i),
            i = setInterval(a, 800)
        }
          , d = () => {
            clearInterval(i)
        }
        ;
        Ch(( () => {
            const e = o.zendeskSuccessfulTranslations >= be;
            n(0, r = o?.featureSet?.customizations?.includes("zendesk")),
            e && !r && Wg(hf, o.isZendeskEnabled = !1, o),
            u()
        }
        ));
        const u = () => {
            c(),
            chrome.runtime.onMessage.addListener(l)
        }
        ;
        return kh(( () => {
            i && d(),
            chrome.runtime.onMessage.removeListener(l),
            IE()
        }
        )),
        e.$$.update = () => {
            2 & e.$$.dirty && !o?.featureSet?.customizations?.includes("zendesk") && o.zendeskSuccessfulTranslations >= be && (Wg(hf, o.isZendeskEnabled = !1, o),
            LE()),
            3 & e.$$.dirty && !1 === r && o?.featureSet?.customizations?.includes("zendesk") && (n(0, r = !0),
            Wg(hf, o.isZendeskEnabled = !0, o),
            c()),
            2 & e.$$.dirty && (o.isZendeskEnabled ? c() : LE())
        }
        ,
        [r, o]
    }
    class Gf extends pf {
        constructor(e) {
            super(),
            uf(this, e, jf, Hf, Ag, {})
        }
    }
    class qf {
        static HTML_TAG_NAME = "deepl-zendesk-controller";
        static createElement = (e=document) => {
            const t = e.createElement(qf.HTML_TAG_NAME)
              , n = new qf(t);
            return t.createDOM = n.createDOM,
            t.cleanupDOM = n.cleanupDOM,
            t.showOnboarding = n.showOnboarding,
            t.getActiveTermbases = n.getActiveTermbases,
            t
        }
        ;
        constructor(e) {
            this.domElement = e,
            this.domElement.shadow = this.domElement.attachShadow({
                mode: "open"
            }),
            this.domElement.shadowContainer = document.createElement("div"),
            this.domElement.mainComponent;
            const t = document.createElement("link");
            t.setAttribute("rel", "stylesheet"),
            t.setAttribute("href", chrome.runtime.getURL("build/content.css")),
            this.domElement.shadow.appendChild(t),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer)
        }
        createDOM = () => {
            this.domElement.mainComponent = new Gf({
                target: this.domElement.shadowContainer,
                props: {
                    onClose: this.cleanupDOM,
                    controller: this
                }
            })
        }
        ;
        cleanupDOM = () => {
            this.domElement.shadowContainer.remove(),
            this.domElement.mainComponent && this.domElement.mainComponent.$destroy()
        }
        ;
        showOnboarding = () => {
            this.domElement.mainComponent.showOnboarding()
        }
        ;
        getActiveTermbases = () => this.domElement.mainComponent.getActiveTermbases()
    }
    function Vf(e) {
        const t = e - 1;
        return t * t * t + 1
    }
    function Yf(e, {delay: t=0, duration: n=400, easing: o=$g}={}) {
        const i = +getComputedStyle(e).opacity;
        return {
            delay: t,
            duration: n,
            easing: o,
            css: e => "opacity: " + e * i
        }
    }
    function Kf(e, {delay: t=0, duration: n=400, easing: o=Vf, x: i=0, y: r=0, opacity: s=0}={}) {
        const a = getComputedStyle(e)
          , l = +a.opacity
          , c = "none" === a.transform ? "" : a.transform
          , d = l * (1 - s)
          , [u,p] = zg(i)
          , [m,g] = zg(r);
        return {
            delay: t,
            duration: n,
            easing: o,
            css: (e, t) => `\n\t\t\ttransform: ${c} translate(${(1 - e) * u}${p}, ${(1 - e) * m}${g});\n\t\t\topacity: ${l - d * t}`
        }
    }
    function Zf(e, {delay: t=0, duration: n=400, easing: o=Vf, axis: i="y"}={}) {
        const r = getComputedStyle(e)
          , s = +r.opacity
          , a = "y" === i ? "height" : "width"
          , l = parseFloat(r[a])
          , c = "y" === i ? ["top", "bottom"] : ["left", "right"]
          , d = c.map((e => `${e[0].toUpperCase()}${e.slice(1)}`))
          , u = parseFloat(r[`padding${d[0]}`])
          , p = parseFloat(r[`padding${d[1]}`])
          , m = parseFloat(r[`margin${d[0]}`])
          , g = parseFloat(r[`margin${d[1]}`])
          , h = parseFloat(r[`border${d[0]}Width`])
          , f = parseFloat(r[`border${d[1]}Width`]);
        return {
            delay: t,
            duration: n,
            easing: o,
            css: e => `overflow: hidden;opacity: ${Math.min(20 * e, 1) * s};${a}: ${e * l}px;padding-${c[0]}: ${e * u}px;padding-${c[1]}: ${e * p}px;margin-${c[0]}: ${e * m}px;margin-${c[1]}: ${e * g}px;border-${c[0]}-width: ${e * h}px;border-${c[1]}-width: ${e * f}px;`
        }
    }
    function Xf(e, t) {
        if (!e || !t)
            return !1;
        const n = /[\n\r\s]+/gm
          , o = e.replace(n, "")
          , i = t.replace(n, "");
        return o.includes(i)
    }
    function Qf(e, t, n) {
        let o = {
            block: "end",
            position: e.length
        };
        return t.forEach((t => {
            const i = e.indexOf(`<${t}>`, n);
            i > -1 && i < o.position && (o = {
                block: t,
                position: i
            })
        }
        )),
        [o.block, o.position]
    }
    function Jf(e, t=[]) {
        const n = [];
        let o = 0
          , i = !1;
        for (; !i; ) {
            const [r,s] = Qf(e, t, o);
            if ("end" === r && (i = !0),
            o < s && n.push({
                block: "main",
                text: e.substring(o, s)
            }),
            i)
                break;
            const a = e.indexOf(`</${r}>`, s);
            -1 === a ? (n.push({
                block: r,
                text: e.substring(s + `<${r}>`.length)
            }),
            i = !0) : (n.push({
                block: r,
                text: e.substring(s + `<${r}>`.length, a)
            }),
            o = a + `</${r}>`.length)
        }
        return n
    }
    function e_(e) {
        return e.match(/[^\s.,:;'"]+|[.,:;'"]|\s+/g) || []
    }
    function t_(e, t) {
        const n = e_(e)
          , o = e_(t)
          , i = function(e, t, n) {
            const o = n || ( (e, t) => e === t)
              , i = ( () => {
                let n = 0;
                for (; o(e[n], t[n]) && n < e.length; )
                    ++n;
                return n
            }
            )();
            if (i === e.length && e.length === t.length)
                return [i];
            const r = ( () => {
                let n = e.length - 1
                  , r = t.length - 1;
                for (; o(e[n], t[r]) && n > i && r > i; )
                    --n,
                    --r;
                return e.length - n - 1
            }
            )()
              , s = e.length - i - r + 1
              , a = t.length - i - r + 1
              , l = s + a
              , c = new Map
              , d = new Map;
            c.set(1, 0),
            d.set(1, null);
            for (let n = 0; n <= l; ++n)
                for (let l = -n; l <= n; l += 2) {
                    let u, p, m;
                    for (l == -n || l != n && c.get(l - 1) < c.get(l + 1) ? (u = c.get(l + 1),
                    m = [d.get(l + 1), void 0, void 0]) : (u = c.get(l - 1) + 1,
                    m = [d.get(l - 1), void 0, void 0]),
                    p = u - l; u < s && p < a && o(e[u + i], t[p + i]); )
                        ++u,
                        ++p;
                    if (u >= s && p >= a) {
                        m[1] = s + r - 1,
                        m[2] = a + r - 1;
                        let e = -1
                          , t = -1;
                        const n = [];
                        for (; m; )
                            n.push([m[1], m[2]]),
                            m = m[0];
                        let o = []
                          , l = null;
                        for (; n.length; ) {
                            const i = n.pop()
                              , r = i[0]
                              , s = i[1]
                              , a = r - e
                              , c = s - t
                              , d = Math.min(a, c);
                            a > d && (l ? l[0] += a - d : (l = [a - d, 0],
                            o.push(l))),
                            c > d && (l ? l[1] += c - d : (l = [0, c - d],
                            o.push(l))),
                            d > 0 && (o.push(d),
                            l = null),
                            e = r,
                            t = s
                        }
                        return o[0] = o[0] - 1 + i,
                        o
                    }
                    c.set(l, u),
                    m[1] = u,
                    m[2] = p,
                    d.set(l, m)
                }
            throw new Error("[diff]","should not happen?")
        }(n, o)
          , r = [];
        let s = 0
          , a = 0
          , l = 0;
        for (; s < i.length; ) {
            const e = i[s];
            let t = 0;
            for (let o = a + e - 1; o >= a; o -= 1)
                t += n[o]?.match(/^\s/) ? 2 : 1;
            a += e,
            l += e;
            let c = 0
              , d = 0;
            if (a < n.length && l < o.length && n[a]?.match(/^\s/) && o[l]?.match(/^\s/) && (c -= 1,
            d -= 1,
            t += 1),
            r.push(t),
            s += 1,
            s < i.length) {
                const [e,t] = i[s];
                for (let t = a + e - 1; t >= a; t -= 1)
                    c += n[t]?.match(/^\s/) ? 2 : 1;
                for (let e = l + t - 1; e >= l; e -= 1)
                    d += o[e]?.match(/^\s/) ? 2 : 1;
                r.push([Math.max(c, 0), Math.max(d, 0)]),
                s += 1,
                a += e,
                l += t
            }
        }
        return [r, n, o, i]
    }
    function n_(e, t) {
        let n = 0;
        const o = function(e, t) {
            const n = t_(t, e)
              , o = [];
            let i = 0
              , r = 0
              , s = 0
              , a = 0;
            return n[3].forEach((e => {
                if (Array.isArray(e) && "number" == typeof e[0] && "number" == typeof e[1]) {
                    if (0 !== e[1]) {
                        const t = n[2].slice(r, r + e[1]).join("")
                          , l = n[1].slice(i, i + e[0]).join("")
                          , c = {
                            original: l,
                            replace: t
                        };
                        c.changeLength = t.length,
                        c.changeOffset = s,
                        c.originalLength = l.length,
                        c.originalOffset = a,
                        s += t.length,
                        a += l.length,
                        o.push(c)
                    }
                    i += e[0],
                    r += e[1]
                } else {
                    let t = 0;
                    n[2].slice(r, r + e).forEach((e => t += e.length)),
                    s += t;
                    let o = 0;
                    n[1].slice(i, i + e).forEach((e => o += e.length)),
                    a += o,
                    i += e,
                    r += e
                }
            }
            )),
            o
        }(e, t)
          , i = [];
        for (let t of o) {
            t.changeOffset > n && i.push({
                isHighlighted: !1,
                text: e.substring(n, t.changeOffset)
            });
            const o = t.changeOffset + t.changeLength;
            i.push({
                isHighlighted: !0,
                text: e.substring(t.changeOffset, o)
            }),
            n = o
        }
        return n < e.length && i.push({
            isHighlighted: !1,
            text: e.substring(n, e.length)
        }),
        i
    }
    const o_ = e => {
        let t = "";
        for (const n of e.childNodes)
            n.nodeType === Node.TEXT_NODE ? t += n.textContent : n.nodeType === Node.ELEMENT_NODE && "none" !== n.style.display && (t += o_(n));
        return t
    }
    ;
    function i_(e) {
        return "IFRAME" === e.nodeName.toUpperCase() ? a_(e) : e.ownerDocument === document ? window : e.ownerDocument
    }
    function r_(e) {
        return e.ownerDocument === document ? document : e.ownerDocument
    }
    function s_(e) {
        return "IFRAME" !== e.nodeName.toUpperCase() ? e : a_(e).body
    }
    function a_(e) {
        return e.contentDocument || e.contentWindow.document
    }
    function l_(e) {
        if ("IFRAME" === e.nodeName.toUpperCase())
            return window;
        if (e.ownerDocument !== document) {
            const t = e?.ownerDocument?.defaultView?.frameElement?.contentWindow;
            if (t)
                return t
        }
        return window
    }
    function c_(e) {
        return "IFRAME" === e.nodeName.toUpperCase() ? a_(e) : e.ownerDocument === document ? document : e.ownerDocument
    }
    function d_(e) {
        return new Promise(( (t, n) => {
            requestAnimationFrame(( () => {
                const n = r_(e).createRange();
                n.selectNodeContents(s_(e));
                const o = i_(e).getSelection();
                o.removeAllRanges(),
                o.addRange(n),
                t(o)
            }
            ))
        }
        ))
    }
    const u_ = async (e, t) => {
        await un(10);
        const n = new ClipboardEvent("paste");
        n.clipboardData.setData("text/html", t.html),
        n.clipboardData.setData("text/plain", t.text),
        e.dispatchEvent(n),
        await un(10)
    }
      , p_ = async (e, t) => {
        await un(10);
        const n = new ClipboardEvent("paste",{
            dataType: "text/html",
            data: t.html
        });
        e.dispatchEvent(n),
        await un(10)
    }
      , m_ = async (e, t) => {
        await un(10);
        const n = new ClipboardEvent("paste",{
            dataType: "text/plain",
            data: t.text
        });
        e.dispatchEvent(n),
        await un(10)
    }
      , g_ = async (e, t) => {
        await un(10),
        document.execCommand("insertText", !1, t.text),
        await un(10)
    }
      , h_ = async (e, t) => {
        await un(10),
        document.execCommand("insertHTML", !1, t.html),
        await un(10)
    }
      , f_ = async (e, t) => {
        const n = l_(e);
        await un(10);
        const o = new DataTransfer;
        o.setData("text/html", t.html),
        o.setData("text/plain", t.text),
        e.dispatchEvent(new n.ClipboardEvent("paste",{
            clipboardData: o,
            bubbles: !0,
            cancelable: !0
        })),
        o.clearData(),
        await un(10)
    }
      , __ = async (e, t) => {
        const n = c_(e)
          , o = l_(e)
          , i = n.createEvent("TextEvent");
        i.initTextEvent("textInput", !0, !0, o, t.text),
        e.dispatchEvent(i),
        await un(10)
    }
      , v_ = async (e, t) => {
        const n = c_(e);
        e.value && e.select(),
        n.execCommand("insertHTML", !1, t.html),
        await un(20),
        (e.value || "" === e.value) && (e.value = t.text)
    }
      , y_ = async (e, n, o) => {
        const i = gt();
        o || e.focus();
        const r = s_(e).innerText
          , s = s_(e).value
          , a = [...i ? [{
            method: u_,
            isSuccessful: () => w_(r, e.innerText, n.text)
        }, {
            method: p_,
            isSuccessful: () => w_(r, e.innerText, n.text)
        }, {
            method: m_,
            isSuccessful: () => w_(r, e.innerText, n.text)
        }, {
            method: g_,
            isSuccessful: () => w_(r, e.innerText, n.text)
        }, {
            method: h_,
            isSuccessful: () => w_(r, e.innerText, n.text) || w_(s, e.value, n.text)
        }] : [], {
            method: f_,
            isSuccessful: () => w_(r, s_(e).innerText, n.text)
        }, {
            method: __,
            isSuccessful: () => w_(r, s_(e).innerText, n.text)
        }, {
            method: v_,
            isSuccessful: () => w_(r, s_(e).innerText, n.text) || w_(s, s_(e).value, n.text)
        }];
        for (const t of a)
            if (i && hn() && console.log(`trying paste event: ${t.method.name}`),
            await t.method(e, n),
            t.isSuccessful())
                return void (i && hn() && console.log("attempt was successful: ", t.method.name));
        throw await un(1e3),
        t({
            action: "dlTranslatedInputTextNotSet",
            payload: window.location.hostname
        }),
        new Error({
            error: Af
        })
    }
      , w_ = (e, t, n) => {
        let o = !0;
        return (e && !t || !Xf(e, n) && e === t || !Xf(t, n)) && (o = !1),
        o
    }
      , b_ = (e, t) => {
        const n = new (l_(t).KeyboardEvent)(e,{
            bubbles: !0,
            cancelable: !0,
            keyCode: 8,
            which: 8,
            location: 0,
            key: "Backspace"
        });
        return t.dispatchEvent(n)
    }
      , E_ = (e, t) => {
        const n = new MouseEvent(e,{
            bubbles: !0,
            cancelable: !1
        });
        return t.dispatchEvent(n)
    }
      , T_ = e => {
        const t = l_(e)
          , n = r_(e);
        if (b_("keydown", e)) {
            const o = new t.InputEvent("beforeinput",{
                bubbles: !0,
                cancelable: !0,
                inputType: "deleteContent"
            });
            e.dispatchEvent(o) && n.execCommand("delete", !1)
        }
        b_("keyup", e)
    }
    ;
    function S_(e, {isShadow: t=!1, exceptions: n=[]}={}) {
        const o = o => {
            const i = t ? o.composedPath()[0] : o.target;
            !e || e.contains(i) || o.defaultPrevented || function(e, t) {
                for (let n of t)
                    if (e.closest(n))
                        return !0;
                return !1
            }(i, n) || e.dispatchEvent(new CustomEvent("click_outside",e))
        }
        ;
        return document.addEventListener("click", o, !0),
        {
            destroy() {
                document.removeEventListener("click", o, !0)
            }
        }
    }
    function x_(e) {
        document.addEventListener("deepl-reset-event", e)
    }
    function $_(e) {
        let t, n;
        const o = e[12].default
          , i = Og(o, e, e[11], null);
        return {
            c() {
                t = th("div"),
                i && i.c()
            },
            m(e, o) {
                Qg(e, t, o),
                i && i.m(t, null),
                n = !0
            },
            p(e, t) {
                i && i.p && (!n || 2048 & t) && Pg(i, o, e, e[11], n ? Dg(o, e[11], t, null) : Ug(e[11]), null)
            },
            i(e) {
                n || (Jh(i, e),
                n = !0)
            },
            o(e) {
                ef(i, e),
                n = !1
            },
            d(e) {
                e && Jg(t),
                i && i.d(e)
            }
        }
    }
    function C_(e) {
        let t, n, o;
        const i = e[12].default
          , r = Og(i, e, e[11], null);
        return {
            c() {
                t = th("div"),
                r && r.c(),
                ch(t, "data-tooltip", e[0]),
                ch(t, "style", n = `z-index: ${e[2]}; ${e[6]}`),
                ch(t, "class", "svelte-1a71ske"),
                fh(t, "multiline", e[1]),
                fh(t, "isFlexItem", e[4]),
                fh(t, "isRTL", e[7]),
                fh(t, "showProShield", e[5])
            },
            m(e, n) {
                Qg(e, t, n),
                r && r.m(t, null),
                o = !0
            },
            p(e, s) {
                r && r.p && (!o || 2048 & s) && Pg(r, i, e, e[11], o ? Dg(i, e[11], s, null) : Ug(e[11]), null),
                (!o || 1 & s) && ch(t, "data-tooltip", e[0]),
                (!o || 68 & s && n !== (n = `z-index: ${e[2]}; ${e[6]}`)) && ch(t, "style", n),
                (!o || 2 & s) && fh(t, "multiline", e[1]),
                (!o || 16 & s) && fh(t, "isFlexItem", e[4]),
                (!o || 128 & s) && fh(t, "isRTL", e[7]),
                (!o || 32 & s) && fh(t, "showProShield", e[5])
            },
            i(e) {
                o || (Jh(r, e),
                o = !0)
            },
            o(e) {
                ef(r, e),
                o = !1
            },
            d(e) {
                e && Jg(t),
                r && r.d(e)
            }
        }
    }
    function k_(e) {
        let t, n, o, i;
        const r = [C_, $_]
          , s = [];
        function a(e, t) {
            return e[3] ? 0 : 1
        }
        return t = a(e),
        n = s[t] = r[t](e),
        {
            c() {
                n.c(),
                o = rh()
            },
            m(e, n) {
                s[t].m(e, n),
                Qg(e, o, n),
                i = !0
            },
            p(e, [i]) {
                let l = t;
                t = a(e),
                t === l ? s[t].p(e, i) : (Xh(),
                ef(s[l], 1, 1, ( () => {
                    s[l] = null
                }
                )),
                Qh(),
                n = s[t],
                n ? n.p(e, i) : (n = s[t] = r[t](e),
                n.c()),
                Jh(n, 1),
                n.m(o.parentNode, o))
            },
            i(e) {
                i || (Jh(n),
                i = !0)
            },
            o(e) {
                ef(n),
                i = !1
            },
            d(e) {
                e && Jg(o),
                s[t].d(e)
            }
        }
    }
    function I_(e, t, n) {
        let o, i, {$$slots: r={}, $$scope: s} = t;
        const {deepl_inline_ui: a} = P;
        let {tooltip: l=!1} = t
          , {multiline: c=!1} = t
          , {zIndex: d=a.z_index} = t
          , {isEnabled: u=!0} = t
          , {isFlexItem: p=!1} = t
          , {width: m=null} = t
          , {parentIsRTL: g=!1} = t
          , {ignoreTextDirection: h=!1} = t
          , {showProShield: f=!1} = t;
        return e.$$set = e => {
            "tooltip"in e && n(0, l = e.tooltip),
            "multiline"in e && n(1, c = e.multiline),
            "zIndex"in e && n(2, d = e.zIndex),
            "isEnabled"in e && n(3, u = e.isEnabled),
            "isFlexItem"in e && n(4, p = e.isFlexItem),
            "width"in e && n(8, m = e.width),
            "parentIsRTL"in e && n(9, g = e.parentIsRTL),
            "ignoreTextDirection"in e && n(10, h = e.ignoreTextDirection),
            "showProShield"in e && n(5, f = e.showProShield),
            "$$scope"in e && n(11, s = e.$$scope)
        }
        ,
        e.$$.update = () => {
            1536 & e.$$.dirty && n(7, o = g || !h && "rtl" === Vt()),
            256 & e.$$.dirty && n(6, i = m ? `width: ${m}px` : "")
        }
        ,
        [l, c, d, u, p, f, i, o, m, g, h, s, r]
    }
    class L_ extends pf {
        constructor(e) {
            super(),
            uf(this, e, I_, k_, Ag, {
                tooltip: 0,
                multiline: 1,
                zIndex: 2,
                isEnabled: 3,
                isFlexItem: 4,
                width: 8,
                parentIsRTL: 9,
                ignoreTextDirection: 10,
                showProShield: 5
            })
        }
    }
    const A_ = (e, t) => {
        const n = new ResizeObserver(( () => {
            const n = {
                clientHeight: e.clientHeight,
                clientWidth: e.clientWidth,
                offsetHeight: e.offsetHeight,
                offsetWidth: e.offsetWidth
            };
            t(n)
        }
        ));
        return n.observe(e),
        () => {
            n.disconnect()
        }
    }
    ;
    function R_(e, t, n) {
        const o = e.slice();
        return o[46] = t[n],
        o[48] = n,
        o
    }
    function M_(e) {
        let t, n, o, i = sf(e[3]), r = [];
        for (let t = 0; t < i.length; t += 1)
            r[t] = D_(R_(e, i, t));
        return {
            c() {
                t = th("ul");
                for (let e = 0; e < r.length; e += 1)
                    r[e].c();
                ch(t, "id", "dropdown_list"),
                ch(t, "role", "listbox"),
                ch(t, "aria-labelledby", "dropdown_option"),
                ch(t, "tabindex", "-1"),
                ch(t, "style", n = "up" === e[12] ? "bottom: 30px" : `height: ${e[16].height}; top: ${e[16].top};`),
                ch(t, "data-qa", e[6]),
                ch(t, "class", "svelte-1tk603q"),
                fh(t, "alternate-dropdown-list", "sm" === e[8]),
                fh(t, "align-right", e[9])
            },
            m(n, o) {
                Qg(n, t, o);
                for (let e = 0; e < r.length; e += 1)
                    r[e] && r[e].m(t, null);
                e[37](t)
            },
            p(e, o) {
                if (4726795 & o[0]) {
                    let n;
                    for (i = sf(e[3]),
                    n = 0; n < i.length; n += 1) {
                        const s = R_(e, i, n);
                        r[n] ? r[n].p(s, o) : (r[n] = D_(s),
                        r[n].c(),
                        r[n].m(t, null))
                    }
                    for (; n < r.length; n += 1)
                        r[n].d(1);
                    r.length = i.length
                }
                69632 & o[0] && n !== (n = "up" === e[12] ? "bottom: 30px" : `height: ${e[16].height}; top: ${e[16].top};`) && ch(t, "style", n),
                64 & o[0] && ch(t, "data-qa", e[6]),
                256 & o[0] && fh(t, "alternate-dropdown-list", "sm" === e[8]),
                512 & o[0] && fh(t, "align-right", e[9])
            },
            i(e) {
                o || Wh(( () => {
                    o = nf(t, Kf, {
                        y: -5,
                        duration: 500
                    }),
                    o.start()
                }
                ))
            },
            o: xg,
            d(n) {
                n && Jg(t),
                eh(r, n),
                e[37](null)
            }
        }
    }
    function O_(e) {
        let t, n = e[46].label + "";
        return {
            c() {
                t = oh(n)
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p(e, o) {
                8 & o[0] && n !== (n = e[46].label + "") && dh(t, n)
            },
            d(e) {
                e && Jg(t)
            }
        }
    }
    function N_(e) {
        let t, n, o = vt(e[46].label) + "";
        return {
            c() {
                t = new vh(!1),
                n = rh(),
                t.a = n
            },
            m(e, i) {
                t.m(o, e, i),
                Qg(e, n, i)
            },
            p(e, n) {
                8 & n[0] && o !== (o = vt(e[46].label) + "") && t.p(o)
            },
            d(e) {
                e && (Jg(n),
                t.d())
            }
        }
    }
    function D_(e) {
        let t, n, o, i, r, s, a;
        function l(e, t) {
            return e[13] ? N_ : O_
        }
        let c = l(e)
          , d = c(e);
        function u() {
            return e[36](e[46])
        }
        return {
            c() {
                t = th("li"),
                d.c(),
                n = ih(),
                ch(t, "role", "option"),
                ch(t, "data-option-value", o = e[46].value),
                ch(t, "data-option-regionalvariant", i = e[46].regionalVariant),
                ch(t, "aria-selected", r = e[0] === e[46]),
                ch(t, "class", "svelte-1tk603q"),
                fh(t, "selected", e[0] === e[46]),
                fh(t, "keyboardSelected", e[48] === e[19])
            },
            m(o, i) {
                Qg(o, t, i),
                d.m(t, null),
                Kg(t, n),
                s || (a = [sh(t, "click", u), sh(t, "mousedown", lh(ah(e[33])))],
                s = !0)
            },
            p(s, a) {
                c === (c = l(e = s)) && d ? d.p(e, a) : (d.d(1),
                d = c(e),
                d && (d.c(),
                d.m(t, n))),
                8 & a[0] && o !== (o = e[46].value) && ch(t, "data-option-value", o),
                8 & a[0] && i !== (i = e[46].regionalVariant) && ch(t, "data-option-regionalvariant", i),
                9 & a[0] && r !== (r = e[0] === e[46]) && ch(t, "aria-selected", r),
                9 & a[0] && fh(t, "selected", e[0] === e[46]),
                524288 & a[0] && fh(t, "keyboardSelected", e[48] === e[19])
            },
            d(e) {
                e && Jg(t),
                d.d(),
                s = !1,
                Ig(a)
            }
        }
    }
    function P_(e) {
        let t, n, o, i, r, s, a, l = e[1] && M_(e);
        return {
            c() {
                t = th("div"),
                n = th("button"),
                o = oh(e[17]),
                i = ih(),
                l && l.c(),
                ch(n, "aria-haspopup", "listbox"),
                ch(n, "id", "dropdown_button"),
                ch(n, "aria-labelledby", "dropdown_option dropdown_button"),
                ch(n, "aria-expanded", e[1]),
                ch(n, "data-qa", e[5]),
                ch(n, "data-testid", e[5]),
                ch(n, "class", "svelte-1tk603q"),
                fh(n, "dropdown-label", "original" === e[7]),
                fh(n, "dropdown-label-alternate", "alternate" === e[7]),
                fh(n, "dropdown-label-zendesk", "zendesk" === e[7]),
                fh(n, "dropdown-label-input-selection-result", "input-selection-result" === e[7]),
                fh(n, "dropdown-label-full-width", e[10]),
                fh(n, "dropdown-label-borderless", e[11]),
                fh(n, "dropup", "up" === e[12]),
                fh(n, "extra-padding", e[14]),
                ch(t, "class", r = Bg(`dropdown__wrapper ${e[4]}`) + " svelte-1tk603q"),
                ch(t, "style", e[21]),
                fh(t, "disabled", e[2])
            },
            m(r, c) {
                Qg(r, t, c),
                Kg(t, n),
                Kg(n, o),
                e[35](n),
                Kg(t, i),
                l && l.m(t, null),
                e[39](t),
                s || (a = [sh(n, "click", e[23]), sh(n, "mousedown", lh(ah(e[34]))), sh(n, "keydown", e[24]), Fg(S_.call(null, t, {
                    isShadow: !0
                })), sh(t, "click_outside", e[38])],
                s = !0)
            },
            p(e, i) {
                131072 & i[0] && dh(o, e[17]),
                2 & i[0] && ch(n, "aria-expanded", e[1]),
                32 & i[0] && ch(n, "data-qa", e[5]),
                32 & i[0] && ch(n, "data-testid", e[5]),
                128 & i[0] && fh(n, "dropdown-label", "original" === e[7]),
                128 & i[0] && fh(n, "dropdown-label-alternate", "alternate" === e[7]),
                128 & i[0] && fh(n, "dropdown-label-zendesk", "zendesk" === e[7]),
                128 & i[0] && fh(n, "dropdown-label-input-selection-result", "input-selection-result" === e[7]),
                1024 & i[0] && fh(n, "dropdown-label-full-width", e[10]),
                2048 & i[0] && fh(n, "dropdown-label-borderless", e[11]),
                4096 & i[0] && fh(n, "dropup", "up" === e[12]),
                16384 & i[0] && fh(n, "extra-padding", e[14]),
                e[1] ? l ? (l.p(e, i),
                2 & i[0] && Jh(l, 1)) : (l = M_(e),
                l.c(),
                Jh(l, 1),
                l.m(t, null)) : l && (l.d(1),
                l = null),
                16 & i[0] && r !== (r = Bg(`dropdown__wrapper ${e[4]}`) + " svelte-1tk603q") && ch(t, "class", r),
                2097152 & i[0] && ch(t, "style", e[21]),
                20 & i[0] && fh(t, "disabled", e[2])
            },
            i(e) {
                Jh(l)
            },
            o: xg,
            d(n) {
                n && Jg(t),
                e[35](null),
                l && l.d(),
                e[39](null),
                s = !1,
                Ig(a)
            }
        }
    }
    function U_(e, t, n) {
        let {isOpen: o=!1} = t
          , {disabled: i=!1} = t
          , {items: r=[]} = t
          , {placeholder: s=""} = t
          , {customClass: a=""} = t
          , {selectedOption: l} = t
          , {defaultOption: c} = t
          , {dataQaButton: d="dl-dropdown-button"} = t
          , {dataQaList: u="dl-dropdown-list"} = t
          , {variant: p="original"} = t
          , {fontSize: m="default"} = t
          , {alignRight: g=!0} = t
          , {extraText: h=""} = t
          , {isFullWidth: f=!1} = t
          , {isBorderless: _=!1} = t
          , {direction: v="down"} = t
          , {allowLabelHtml: y=!1} = t
          , {showSortCode: w=!1} = t
          , {extraPadding: b=!1} = t
          , {dropdownMaxHeight: E=300} = t
          , {autoHeight: T=!1} = t;
        const S = Ah("deepl_settings");
        let x, $, C, k, I, L = 0, A = {}, R = {}, M = {}, O = -1, N = "visibility: hidden; opacity:0; height:0;";
        const D = Ih();
        function P() {
            A.spaceAbove = Math.abs(x.getBoundingClientRect().top),
            A.spaceBelow = Math.abs(window.innerHeight - x.getBoundingClientRect().bottom)
        }
        Ch(( () => {
            setTimeout(( () => {
                n(21, N = "")
            }
            ), 100),
            k = A_(C, ( ({clientWidth: e}) => {
                n(31, L = e)
            }
            ))
        }
        )),
        kh(( () => {
            k && k()
        }
        ));
        return e.$$set = e => {
            "isOpen"in e && n(1, o = e.isOpen),
            "disabled"in e && n(2, i = e.disabled),
            "items"in e && n(3, r = e.items),
            "placeholder"in e && n(25, s = e.placeholder),
            "customClass"in e && n(4, a = e.customClass),
            "selectedOption"in e && n(0, l = e.selectedOption),
            "defaultOption"in e && n(26, c = e.defaultOption),
            "dataQaButton"in e && n(5, d = e.dataQaButton),
            "dataQaList"in e && n(6, u = e.dataQaList),
            "variant"in e && n(7, p = e.variant),
            "fontSize"in e && n(8, m = e.fontSize),
            "alignRight"in e && n(9, g = e.alignRight),
            "extraText"in e && n(27, h = e.extraText),
            "isFullWidth"in e && n(10, f = e.isFullWidth),
            "isBorderless"in e && n(11, _ = e.isBorderless),
            "direction"in e && n(12, v = e.direction),
            "allowLabelHtml"in e && n(13, y = e.allowLabelHtml),
            "showSortCode"in e && n(28, w = e.showSortCode),
            "extraPadding"in e && n(14, b = e.extraPadding),
            "dropdownMaxHeight"in e && n(29, E = e.dropdownMaxHeight),
            "autoHeight"in e && n(30, T = e.autoHeight)
        }
        ,
        e.$$.update = () => {
            67108864 & e.$$.dirty[0] && c && n(0, l = c),
            1 & e.$$.dirty[0] | 3 & e.$$.dirty[1] && (l && (M?.value === l?.value && M?.regionalVariant === l?.regionalVariant || (n(32, M = l),
            D("valueselected", {
                selectedOption: l
            }))),
            L && P()),
            436207617 & e.$$.dirty[0] && n(17, $ = l ? `${w ? l.value : l.selectedOptionLabel}${h ? ` ${h}` : ""}` : `${s}${h ? ` ${h}` : ""}`)
        }
        ,
        [l, o, i, r, a, d, u, p, m, g, f, _, v, y, b, x, R, $, C, O, I, N, S, function() {
            "down" === v && function() {
                if (T)
                    return;
                if (P(),
                n(16, R.top = "auto", R),
                n(16, R.height = `${E}px`, R),
                A.spaceBelow > A.spaceAbove)
                    A.spaceBelow <= E && n(16, R.height = Math.ceil(.8 * A.spaceBelow) + "px", R);
                else {
                    let e = E;
                    A.spaceAbove <= E && (e = Math.ceil(.8 * A.spaceAbove)),
                    n(16, R.height = `${e}px`, R),
                    n(16, R.top = "-" + (e + 2) + "px", R)
                }
            }(),
            n(1, o = !o),
            function() {
                let e = x.getRootNode().querySelector("ul li[aria-selected=true]");
                setTimeout(( () => {
                    e?.scrollIntoView({
                        block: "nearest"
                    })
                }
                ), 0)
            }()
        }
        , function(e) {
            if (!o)
                return;
            if ("ArrowUp" === e.key && O > 0)
                n(19, O -= 1);
            else if ("ArrowDown" === e.key && O < r.length - 1)
                n(19, O += 1);
            else if ("Enter" === e.key && -1 !== O) {
                const t = r[O];
                n(1, o = !1),
                n(0, l = t),
                n(19, O = -1),
                S.set({
                    regionalVariant: t.regionalVariant || ""
                }),
                e.preventDefault(),
                e.stopPropagation()
            } else {
                if ("Escape" !== e.key)
                    return;
                n(1, o = !1),
                n(19, O = -1)
            }
            const t = r[O];
            var i = I.querySelector(`[data-option-value="${t.value}"]`).offsetTop - I.offsetTop;
            I.scrollTo({
                top: i,
                behavior: "smooth"
            })
        }
        , s, c, h, w, E, T, L, M, function(t) {
            Rh.call(this, e, t)
        }
        , function(t) {
            Rh.call(this, e, t)
        }
        , function(e) {
            Oh[e ? "unshift" : "push"](( () => {
                x = e,
                n(15, x)
            }
            ))
        }
        , e => {
            n(1, o = !1),
            n(0, l = e),
            n(19, O = -1),
            S.set({
                regionalVariant: e.regionalVariant || ""
            })
        }
        , function(e) {
            Oh[e ? "unshift" : "push"](( () => {
                I = e,
                n(20, I)
            }
            ))
        }
        , () => {
            n(1, o = !1)
        }
        , function(e) {
            Oh[e ? "unshift" : "push"](( () => {
                C = e,
                n(18, C)
            }
            ))
        }
        ]
    }
    class B_ extends pf {
        constructor(e) {
            super(),
            uf(this, e, U_, P_, Ag, {
                isOpen: 1,
                disabled: 2,
                items: 3,
                placeholder: 25,
                customClass: 4,
                selectedOption: 0,
                defaultOption: 26,
                dataQaButton: 5,
                dataQaList: 6,
                variant: 7,
                fontSize: 8,
                alignRight: 9,
                extraText: 27,
                isFullWidth: 10,
                isBorderless: 11,
                direction: 12,
                allowLabelHtml: 13,
                showSortCode: 28,
                extraPadding: 14,
                dropdownMaxHeight: 29,
                autoHeight: 30
            }, null, [-1, -1])
        }
    }
    function W_(e) {
        let t, n, o, i, r;
        return n = new B_({
            props: {
                items: e[1],
                selectedOption: e[2],
                alignRight: !1,
                dataQaButton: "deepl-formality-selection-button",
                dataQaList: "deepl-formality-selection-list",
                variant: "zendesk",
                isFullWidth: e[0],
                direction: "up"
            }
        }),
        n.$on("valueselected", e[3]),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment)
            },
            m(s, a) {
                Qg(s, t, a),
                cf(n, t, null),
                o = !0,
                i || (r = sh(t, "mousedown", lh(ah(e[5]))),
                i = !0)
            },
            p(e, [t]) {
                const o = {};
                2 & t && (o.items = e[1]),
                4 & t && (o.selectedOption = e[2]),
                1 & t && (o.isFullWidth = e[0]),
                n.$set(o)
            },
            i(e) {
                o || (Jh(n.$$.fragment, e),
                o = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                o = !1
            },
            d(e) {
                e && Jg(t),
                df(n),
                i = !1,
                r()
            }
        }
    }
    function F_(e, t, n) {
        let o, i;
        const r = Ih();
        let {value: s} = t
          , {isFullWidth: a=!1} = t;
        return e.$$set = e => {
            "value"in e && n(4, s = e.value),
            "isFullWidth"in e && n(0, a = e.isFullWidth)
        }
        ,
        e.$$.update = () => {
            18 & e.$$.dirty && n(2, i = s ? o.find((e => e.value === s)) : o.find((e => "auto" === e.value)))
        }
        ,
        n(1, o = [{
            value: "auto",
            label: chrome.i18n.getMessage("ui_formality_automatic"),
            selectedOptionLabel: chrome.i18n.getMessage("ui_formality_automatic")
        }, {
            value: "formal",
            label: chrome.i18n.getMessage("ui_formality_formal"),
            selectedOptionLabel: chrome.i18n.getMessage("ui_formality_formal")
        }, {
            value: "informal",
            label: chrome.i18n.getMessage("ui_formality_informal"),
            selectedOptionLabel: chrome.i18n.getMessage("ui_formality_informal")
        }]),
        [a, o, i, function(e) {
            e.detail.selectedOption.value !== s && r("selection", e.detail)
        }
        , s, function(t) {
            Rh.call(this, e, t)
        }
        ]
    }
    class z_ extends pf {
        constructor(e) {
            super(),
            uf(this, e, F_, W_, Ag, {
                value: 4,
                isFullWidth: 0
            })
        }
    }
    const H_ = "ACCESS_DENIED"
      , j_ = "INVALID_REQUEST"
      , G_ = "INVALID_GRANT"
      , q_ = "INVALID_NONCE"
      , V_ = {
        RATE_LIMITED: "ITA_RATE_LIMITED",
        RATE_LIMITED_RESTRICTED: "ITA_RATE_LIMITED_RESTRICTED",
        WRITE_LANGUAGE_NOT_SUPPORTED: "ITA_WRITE_LANGUAGE_NOT_SUPPORTED",
        TRANSLATE_LANGUAGE_NOT_SUPPORTED: "ITA_TRANSLATE_LANGUAGE_NOT_SUPPORTED",
        WRITE_GENERIC_ERROR: "ITA_WRITE_GENERIC_ERROR",
        TRANSLATE_GENERIC_ERROR: "ITA_TRANSLATE_GENERIC_ERROR",
        TOKEN_EXPIRED: "ITA_TOKEN_EXPIRED"
    }
      , Y_ = "PROTOCOL_ERROR"
      , K_ = "NETWORK_ERROR"
      , Z_ = "FULL_PAGE_SERVER_ERROR"
      , X_ = "-32003"
      , Q_ = "429"
      , J_ = "403"
      , ev = "401"
      , tv = "1045601"
      , nv = "1042902";
    function ov() {
        return !!chrome && !!chrome.tabs
    }
    const iv = gf(!1);
    function rv(e) {
        let t, n, o;
        return {
            c() {
                t = th("button"),
                t.innerHTML = '<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 13L13 1M1 1L13 13" stroke="#DA5E5C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',
                ch(t, "class", "dl-close-icon svelte-nsrzuc")
            },
            m(i, r) {
                Qg(i, t, r),
                n || (o = sh(t, "click", (function() {
                    Lg(e[0]) && e[0].apply(this, arguments)
                }
                )),
                n = !0)
            },
            p(t, n) {
                e = t
            },
            d(e) {
                e && Jg(t),
                n = !1,
                o()
            }
        }
    }
    function sv(e) {
        let t, n, o, i, r, s;
        const a = e[2].default
          , l = Og(a, e, e[1], null);
        let c = e[0] && rv(e);
        return {
            c() {
                t = th("div"),
                n = th("div"),
                n.innerHTML = '<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 12L10 10M10 10L12 8M10 10L8 8M10 10L12 12M19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10Z" stroke="#DA5E5C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',
                o = ih(),
                i = th("div"),
                l && l.c(),
                r = ih(),
                c && c.c(),
                ch(n, "class", "icon-container svelte-nsrzuc"),
                ch(i, "class", "message svelte-nsrzuc"),
                ch(t, "class", "error-msg svelte-nsrzuc")
            },
            m(e, a) {
                Qg(e, t, a),
                Kg(t, n),
                Kg(t, o),
                Kg(t, i),
                l && l.m(i, null),
                Kg(t, r),
                c && c.m(t, null),
                s = !0
            },
            p(e, [n]) {
                l && l.p && (!s || 2 & n) && Pg(l, a, e, e[1], s ? Dg(a, e[1], n, null) : Ug(e[1]), null),
                e[0] ? c ? c.p(e, n) : (c = rv(e),
                c.c(),
                c.m(t, null)) : c && (c.d(1),
                c = null)
            },
            i(e) {
                s || (Jh(l, e),
                s = !0)
            },
            o(e) {
                ef(l, e),
                s = !1
            },
            d(e) {
                e && Jg(t),
                l && l.d(e),
                c && c.d()
            }
        }
    }
    function av(e, t, n) {
        let {$$slots: o={}, $$scope: i} = t
          , {close: r} = t;
        return e.$$set = e => {
            "close"in e && n(0, r = e.close),
            "$$scope"in e && n(1, i = e.$$scope)
        }
        ,
        [r, i, o]
    }
    class lv extends pf {
        constructor(e) {
            super(),
            uf(this, e, av, sv, Ag, {
                close: 0
            })
        }
    }
    function cv(e) {
        let t, n, o;
        return {
            c() {
                t = th("button"),
                t.innerHTML = '<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 13L13 1M1 1L13 13" stroke="#ECBA82" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',
                ch(t, "class", "dl-close-icon svelte-kyufep")
            },
            m(i, r) {
                Qg(i, t, r),
                n || (o = sh(t, "click", (function() {
                    Lg(e[0]) && e[0].apply(this, arguments)
                }
                )),
                n = !0)
            },
            p(t, n) {
                e = t
            },
            d(e) {
                e && Jg(t),
                n = !1,
                o()
            }
        }
    }
    function dv(e) {
        let t, n, o, i, r, s;
        const a = e[2].default
          , l = Og(a, e, e[1], null);
        let c = e[0] && cv(e);
        return {
            c() {
                t = th("div"),
                n = th("div"),
                n.innerHTML = '<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 6V10M10 14H10.01M19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10Z" stroke="#ECBA82" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',
                o = ih(),
                i = th("div"),
                l && l.c(),
                r = ih(),
                c && c.c(),
                ch(n, "class", "icon-container svelte-kyufep"),
                ch(i, "class", "message svelte-kyufep"),
                ch(t, "class", "warn-msg svelte-kyufep")
            },
            m(e, a) {
                Qg(e, t, a),
                Kg(t, n),
                Kg(t, o),
                Kg(t, i),
                l && l.m(i, null),
                Kg(t, r),
                c && c.m(t, null),
                s = !0
            },
            p(e, [n]) {
                l && l.p && (!s || 2 & n) && Pg(l, a, e, e[1], s ? Dg(a, e[1], n, null) : Ug(e[1]), null),
                e[0] ? c ? c.p(e, n) : (c = cv(e),
                c.c(),
                c.m(t, null)) : c && (c.d(1),
                c = null)
            },
            i(e) {
                s || (Jh(l, e),
                s = !0)
            },
            o(e) {
                ef(l, e),
                s = !1
            },
            d(e) {
                e && Jg(t),
                l && l.d(e),
                c && c.d()
            }
        }
    }
    function uv(e, t, n) {
        let {$$slots: o={}, $$scope: i} = t
          , {close: r} = t;
        return e.$$set = e => {
            "close"in e && n(0, r = e.close),
            "$$scope"in e && n(1, i = e.$$scope)
        }
        ,
        [r, i, o]
    }
    class pv extends pf {
        constructor(e) {
            super(),
            uf(this, e, uv, dv, Ag, {
                close: 0
            })
        }
    }
    function mv(e) {
        let t;
        return {
            c() {
                t = th("span"),
                t.textContent = `${chrome.i18n.getMessage("error_message_generic_error")}`,
                ch(t, "data-qa", "error-message-generic")
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    class gv extends pf {
        constructor(e) {
            super(),
            uf(this, e, null, mv, Ag, {})
        }
    }
    function hv(e) {
        let t;
        return {
            c() {
                t = th("span"),
                t.textContent = `${chrome.i18n.getMessage("error_message_generic_write_error")}`,
                ch(t, "data-qa", "error-message-generic")
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    class fv extends pf {
        constructor(e) {
            super(),
            uf(this, e, null, hv, Ag, {})
        }
    }
    function _v(e) {
        let t;
        return {
            c() {
                t = th("span"),
                t.textContent = `${chrome.i18n.getMessage("error_message_internet_connection")}`
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    class vv extends pf {
        constructor(e) {
            super(),
            uf(this, e, null, _v, Ag, {})
        }
    }
    function yv(e) {
        let t;
        return {
            c() {
                t = th("span"),
                t.textContent = `${chrome.i18n.getMessage("full_page_translation_error_service_not_available")}`
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    class wv extends pf {
        constructor(e) {
            super(),
            uf(this, e, null, yv, Ag, {})
        }
    }
    const bv = "DOCS_GOOGLE_COM_FEEDBACK_FORM"
      , Ev = "NEW_FEEDBACK_FORM"
      , Tv = "DEEPL_COM_PRO"
      , Sv = "DEEPL_COM_PRO_WRITE"
      , xv = "DEEPL_COM_TRANSLATOR"
      , $v = "DEEPL_COM_HOMEPAGE"
      , Cv = "DEEPL_COM_WRITE"
      , kv = "SHORTCUT_SETTINGS"
      , Iv = "CHROME_WRITE_A_REVIEW"
      , Lv = "EDGE_WRITE_A_REVIEW"
      , Av = "GMAIL_FEEDBACK_SURVEY"
      , Rv = "GSLIDES_FEEDBACK_SURVEY"
      , Mv = "FIREFOX_WRITE_A_REVIEW"
      , Ov = "DEEPL_SUPPORT"
      , Nv = "FIREFOX_FEEDBACK_SURVEY"
      , Dv = "CUSTOMER_SEGMENTATION_SURVEY_FREE"
      , Pv = "CUSTOMER_SEGMENTATION_SURVEY_PRO"
      , Uv = "ARABIC_SURVEY"
      , Bv = "ADDINS_ADS";
    function Wv(e) {
        let t, n, o, i, r, s;
        return {
            c() {
                t = th("div"),
                n = th("div"),
                n.textContent = `${chrome.i18n.getMessage("warning_message_different_subscription_needed")}`,
                o = ih(),
                i = th("div"),
                i.textContent = `${chrome.i18n.getMessage("link_get_pro_license")}`,
                ch(i, "class", "link svelte-1mpkjv7"),
                ch(t, "class", "container svelte-1mpkjv7")
            },
            m(a, l) {
                Qg(a, t, l),
                Kg(t, n),
                Kg(t, o),
                Kg(t, i),
                r || (s = sh(i, "click", e[0]),
                r = !0)
            },
            p: xg,
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                r = !1,
                s()
            }
        }
    }
    function Fv(e) {
        return [function() {
            t({
                action: "dlExternalURLRedirect",
                payload: {
                    destination: Tv,
                    utmContent: "warning_user_unauthorised"
                }
            })
        }
        ]
    }
    class zv extends pf {
        constructor(e) {
            super(),
            uf(this, e, Fv, Wv, Ag, {})
        }
    }
    function Hv(e) {
        let t, n, o, i, r, s;
        return {
            c() {
                t = th("div"),
                n = th("div"),
                n.textContent = `${chrome.i18n.getMessage("warning_message_free_usage_limit_reached")}`,
                o = ih(),
                i = th("div"),
                i.textContent = `${chrome.i18n.getMessage("link_try_deepl")}`,
                ch(i, "class", "link svelte-1mpkjv7"),
                ch(t, "class", "container svelte-1mpkjv7")
            },
            m(a, l) {
                Qg(a, t, l),
                Kg(t, n),
                Kg(t, o),
                Kg(t, i),
                r || (s = sh(i, "click", e[0]),
                r = !0)
            },
            p: xg,
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                r = !1,
                s()
            }
        }
    }
    function jv(e) {
        return [function() {
            t({
                action: "dlExternalURLRedirect",
                payload: {
                    destination: Tv,
                    utmContent: "warning_user_blocked"
                }
            })
        }
        ]
    }
    class Gv extends pf {
        constructor(e) {
            super(),
            uf(this, e, jv, Hv, Ag, {})
        }
    }
    function qv(e) {
        let t;
        return {
            c() {
                t = th("span"),
                t.textContent = `${chrome.i18n.getMessage("error_message_please_login")}`
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    class Vv extends pf {
        constructor(e) {
            super(),
            uf(this, e, null, qv, Ag, {})
        }
    }
    function Yv(e, t, n) {
        const o = e.slice();
        return o[1] = t[n],
        o
    }
    function Kv(e) {
        let t, n = e[1].text + "";
        return {
            c() {
                t = oh(n)
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function Zv(e) {
        let t, n, o;
        return {
            c() {
                t = th("span"),
                t.textContent = `${e[1].text} `,
                ch(t, "class", "link svelte-1mpkjv7")
            },
            m(i, r) {
                Qg(i, t, r),
                n || (o = sh(t, "click", e[0]),
                n = !0)
            },
            p: xg,
            d(e) {
                e && Jg(t),
                n = !1,
                o()
            }
        }
    }
    function Xv(e) {
        let t;
        let n = function(e, t) {
            return "deeplSupportLink" === e[1].block ? Zv : Kv
        }(e)
          , o = n(e);
        return {
            c() {
                o.c(),
                t = rh()
            },
            m(e, n) {
                o.m(e, n),
                Qg(e, t, n)
            },
            p(e, t) {
                o.p(e, t)
            },
            d(e) {
                e && Jg(t),
                o.d(e)
            }
        }
    }
    function Qv(e) {
        let t, n = sf(Jf(chrome.i18n.getMessage("warning_message_account_limit_reached"), ["deeplSupportLink"])), o = [];
        for (let t = 0; t < n.length; t += 1)
            o[t] = Xv(Yv(e, n, t));
        return {
            c() {
                t = th("div");
                for (let e = 0; e < o.length; e += 1)
                    o[e].c();
                ch(t, "class", "container svelte-1mpkjv7")
            },
            m(e, n) {
                Qg(e, t, n);
                for (let e = 0; e < o.length; e += 1)
                    o[e] && o[e].m(t, null)
            },
            p(e, [i]) {
                if (1 & i) {
                    let r;
                    for (n = sf(Jf(chrome.i18n.getMessage("warning_message_account_limit_reached"), ["deeplSupportLink"])),
                    r = 0; r < n.length; r += 1) {
                        const s = Yv(e, n, r);
                        o[r] ? o[r].p(s, i) : (o[r] = Xv(s),
                        o[r].c(),
                        o[r].m(t, null))
                    }
                    for (; r < o.length; r += 1)
                        o[r].d(1);
                    o.length = n.length
                }
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                eh(o, e)
            }
        }
    }
    function Jv(e) {
        return [function() {
            t({
                action: "dlExternalURLRedirect",
                payload: {
                    destination: Ov
                }
            })
        }
        ]
    }
    class ey extends pf {
        constructor(e) {
            super(),
            uf(this, e, Jv, Qv, Ag, {})
        }
    }
    function ty(e) {
        let t;
        return {
            c() {
                t = th("span"),
                t.textContent = `${chrome.i18n.getMessage("error_message_technical_issue")}`
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    class ny extends pf {
        constructor(e) {
            super(),
            uf(this, e, null, ty, Ag, {})
        }
    }
    function oy(e) {
        let t;
        return {
            c() {
                t = th("span"),
                t.textContent = `${chrome.i18n.getMessage("error_message_session_expired")}`
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    class iy extends pf {
        constructor(e) {
            super(),
            uf(this, e, null, oy, Ag, {})
        }
    }
    function ry(e) {
        let t;
        return {
            c() {
                t = th("span"),
                t.textContent = `${chrome.i18n.getMessage("full_page_translation_error_exceeds_char_limit")}`
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    class sy extends pf {
        constructor(e) {
            super(),
            uf(this, e, null, ry, Ag, {})
        }
    }
    function ay(e, t, n) {
        const o = e.slice();
        return o[5] = t[n],
        o
    }
    function ly(e) {
        let t, n = e[5].text + "";
        return {
            c() {
                t = oh(n)
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p(e, o) {
                4 & o && n !== (n = e[5].text + "") && dh(t, n)
            },
            d(e) {
                e && Jg(t)
            }
        }
    }
    function cy(e) {
        let t, n, o = e[5].text + "";
        return {
            c() {
                t = th("strong"),
                n = oh(o)
            },
            m(e, o) {
                Qg(e, t, o),
                Kg(t, n)
            },
            p(e, t) {
                4 & t && o !== (o = e[5].text + "") && dh(n, o)
            },
            d(e) {
                e && Jg(t)
            }
        }
    }
    function dy(e) {
        let t;
        function n(e, t) {
            return "strong" === e[5].block ? cy : ly
        }
        let o = n(e)
          , i = o(e);
        return {
            c() {
                i.c(),
                t = rh()
            },
            m(e, n) {
                i.m(e, n),
                Qg(e, t, n)
            },
            p(e, r) {
                o === (o = n(e)) && i ? i.p(e, r) : (i.d(1),
                i = o(e),
                i && (i.c(),
                i.m(t.parentNode, t)))
            },
            d(e) {
                e && Jg(t),
                i.d(e)
            }
        }
    }
    function uy(e) {
        let t, n, o, i;
        return {
            c() {
                t = nh("svg"),
                n = nh("path"),
                ch(n, "d", "M4 12L12 4M4 4L12 12"),
                ch(n, "stroke", "white"),
                ch(n, "stroke-width", "1.5"),
                ch(n, "stroke-linecap", "round"),
                ch(n, "stroke-linejoin", "round"),
                ch(t, "width", "16"),
                ch(t, "height", "16"),
                ch(t, "viewBox", "0 0 16 16"),
                ch(t, "fill", "none"),
                ch(t, "xmlns", "http://www.w3.org/2000/svg"),
                ch(t, "class", "svelte-1mvy8b2")
            },
            m(r, s) {
                Qg(r, t, s),
                Kg(t, n),
                o || (i = sh(t, "click", (function() {
                    Lg(e[1]) && e[1].apply(this, arguments)
                }
                )),
                o = !0)
            },
            p(t, n) {
                e = t
            },
            d(e) {
                e && Jg(t),
                o = !1,
                i()
            }
        }
    }
    function py(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m, g = sf(Jf(chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_description", e[2]), ["strong"])), h = [];
        for (let t = 0; t < g.length; t += 1)
            h[t] = dy(ay(e, g, t));
        let f = e[1] && uy(e);
        return {
            c() {
                t = th("div"),
                n = th("div"),
                o = th("h1"),
                o.textContent = `${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_headline")}`,
                i = ih(),
                r = th("p");
                for (let e = 0; e < h.length; e += 1)
                    h[e].c();
                s = ih(),
                a = th("div"),
                l = th("button"),
                l.textContent = `${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_login_button")}`,
                c = ih(),
                d = th("button"),
                d.textContent = `${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_signup_button")}`,
                u = ih(),
                f && f.c(),
                ch(o, "class", "svelte-1mvy8b2"),
                ch(r, "class", "description svelte-1mvy8b2"),
                ch(n, "class", "messages svelte-1mvy8b2"),
                fh(n, "small", e[0].small),
                ch(l, "class", "log-in svelte-1mvy8b2"),
                ch(d, "class", "sign-up svelte-1mvy8b2"),
                ch(a, "class", "actions svelte-1mvy8b2"),
                fh(a, "small", e[0].small),
                ch(t, "class", "container svelte-1mvy8b2"),
                ch(t, "data-testid", "error-message-anonymous-limit-exceeded"),
                fh(t, "small", e[0].small)
            },
            m(g, _) {
                Qg(g, t, _),
                Kg(t, n),
                Kg(n, o),
                Kg(n, i),
                Kg(n, r);
                for (let e = 0; e < h.length; e += 1)
                    h[e] && h[e].m(r, null);
                Kg(t, s),
                Kg(t, a),
                Kg(a, l),
                Kg(a, c),
                Kg(a, d),
                Kg(t, u),
                f && f.m(t, null),
                p || (m = [sh(l, "click", e[3]), sh(d, "click", e[4])],
                p = !0)
            },
            p(e, [o]) {
                if (4 & o) {
                    let t;
                    for (g = sf(Jf(chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_description", e[2]), ["strong"])),
                    t = 0; t < g.length; t += 1) {
                        const n = ay(e, g, t);
                        h[t] ? h[t].p(n, o) : (h[t] = dy(n),
                        h[t].c(),
                        h[t].m(r, null))
                    }
                    for (; t < h.length; t += 1)
                        h[t].d(1);
                    h.length = g.length
                }
                1 & o && fh(n, "small", e[0].small),
                1 & o && fh(a, "small", e[0].small),
                e[1] ? f ? f.p(e, o) : (f = uy(e),
                f.c(),
                f.m(t, null)) : f && (f.d(1),
                f = null),
                1 & o && fh(t, "small", e[0].small)
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                eh(h, e),
                f && f.d(),
                p = !1,
                Ig(m)
            }
        }
    }
    function my(e, n, o) {
        let {config: i} = n
          , {close: r} = n
          , s = "";
        return Ch(( () => {
            t({
                action: "dlGetUsersCharacterLimit"
            }).then((e => o(2, s = e.toString()))),
            t({
                action: "dlTrackUpgradeNotificationIsDisplayed",
                payload: {
                    type: Be
                }
            })
        }
        )),
        kh(( () => {
            t({
                action: "dlTrackUpgradeNotificationClosed",
                payload: {
                    type: Be
                }
            })
        }
        )),
        e.$$set = e => {
            "config"in e && o(0, i = e.config),
            "close"in e && o(1, r = e.close)
        }
        ,
        [i, r, s, function() {
            t({
                action: "dlRequestLogin"
            }).then(( () => {}
            )).catch((e => {
                console.log(e)
            }
            )),
            t({
                action: "dlTrackUpgradeNotificationAction",
                payload: {
                    type: Be,
                    cta: je
                }
            })
        }
        , function() {
            t({
                action: "dlExternalURLRedirect",
                payload: {
                    destination: Tv,
                    utmContent: "notification_anonymous_user_limit_exceeded"
                }
            }),
            t({
                action: "dlTrackUpgradeNotificationAction",
                payload: {
                    type: Be,
                    cta: Ge
                }
            })
        }
        ]
    }
    class gy extends pf {
        constructor(e) {
            super(),
            uf(this, e, my, py, Ag, {
                config: 0,
                close: 1
            })
        }
    }
    function hy(e, t, n) {
        const o = e.slice();
        return o[4] = t[n],
        o
    }
    function fy(e) {
        let t, n = e[4].text + "";
        return {
            c() {
                t = oh(n)
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p(e, o) {
                4 & o && n !== (n = e[4].text + "") && dh(t, n)
            },
            d(e) {
                e && Jg(t)
            }
        }
    }
    function _y(e) {
        let t, n, o = e[4].text + "";
        return {
            c() {
                t = th("strong"),
                n = oh(o)
            },
            m(e, o) {
                Qg(e, t, o),
                Kg(t, n)
            },
            p(e, t) {
                4 & t && o !== (o = e[4].text + "") && dh(n, o)
            },
            d(e) {
                e && Jg(t)
            }
        }
    }
    function vy(e) {
        let t;
        function n(e, t) {
            return "strong" === e[4].block ? _y : fy
        }
        let o = n(e)
          , i = o(e);
        return {
            c() {
                i.c(),
                t = rh()
            },
            m(e, n) {
                i.m(e, n),
                Qg(e, t, n)
            },
            p(e, r) {
                o === (o = n(e)) && i ? i.p(e, r) : (i.d(1),
                i = o(e),
                i && (i.c(),
                i.m(t.parentNode, t)))
            },
            d(e) {
                e && Jg(t),
                i.d(e)
            }
        }
    }
    function yy(e) {
        let t, n, o, i;
        return {
            c() {
                t = nh("svg"),
                n = nh("path"),
                ch(n, "d", "M4 12L12 4M4 4L12 12"),
                ch(n, "stroke", "white"),
                ch(n, "stroke-width", "1.5"),
                ch(n, "stroke-linecap", "round"),
                ch(n, "stroke-linejoin", "round"),
                ch(t, "width", "16"),
                ch(t, "height", "16"),
                ch(t, "viewBox", "0 0 16 16"),
                ch(t, "fill", "none"),
                ch(t, "xmlns", "http://www.w3.org/2000/svg"),
                ch(t, "class", "svelte-1i5r4eu")
            },
            m(r, s) {
                Qg(r, t, s),
                Kg(t, n),
                o || (i = sh(t, "click", (function() {
                    Lg(e[1]) && e[1].apply(this, arguments)
                }
                )),
                o = !0)
            },
            p(t, n) {
                e = t
            },
            d(e) {
                e && Jg(t),
                o = !1,
                i()
            }
        }
    }
    function wy(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p = sf(Jf(chrome.i18n.getMessage("notification_free_account_limit_exceeded_description", e[2]), ["strong"])), m = [];
        for (let t = 0; t < p.length; t += 1)
            m[t] = vy(hy(e, p, t));
        let g = e[1] && yy(e);
        return {
            c() {
                t = th("div"),
                n = th("div"),
                o = th("h1"),
                o.textContent = `${chrome.i18n.getMessage("notification_free_account_limit_exceeded_headline")}`,
                i = ih(),
                r = th("p");
                for (let e = 0; e < m.length; e += 1)
                    m[e].c();
                s = ih(),
                a = th("div"),
                l = th("button"),
                l.textContent = `${chrome.i18n.getMessage("notification_free_account_limit_exceeded_signup_button")}`,
                c = ih(),
                g && g.c(),
                ch(o, "class", "svelte-1i5r4eu"),
                ch(r, "class", "description svelte-1i5r4eu"),
                ch(n, "class", "messages svelte-1i5r4eu"),
                fh(n, "small", e[0].small),
                ch(l, "class", "sign-up svelte-1i5r4eu"),
                ch(a, "class", "actions svelte-1i5r4eu"),
                fh(a, "small", e[0].small),
                ch(t, "class", "container svelte-1i5r4eu"),
                ch(t, "data-testid", "error-message-limit-exceeded-free-account"),
                fh(t, "small", e[0].small)
            },
            m(p, h) {
                Qg(p, t, h),
                Kg(t, n),
                Kg(n, o),
                Kg(n, i),
                Kg(n, r);
                for (let e = 0; e < m.length; e += 1)
                    m[e] && m[e].m(r, null);
                Kg(t, s),
                Kg(t, a),
                Kg(a, l),
                Kg(t, c),
                g && g.m(t, null),
                d || (u = sh(l, "click", e[3]),
                d = !0)
            },
            p(e, [o]) {
                if (4 & o) {
                    let t;
                    for (p = sf(Jf(chrome.i18n.getMessage("notification_free_account_limit_exceeded_description", e[2]), ["strong"])),
                    t = 0; t < p.length; t += 1) {
                        const n = hy(e, p, t);
                        m[t] ? m[t].p(n, o) : (m[t] = vy(n),
                        m[t].c(),
                        m[t].m(r, null))
                    }
                    for (; t < m.length; t += 1)
                        m[t].d(1);
                    m.length = p.length
                }
                1 & o && fh(n, "small", e[0].small),
                1 & o && fh(a, "small", e[0].small),
                e[1] ? g ? g.p(e, o) : (g = yy(e),
                g.c(),
                g.m(t, null)) : g && (g.d(1),
                g = null),
                1 & o && fh(t, "small", e[0].small)
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                eh(m, e),
                g && g.d(),
                d = !1,
                u()
            }
        }
    }
    function by(e, n, o) {
        let {config: i} = n
          , {close: r} = n
          , s = "";
        return Ch(( () => {
            t({
                action: "dlGetUsersCharacterLimit"
            }).then((e => o(2, s = e.toString()))),
            t({
                action: "dlTrackUpgradeNotificationIsDisplayed",
                payload: {
                    type: We
                }
            })
        }
        )),
        kh(( () => {
            t({
                action: "dlTrackUpgradeNotificationClosed",
                payload: {
                    type: We
                }
            })
        }
        )),
        e.$$set = e => {
            "config"in e && o(0, i = e.config),
            "close"in e && o(1, r = e.close)
        }
        ,
        [i, r, s, function() {
            t({
                action: "dlExternalURLRedirect",
                payload: {
                    destination: Tv,
                    utmContent: "notification_free_account_limit_exceeded"
                }
            }),
            t({
                action: "dlTrackUpgradeNotificationAction",
                payload: {
                    type: We,
                    cta: He
                }
            })
        }
        ]
    }
    class Ey extends pf {
        constructor(e) {
            super(),
            uf(this, e, by, wy, Ag, {
                config: 0,
                close: 1
            })
        }
    }
    function Ty(e) {
        let t, n, o, i;
        return {
            c() {
                t = nh("svg"),
                n = nh("path"),
                ch(n, "d", "M4 12L12 4M4 4L12 12"),
                ch(n, "stroke", "white"),
                ch(n, "stroke-width", "1.5"),
                ch(n, "stroke-linecap", "round"),
                ch(n, "stroke-linejoin", "round"),
                ch(t, "width", "16"),
                ch(t, "height", "16"),
                ch(t, "viewBox", "0 0 16 16"),
                ch(t, "fill", "none"),
                ch(t, "xmlns", "http://www.w3.org/2000/svg"),
                ch(t, "class", "svelte-1uko7yn")
            },
            m(r, s) {
                Qg(r, t, s),
                Kg(t, n),
                o || (i = sh(t, "click", (function() {
                    Lg(e[1]) && e[1].apply(this, arguments)
                }
                )),
                o = !0)
            },
            p(t, n) {
                e = t
            },
            d(e) {
                e && Jg(t),
                o = !1,
                i()
            }
        }
    }
    function Sy(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p = chrome.i18n.getMessage("limit_popup_translator_subscribe_to_paid_body") + "", m = e[1] && Ty(e);
        return {
            c() {
                t = th("div"),
                n = th("div"),
                o = th("h1"),
                o.textContent = `${chrome.i18n.getMessage("limit_popup_translator_free_title")}`,
                i = ih(),
                r = th("p"),
                s = ih(),
                a = th("div"),
                l = th("button"),
                l.textContent = `${chrome.i18n.getMessage("limit_popup_upgrade_translator_cta")}`,
                c = ih(),
                m && m.c(),
                ch(o, "class", "svelte-1uko7yn"),
                ch(r, "class", "description svelte-1uko7yn"),
                ch(n, "class", "messages small svelte-1uko7yn"),
                fh(n, "small", e[0].small),
                ch(l, "class", "sign-up svelte-1uko7yn"),
                ch(a, "class", "actions svelte-1uko7yn"),
                fh(a, "small", e[0].small),
                ch(t, "class", "container svelte-1uko7yn"),
                ch(t, "data-testid", "error-message-limit-exceeded-translator-free-write-pro"),
                fh(t, "small", e[0].small)
            },
            m(g, h) {
                Qg(g, t, h),
                Kg(t, n),
                Kg(n, o),
                Kg(n, i),
                Kg(n, r),
                r.innerHTML = p,
                Kg(t, s),
                Kg(t, a),
                Kg(a, l),
                Kg(t, c),
                m && m.m(t, null),
                d || (u = sh(l, "click", e[2]),
                d = !0)
            },
            p(e, [o]) {
                1 & o && fh(n, "small", e[0].small),
                1 & o && fh(a, "small", e[0].small),
                e[1] ? m ? m.p(e, o) : (m = Ty(e),
                m.c(),
                m.m(t, null)) : m && (m.d(1),
                m = null),
                1 & o && fh(t, "small", e[0].small)
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                m && m.d(),
                d = !1,
                u()
            }
        }
    }
    function xy(e, n, o) {
        let {config: i} = n
          , {close: r} = n;
        return Ch(( () => {
            t({
                action: "dlTrackUpgradeNotificationIsDisplayed",
                payload: {
                    type: We
                }
            })
        }
        )),
        kh(( () => {
            t({
                action: "dlTrackUpgradeNotificationClosed",
                payload: {
                    type: We
                }
            })
        }
        )),
        e.$$set = e => {
            "config"in e && o(0, i = e.config),
            "close"in e && o(1, r = e.close)
        }
        ,
        [i, r, function() {
            t({
                action: "dlExternalURLRedirect",
                payload: {
                    destination: Tv,
                    utmContent: "notification_translator_limit_exceeded_with_write_pro"
                }
            }),
            t({
                action: "dlTrackUpgradeNotificationAction",
                payload: {
                    type: We,
                    cta: He
                }
            })
        }
        ]
    }
    class $y extends pf {
        constructor(e) {
            super(),
            uf(this, e, xy, Sy, Ag, {
                config: 0,
                close: 1
            })
        }
    }
    function Cy(e) {
        let t, n, o;
        return {
            c() {
                t = th("button"),
                t.textContent = `${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_login_button")}`,
                ch(t, "class", "log-in svelte-1tmoo4x")
            },
            m(i, r) {
                Qg(i, t, r),
                n || (o = sh(t, "click", e[4]),
                n = !0)
            },
            p: xg,
            d(e) {
                e && Jg(t),
                n = !1,
                o()
            }
        }
    }
    function ky(e) {
        let t, n, o, i;
        return {
            c() {
                t = nh("svg"),
                n = nh("path"),
                ch(n, "d", "M4 12L12 4M4 4L12 12"),
                ch(n, "stroke", "white"),
                ch(n, "stroke-width", "1.5"),
                ch(n, "stroke-linecap", "round"),
                ch(n, "stroke-linejoin", "round"),
                ch(t, "width", "16"),
                ch(t, "height", "16"),
                ch(t, "viewBox", "0 0 16 16"),
                ch(t, "fill", "none"),
                ch(t, "xmlns", "http://www.w3.org/2000/svg"),
                ch(t, "class", "svelte-1tmoo4x")
            },
            m(r, s) {
                Qg(r, t, s),
                Kg(t, n),
                o || (i = sh(t, "click", (function() {
                    Lg(e[1]) && e[1].apply(this, arguments)
                }
                )),
                o = !0)
            },
            p(t, n) {
                e = t
            },
            d(e) {
                e && Jg(t),
                o = !1,
                i()
            }
        }
    }
    function Iy(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m = chrome.i18n.getMessage("limit_popup_write_anon_free_body") + "", g = !e[2] && Cy(e), h = e[1] && ky(e);
        return {
            c() {
                t = th("div"),
                n = th("div"),
                o = th("h1"),
                o.textContent = `${chrome.i18n.getMessage("limit_popup_write_title")}`,
                i = ih(),
                r = th("p"),
                s = ih(),
                a = th("div"),
                g && g.c(),
                l = ih(),
                c = th("button"),
                c.textContent = `${chrome.i18n.getMessage("limit_popup_try_for_free_cta")}`,
                d = ih(),
                h && h.c(),
                ch(o, "class", "svelte-1tmoo4x"),
                ch(r, "class", "description svelte-1tmoo4x"),
                ch(n, "class", "messages svelte-1tmoo4x"),
                fh(n, "small", e[0].small),
                ch(c, "class", "sign-up svelte-1tmoo4x"),
                ch(a, "class", "actions svelte-1tmoo4x"),
                fh(a, "small", e[0].small),
                ch(t, "class", "container svelte-1tmoo4x"),
                ch(t, "data-testid", "error-message-limit-exceeded-translator-free-write-anon-or-free"),
                fh(t, "small", e[0].small)
            },
            m(f, _) {
                Qg(f, t, _),
                Kg(t, n),
                Kg(n, o),
                Kg(n, i),
                Kg(n, r),
                r.innerHTML = m,
                Kg(t, s),
                Kg(t, a),
                g && g.m(a, null),
                Kg(a, l),
                Kg(a, c),
                Kg(t, d),
                h && h.m(t, null),
                u || (p = sh(c, "click", e[3]),
                u = !0)
            },
            p(e, [o]) {
                1 & o && fh(n, "small", e[0].small),
                e[2] ? g && (g.d(1),
                g = null) : g ? g.p(e, o) : (g = Cy(e),
                g.c(),
                g.m(a, l)),
                1 & o && fh(a, "small", e[0].small),
                e[1] ? h ? h.p(e, o) : (h = ky(e),
                h.c(),
                h.m(t, null)) : h && (h.d(1),
                h = null),
                1 & o && fh(t, "small", e[0].small)
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                g && g.d(),
                h && h.d(),
                u = !1,
                p()
            }
        }
    }
    function Ly(e, n, o) {
        let i, r;
        Mg(e, hf, (e => o(5, r = e)));
        let {config: s} = n
          , {close: a} = n;
        return Ch(( () => {
            t({
                action: "dlTrackUpgradeNotificationIsDisplayed",
                payload: {
                    type: i ? ze : Fe
                }
            })
        }
        )),
        kh(( () => {
            t({
                action: "dlTrackUpgradeNotificationClosed",
                payload: {
                    type: i ? ze : Fe
                }
            })
        }
        )),
        e.$$set = e => {
            "config"in e && o(0, s = e.config),
            "close"in e && o(1, a = e.close)
        }
        ,
        e.$$.update = () => {
            32 & e.$$.dirty && o(2, i = at(r))
        }
        ,
        [s, a, i, function() {
            let e = "notification_free_account_limit_exceeded_write";
            if (s && s.nicheIntegration)
                switch (s.nicheIntegration) {
                case re.gmail:
                    e = "gmail_customization_write";
                    break;
                case re.gslides:
                    e = "gslides_customization_write"
                }
            t({
                action: "dlExternalURLRedirect",
                payload: {
                    destination: Sv,
                    utmContent: e
                }
            }),
            t({
                action: "dlTrackUpgradeNotificationAction",
                payload: {
                    type: i ? ze : Fe,
                    cta: He
                }
            })
        }
        , function() {
            t({
                action: "dlRequestLogin"
            }).then(( () => {}
            )).catch((e => {
                console.log(e)
            }
            )),
            t({
                action: "dlTrackUpgradeNotificationAction",
                payload: {
                    type: i ? ze : Fe,
                    cta: je
                }
            })
        }
        , r]
    }
    class Ay extends pf {
        constructor(e) {
            super(),
            uf(this, e, Ly, Iy, Ag, {
                config: 0,
                close: 1
            })
        }
    }
    function Ry(e) {
        let t, n, o, i;
        return {
            c() {
                t = nh("svg"),
                n = nh("path"),
                ch(n, "d", "M4 12L12 4M4 4L12 12"),
                ch(n, "stroke", "white"),
                ch(n, "stroke-width", "1.5"),
                ch(n, "stroke-linecap", "round"),
                ch(n, "stroke-linejoin", "round"),
                ch(t, "width", "16"),
                ch(t, "height", "16"),
                ch(t, "viewBox", "0 0 16 16"),
                ch(t, "fill", "none"),
                ch(t, "xmlns", "http://www.w3.org/2000/svg"),
                ch(t, "class", "svelte-1i5r4eu")
            },
            m(r, s) {
                Qg(r, t, s),
                Kg(t, n),
                o || (i = sh(t, "click", (function() {
                    Lg(e[1]) && e[1].apply(this, arguments)
                }
                )),
                o = !0)
            },
            p(t, n) {
                e = t
            },
            d(e) {
                e && Jg(t),
                o = !1,
                i()
            }
        }
    }
    function My(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p = chrome.i18n.getMessage("limit_popup_write_anon_free_body") + "", m = e[1] && Ry(e);
        return {
            c() {
                t = th("div"),
                n = th("div"),
                o = th("h1"),
                o.textContent = `${chrome.i18n.getMessage("limit_popup_write_title")}`,
                i = ih(),
                r = th("p"),
                s = ih(),
                a = th("div"),
                l = th("button"),
                l.textContent = `${chrome.i18n.getMessage("limit_popup_upgrade_write_cta")}`,
                c = ih(),
                m && m.c(),
                ch(o, "class", "svelte-1i5r4eu"),
                ch(r, "class", "description svelte-1i5r4eu"),
                ch(n, "class", "messages svelte-1i5r4eu"),
                fh(n, "small", e[0].small),
                ch(l, "class", "sign-up svelte-1i5r4eu"),
                ch(a, "class", "actions svelte-1i5r4eu"),
                fh(a, "small", e[0].small),
                ch(t, "class", "container svelte-1i5r4eu"),
                ch(t, "data-testid", "error-message-limit-exceeded-translator-pro-write-anon-or-free"),
                fh(t, "small", e[0].small)
            },
            m(g, h) {
                Qg(g, t, h),
                Kg(t, n),
                Kg(n, o),
                Kg(n, i),
                Kg(n, r),
                r.innerHTML = p,
                Kg(t, s),
                Kg(t, a),
                Kg(a, l),
                Kg(t, c),
                m && m.m(t, null),
                d || (u = sh(l, "click", e[2]),
                d = !0)
            },
            p(e, [o]) {
                1 & o && fh(n, "small", e[0].small),
                1 & o && fh(a, "small", e[0].small),
                e[1] ? m ? m.p(e, o) : (m = Ry(e),
                m.c(),
                m.m(t, null)) : m && (m.d(1),
                m = null),
                1 & o && fh(t, "small", e[0].small)
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                m && m.d(),
                d = !1,
                u()
            }
        }
    }
    function Oy(e, n, o) {
        let i, r;
        Mg(e, hf, (e => o(3, r = e)));
        let {config: s} = n
          , {close: a} = n;
        return Ch(( () => {
            t({
                action: "dlTrackUpgradeNotificationIsDisplayed",
                payload: {
                    type: i ? ze : Fe
                }
            })
        }
        )),
        kh(( () => {
            t({
                action: "dlTrackUpgradeNotificationClosed",
                payload: {
                    type: i ? ze : Fe
                }
            })
        }
        )),
        e.$$set = e => {
            "config"in e && o(0, s = e.config),
            "close"in e && o(1, a = e.close)
        }
        ,
        e.$$.update = () => {
            8 & e.$$.dirty && (i = at(r))
        }
        ,
        [s, a, function() {
            let e = "notification_write_limit_exceeded_with_translator_pro";
            if (s && s.nicheIntegration)
                switch (s.nicheIntegration) {
                case re.gmail:
                    e = "gmail_customization_write";
                    break;
                case re.gslides:
                    e = "gslides_customization_write"
                }
            t({
                action: "dlExternalURLRedirect",
                payload: {
                    destination: Sv,
                    utmContent: e
                }
            }),
            t({
                action: "dlTrackUpgradeNotificationAction",
                payload: {
                    type: i ? ze : Fe,
                    cta: He
                }
            })
        }
        , r]
    }
    class Ny extends pf {
        constructor(e) {
            super(),
            uf(this, e, Oy, My, Ag, {
                config: 0,
                close: 1
            })
        }
    }
    function Dy(e) {
        let t;
        return {
            c() {
                t = th("span"),
                t.textContent = `${chrome.i18n.getMessage("write_language_not_supported")}`,
                ch(t, "data-qa", "error-message-write-language-not-supported")
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    class Py extends pf {
        constructor(e) {
            super(),
            uf(this, e, null, Dy, Ag, {})
        }
    }
    function Uy(e) {
        let t;
        return {
            c() {
                t = th("span"),
                t.textContent = `${chrome.i18n.getMessage("translate_language_not_supported")}`,
                ch(t, "data-qa", "error-message-translate-language-not-supported")
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    class By extends pf {
        constructor(e) {
            super(),
            uf(this, e, null, Uy, Ag, {})
        }
    }
    function Wy(e) {
        let t, n, o, i;
        return {
            c() {
                t = nh("svg"),
                n = nh("path"),
                ch(n, "d", "M4 12L12 4M4 4L12 12"),
                ch(n, "stroke", "white"),
                ch(n, "stroke-width", "1.5"),
                ch(n, "stroke-linecap", "round"),
                ch(n, "stroke-linejoin", "round"),
                ch(t, "width", "16"),
                ch(t, "height", "16"),
                ch(t, "viewBox", "0 0 16 16"),
                ch(t, "fill", "none"),
                ch(t, "xmlns", "http://www.w3.org/2000/svg"),
                ch(t, "class", "svelte-1mvy8b2")
            },
            m(r, s) {
                Qg(r, t, s),
                Kg(t, n),
                o || (i = sh(t, "click", (function() {
                    Lg(e[1]) && e[1].apply(this, arguments)
                }
                )),
                o = !0)
            },
            p(t, n) {
                e = t
            },
            d(e) {
                e && Jg(t),
                o = !1,
                i()
            }
        }
    }
    function Fy(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p = e[1] && Wy(e);
        return {
            c() {
                t = th("div"),
                n = th("div"),
                o = th("h1"),
                o.textContent = `${chrome.i18n.getMessage("policy_login_prompt_title")}`,
                i = ih(),
                r = th("p"),
                r.textContent = `${chrome.i18n.getMessage("policy_login_prompt_description")}`,
                s = ih(),
                a = th("div"),
                l = th("button"),
                l.textContent = `${chrome.i18n.getMessage("limit_popup_login_cta")}`,
                c = ih(),
                p && p.c(),
                ch(o, "class", "svelte-1mvy8b2"),
                ch(r, "class", "description svelte-1mvy8b2"),
                ch(n, "class", "messages svelte-1mvy8b2"),
                fh(n, "small", e[0].small),
                ch(l, "class", "sign-up svelte-1mvy8b2"),
                ch(a, "class", "actions svelte-1mvy8b2"),
                fh(a, "small", e[0].small),
                ch(t, "class", "container svelte-1mvy8b2"),
                ch(t, "data-testid", "error-message-policy-login-required"),
                fh(t, "small", e[0].small)
            },
            m(m, g) {
                Qg(m, t, g),
                Kg(t, n),
                Kg(n, o),
                Kg(n, i),
                Kg(n, r),
                Kg(t, s),
                Kg(t, a),
                Kg(a, l),
                Kg(t, c),
                p && p.m(t, null),
                d || (u = sh(l, "click", e[2]),
                d = !0)
            },
            p(e, [o]) {
                1 & o && fh(n, "small", e[0].small),
                1 & o && fh(a, "small", e[0].small),
                e[1] ? p ? p.p(e, o) : (p = Wy(e),
                p.c(),
                p.m(t, null)) : p && (p.d(1),
                p = null),
                1 & o && fh(t, "small", e[0].small)
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                p && p.d(),
                d = !1,
                u()
            }
        }
    }
    function zy(e, n, o) {
        let {config: i} = n
          , {close: r} = n;
        return Ch(( () => {
            t({
                action: "dlTrackPolicyLoginRequiredNotification",
                payload: {
                    notificationType: U.requireLoginPolicy
                }
            })
        }
        )),
        e.$$set = e => {
            "config"in e && o(0, i = e.config),
            "close"in e && o(1, r = e.close)
        }
        ,
        [i, r, function() {
            t({
                action: "dlRequestLogin"
            }).then(( () => {}
            )).catch((e => {
                console.log(e)
            }
            ))
        }
        ]
    }
    class Hy extends pf {
        constructor(e) {
            super(),
            uf(this, e, zy, Fy, Ag, {
                config: 0,
                close: 1
            })
        }
    }
    function jy(e) {
        let t, n, o;
        var i = e[2];
        function r(e, t) {
            return {
                props: {
                    config: e[1],
                    close: e[0]
                }
            }
        }
        return i && (t = yh(i, r(e))),
        {
            c() {
                t && lf(t.$$.fragment),
                n = rh()
            },
            m(e, i) {
                t && cf(t, e, i),
                Qg(e, n, i),
                o = !0
            },
            p(e, o) {
                if (4 & o && i !== (i = e[2])) {
                    if (t) {
                        Xh();
                        const e = t;
                        ef(e.$$.fragment, 1, 0, ( () => {
                            df(e, 1)
                        }
                        )),
                        Qh()
                    }
                    i ? (t = yh(i, r(e)),
                    lf(t.$$.fragment),
                    Jh(t.$$.fragment, 1),
                    cf(t, n.parentNode, n)) : t = null
                } else if (i) {
                    const n = {};
                    2 & o && (n.config = e[1]),
                    1 & o && (n.close = e[0]),
                    t.$set(n)
                }
            },
            i(e) {
                o || (t && Jh(t.$$.fragment, e),
                o = !0)
            },
            o(e) {
                t && ef(t.$$.fragment, e),
                o = !1
            },
            d(e) {
                e && Jg(n),
                t && df(t, e)
            }
        }
    }
    function Gy(e) {
        let t, n;
        return t = new pv({
            props: {
                close: e[0],
                config: e[1],
                $$slots: {
                    default: [Vy]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                1 & n && (o.close = e[0]),
                2 & n && (o.config = e[1]),
                262 & n && (o.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function qy(e) {
        let t, n;
        return t = new lv({
            props: {
                close: e[0],
                config: e[1],
                $$slots: {
                    default: [Yy]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                1 & n && (o.close = e[0]),
                2 & n && (o.config = e[1]),
                262 & n && (o.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function Vy(e) {
        let t, n, o;
        var i = e[2];
        function r(e, t) {
            return {
                props: {
                    config: e[1]
                }
            }
        }
        return i && (t = yh(i, r(e))),
        {
            c() {
                t && lf(t.$$.fragment),
                n = rh()
            },
            m(e, i) {
                t && cf(t, e, i),
                Qg(e, n, i),
                o = !0
            },
            p(e, o) {
                if (4 & o && i !== (i = e[2])) {
                    if (t) {
                        Xh();
                        const e = t;
                        ef(e.$$.fragment, 1, 0, ( () => {
                            df(e, 1)
                        }
                        )),
                        Qh()
                    }
                    i ? (t = yh(i, r(e)),
                    lf(t.$$.fragment),
                    Jh(t.$$.fragment, 1),
                    cf(t, n.parentNode, n)) : t = null
                } else if (i) {
                    const n = {};
                    2 & o && (n.config = e[1]),
                    t.$set(n)
                }
            },
            i(e) {
                o || (t && Jh(t.$$.fragment, e),
                o = !0)
            },
            o(e) {
                t && ef(t.$$.fragment, e),
                o = !1
            },
            d(e) {
                e && Jg(n),
                t && df(t, e)
            }
        }
    }
    function Yy(e) {
        let t, n, o;
        var i = e[2];
        function r(e, t) {
            return {
                props: {
                    config: e[1]
                }
            }
        }
        return i && (t = yh(i, r(e))),
        {
            c() {
                t && lf(t.$$.fragment),
                n = rh()
            },
            m(e, i) {
                t && cf(t, e, i),
                Qg(e, n, i),
                o = !0
            },
            p(e, o) {
                if (4 & o && i !== (i = e[2])) {
                    if (t) {
                        Xh();
                        const e = t;
                        ef(e.$$.fragment, 1, 0, ( () => {
                            df(e, 1)
                        }
                        )),
                        Qh()
                    }
                    i ? (t = yh(i, r(e)),
                    lf(t.$$.fragment),
                    Jh(t.$$.fragment, 1),
                    cf(t, n.parentNode, n)) : t = null
                } else if (i) {
                    const n = {};
                    2 & o && (n.config = e[1]),
                    t.$set(n)
                }
            },
            i(e) {
                o || (t && Jh(t.$$.fragment, e),
                o = !0)
            },
            o(e) {
                t && ef(t.$$.fragment, e),
                o = !1
            },
            d(e) {
                e && Jg(n),
                t && df(t, e)
            }
        }
    }
    function Ky(e) {
        let t, n, o, i;
        const r = [qy, Gy, jy]
          , s = [];
        function a(e, t) {
            return e[3] === e[4].SERIOUS || e[3] === e[4].UNKNOWN ? 0 : e[3] === e[4].WARNING ? 1 : e[3] === e[4].CUSTOM ? 2 : -1
        }
        return ~(t = a(e)) && (n = s[t] = r[t](e)),
        {
            c() {
                n && n.c(),
                o = rh()
            },
            m(e, n) {
                ~t && s[t].m(e, n),
                Qg(e, o, n),
                i = !0
            },
            p(e, [i]) {
                let l = t;
                t = a(e),
                t === l ? ~t && s[t].p(e, i) : (n && (Xh(),
                ef(s[l], 1, 1, ( () => {
                    s[l] = null
                }
                )),
                Qh()),
                ~t ? (n = s[t],
                n ? n.p(e, i) : (n = s[t] = r[t](e),
                n.c()),
                Jh(n, 1),
                n.m(o.parentNode, o)) : n = null)
            },
            i(e) {
                i || (Jh(n),
                i = !0)
            },
            o(e) {
                ef(n),
                i = !1
            },
            d(e) {
                e && Jg(o),
                ~t && s[t].d(e)
            }
        }
    }
    function Zy(e, t, n) {
        let i, r, {error: s} = t, {close: a} = t, {config: l={}} = t;
        const c = {
            UNKNOWN: 1,
            WARNING: 2,
            SERIOUS: 3,
            CUSTOM: 4
        }
          , d = {
            [Ef]: gv,
            [Tf]: vv,
            [Sf]: wv,
            [Cf]: Vv,
            [H_]: iy,
            [G_]: iy,
            [j_]: iy,
            [q_]: iy,
            [$f]: Gv,
            [If]: Gv,
            [Rf]: sy,
            [xf]: zv,
            [kf]: ey,
            [Af]: ny,
            [Mf]: Ey,
            [Of]: gy,
            [Nf]: $y,
            [Df]: Ay,
            [Pf]: Ny,
            [Y_]: gv,
            [K_]: vv,
            [bf]: vv,
            [Z_]: wv,
            [J_]: zv,
            [Q_]: Gv,
            [nv]: Gv,
            [X_]: zv,
            [tv]: ey,
            [ev]: Vv,
            [V_.RATE_LIMITED]: ey,
            [V_.RATE_LIMITED_RESTRICTED]: ey,
            [V_.WRITE_LANGUAGE_NOT_SUPPORTED]: Py,
            [V_.TRANSLATE_LANGUAGE_NOT_SUPPORTED]: By,
            [V_.TRANSLATE_GENERIC_ERROR]: gv,
            [V_.WRITE_GENERIC_ERROR]: fv,
            [V_.TOKEN_EXPIRED]: iy,
            [Uf]: Hy
        };
        return Ch(( () => {
            ov() ? o({
                action: "dlErrorVisibility",
                payload: {
                    state: !0
                }
            }) : iv.set(!0)
        }
        )),
        kh(( () => {
            ov() ? o({
                action: "dlErrorVisibility",
                payload: {
                    state: !1
                }
            }) : iv.set(!1)
        }
        )),
        e.$$set = e => {
            "error"in e && n(5, s = e.error),
            "close"in e && n(0, a = e.close),
            "config"in e && n(1, l = e.config)
        }
        ,
        e.$$.update = () => {
            32 & e.$$.dirty && n(3, i = function(e) {
                switch (e) {
                case Ef:
                case Tf:
                case Sf:
                case Cf:
                case Y_:
                case K_:
                case Z_:
                case J_:
                case H_:
                case G_:
                case j_:
                case q_:
                case Af:
                case V_.TRANSLATE_GENERIC_ERROR:
                case V_.WRITE_GENERIC_ERROR:
                case bf:
                    return c.SERIOUS;
                case $f:
                case If:
                case Q_:
                case nv:
                case Rf:
                case xf:
                case kf:
                case X_:
                case tv:
                case V_.RATE_LIMITED:
                case V_.RATE_LIMITED_RESTRICTED:
                case V_.WRITE_LANGUAGE_NOT_SUPPORTED:
                case V_.TRANSLATE_LANGUAGE_NOT_SUPPORTED:
                    return c.WARNING;
                case Mf:
                case Of:
                case Df:
                case Pf:
                case Nf:
                case Uf:
                    return c.CUSTOM;
                default:
                    return c.UNKNOWN
                }
            }(s ? s.error : "")),
            32 & e.$$.dirty && n(2, r = s && d[s.error] || gv)
        }
        ,
        [a, l, r, i, c, s]
    }
    class Xy extends pf {
        constructor(e) {
            super(),
            uf(this, e, Zy, Ky, Ag, {
                error: 5,
                close: 0,
                config: 1
            })
        }
    }
    function Qy(e) {
        let t, n, o, i, r, s, a, l, c;
        return i = new Xy({
            props: {
                error: e[3]
            }
        }),
        {
            c() {
                t = th("div"),
                n = th("button"),
                o = ih(),
                lf(i.$$.fragment),
                ch(n, "class", "close-button svelte-6y44uj"),
                ch(t, "class", "dl-zendesk-error-message svelte-6y44uj"),
                ch(t, "dir", Vt())
            },
            m(r, s) {
                Qg(r, t, s),
                Kg(t, n),
                Kg(t, o),
                cf(i, t, null),
                a = !0,
                l || (c = [sh(n, "click", e[8]), Fg(S_.call(null, t, {
                    isShadow: !0
                })), sh(t, "click_outside", e[8])],
                l = !0)
            },
            p(e, t) {
                const n = {};
                8 & t[0] && (n.error = e[3]),
                i.$set(n)
            },
            i(e) {
                a || (Jh(i.$$.fragment, e),
                Wh(( () => {
                    a && (s && s.end(1),
                    r = nf(t, Kf, {
                        y: -5,
                        duration: 300
                    }),
                    r.start())
                }
                )),
                a = !0)
            },
            o(e) {
                ef(i.$$.fragment, e),
                r && r.invalidate(),
                s = of(t, Kf, {
                    y: -5,
                    duration: 300
                }),
                a = !1
            },
            d(e) {
                e && Jg(t),
                df(i),
                e && s && s.end(),
                l = !1,
                Ig(c)
            }
        }
    }
    function Jy(e) {
        let t, n;
        return t = new z_({
            props: {
                value: e[6].zendeskFormality
            }
        }),
        t.$on("selection", e[9]),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                64 & n[0] && (o.value = e[6].zendeskFormality),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function ew(e) {
        let t, n, o;
        return {
            c() {
                t = th("button"),
                t.innerHTML = '<span class="svelte-6y44uj"></span>',
                ch(t, "class", "dl-zendesk-input-icon svelte-6y44uj"),
                fh(t, "is-active", e[1]),
                fh(t, "is-loading", e[2]),
                fh(t, "is-language-mismatching", e[0])
            },
            m(i, r) {
                Qg(i, t, r),
                n || (o = sh(t, "click", e[7]),
                n = !0)
            },
            p(e, n) {
                2 & n[0] && fh(t, "is-active", e[1]),
                4 & n[0] && fh(t, "is-loading", e[2]),
                1 & n[0] && fh(t, "is-language-mismatching", e[0])
            },
            d(e) {
                e && Jg(t),
                n = !1,
                o()
            }
        }
    }
    function tw(e) {
        let t, n, o, i, r, s = e[3] && Qy(e), a = e[4] && Jy(e);
        return i = new L_({
            props: {
                tooltip: e[5],
                zIndex: "0",
                $$slots: {
                    default: [ew]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                s && s.c(),
                t = ih(),
                n = th("div"),
                a && a.c(),
                o = ih(),
                lf(i.$$.fragment),
                ch(n, "class", "dl-icons-holder svelte-6y44uj"),
                ch(n, "dir", Vt()),
                fh(n, "has-formality", e[4])
            },
            m(e, l) {
                s && s.m(e, l),
                Qg(e, t, l),
                Qg(e, n, l),
                a && a.m(n, null),
                Kg(n, o),
                cf(i, n, null),
                r = !0
            },
            p(e, l) {
                e[3] ? s ? (s.p(e, l),
                8 & l[0] && Jh(s, 1)) : (s = Qy(e),
                s.c(),
                Jh(s, 1),
                s.m(t.parentNode, t)) : s && (Xh(),
                ef(s, 1, 1, ( () => {
                    s = null
                }
                )),
                Qh()),
                e[4] ? a ? (a.p(e, l),
                16 & l[0] && Jh(a, 1)) : (a = Jy(e),
                a.c(),
                Jh(a, 1),
                a.m(n, o)) : a && (Xh(),
                ef(a, 1, 1, ( () => {
                    a = null
                }
                )),
                Qh());
                const c = {};
                32 & l[0] && (c.tooltip = e[5]),
                7 & l[0] | 4 & l[1] && (c.$$scope = {
                    dirty: l,
                    ctx: e
                }),
                i.$set(c),
                (!r || 16 & l[0]) && fh(n, "has-formality", e[4])
            },
            i(e) {
                r || (Jh(s),
                Jh(a),
                Jh(i.$$.fragment, e),
                r = !0)
            },
            o(e) {
                ef(s),
                ef(a),
                ef(i.$$.fragment, e),
                r = !1
            },
            d(e) {
                e && (Jg(t),
                Jg(n)),
                s && s.d(e),
                a && a.d(),
                df(i)
            }
        }
    }
    function nw(e, n, o) {
        let r, s, a;
        Mg(e, hf, (e => o(6, a = e))),
        Lh("text_direction", Vt());
        let l, c, d, u, {controller: p} = n, {editable: m} = n, g = !1, h = !1, f = !1, _ = !1, v = "", y = "", w = !1;
        const b = () => {
            o(1, g = !0)
        }
          , E = () => {
            o(1, g = !1)
        }
        ;
        async function T(e, n, o) {
            if ("dlTriggerTranslationShortcut" === e.action) {
                if (document.activeElement !== m)
                    return;
                try {
                    t({
                        action: "dlTrackUseOfShortcut",
                        payload: {
                            shortcutType: F,
                            location: W.inputTranslationTriggerIcon
                        }
                    })
                } catch (e) {
                    console.error(e)
                }
                await S(),
                o()
            }
            return !0
        }
        const S = async () => {
            if (_)
                return;
            const e = gt()
              , t = () => {
                if (e) {
                    const e = window.getSelection().toString();
                    navigator.clipboard.writeText(e).then(( () => {
                        x(e)
                    }
                    )).catch((e => {
                        console.error("Unable to copy text to clipboard", e)
                    }
                    ))
                } else {
                    const e = new ClipboardEvent("copy",{
                        bubbles: !0,
                        clipboardData: new DataTransfer
                    });
                    h = !0,
                    m.dispatchEvent(e)
                }
            }
              , n = window.getSelection();
            let o;
            o = e ? n && n.anchorNode && "#text" == n.anchorNode.nodeName && "Range" == n.type && m.contains(n.anchorNode) : n && n.baseNode && "#text" == n.baseNode.nodeName && "Range" == n.type && m.contains(n.baseNode),
            0 !== m.innerText.trim().length && (o ? t() : (await d_(m),
            setTimeout(t, 300)))
        }
          , x = async e => {
            h = !1,
            o(2, _ = !0),
            o(0, w = !1);
            const t = p.getTicketLanguageInformation()?.language
              , n = p.getInputWorkingArea();
            n.innerHTML = vt(e);
            const [i,s] = await IB({
                element: n,
                targetLang: t,
                content: e,
                ...r && ["formal", "informal"].includes(a.zendeskFormality) && {
                    formality: a.zendeskFormality
                }
            });
            s ? (console.error({
                e: s
            }),
            o(3, d = s),
            FB({
                eventType: ve,
                controller: p,
                error: s.error || s.message
            })) : i && k(i, e),
            o(2, _ = !1)
        }
          , $ = async e => {
            if (!h)
                return;
            h = !1,
            o(2, _ = !0),
            o(0, w = !1);
            const t = p.getTicketLanguageInformation()?.language
              , n = e.clipboardData.getData("text/html")
              , i = p.getInputWorkingArea()
              , [s,l] = await IB({
                element: i,
                targetLang: t,
                content: n,
                ...r && ["formal", "informal"].includes(a.zendeskFormality) && {
                    formality: a.zendeskFormality
                }
            });
            l ? (console.error({
                e: l
            }),
            o(3, d = l),
            FB({
                eventType: ve,
                controller: p,
                error: l.error || l.message
            })) : s && k(s, n),
            o(2, _ = !1)
        }
          , C = () => {
            if (!f)
                return;
            f = !1;
            window.getSelection().collapse(null)
        }
          , k = (e, t) => {
            const n = vt(e);
            if (gt())
                document.execCommand("insertText", !1, n),
                f = !0;
            else {
                const e = new DataTransfer;
                e.setData("text/html", n);
                const t = new ClipboardEvent("paste",{
                    bubbles: !0,
                    clipboardData: e
                });
                f = !0,
                m.dispatchEvent(t)
            }
            FB({
                eventType: _e,
                controller: p,
                sourceTextLength: t.length,
                targetTextLength: n.length
            })
        }
          , I = () => {
            const e = m.innerText;
            e !== y && (y = e,
            u && (clearTimeout(u),
            u = void 0),
            u = setTimeout(L, 400))
        }
          , L = async () => {
            const e = p.getTicketLanguageInformation();
            if (!e || !e.isSupported || !e.isDetected)
                return;
            const t = m.innerText;
            if (t.trim()) {
                console.log("There has content: ", `${t.trim()}`);
                let n = await Wt(t)
                  , i = e.language;
                n = Ht(n),
                i = Ht(i);
                let r = !1;
                n && i && n !== i && (r = !0),
                w !== r && o(0, w = r)
            } else
                console.log("There is no content"),
                o(0, w = !1),
                A()
        }
          , A = () => {
            l && l.resetTooltip()
        }
        ;
        return Ch(( () => {
            chrome.runtime.onMessage.addListener(T),
            t({
                action: "dlCheckCommandShortcuts"
            }).then((e => {
                o(14, v = e ? e.filter((e => e.name == F))[0].shortcut : "")
            }
            )),
            m.addEventListener("focus", b),
            m.addEventListener("blur", E),
            m.addEventListener("copy", $),
            m.addEventListener("paste", C),
            m.addEventListener("keydown", I),
            l = QE(p),
            document.activeElement === m && b()
        }
        )),
        kh(( () => {
            chrome.runtime.onMessage.removeListener(T),
            m && (m.removeEventListener("focus", b),
            m.removeEventListener("blur", E),
            m.removeEventListener("copy", $),
            m.removeEventListener("paste", C),
            m.removeEventListener("keydown", I),
            l && (l.cleanupDOM(),
            l.remove()))
        }
        )),
        e.$$set = e => {
            "controller"in e && o(10, p = e.controller),
            "editable"in e && o(11, m = e.editable)
        }
        ,
        e.$$.update = () => {
            32768 & e.$$.dirty[0] && o(4, r = qt(c)),
            49152 & e.$$.dirty[0] && o(5, s = i.find((e => e.langCode === c)) ? chrome.i18n.getMessage("ui_zendesk_input_tooltip") + (v ? ` (${v})` : "") : ""),
            1 & e.$$.dirty[0] && l && l.setIsLanguageMismatching(w)
        }
        ,
        [w, g, _, d, r, s, a, S, () => {
            o(3, d = void 0)
        }
        , e => {
            const t = e.detail.selectedOption.value;
            Wg(hf, a.zendeskFormality = t, a)
        }
        , p, m, e => {
            o(15, c = e)
        }
        , () => {
            const e = window.getSelection();
            return e && e.baseNode && "#text" == e.baseNode.nodeName && "Range" == e.type && m.contains(e.baseNode)
        }
        , v, c]
    }
    class ow extends pf {
        constructor(e) {
            super(),
            uf(this, e, nw, tw, Ag, {
                controller: 10,
                editable: 11,
                updateTargetLanguage: 12,
                getInputHasSelection: 13
            }, null, [-1, -1])
        }
        get updateTargetLanguage() {
            return this.$$.ctx[12]
        }
        get getInputHasSelection() {
            return this.$$.ctx[13]
        }
    }
    class iw {
        static HTML_TAG_NAME = "deepl-zendesk-input-icon";
        static createElement = (e=document) => {
            const t = e.createElement(iw.HTML_TAG_NAME)
              , n = new iw(t);
            return t.createDOM = n.createDOM,
            t.cleanupDOM = n.cleanupDOM,
            t.getInputHasSelection = n.getInputHasSelection,
            t.updateTargetLanguage = n.updateTargetLanguage,
            t
        }
        ;
        constructor(e) {
            this.domElement = e,
            this.domElement.shadow = this.domElement.attachShadow({
                mode: "open"
            }),
            this.domElement.shadowContainer = document.createElement("div"),
            this.domElement.mainComponent;
            const t = document.createElement("link");
            t.setAttribute("rel", "stylesheet"),
            t.setAttribute("href", chrome.runtime.getURL("build/content.css")),
            this.domElement.shadow.appendChild(t),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer)
        }
        createDOM = ({controller: e, editable: t}) => {
            this.domElement.mainComponent = new ow({
                target: this.domElement.shadowContainer,
                props: {
                    onClose: this.cleanupDOM,
                    controller: e,
                    editable: t
                }
            })
        }
        ;
        getInputHasSelection = () => this.domElement.mainComponent.getInputHasSelection();
        updateTargetLanguage = e => {
            this.domElement.mainComponent?.updateTargetLanguage(e)
        }
        ;
        cleanupDOM = () => {
            this.domElement.shadowContainer.remove(),
            this.domElement.mainComponent && this.domElement.mainComponent.$destroy()
        }
    }
    function rw(e, t, n) {
        const o = e.slice();
        return o[16] = t[n],
        o[18] = n,
        o
    }
    function sw(e) {
        let t, n, o = !e[0] && lw(e), i = sf(e[3]), r = [];
        for (let t = 0; t < i.length; t += 1)
            r[t] = uw(rw(e, i, t));
        return {
            c() {
                t = th("div"),
                o && o.c(),
                n = ih();
                for (let e = 0; e < r.length; e += 1)
                    r[e].c();
                ch(t, "class", "dl-zendesk-translation-placeholder svelte-1xx4hw"),
                ch(t, "dir", Vt()),
                fh(t, "loading-skeleton", e[0])
            },
            m(e, i) {
                Qg(e, t, i),
                o && o.m(t, null),
                Kg(t, n);
                for (let e = 0; e < r.length; e += 1)
                    r[e] && r[e].m(t, null)
            },
            p(e, s) {
                if (e[0] ? o && (o.d(1),
                o = null) : o ? o.p(e, s) : (o = lw(e),
                o.c(),
                o.m(t, n)),
                8 & s) {
                    let n;
                    for (i = sf(e[3]),
                    n = 0; n < i.length; n += 1) {
                        const o = rw(e, i, n);
                        r[n] ? r[n].p(o, s) : (r[n] = uw(o),
                        r[n].c(),
                        r[n].m(t, null))
                    }
                    for (; n < r.length; n += 1)
                        r[n].d(1);
                    r.length = i.length
                }
                1 & s && fh(t, "loading-skeleton", e[0])
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                o && o.d(),
                eh(r, e)
            }
        }
    }
    function aw(e) {
        let t, n, o;
        return n = new Xy({
            props: {
                error: e[2],
                close: e[6]
            }
        }),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                ch(t, "class", "dl-zendesk-translation-placeholder has-error svelte-1xx4hw")
            },
            m(e, i) {
                Qg(e, t, i),
                cf(n, t, null),
                o = !0
            },
            p(e, t) {
                const o = {};
                4 & t && (o.error = e[2]),
                n.$set(o)
            },
            i(e) {
                o || (Jh(n.$$.fragment, e),
                o = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                o = !1
            },
            d(e) {
                e && Jg(t),
                df(n)
            }
        }
    }
    function lw(e) {
        let t, n, o;
        return {
            c() {
                t = th("button"),
                ch(t, "class", "close-button svelte-1xx4hw")
            },
            m(i, r) {
                Qg(i, t, r),
                n || (o = sh(t, "click", e[5]),
                n = !0)
            },
            p: xg,
            d(e) {
                e && Jg(t),
                n = !1,
                o()
            }
        }
    }
    function cw(e) {
        let t, n = vt(e[16]) + "";
        return {
            c() {
                t = th("span"),
                ch(t, "class", "svelte-1xx4hw")
            },
            m(e, o) {
                Qg(e, t, o),
                t.innerHTML = n
            },
            p(e, o) {
                8 & o && n !== (n = vt(e[16]) + "") && (t.innerHTML = n)
            },
            d(e) {
                e && Jg(t)
            }
        }
    }
    function dw(e) {
        let t;
        return {
            c() {
                t = th("br")
            },
            m(e, n) {
                Qg(e, t, n)
            },
            d(e) {
                e && Jg(t)
            }
        }
    }
    function uw(e) {
        let t, n, o = e[16] && cw(e), i = e[18] < e[3].length - 1 && dw();
        return {
            c() {
                o && o.c(),
                t = ih(),
                i && i.c(),
                n = rh()
            },
            m(e, r) {
                o && o.m(e, r),
                Qg(e, t, r),
                i && i.m(e, r),
                Qg(e, n, r)
            },
            p(e, r) {
                e[16] ? o ? o.p(e, r) : (o = cw(e),
                o.c(),
                o.m(t.parentNode, t)) : o && (o.d(1),
                o = null),
                e[18] < e[3].length - 1 ? i || (i = dw(),
                i.c(),
                i.m(n.parentNode, n)) : i && (i.d(1),
                i = null)
            },
            d(e) {
                e && (Jg(t),
                Jg(n)),
                o && o.d(e),
                i && i.d(e)
            }
        }
    }
    function pw(e) {
        let t, n, o, i, r, s, a, l, c;
        const d = [aw, sw]
          , u = [];
        function p(e, t) {
            return e[2] ? 0 : e[1] || e[0] ? 1 : -1
        }
        return ~(i = p(e)) && (r = u[i] = d[i](e)),
        {
            c() {
                t = th("div"),
                n = th("button"),
                n.textContent = `${chrome.i18n.getMessage("ui_zendesk_message_translate")}`,
                o = ih(),
                r && r.c(),
                s = rh(),
                ch(n, "class", "dl-zendesk-translate-this-ticket svelte-1xx4hw"),
                ch(t, "dir", Vt())
            },
            m(r, d) {
                Qg(r, t, d),
                Kg(t, n),
                Qg(r, o, d),
                ~i && u[i].m(r, d),
                Qg(r, s, d),
                a = !0,
                l || (c = sh(n, "click", e[4]),
                l = !0)
            },
            p(e, [t]) {
                let n = i;
                i = p(e),
                i === n ? ~i && u[i].p(e, t) : (r && (Xh(),
                ef(u[n], 1, 1, ( () => {
                    u[n] = null
                }
                )),
                Qh()),
                ~i ? (r = u[i],
                r ? r.p(e, t) : (r = u[i] = d[i](e),
                r.c()),
                Jh(r, 1),
                r.m(s.parentNode, s)) : r = null)
            },
            i(e) {
                a || (Jh(r),
                a = !0)
            },
            o(e) {
                ef(r),
                a = !1
            },
            d(e) {
                e && (Jg(t),
                Jg(o),
                Jg(s)),
                ~i && u[i].d(e),
                l = !1,
                c()
            }
        }
    }
    function mw(e, t, n) {
        let o, i;
        Mg(e, hf, (e => n(14, i = e))),
        Lh("text_direction", Vt());
        let r, {controller: s} = t, {message: a} = t, l = !1, c = !1, d = !1, u = "", p = !1;
        const m = async ({trigger: e}) => {
            n(1, d = !1),
            n(0, l = !0),
            n(2, r = void 0);
            let t = BE(a).innerText;
            n(11, u = t);
            const [o,c] = await LB({
                targetLang: i.selectedTargetLanguage,
                sourceLang: s.getTicketLanguageInformation()?.language,
                text: t,
                trigger: e
            });
            if (c)
                n(11, u = ""),
                n(1, d = !1),
                n(2, r = c),
                p = !0,
                FB({
                    eventType: ve,
                    controller: s,
                    error: c.error || c.message
                });
            else if (o) {
                n(11, u = o),
                n(1, d = !0),
                FB({
                    eventType: fe,
                    controller: s,
                    sourceTextLength: t.length,
                    targetTextLength: u.length
                })
            } else
                n(1, d = !0);
            n(0, l = !1)
        }
        ;
        return e.$$set = e => {
            "controller"in e && n(7, s = e.controller),
            "message"in e && n(8, a = e.message)
        }
        ,
        e.$$.update = () => {
            2048 & e.$$.dirty && n(3, o = u.split("\n"))
        }
        ,
        [l, d, r, o, () => {
            l || m({
                trigger: v
            })
        }
        , () => {
            n(1, d = !1),
            n(0, l = !1),
            n(11, u = ""),
            s.getIsAutoTranslatedEnabled() && (c = !0)
        }
        , () => {
            n(2, r = void 0)
        }
        , s, a, () => {
            !s.getIsAutoTranslatedEnabled() || d || l || c || p || m({
                trigger: _
            })
        }
        , () => {
            !d || l || c || m({
                trigger: v
            })
        }
        , u]
    }
    class gw extends pf {
        constructor(e) {
            super(),
            uf(this, e, mw, pw, Ag, {
                controller: 7,
                message: 8,
                processRefreshUI: 9,
                triggerTranslateAgain: 10
            })
        }
        get processRefreshUI() {
            return this.$$.ctx[9]
        }
        get triggerTranslateAgain() {
            return this.$$.ctx[10]
        }
    }
    class hw {
        static HTML_TAG_NAME = "deepl-zendesk-message-controller";
        static createElement = (e=document) => {
            const t = e.createElement(hw.HTML_TAG_NAME)
              , n = new hw(t);
            return t.createDOM = n.createDOM,
            t.cleanupDOM = n.cleanupDOM,
            t.processRefreshUI = n.processRefreshUI,
            t.triggerTranslateAgain = n.triggerTranslateAgain,
            t
        }
        ;
        constructor(e) {
            this.domElement = e,
            this.domElement.shadow = this.domElement.attachShadow({
                mode: "open"
            }),
            this.domElement.shadowContainer = document.createElement("div"),
            this.domElement.mainComponent;
            const t = document.createElement("link");
            t.setAttribute("rel", "stylesheet"),
            t.setAttribute("href", chrome.runtime.getURL("build/content.css")),
            this.domElement.shadow.appendChild(t),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer)
        }
        createDOM = ({controller: e, message: t}) => {
            this.domElement.mainComponent = new gw({
                target: this.domElement.shadowContainer,
                props: {
                    onClose: this.cleanupDOM,
                    controller: e,
                    message: t
                }
            })
        }
        ;
        processRefreshUI = () => {
            this.domElement.mainComponent.processRefreshUI()
        }
        ;
        triggerTranslateAgain = () => {
            this.domElement.mainComponent.triggerTranslateAgain()
        }
        ;
        cleanupDOM = () => {
            this.domElement.shadowContainer.remove(),
            this.domElement.mainComponent && this.domElement.mainComponent.$destroy()
        }
    }
    function fw(e) {
        let t, n, o, i, r, s, a, l, c, d = chrome.i18n.getMessage("ui_zendesk_input_language_mismatch") + "";
        return {
            c() {
                t = th("div"),
                n = th("button"),
                o = ih(),
                i = oh(d),
                ch(n, "class", "dismiss-tooltip svelte-p7jbvt"),
                ch(t, "class", "dl-zendesk-submit-button-tooltip svelte-p7jbvt"),
                ph(t, "max-width", (e[1].width || 0) + "px"),
                ph(t, "bottom", e[0].height + 12 + "px"),
                ch(t, "dir", Vt())
            },
            m(r, s) {
                Qg(r, t, s),
                Kg(t, n),
                Kg(t, o),
                Kg(t, i),
                a = !0,
                l || (c = sh(n, "click", e[4]),
                l = !0)
            },
            p(e, n) {
                (!a || 2 & n) && ph(t, "max-width", (e[1].width || 0) + "px"),
                (!a || 1 & n) && ph(t, "bottom", e[0].height + 12 + "px")
            },
            i(e) {
                a || (Wh(( () => {
                    a && (s && s.end(1),
                    r = nf(t, Kf, {
                        y: -5,
                        duration: 500
                    }),
                    r.start())
                }
                )),
                a = !0)
            },
            o(e) {
                r && r.invalidate(),
                s = of(t, Kf, {
                    y: -5,
                    duration: 500
                }),
                a = !1
            },
            d(e) {
                e && Jg(t),
                e && s && s.end(),
                l = !1,
                c()
            }
        }
    }
    function _w(e) {
        let t, n, o = e[2] && !e[3] && fw(e);
        return {
            c() {
                o && o.c(),
                t = rh()
            },
            m(e, i) {
                o && o.m(e, i),
                Qg(e, t, i),
                n = !0
            },
            p(e, [n]) {
                e[2] && !e[3] ? o ? (o.p(e, n),
                12 & n && Jh(o, 1)) : (o = fw(e),
                o.c(),
                Jh(o, 1),
                o.m(t.parentNode, t)) : o && (Xh(),
                ef(o, 1, 1, ( () => {
                    o = null
                }
                )),
                Qh())
            },
            i(e) {
                n || (Jh(o),
                n = !0)
            },
            o(e) {
                ef(o),
                n = !1
            },
            d(e) {
                e && Jg(t),
                o && o.d(e)
            }
        }
    }
    function vw(e, t, n) {
        Lh("text_direction", Vt());
        let {coords: o} = t
          , {containerCoords: i} = t
          , r = !1
          , s = !1;
        return e.$$set = e => {
            "coords"in e && n(0, o = e.coords),
            "containerCoords"in e && n(1, i = e.containerCoords)
        }
        ,
        [o, i, r, s, () => {
            n(3, s = !0)
        }
        , e => {
            n(2, r = e)
        }
        , () => {
            console.log("Resetting tooltip..."),
            n(2, r = !1),
            n(3, s = !1)
        }
        ]
    }
    class yw extends pf {
        constructor(e) {
            super(),
            uf(this, e, vw, _w, Ag, {
                coords: 0,
                containerCoords: 1,
                setIsLanguageMismatching: 5,
                resetTooltip: 6
            })
        }
        get setIsLanguageMismatching() {
            return this.$$.ctx[5]
        }
        get resetTooltip() {
            return this.$$.ctx[6]
        }
    }
    class ww {
        static HTML_TAG_NAME = "deepl-zendesk-submit-button-tooltip";
        static createElement = (e=document) => {
            const t = e.createElement(ww.HTML_TAG_NAME)
              , n = new ww(t);
            return t.createDOM = n.createDOM,
            t.cleanupDOM = n.cleanupDOM,
            t.setIsLanguageMismatching = n.setIsLanguageMismatching,
            t.resetTooltip = n.resetTooltip,
            t
        }
        ;
        constructor(e) {
            this.domElement = e,
            this.domElement.shadow = this.domElement.attachShadow({
                mode: "open"
            }),
            this.domElement.shadowContainer = document.createElement("div"),
            this.domElement.mainComponent;
            const t = document.createElement("link");
            t.setAttribute("rel", "stylesheet"),
            t.setAttribute("href", chrome.runtime.getURL("build/content.css")),
            this.domElement.shadow.appendChild(t),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer)
        }
        createDOM = ({coords: e, containerCoords: t}) => {
            this.domElement.mainComponent = new yw({
                target: this.domElement.shadowContainer,
                props: {
                    onClose: this.cleanupDOM,
                    coords: e,
                    containerCoords: t
                }
            })
        }
        ;
        setIsLanguageMismatching = e => {
            this.domElement.mainComponent?.setIsLanguageMismatching(e)
        }
        ;
        resetTooltip = () => {
            this.domElement.mainComponent?.resetTooltip()
        }
        ;
        cleanupDOM = () => {
            this.domElement.shadowContainer.remove(),
            this.domElement.mainComponent && this.domElement.mainComponent.$destroy()
        }
    }
    function bw(e) {
        let t, n, o;
        return {
            c() {
                t = th("div"),
                n = ih(),
                o = th("div"),
                ch(t, "class", "dl-zendesk-icon svelte-i3vxpb"),
                ch(o, "class", "dl-zendesk-working-area svelte-i3vxpb")
            },
            m(e, i) {
                Qg(e, t, i),
                Qg(e, n, i),
                Qg(e, o, i)
            },
            p: xg,
            i: xg,
            o: xg,
            d(e) {
                e && (Jg(t),
                Jg(n),
                Jg(o))
            }
        }
    }
    function Ew(e, t, n) {
        let o;
        Mg(e, hf, (e => n(17, o = e))),
        Lh("text_direction", Vt());
        let r, {pane: s} = t, {ticketId: a} = t, {controller: l} = t, c = {
            language: "",
            isDetected: !1,
            isSupported: !1,
            hasAttemptedLanguageDetection: !1
        }, d = !1;
        const u = {
            inputIconLanguageUpdate: void 0,
            topIconLanguageUpdate: void 0,
            toolbarLanguageUpdate: void 0,
            toolbarAutoTranslateStatus: void 0,
            ticketTypeDetection: void 0
        }
          , p = (e, t) => {
            u[e] = t
        }
          , m = () => {
            for (const e of Object.keys(u))
                if (u[e]) {
                    u[e]() && (u[e] = void 0)
                }
        }
          , g = async () => {
            if (!r)
                return;
            let e;
            try {
                switch (r) {
                case ye:
                    e = await WE(s);
                    break;
                case we:
                    e = await FE(s)
                }
            } catch (e) {
                hn() && console.error({
                    e: e
                })
            }
            e && (e = Ht(e),
            n(13, c.hasAttemptedLanguageDetection = !0, c),
            n(13, c.language = e, c),
            n(13, c.isDetected = !0, c),
            n(13, c.isSupported = !!i.find((t => t.langCode === e)), c),
            FB({
                eventType: pe,
                controller: l
            }),
            JE(s))
        }
        ;
        return Ch(( () => {
            FB({
                eventType: ue,
                controller: l
            }),
            p("ticketTypeDetection", ( () => {
                const e = NE(s);
                return !!e && (r = e,
                g(),
                !0)
            }
            ))
        }
        )),
        e.$$set = e => {
            "pane"in e && n(0, s = e.pane),
            "ticketId"in e && n(1, a = e.ticketId),
            "controller"in e && n(2, l = e.controller)
        }
        ,
        e.$$.update = () => {
            8193 & e.$$.dirty && p("toolbarLanguageUpdate", ( () => zE(s, {
                language: c.language,
                isDetected: c.isDetected,
                isSupported: c.isSupported
            }))),
            8193 & e.$$.dirty && (p("inputIconLanguageUpdate", ( () => GE(s, c.language))),
            p("topIconLanguageUpdate", ( () => jE(s)))),
            16385 & e.$$.dirty && p("toolbarAutoTranslateStatus", ( () => {
                HE(s, {
                    isEnabled: d
                })
            }
            ))
        }
        ,
        [s, a, l, () => s, () => a, () => c, () => d, e => {
            n(13, c.language = e.language, c),
            n(13, c.isDetected = e.isDetected, c),
            n(13, c.isSupported = e.isSupported, c)
        }
        , e => {
            n(14, d = e)
        }
        , () => r, e => {
            r = e
        }
        , async (e=!1) => {
            if (e && n(13, c = {
                language: "",
                isDetected: !1,
                isSupported: !1,
                hasAttemptedLanguageDetection: !1
            }),
            c.hasAttemptedLanguageDetection || await g(),
            kE(l, o.isZendeskEnabled),
            c.isSupported && o.isZendeskEnabled) {
                qE(l);
                for (const e of DE(s)) {
                    const t = VE(e);
                    t && t.processRefreshUI()
                }
            }
            ZE(s),
            m()
        }
        , () => {
            XE(s)
        }
        , c, d]
    }
    class Tw extends pf {
        constructor(e) {
            super(),
            uf(this, e, Ew, bw, Ag, {
                pane: 0,
                ticketId: 1,
                controller: 2,
                getPane: 3,
                getTicketId: 4,
                getTicketLanguageInformation: 5,
                getIsAutoTranslatedEnabled: 6,
                setLanguageInformation: 7,
                setIsAutoTranslateEnabled: 8,
                getTicketType: 9,
                setTicketType: 10,
                processRefreshUI: 11,
                getInputHasSelection: 12
            })
        }
        get getPane() {
            return this.$$.ctx[3]
        }
        get getTicketId() {
            return this.$$.ctx[4]
        }
        get getTicketLanguageInformation() {
            return this.$$.ctx[5]
        }
        get getIsAutoTranslatedEnabled() {
            return this.$$.ctx[6]
        }
        get setLanguageInformation() {
            return this.$$.ctx[7]
        }
        get setIsAutoTranslateEnabled() {
            return this.$$.ctx[8]
        }
        get getTicketType() {
            return this.$$.ctx[9]
        }
        get setTicketType() {
            return this.$$.ctx[10]
        }
        get processRefreshUI() {
            return this.$$.ctx[11]
        }
        get getInputHasSelection() {
            return this.$$.ctx[12]
        }
    }
    class Sw {
        static HTML_TAG_NAME = "deepl-zendesk-ticket-controller";
        static createElement = (e=document) => {
            const t = e.createElement(Sw.HTML_TAG_NAME)
              , n = new Sw(t);
            return t.createDOM = n.createDOM,
            t.cleanupDOM = n.cleanupDOM,
            t.getTicketId = n.getTicketId,
            t.getPane = n.getPane,
            t.getTicketLanguageInformation = n.getTicketLanguageInformation,
            t.getIsAutoTranslatedEnabled = n.getIsAutoTranslatedEnabled,
            t.setIsAutoTranslateEnabled = n.setIsAutoTranslateEnabled,
            t.getInputWorkingArea = n.getInputWorkingArea,
            t.setLanguageInformation = n.setLanguageInformation,
            t.getTicketType = n.getTicketType,
            t.setTicketType = n.setTicketType,
            t.processRefreshUI = n.processRefreshUI,
            t.getInputHasSelection = n.getInputHasSelection,
            t
        }
        ;
        constructor(e) {
            this.domElement = e,
            this.domElement.shadow = this.domElement.attachShadow({
                mode: "open"
            }),
            this.domElement.shadowContainer = document.createElement("div"),
            this.domElement.mainComponent;
            const t = document.createElement("link");
            t.setAttribute("rel", "stylesheet"),
            t.setAttribute("href", chrome.runtime.getURL("build/content.css")),
            this.domElement.shadow.appendChild(t),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer)
        }
        createDOM = ({ticketId: e, pane: t}) => {
            this.domElement.mainComponent = new Tw({
                target: this.domElement.shadowContainer,
                props: {
                    onClose: this.cleanupDOM,
                    controller: this.domElement,
                    ticketId: e,
                    pane: t
                }
            })
        }
        ;
        getTicketId = () => this.domElement.mainComponent?.getTicketId();
        getPane = () => this.domElement.mainComponent?.getPane();
        getTicketLanguageInformation = () => this.domElement.mainComponent?.getTicketLanguageInformation();
        getIsAutoTranslatedEnabled = () => this.domElement.mainComponent?.getIsAutoTranslatedEnabled();
        setIsAutoTranslateEnabled = e => {
            this.domElement.mainComponent?.setIsAutoTranslateEnabled(e)
        }
        ;
        getInputWorkingArea = () => this.domElement.shadowContainer.querySelector(".dl-zendesk-working-area");
        setLanguageInformation = e => {
            this.domElement.mainComponent?.setLanguageInformation(e)
        }
        ;
        getTicketType = () => this.domElement.mainComponent?.getTicketType();
        setTicketType = e => {
            this.domElement.mainComponent?.setTicketType(e)
        }
        ;
        processRefreshUI = (e=!1) => {
            this.domElement.mainComponent.processRefreshUI(e)
        }
        ;
        getInputHasSelection = () => this.domElement.mainComponent?.getInputHasSelection();
        cleanupDOM = () => {
            this.domElement.shadowContainer.remove(),
            this.domElement.mainComponent && this.domElement.mainComponent.$destroy()
        }
    }
    function xw(e) {
        let t, n, o, i, r;
        return n = new B_({
            props: {
                items: e[3],
                selectedOption: e[2],
                alignRight: !1,
                dataQaButton: "deepl-language-selection-button",
                dataQaList: "deepl-language-selection-list",
                variant: "zendesk",
                isFullWidth: e[1],
                extraText: e[0] ? chrome.i18n.getMessage("ui_zendesk_language_detected") : ""
            }
        }),
        n.$on("valueselected", e[4]),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment)
            },
            m(s, a) {
                Qg(s, t, a),
                cf(n, t, null),
                o = !0,
                i || (r = sh(t, "mousedown", lh(ah(e[7]))),
                i = !0)
            },
            p(e, [t]) {
                const o = {};
                8 & t && (o.items = e[3]),
                4 & t && (o.selectedOption = e[2]),
                2 & t && (o.isFullWidth = e[1]),
                1 & t && (o.extraText = e[0] ? chrome.i18n.getMessage("ui_zendesk_language_detected") : ""),
                n.$set(o)
            },
            i(e) {
                o || (Jh(n.$$.fragment, e),
                o = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                o = !1
            },
            d(e) {
                e && Jg(t),
                df(n),
                i = !1,
                r()
            }
        }
    }
    function $w(e, t, n) {
        let o, i;
        const r = Ih()
          , s = Ft();
        let {value: a} = t
          , {isDetected: l=!1} = t
          , {isSupported: c=!0} = t
          , {isFullWidth: d=!1} = t;
        const u = {
            label: chrome.i18n.getMessage("writing_config_tab_language_selector_empty"),
            selectedOptionLabel: chrome.i18n.getMessage("writing_config_tab_language_selector_empty"),
            value: "NOT_SUPPORTED"
        };
        return e.$$set = e => {
            "value"in e && n(5, a = e.value),
            "isDetected"in e && n(0, l = e.isDetected),
            "isSupported"in e && n(6, c = e.isSupported),
            "isFullWidth"in e && n(1, d = e.isFullWidth)
        }
        ,
        e.$$.update = () => {
            64 & e.$$.dirty && n(3, o = [...c ? [] : [u], ...s]),
            96 & e.$$.dirty && n(2, i = c ? a ? s.find((e => e.value === a)) : void 0 : u)
        }
        ,
        [l, d, i, o, function(e) {
            e.detail.selectedOption.value !== a && r("selection", e.detail)
        }
        , a, c, function(t) {
            Rh.call(this, e, t)
        }
        ]
    }
    class Cw extends pf {
        constructor(e) {
            super(),
            uf(this, e, $w, xw, Ag, {
                value: 5,
                isDetected: 0,
                isSupported: 6,
                isFullWidth: 1
            })
        }
    }
    function kw(e) {
        let t, n, o, i;
        function r(e, t) {
            return e[1] ? Aw : Lw
        }
        let s = r(e)
          , a = s(e);
        return {
            c() {
                t = th("button"),
                a.c(),
                ch(t, "class", "translate-all svelte-147seig"),
                t.disabled = n = !e[0].isSupported
            },
            m(n, r) {
                Qg(n, t, r),
                a.m(t, null),
                o || (i = sh(t, "click", e[6]),
                o = !0)
            },
            p(e, o) {
                s === (s = r(e)) && a ? a.p(e, o) : (a.d(1),
                a = s(e),
                a && (a.c(),
                a.m(t, null))),
                1 & o && n !== (n = !e[0].isSupported) && (t.disabled = n)
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                a.d(),
                o = !1,
                i()
            }
        }
    }
    function Iw(e) {
        let t, n;
        return t = new L_({
            props: {
                tooltip: chrome.i18n.getMessage(e[1] ? "ui_zendesk_autotranslate_stop" : "ui_zendesk_autotranslate_start"),
                $$slots: {
                    default: [Rw]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                2 & n && (o.tooltip = chrome.i18n.getMessage(e[1] ? "ui_zendesk_autotranslate_stop" : "ui_zendesk_autotranslate_start")),
                131073 & n && (o.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function Lw(e) {
        let t, n = chrome.i18n.getMessage("ui_zendesk_autotranslate_start") + "";
        return {
            c() {
                t = oh(n)
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function Aw(e) {
        let t, n = chrome.i18n.getMessage("ui_zendesk_autotranslate_stop") + "";
        return {
            c() {
                t = oh(n)
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function Rw(e) {
        let t, n, o, i;
        return {
            c() {
                t = th("button"),
                ch(t, "class", "translate-all btn-icon svelte-147seig"),
                t.disabled = n = !e[0].isSupported
            },
            m(n, r) {
                Qg(n, t, r),
                o || (i = sh(t, "click", e[6]),
                o = !0)
            },
            p(e, o) {
                1 & o && n !== (n = !e[0].isSupported) && (t.disabled = n)
            },
            d(e) {
                e && Jg(t),
                o = !1,
                i()
            }
        }
    }
    function Mw(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h, f;
        c = new Cw({
            props: {
                value: e[0].language,
                isDetected: e[0].isDetected,
                isSupported: e[0].isSupported,
                isFullWidth: "lg" !== e[4]
            }
        }),
        c.$on("selection", e[5]);
        const _ = [Iw, kw]
          , v = [];
        function y(e, t) {
            return "sm" === e[4] ? 0 : 1
        }
        return p = y(e),
        m = v[p] = _[p](e),
        {
            c() {
                t = th("div"),
                n = th("div"),
                o = th("button"),
                i = ih(),
                r = th("div"),
                s = th("div"),
                s.textContent = `${chrome.i18n.getMessage("ui_zendesk_senders_language")}`,
                a = ih(),
                l = th("div"),
                lf(c.$$.fragment),
                d = ih(),
                u = th("div"),
                m.c(),
                ch(o, "class", "senders-language-toggle svelte-147seig"),
                ch(s, "class", "label svelte-147seig"),
                ch(l, "class", "dropdown-container svelte-147seig"),
                ch(r, "class", "container svelte-147seig"),
                fh(r, "show", e[3]),
                ch(n, "class", "senders-language svelte-147seig"),
                ch(u, "class", "translate-all-container"),
                ch(t, "class", "dl-zendesk-toolbar svelte-147seig"),
                ch(t, "dir", Vt()),
                fh(t, "toolbar-sm", "sm" === e[4]),
                fh(t, "toolbar-md", "md" === e[4]),
                fh(t, "toolbar-lg", "lg" === e[4])
            },
            m(m, _) {
                Qg(m, t, _),
                Kg(t, n),
                Kg(n, o),
                Kg(n, i),
                Kg(n, r),
                Kg(r, s),
                Kg(r, a),
                Kg(r, l),
                cf(c, l, null),
                Kg(t, d),
                Kg(t, u),
                v[p].m(u, null),
                e[13](t),
                g = !0,
                h || (f = [sh(o, "click", e[7]), Fg(S_.call(null, n, {
                    isShadow: !0
                })), sh(n, "click_outside", e[12])],
                h = !0)
            },
            p(e, [n]) {
                const o = {};
                1 & n && (o.value = e[0].language),
                1 & n && (o.isDetected = e[0].isDetected),
                1 & n && (o.isSupported = e[0].isSupported),
                16 & n && (o.isFullWidth = "lg" !== e[4]),
                c.$set(o),
                (!g || 8 & n) && fh(r, "show", e[3]);
                let i = p;
                p = y(e),
                p === i ? v[p].p(e, n) : (Xh(),
                ef(v[i], 1, 1, ( () => {
                    v[i] = null
                }
                )),
                Qh(),
                m = v[p],
                m ? m.p(e, n) : (m = v[p] = _[p](e),
                m.c()),
                Jh(m, 1),
                m.m(u, null)),
                (!g || 16 & n) && fh(t, "toolbar-sm", "sm" === e[4]),
                (!g || 16 & n) && fh(t, "toolbar-md", "md" === e[4]),
                (!g || 16 & n) && fh(t, "toolbar-lg", "lg" === e[4])
            },
            i(e) {
                g || (Jh(c.$$.fragment, e),
                Jh(m),
                g = !0)
            },
            o(e) {
                ef(c.$$.fragment, e),
                ef(m),
                g = !1
            },
            d(n) {
                n && Jg(t),
                df(c),
                v[p].d(),
                e[13](null),
                h = !1,
                Ig(f)
            }
        }
    }
    function Ow(e, t, n) {
        let o;
        Lh("text_direction", Vt());
        const i = [{
            key: "sm",
            max: 300
        }, {
            key: "md",
            min: 301,
            max: 650
        }, {
            key: "lg",
            min: 651,
            isDefault: !0
        }];
        let {controller: r} = t;
        const s = {
            language: "",
            isDetected: !1,
            isSupported: !1
        };
        let a, l, c, d = !1, u = !1;
        Ch(( () => {
            c = A_(a, (e => {
                n(11, l = e.clientWidth)
            }
            ))
        }
        )),
        kh(( () => {
            c && c()
        }
        ));
        return e.$$set = e => {
            "controller"in e && n(8, r = e.controller)
        }
        ,
        e.$$.update = () => {
            2048 & e.$$.dirty && n(4, o = (e => {
                const t = i.find((e => e.isDefault));
                for (const t of i)
                    if (!(t.min && t.min > e || t.max && t.max < e))
                        return t.key;
                return t.key
            }
            )(l))
        }
        ,
        [s, d, a, u, o, e => {
            const t = e.detail.selectedOption.value;
            r.setLanguageInformation({
                language: t,
                isDetected: !1,
                isSupported: !0
            }),
            FB({
                eventType: me,
                controller: r,
                metaDataOverride: {
                    ticketLanguage: t,
                    isTicketLanguageAutodetected: !1
                }
            })
        }
        , () => {
            const e = !d;
            r.setIsAutoTranslateEnabled(e),
            FB({
                eventType: e ? ge : he,
                controller: r,
                metaDataOverride: {
                    isAutoTranslateEnabled: e
                }
            })
        }
        , () => {
            n(3, u = !u)
        }
        , r, ({language: e, isDetected: t, isSupported: o}) => {
            n(0, s.language = e, s),
            n(0, s.isDetected = t, s),
            n(0, s.isSupported = o, s)
        }
        , e => {
            n(1, d = e)
        }
        , l, () => n(3, u = !1), function(e) {
            Oh[e ? "unshift" : "push"](( () => {
                a = e,
                n(2, a)
            }
            ))
        }
        ]
    }
    class Nw extends pf {
        constructor(e) {
            super(),
            uf(this, e, Ow, Mw, Ag, {
                controller: 8,
                updateLanguageInformation: 9,
                updateAutoTranslateStatus: 10
            })
        }
        get updateLanguageInformation() {
            return this.$$.ctx[9]
        }
        get updateAutoTranslateStatus() {
            return this.$$.ctx[10]
        }
    }
    class Dw {
        static HTML_TAG_NAME = "deepl-zendesk-toolbar";
        static createElement = (e=document) => {
            const t = e.createElement(Dw.HTML_TAG_NAME)
              , n = new Dw(t);
            return t.createDOM = n.createDOM,
            t.cleanupDOM = n.cleanupDOM,
            t.updateLanguageInformation = n.updateLanguageInformation,
            t.updateAutoTranslateStatus = n.updateAutoTranslateStatus,
            t
        }
        ;
        constructor(e) {
            this.domElement = e,
            this.domElement.shadow = this.domElement.attachShadow({
                mode: "open"
            }),
            this.domElement.shadowContainer = document.createElement("div"),
            this.domElement.mainComponent;
            const t = document.createElement("link");
            t.setAttribute("rel", "stylesheet"),
            t.setAttribute("href", chrome.runtime.getURL("build/content.css")),
            this.domElement.shadow.appendChild(t),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer)
        }
        createDOM = ({controller: e}) => {
            this.domElement.mainComponent = new Nw({
                target: this.domElement.shadowContainer,
                props: {
                    onClose: this.cleanupDOM,
                    controller: e
                }
            })
        }
        ;
        updateLanguageInformation = e => {
            this.domElement.mainComponent.updateLanguageInformation(e)
        }
        ;
        updateAutoTranslateStatus = e => {
            this.domElement.mainComponent.updateAutoTranslateStatus(e)
        }
        ;
        cleanupDOM = () => {
            this.domElement.shadowContainer.remove(),
            this.domElement.mainComponent && this.domElement.mainComponent.$destroy()
        }
    }
    function Pw(e) {
        let t, n, o, i, r;
        return n = new Xy({
            props: {
                error: e[1],
                close: e[2]
            }
        }),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                ch(t, "class", "container svelte-1wstx56"),
                ch(t, "dir", Vt())
            },
            m(e, o) {
                Qg(e, t, o),
                cf(n, t, null),
                r = !0
            },
            p(e, t) {
                const o = {};
                2 & t && (o.error = e[1]),
                4 & t && (o.close = e[2]),
                n.$set(o)
            },
            i(e) {
                r || (Jh(n.$$.fragment, e),
                Wh(( () => {
                    r && (i && i.end(1),
                    o = nf(t, Kf, {
                        x: 100,
                        duration: 1e3
                    }),
                    o.start())
                }
                )),
                r = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                o && o.invalidate(),
                i = of(t, Kf, {
                    x: 100,
                    duration: 1e3
                }),
                r = !1
            },
            d(e) {
                e && Jg(t),
                df(n),
                e && i && i.end()
            }
        }
    }
    function Uw(e) {
        let t, n, o = e[3] && !1 === e[0] && Pw(e);
        return {
            c() {
                o && o.c(),
                t = rh()
            },
            m(e, i) {
                o && o.m(e, i),
                Qg(e, t, i),
                n = !0
            },
            p(e, [n]) {
                e[3] && !1 === e[0] ? o ? (o.p(e, n),
                9 & n && Jh(o, 1)) : (o = Pw(e),
                o.c(),
                Jh(o, 1),
                o.m(t.parentNode, t)) : o && (Xh(),
                ef(o, 1, 1, ( () => {
                    o = null
                }
                )),
                Qh())
            },
            i(e) {
                n || (Jh(o),
                n = !0)
            },
            o(e) {
                ef(o),
                n = !1
            },
            d(e) {
                e && Jg(t),
                o && o.d(e)
            }
        }
    }
    function Bw(e, t, n) {
        let o;
        Mg(e, iv, (e => n(4, o = e))),
        Lh("text_direction", Vt());
        let {error: i} = t
          , {close: r} = t
          , {errorAlreadyShown: s} = t
          , a = !1;
        return Ch(( () => {
            setTimeout(( () => {
                n(3, a = !0),
                n(0, s = o)
            }
            ), 100)
        }
        )),
        e.$$set = e => {
            "error"in e && n(1, i = e.error),
            "close"in e && n(2, r = e.close),
            "errorAlreadyShown"in e && n(0, s = e.errorAlreadyShown)
        }
        ,
        [s, i, r, a]
    }
    class Ww extends pf {
        constructor(e) {
            super(),
            uf(this, e, Bw, Uw, Ag, {
                error: 1,
                close: 2,
                errorAlreadyShown: 0
            })
        }
    }
    class Fw {
        static HTML_TAG_NAME = "deepl-alert";
        static createElement = (e=document) => {
            const t = e.createElement(Fw.HTML_TAG_NAME)
              , n = new Fw(t);
            return t.createDOM = n.createDOM,
            t.cleanupDOM = n.cleanupDOM,
            t
        }
        ;
        constructor(e) {
            this.domElement = e,
            this.domElement.shadow = this.domElement.attachShadow({
                mode: "open"
            }),
            this.domElement.shadowContainer = document.createElement("div"),
            this.domElement.mainComponent = void 0;
            const t = document.createElement("link");
            t.setAttribute("rel", "stylesheet"),
            t.setAttribute("href", chrome.runtime.getURL("build/content.css")),
            this.domElement.shadow.appendChild(t),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer),
            this.domElement.shadowContainer.addEventListener("click", (e => {
                e.stopPropagation(),
                e.stopImmediatePropagation()
            }
            ))
        }
        createDOM = e => {
            const t = "rtl" === Vt() ? "left" : "right";
            this.domElement.shadowContainer.style.cssText = `position: fixed; top: 20px; ${t}: 20px; z-index: ${P.deepl_inline_ui.z_index}`,
            this.domElement.mainComponent = new Ww({
                target: this.domElement.shadowContainer,
                props: {
                    error: e,
                    close: this.cleanupDOM
                }
            })
        }
        ;
        cleanupDOM = () => {
            this.domElement.shadowContainer.remove(),
            this.domElement.mainComponent && this.domElement.mainComponent.$destroy(),
            this.domElement.remove()
        }
    }
    function zw(e) {
        try {
            const t = Fw.createElement();
            document.documentElement.appendChild(t),
            t.createDOM(e),
            x_(( () => t.cleanupDOM))
        } catch (e) {
            hn() && console.log(e)
        }
    }
    const Hw = function() {
        let e = {
            isDarkMode: dt()
        };
        const {subscribe: t, update: n} = gf(e);
        return window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change", ( () => {
            n((e => ({
                ...e,
                isDarkMode: dt()
            })))
        }
        )),
        {
            subscribe: t,
            update: e => {
                if (hn() && !{
                    IS_PROD: !0,
                    BASE_URLS: {
                        dapApi: "https://s.deepl.com/chrome/statistics",
                        toolingApiPro: "https://api.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
                        toolingApi: "https://www2.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
                        toolingWriteApiPro: "https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
                        toolingWriteApi: "https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
                        classicApi: "https://www2.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
                        classicApiPro: "https://api.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
                        classicApiWrite: "https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
                        classicApiWritePro: "https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
                        classicApiGlossary: "https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.36.0",
                        interactiveTextApiFree: "https://ita-free.www.deepl.com/v1",
                        interactiveTextApiPro: "https://ita-pro.www.deepl.com/v1",
                        login: "https://www.deepl.com/auth/login",
                        token: "https://w.deepl.com/oidc/token",
                        logout: "https://www.deepl.com/auth/logout",
                        feedbackSurvey: "https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",
                        newFeedbackSurvey: "https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",
                        firefoxFeedbackSurvey: "https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",
                        uninstallSurvey: "https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",
                        gslidesFeedbackSurvey: "https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",
                        deeplDomain: "https://www.deepl.com",
                        deeplPro: "https://www.deepl.com/pro",
                        deeplProWrite: "https://www.deepl.com/pro-write",
                        deeplTranslator: "https://www.deepl.com/translator",
                        deeplDoctrans: "https://www.deepl.com/translator/files",
                        deeplTermsOfServiceFree: "https://www.deepl.com/en/pro-license?tab=free",
                        deeplCreateAccount: "https://www.deepl.com/signup",
                        extensionStorePage: "https://bit.ly/DeepL-Chrome",
                        supportArticle: "https://support.deepl.com/hc/articles/4407580229522",
                        deeplSupport: "https://support.deepl.com/hc",
                        chromeWebstore: "https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",
                        edgeWebstore: "https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",
                        firefoxWebstore: "https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",
                        firefoxShortcutDocs: "https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",
                        firefoxPrivacyPolicy: "https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",
                        clientStateApi: "https://w.deepl.com/web",
                        experimentsEndpoint: "https://experimentation.deepl.com/experiments",
                        gmailFeedbackSurvey: "https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",
                        customerSegmentationSurveyFree: "https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",
                        customerSegmentationSurveyPro: "https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",
                        arabicSurvey: "https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ",
                        msAddinsDeepLAds: "https://www.deepl.com/en/microsoft-365",
                        getFreeAccount: "https://www.deepl.com/en/signup?cta=free-login-signup",
                        uninstallPage: "https://www.deepl.com/extension-uninstall"
                    },
                    APP_VERSION: "1.36.0",
                    FEATURE_FLAGS: {
                        TRANSLATE_INPUT: !0,
                        PAGE_TRANSLATION: !0,
                        IMPROVE_WRITING: !0,
                        DOCUMENT_TRANSLATION: !0,
                        RECOMMEND_TO_A_FRIEND: !0,
                        PRO_LOGIN: !0,
                        WEBPAGE_CUSTOMIZER: !0,
                        GDOCS_INTEGRATION: !0,
                        ZENDESK_INTEGRATION: !0,
                        GMAIL_INTEGRATION: !0,
                        GSLIDES_INTEGRATION: !0,
                        ON_INSTALL_ONBOARDING: !0,
                        WHATSAPP_TRANSLATE_ALL_CHAT: !1,
                        DEEPL_WRITE_GENERAL: !1,
                        DEEPL_WRITE_GDOCS: !0,
                        SHOW_CUSTOMER_SEGMENTATION_SURVEY: !1,
                        ARABIC_SURVEY: !0,
                        BATCH_TRANSLATE_HTML_REQUEST: !0,
                        SIDE_PANEL: !1,
                        SIDE_PANEL_FIREFOX: !1
                    }
                }.DISABLE_DEBUG_LOGS) {
                    const t = "background-color: #403f3e;padding: 3px; font-size:12px;color:#c8e0c1; font-weight:600";
                    console.log(`%c${(new Date).toISOString()} UPDATE WEBSITE STATE`, t, e)
                }
                n((t => (e?.error ? zw(e.error) : iv.set(!1),
                {
                    ...t,
                    ...e,
                    error: e.error ? e.error : void 0
                })))
            }
        }
    }();
    e.websiteData = void 0;
    const jw = Hw.subscribe((n => {
        e.websiteData = {
            ...n
        },
        n && Object.keys(n).length > 0 && t({
            action: "newWebsiteState",
            payload: {
                ...n
            }
        })
    }
    ));
    function Gw(e, t, n) {
        const o = e.slice();
        return o[27] = t[n],
        o
    }
    function qw(e, t, n) {
        const o = e.slice();
        return o[27] = t[n],
        o
    }
    function Vw(e) {
        let t, n, o, i, r;
        return n = new B_({
            props: {
                disabled: e[1],
                items: e[16],
                defaultOption: e[18],
                placeholder: e[17],
                dataQaButton: e[15],
                dataQaList: "deepl-language-selection-list",
                customClass: e[3],
                variant: e[5],
                fontSize: e[6],
                alignRight: e[7],
                isBorderless: e[8],
                showSortCode: e[9],
                extraPadding: e[10],
                dropdownMaxHeight: e[11],
                autoHeight: e[12]
            }
        }),
        n.$on("valueselected", e[20]),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment)
            },
            m(s, a) {
                Qg(s, t, a),
                cf(n, t, null),
                o = !0,
                i || (r = sh(t, "mousedown", lh(ah(e[25]))),
                i = !0)
            },
            p(e, t) {
                const o = {};
                2 & t[0] && (o.disabled = e[1]),
                65536 & t[0] && (o.items = e[16]),
                262144 & t[0] && (o.defaultOption = e[18]),
                131072 & t[0] && (o.placeholder = e[17]),
                32768 & t[0] && (o.dataQaButton = e[15]),
                8 & t[0] && (o.customClass = e[3]),
                32 & t[0] && (o.variant = e[5]),
                64 & t[0] && (o.fontSize = e[6]),
                128 & t[0] && (o.alignRight = e[7]),
                256 & t[0] && (o.isBorderless = e[8]),
                512 & t[0] && (o.showSortCode = e[9]),
                1024 & t[0] && (o.extraPadding = e[10]),
                2048 & t[0] && (o.dropdownMaxHeight = e[11]),
                4096 & t[0] && (o.autoHeight = e[12]),
                n.$set(o)
            },
            i(e) {
                o || (Jh(n.$$.fragment, e),
                o = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                o = !1
            },
            d(e) {
                e && Jg(t),
                df(n),
                i = !1,
                r()
            }
        }
    }
    function Yw(e) {
        let t, n, o, i, r, s;
        function a(e, t) {
            return e[0] ? Xw : e[14] ? Zw : void 0
        }
        let l = a(e)
          , c = l && l(e)
          , d = sf(e[16])
          , u = [];
        for (let t = 0; t < d.length; t += 1)
            u[t] = Qw(Gw(e, d, t));
        return {
            c() {
                t = th("div"),
                n = th("select"),
                c && c.c(),
                o = rh();
                for (let e = 0; e < u.length; e += 1)
                    u[e].c();
                ch(n, "data-qa", "deepl-language-selection"),
                ch(n, "aria-label", "Select Language"),
                ch(n, "class", "svelte-1ww98o"),
                ch(t, "class", i = Bg("alternate" === e[5] ? "language-selector-alternate" : "language-selector") + " svelte-1ww98o")
            },
            m(i, a) {
                Qg(i, t, a),
                Kg(t, n),
                c && c.m(n, null),
                Kg(n, o);
                for (let e = 0; e < u.length; e += 1)
                    u[e] && u[e].m(n, null);
                mh(n, e[2]),
                r || (s = sh(n, "change", ah(e[26])),
                r = !0)
            },
            p(e, r) {
                if (l === (l = a(e)) && c ? c.p(e, r) : (c && c.d(1),
                c = l && l(e),
                c && (c.c(),
                c.m(n, o))),
                65536 & r[0]) {
                    let t;
                    for (d = sf(e[16]),
                    t = 0; t < d.length; t += 1) {
                        const o = Gw(e, d, t);
                        u[t] ? u[t].p(o, r) : (u[t] = Qw(o),
                        u[t].c(),
                        u[t].m(n, null))
                    }
                    for (; t < u.length; t += 1)
                        u[t].d(1);
                    u.length = d.length
                }
                65540 & r[0] && mh(n, e[2]),
                32 & r[0] && i !== (i = Bg("alternate" === e[5] ? "language-selector-alternate" : "language-selector") + " svelte-1ww98o") && ch(t, "class", i)
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                c && c.d(),
                eh(u, e),
                r = !1,
                s()
            }
        }
    }
    function Kw(e) {
        let t, n, o, i, r = sf(e[16]), s = [];
        for (let t = 0; t < r.length; t += 1)
            s[t] = Jw(qw(e, r, t));
        return {
            c() {
                t = th("div"),
                n = th("select");
                for (let e = 0; e < s.length; e += 1)
                    s[e].c();
                n.disabled = !0,
                ch(n, "data-qa", "deepl-language-selection-readonly"),
                ch(n, "aria-label", "Select Language - dropdown disabled"),
                ch(n, "class", "svelte-1ww98o"),
                ch(t, "class", "language-selector read-only svelte-1ww98o")
            },
            m(r, a) {
                Qg(r, t, a),
                Kg(t, n);
                for (let e = 0; e < s.length; e += 1)
                    s[e] && s[e].m(n, null);
                mh(n, e[2]),
                o || (i = sh(n, "change", ah(tb)),
                o = !0)
            },
            p(e, t) {
                if (65536 & t[0]) {
                    let o;
                    for (r = sf(e[16]),
                    o = 0; o < r.length; o += 1) {
                        const i = qw(e, r, o);
                        s[o] ? s[o].p(i, t) : (s[o] = Jw(i),
                        s[o].c(),
                        s[o].m(n, null))
                    }
                    for (; o < s.length; o += 1)
                        s[o].d(1);
                    s.length = r.length
                }
                65540 & t[0] && mh(n, e[2])
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                eh(s, e),
                o = !1,
                i()
            }
        }
    }
    function Zw(e) {
        let t, n, o;
        return {
            c() {
                t = th("option"),
                n = oh(e[14]),
                o = ih(),
                t.__value = void 0,
                uh(t, t.__value),
                ch(t, "data-option-regionalvariant", void 0)
            },
            m(e, i) {
                Qg(e, t, i),
                Kg(t, n),
                Kg(t, o)
            },
            p(e, t) {
                16384 & t[0] && dh(n, e[14])
            },
            d(e) {
                e && Jg(t)
            }
        }
    }
    function Xw(e) {
        let t, n, o, i = chrome.i18n.getMessage("supported_languages_undefined") + "";
        return {
            c() {
                t = th("option"),
                n = oh(i),
                o = ih(),
                t.__value = void 0,
                uh(t, t.__value),
                ch(t, "data-option-regionalvariant", void 0)
            },
            m(e, i) {
                Qg(e, t, i),
                Kg(t, n),
                Kg(t, o)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function Qw(e) {
        let t, n, o, i, r, s = e[27].label + "";
        return {
            c() {
                t = th("option"),
                n = oh(s),
                o = ih(),
                t.__value = i = e[27].value,
                uh(t, t.__value),
                ch(t, "data-option-regionalvariant", r = e[27].regionalVariant)
            },
            m(e, i) {
                Qg(e, t, i),
                Kg(t, n),
                Kg(t, o)
            },
            p(e, o) {
                65536 & o[0] && s !== (s = e[27].label + "") && dh(n, s),
                65536 & o[0] && i !== (i = e[27].value) && (t.__value = i,
                uh(t, t.__value)),
                65536 & o[0] && r !== (r = e[27].regionalVariant) && ch(t, "data-option-regionalvariant", r)
            },
            d(e) {
                e && Jg(t)
            }
        }
    }
    function Jw(e) {
        let t, n, o, i, r, s = e[27].label + "";
        return {
            c() {
                t = th("option"),
                n = oh(s),
                o = ih(),
                t.__value = i = e[27].value,
                uh(t, t.__value),
                ch(t, "data-option-regionalvariant", r = e[27].regionalVariant)
            },
            m(e, i) {
                Qg(e, t, i),
                Kg(t, n),
                Kg(t, o)
            },
            p(e, o) {
                65536 & o[0] && s !== (s = e[27].label + "") && dh(n, s),
                65536 & o[0] && i !== (i = e[27].value) && (t.__value = i,
                uh(t, t.__value)),
                65536 & o[0] && r !== (r = e[27].regionalVariant) && ch(t, "data-option-regionalvariant", r)
            },
            d(e) {
                e && Jg(t)
            }
        }
    }
    function eb(e) {
        let t, n, o, i, r;
        const s = [Kw, Yw, Vw]
          , a = [];
        function l(e, n) {
            return e[13] ? 0 : (null == t && (t = !!ov()),
            t ? 1 : 2)
        }
        return n = l(e),
        o = a[n] = s[n](e),
        {
            c() {
                o.c(),
                i = rh()
            },
            m(e, t) {
                a[n].m(e, t),
                Qg(e, i, t),
                r = !0
            },
            p(e, t) {
                let r = n;
                n = l(e),
                n === r ? a[n].p(e, t) : (Xh(),
                ef(a[r], 1, 1, ( () => {
                    a[r] = null
                }
                )),
                Qh(),
                o = a[n],
                o ? o.p(e, t) : (o = a[n] = s[n](e),
                o.c()),
                Jh(o, 1),
                o.m(i.parentNode, i))
            },
            i(e) {
                r || (Jh(o),
                r = !0)
            },
            o(e) {
                ef(o),
                r = !1
            },
            d(e) {
                e && Jg(i),
                a[n].d(e)
            }
        }
    }
    const tb = () => {}
    ;
    function nb(e, t, n) {
        let o, i, r = xg, s = () => (r(),
        r = Rg(p, (e => n(24, i = e))),
        p);
        e.$$.on_destroy.push(( () => r()));
        const a = Ih();
        let {value: l} = t
          , {showChooseLanguageOption: c=!1} = t
          , {customClass: d=""} = t
          , {websiteSettings: p} = t;
        s();
        let m, g, {disabled: h=!1} = t, {variant: f="original"} = t, {fontSize: _="default"} = t, {alignRight: v=!1} = t, {isBorderless: y=!1} = t, {showSortCode: w=!1} = t, {extraPadding: b=!1} = t, {showRegionalVariants: E=!0} = t, {dropdownMaxHeight: T=300} = t, {onlyShowWriteEnabledLanguages: S=!1} = t, {autoHeight: x} = t, {readOnly: $=!1} = t, {placeholderText: C} = t, {dataQaButton: k="deepl-language-selection-button"} = t, {languages: I} = t;
        m = c ? chrome.i18n.getMessage("supported_languages_undefined") : void 0,
        C && (c = !1,
        m = C);
        return e.$$set = e => {
            "value"in e && n(2, l = e.value),
            "showChooseLanguageOption"in e && n(0, c = e.showChooseLanguageOption),
            "customClass"in e && n(3, d = e.customClass),
            "websiteSettings"in e && s(n(4, p = e.websiteSettings)),
            "disabled"in e && n(1, h = e.disabled),
            "variant"in e && n(5, f = e.variant),
            "fontSize"in e && n(6, _ = e.fontSize),
            "alignRight"in e && n(7, v = e.alignRight),
            "isBorderless"in e && n(8, y = e.isBorderless),
            "showSortCode"in e && n(9, w = e.showSortCode),
            "extraPadding"in e && n(10, b = e.extraPadding),
            "showRegionalVariants"in e && n(21, E = e.showRegionalVariants),
            "dropdownMaxHeight"in e && n(11, T = e.dropdownMaxHeight),
            "onlyShowWriteEnabledLanguages"in e && n(22, S = e.onlyShowWriteEnabledLanguages),
            "autoHeight"in e && n(12, x = e.autoHeight),
            "readOnly"in e && n(13, $ = e.readOnly),
            "placeholderText"in e && n(14, C = e.placeholderText),
            "dataQaButton"in e && n(15, k = e.dataQaButton),
            "languages"in e && n(23, I = e.languages)
        }
        ,
        e.$$.update = () => {
            14745600 & e.$$.dirty[0] && (I ? n(16, g = I) : (n(16, g = E ? Ft() : zt()),
            S && n(16, g = g.filter((e => Gt(e.value)))))),
            65540 & e.$$.dirty[0] && n(18, o = l ? g.find((e => e.value === l)) : void 0),
            16777216 & e.$$.dirty[0] && (i && i.translationState === u.ongoingTranslation ? n(1, h = !0) : i && [u.none, u.isTranslationComplete].includes(i.translationState) && n(1, h = !1))
        }
        ,
        [c, h, l, d, p, f, _, v, y, w, b, T, x, $, C, k, g, m, o, a, function(e) {
            h || a("selection", e.detail)
        }
        , E, S, I, i, function(t) {
            Rh.call(this, e, t)
        }
        , e => {
            if (h)
                return;
            const t = e.target.options[e.target.selectedIndex].getAttribute("data-option-regionalVariant") || void 0;
            a("selection", {
                selectedOption: {
                    value: e.target.value,
                    regionalVariant: t
                }
            })
        }
        ]
    }
    class ob extends pf {
        constructor(e) {
            super(),
            uf(this, e, nb, eb, Ag, {
                value: 2,
                showChooseLanguageOption: 0,
                customClass: 3,
                websiteSettings: 4,
                disabled: 1,
                variant: 5,
                fontSize: 6,
                alignRight: 7,
                isBorderless: 8,
                showSortCode: 9,
                extraPadding: 10,
                showRegionalVariants: 21,
                dropdownMaxHeight: 11,
                onlyShowWriteEnabledLanguages: 22,
                autoHeight: 12,
                readOnly: 13,
                placeholderText: 14,
                dataQaButton: 15,
                languages: 23
            }, null, [-1, -1])
        }
    }
    function ib(e) {
        let t, n, o, i;
        return {
            c() {
                t = nh("svg"),
                n = nh("path"),
                ch(n, "d", "M1 7L5 11L15 1"),
                ch(n, "stroke", o = e[0] ? e[3] : e[4]),
                ch(n, "stroke-width", "2"),
                ch(n, "stroke-linecap", "round"),
                ch(n, "stroke-linejoin", "round"),
                ch(n, "class", "svelte-mrm8jk"),
                ch(t, "width", e[2]),
                ch(t, "height", e[1]),
                ch(t, "class", "checkmark svelte-mrm8jk"),
                ch(t, "viewBox", "0 0 16 12"),
                ch(t, "fill", "none"),
                ch(t, "xmlns", "http://www.w3.org/2000/svg"),
                ch(t, "style", i = `padding: ${e[6]};`),
                fh(t, "enableHover", e[5])
            },
            m(e, o) {
                Qg(e, t, o),
                Kg(t, n)
            },
            p(e, [r]) {
                25 & r && o !== (o = e[0] ? e[3] : e[4]) && ch(n, "stroke", o),
                4 & r && ch(t, "width", e[2]),
                2 & r && ch(t, "height", e[1]),
                64 & r && i !== (i = `padding: ${e[6]};`) && ch(t, "style", i),
                32 & r && fh(t, "enableHover", e[5])
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function rb(e, t, n) {
        let {disabled: o=!1} = t
          , {height: i="16px"} = t
          , {width: r="16px"} = t
          , {disabledColor: s="#727A83"} = t
          , {enabledColor: a="#007E5E"} = t
          , {enableHover: l=!1} = t
          , {padding: c} = t;
        return e.$$set = e => {
            "disabled"in e && n(0, o = e.disabled),
            "height"in e && n(1, i = e.height),
            "width"in e && n(2, r = e.width),
            "disabledColor"in e && n(3, s = e.disabledColor),
            "enabledColor"in e && n(4, a = e.enabledColor),
            "enableHover"in e && n(5, l = e.enableHover),
            "padding"in e && n(6, c = e.padding)
        }
        ,
        [o, i, r, s, a, l, c]
    }
    class sb extends pf {
        constructor(e) {
            super(),
            uf(this, e, rb, ib, Ag, {
                disabled: 0,
                height: 1,
                width: 2,
                disabledColor: 3,
                enabledColor: 4,
                enableHover: 5,
                padding: 6
            })
        }
    }
    function ab(e, t, n) {
        const o = e.slice();
        return o[19] = t[n],
        o[21] = n,
        o
    }
    function lb(e, t, n) {
        const o = e.slice();
        return o[22] = t[n],
        o
    }
    function cb(e, t, n) {
        const o = e.slice();
        return o[25] = t[n],
        o
    }
    function db(e) {
        let t, n, o, i, r, s, a, l, c, d, u = e[5].name + "", p = sf(e[5].termDictionaries), m = [];
        for (let t = 0; t < p.length; t += 1)
            m[t] = ub(cb(e, p, t));
        let g = e[5].hasAdditionalPairs && pb(e);
        return {
            c() {
                t = th("div"),
                n = th("div"),
                o = th("div"),
                i = oh(u),
                r = ih();
                for (let e = 0; e < m.length; e += 1)
                    m[e].c();
                s = ih(),
                g && g.c(),
                a = ih(),
                l = th("div"),
                l.textContent = "Remove",
                ch(o, "class", "title"),
                ch(l, "class", "remove-button svelte-1ium3jp"),
                ch(n, "class", "glossary-menu-active-glossary-display svelte-1ium3jp"),
                ch(t, "class", "glossary-menu-active-glossary-display-container svelte-1ium3jp")
            },
            m(u, p) {
                Qg(u, t, p),
                Kg(t, n),
                Kg(n, o),
                Kg(o, i),
                Kg(n, r);
                for (let e = 0; e < m.length; e += 1)
                    m[e] && m[e].m(n, null);
                Kg(n, s),
                g && g.m(n, null),
                Kg(n, a),
                Kg(n, l),
                c || (d = sh(l, "click", e[9]),
                c = !0)
            },
            p(e, t) {
                if (32 & t && u !== (u = e[5].name + "") && dh(i, u),
                2080 & t) {
                    let o;
                    for (p = sf(e[5].termDictionaries),
                    o = 0; o < p.length; o += 1) {
                        const i = cb(e, p, o);
                        m[o] ? m[o].p(i, t) : (m[o] = ub(i),
                        m[o].c(),
                        m[o].m(n, s))
                    }
                    for (; o < m.length; o += 1)
                        m[o].d(1);
                    m.length = p.length
                }
                e[5].hasAdditionalPairs ? g ? g.p(e, t) : (g = pb(e),
                g.c(),
                g.m(n, a)) : g && (g.d(1),
                g = null)
            },
            d(e) {
                e && Jg(t),
                eh(m, e),
                g && g.d(),
                c = !1,
                d()
            }
        }
    }
    function ub(e) {
        let t, n = e[11](e[25].languagePair) + "";
        return {
            c() {
                t = th("div"),
                ch(t, "class", "lang-pair svelte-1ium3jp")
            },
            m(e, o) {
                Qg(e, t, o),
                t.innerHTML = n
            },
            p(e, o) {
                32 & o && n !== (n = e[11](e[25].languagePair) + "") && (t.innerHTML = n)
            },
            d(e) {
                e && Jg(t)
            }
        }
    }
    function pb(e) {
        let t, n, o;
        return {
            c() {
                t = th("div"),
                t.textContent = `${chrome.i18n.getMessage("glossary_settings_show_more_lang_pairs")}...`,
                ch(t, "class", "show-more svelte-1ium3jp")
            },
            m(i, r) {
                Qg(i, t, r),
                n || (o = sh(t, "click", e[13]),
                n = !0)
            },
            p: xg,
            d(e) {
                e && Jg(t),
                n = !1,
                o()
            }
        }
    }
    function mb(e) {
        let t;
        function n(e, t) {
            return e[0] ? e[3] || 0 !== e[1].length ? gb : hb : fb
        }
        let o = n(e)
          , i = o(e);
        return {
            c() {
                i.c(),
                t = rh()
            },
            m(e, n) {
                i.m(e, n),
                Qg(e, t, n)
            },
            p(e, r) {
                o === (o = n(e)) && i ? i.p(e, r) : (i.d(1),
                i = o(e),
                i && (i.c(),
                i.m(t.parentNode, t)))
            },
            d(e) {
                e && Jg(t),
                i.d(e)
            }
        }
    }
    function gb(e) {
        let t, n = sf(e[6]), o = [];
        for (let t = 0; t < n.length; t += 1)
            o[t] = wb(ab(e, n, t));
        return {
            c() {
                t = th("div");
                for (let e = 0; e < o.length; e += 1)
                    o[e].c();
                ch(t, "class", "glossary-list svelte-1ium3jp")
            },
            m(e, n) {
                Qg(e, t, n);
                for (let e = 0; e < o.length; e += 1)
                    o[e] && o[e].m(t, null)
            },
            p(e, i) {
                if (3270 & i) {
                    let r;
                    for (n = sf(e[6]),
                    r = 0; r < n.length; r += 1) {
                        const s = ab(e, n, r);
                        o[r] ? o[r].p(s, i) : (o[r] = wb(s),
                        o[r].c(),
                        o[r].m(t, null))
                    }
                    for (; r < o.length; r += 1)
                        o[r].d(1);
                    o.length = n.length
                }
            },
            d(e) {
                e && Jg(t),
                eh(o, e)
            }
        }
    }
    function hb(e) {
        let t, n, o, i, r;
        return {
            c() {
                t = th("div"),
                n = th("div"),
                o = th("div"),
                o.innerHTML = '<div class="icon svelte-1ium3jp"></div>',
                i = ih(),
                r = th("div"),
                r.textContent = `${chrome.i18n.getMessage("zendesk_no_glossaries_found")}`,
                ch(o, "class", "icon-container svelte-1ium3jp"),
                ch(r, "class", "content svelte-1ium3jp"),
                ch(n, "class", "container svelte-1ium3jp"),
                ch(t, "class", "glossary-not-found svelte-1ium3jp")
            },
            m(e, s) {
                Qg(e, t, s),
                Kg(t, n),
                Kg(n, o),
                Kg(n, i),
                Kg(n, r)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function fb(e) {
        let t, n, o, i, r;
        return {
            c() {
                t = th("div"),
                n = th("div"),
                o = th("div"),
                o.innerHTML = '<div class="icon svelte-1ium3jp"></div>',
                i = ih(),
                r = th("div"),
                r.textContent = `${chrome.i18n.getMessage("zendesk_not_pro_user_body")}`,
                ch(o, "class", "icon-container svelte-1ium3jp"),
                ch(r, "class", "content svelte-1ium3jp"),
                ch(n, "class", "container svelte-1ium3jp"),
                ch(t, "class", "glossary-not-found svelte-1ium3jp")
            },
            m(e, s) {
                Qg(e, t, s),
                Kg(t, n),
                Kg(n, o),
                Kg(n, i),
                Kg(n, r)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function _b(e) {
        let t, n, o = e[11](e[22].languagePair) + "";
        return {
            c() {
                t = th("div"),
                n = oh(o),
                ch(t, "class", "lang-pair svelte-1ium3jp")
            },
            m(e, o) {
                Qg(e, t, o),
                Kg(t, n)
            },
            p(e, t) {
                64 & t && o !== (o = e[11](e[22].languagePair) + "") && dh(n, o)
            },
            d(e) {
                e && Jg(t)
            }
        }
    }
    function vb(e) {
        let t, n, o;
        function i() {
            return e[14](e[19])
        }
        return {
            c() {
                t = th("div"),
                t.textContent = `${chrome.i18n.getMessage("glossary_settings_show_more_lang_pairs")}...`,
                ch(t, "class", "show-more svelte-1ium3jp")
            },
            m(e, r) {
                Qg(e, t, r),
                n || (o = sh(t, "click", i),
                n = !0)
            },
            p(t, n) {
                e = t
            },
            d(e) {
                e && Jg(t),
                n = !1,
                o()
            }
        }
    }
    function yb(e) {
        let t;
        return {
            c() {
                t = th("div"),
                ch(t, "class", "divider svelte-1ium3jp")
            },
            m(e, n) {
                Qg(e, t, n)
            },
            d(e) {
                e && Jg(t)
            }
        }
    }
    function wb(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h = e[19].name + "", f = sf(e[19].termDictionaries), _ = [];
        for (let t = 0; t < f.length; t += 1)
            _[t] = _b(lb(e, f, t));
        let v = e[19].hasAdditionalPairs && vb(e);
        function y() {
            return e[15](e[19])
        }
        let w = e[21] < e[1].length - 1 && yb();
        return {
            c() {
                t = th("div"),
                n = th("div"),
                o = th("div"),
                i = oh(h),
                r = ih();
                for (let e = 0; e < _.length; e += 1)
                    _[e].c();
                s = ih(),
                v && v.c(),
                a = ih(),
                l = th("div"),
                c = th("input"),
                u = ih(),
                w && w.c(),
                p = rh(),
                ch(o, "class", "name"),
                ch(n, "class", "info svelte-1ium3jp"),
                ch(c, "type", "radio"),
                c.checked = d = e[2]?.zendeskActiveTermbase?.id === e[19].id,
                ch(c, "class", "svelte-1ium3jp"),
                ch(l, "class", "radio-container svelte-1ium3jp"),
                ch(t, "class", "glossary-item svelte-1ium3jp")
            },
            m(e, d) {
                Qg(e, t, d),
                Kg(t, n),
                Kg(n, o),
                Kg(o, i),
                Kg(n, r);
                for (let e = 0; e < _.length; e += 1)
                    _[e] && _[e].m(n, null);
                Kg(n, s),
                v && v.m(n, null),
                Kg(t, a),
                Kg(t, l),
                Kg(l, c),
                Qg(e, u, d),
                w && w.m(e, d),
                Qg(e, p, d),
                m || (g = sh(c, "click", y),
                m = !0)
            },
            p(t, o) {
                if (e = t,
                64 & o && h !== (h = e[19].name + "") && dh(i, h),
                2112 & o) {
                    let t;
                    for (f = sf(e[19].termDictionaries),
                    t = 0; t < f.length; t += 1) {
                        const i = lb(e, f, t);
                        _[t] ? _[t].p(i, o) : (_[t] = _b(i),
                        _[t].c(),
                        _[t].m(n, s))
                    }
                    for (; t < _.length; t += 1)
                        _[t].d(1);
                    _.length = f.length
                }
                e[19].hasAdditionalPairs ? v ? v.p(e, o) : (v = vb(e),
                v.c(),
                v.m(n, null)) : v && (v.d(1),
                v = null),
                68 & o && d !== (d = e[2]?.zendeskActiveTermbase?.id === e[19].id) && (c.checked = d),
                e[21] < e[1].length - 1 ? w || (w = yb(),
                w.c(),
                w.m(p.parentNode, p)) : w && (w.d(1),
                w = null)
            },
            d(e) {
                e && (Jg(t),
                Jg(u),
                Jg(p)),
                eh(_, e),
                v && v.d(),
                w && w.d(e),
                m = !1,
                g()
            }
        }
    }
    function bb(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p = e[5] && db(e), m = e[4] && mb(e);
        return {
            c() {
                t = th("div"),
                n = th("div"),
                o = th("div"),
                i = th("div"),
                i.textContent = "Glossary",
                r = ih(),
                s = th("div"),
                a = ih(),
                p && p.c(),
                l = ih(),
                m && m.c(),
                c = rh(),
                ch(i, "class", "glossary-menu-text"),
                ch(s, "class", "glossary-menu-toggle svelte-1ium3jp"),
                fh(s, "isGlossaryListExpanded", e[4]),
                ch(o, "class", "glossary-menu-toggle-container svelte-1ium3jp"),
                ch(n, "class", "glossary-menu"),
                ch(t, "class", "glossary-menu-container svelte-1ium3jp"),
                fh(t, "isGlossaryListExpanded", e[4])
            },
            m(g, h) {
                Qg(g, t, h),
                Kg(t, n),
                Kg(n, o),
                Kg(o, i),
                Kg(o, r),
                Kg(o, s),
                Kg(n, a),
                p && p.m(n, null),
                Qg(g, l, h),
                m && m.m(g, h),
                Qg(g, c, h),
                d || (u = sh(o, "click", e[8]),
                d = !0)
            },
            p(e, [o]) {
                16 & o && fh(s, "isGlossaryListExpanded", e[4]),
                e[5] ? p ? p.p(e, o) : (p = db(e),
                p.c(),
                p.m(n, null)) : p && (p.d(1),
                p = null),
                16 & o && fh(t, "isGlossaryListExpanded", e[4]),
                e[4] ? m ? m.p(e, o) : (m = mb(e),
                m.c(),
                m.m(c.parentNode, c)) : m && (m.d(1),
                m = null)
            },
            i: xg,
            o: xg,
            d(e) {
                e && (Jg(t),
                Jg(l),
                Jg(c)),
                p && p.d(),
                m && m.d(e),
                d = !1,
                u()
            }
        }
    }
    function Eb(e, n, o) {
        let i;
        Mg(e, hf, (e => o(2, i = e)));
        let {userHasZendeskPermissions: r} = n
          , s = []
          , a = !0
          , l = !1
          , c = []
          , d = null
          , u = [];
        const p = e => {
            o(12, c = [...c, e])
        }
          , m = e => {
            const n = s.find((t => t.id === e));
            n && (Wg(hf, i.zendeskActiveTermbase = n, i),
            t({
                action: "dlTrackGlossaryEnabled",
                payload: {
                    nicheIntegration: re.zendesk
                }
            }))
        }
          , g = async () => {
            o(3, a = !0);
            try {
                const [e] = await AB();
                o(1, s = e)
            } catch (e) {
                hn() && console.error(e)
            } finally {
                ( () => {
                    if (!i.zendeskActiveTermbase)
                        return;
                    if (!s || 0 === s.length)
                        return void Wg(hf, i.zendeskActiveTermbase = null, i);
                    const e = s.map((e => e.id));
                    if (i.zendeskActiveTermbase && e.includes(i.zendeskActiveTermbase.id)) {
                        const e = s.find((e => e.id === i.zendeskActiveTermbase.id));
                        Wg(hf, i.zendeskActiveTermbase = e, i)
                    } else
                        Wg(hf, i.zendeskActiveTermbase = null, i)
                }
                )(),
                o(3, a = !1)
            }
        }
          , h = async e => {
            if ("dlChangeActiveTabStatus" === e.action)
                e.payload.isActive && g();
            return !0
        }
        ;
        Ch(( () => {
            g(),
            chrome.runtime.onMessage.addListener(h)
        }
        )),
        kh(( () => {
            chrome.runtime.onMessage.removeListener(h)
        }
        ));
        return e.$$set = e => {
            "userHasZendeskPermissions"in e && o(0, r = e.userHasZendeskPermissions)
        }
        ,
        e.$$.update = () => {
            4098 & e.$$.dirty && o(6, u = s.map((e => c.includes(e.id) || e.termDictionaries.length <= 3 ? e : {
                ...e,
                termDictionaries: e.termDictionaries.slice(0, 3),
                hasAdditionalPairs: !0
            }))),
            4 & e.$$.dirty && (i.zendeskActiveTermbase || o(5, d = null)),
            4100 & e.$$.dirty && i.zendeskActiveTermbase && (c.includes(i.zendeskActiveTermbase.id) || i.zendeskActiveTermbase.termDictionaries.length <= 3 ? o(5, d = i.zendeskActiveTermbase) : o(5, d = {
                ...i.zendeskActiveTermbase,
                termDictionaries: i.zendeskActiveTermbase.termDictionaries.slice(0, 3),
                hasAdditionalPairs: !0
            }))
        }
        ,
        [r, s, i, a, l, d, u, p, () => {
            o(4, l = !l),
            l && (r || t({
                action: "dlTrackZendeskGlossaryOpened",
                payload: {
                    glossaryConfigOpenedWithoutGlossaryPermissions: !0
                }
            }),
            r && !a && 0 == s.length && t({
                action: "dlTrackZendeskGlossaryOpened",
                payload: {
                    glossaryConfigOpenedWithNoGlossariesFound: !0
                }
            }))
        }
        , () => {
            Wg(hf, i.zendeskActiveTermbase = null, i),
            t({
                action: "dlTrackGlossaryDisabled",
                payload: {
                    nicheIntegration: re.zendesk
                }
            })
        }
        , m, e => {
            if (!e || !e.includes(">"))
                return chrome.i18n.getMessage("supported_languages_undefined");
            const [t,n] = e.split(">");
            return `${chrome.i18n.getMessage(`supported_languages_${t.toUpperCase()}`)} â ${chrome.i18n.getMessage(`supported_languages_${n.toUpperCase()}`)}`
        }
        , c, () => {
            p(d.id)
        }
        , e => {
            p(e.id)
        }
        , e => m(e.id)]
    }
    class Tb extends pf {
        constructor(e) {
            super(),
            uf(this, e, Eb, bb, Ag, {
                userHasZendeskPermissions: 0
            })
        }
    }
    function Sb(e) {
        let t, n, o, i, r, s;
        const a = e[1].default
          , l = Og(a, e, e[0], null);
        return {
            c() {
                t = th("div"),
                n = th("div"),
                o = nh("svg"),
                i = nh("path"),
                r = ih(),
                l && l.c(),
                ch(i, "d", "M12 8V12M12 16H12.01M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z"),
                ch(i, "stroke", "#D6A300"),
                ch(i, "stroke-width", "1.5"),
                ch(i, "stroke-linecap", "round"),
                ch(i, "stroke-linejoin", "round"),
                ch(o, "width", "24"),
                ch(o, "height", "24"),
                ch(o, "viewBox", "0 0 24 24"),
                ch(o, "fill", "none"),
                ch(o, "xmlns", "http://www.w3.org/2000/svg"),
                ch(n, "class", "content svelte-hf4zwi"),
                ch(t, "class", "container svelte-hf4zwi")
            },
            m(e, a) {
                Qg(e, t, a),
                Kg(t, n),
                Kg(n, o),
                Kg(o, i),
                Kg(n, r),
                l && l.m(n, null),
                s = !0
            },
            p(e, [t]) {
                l && l.p && (!s || 1 & t) && Pg(l, a, e, e[0], s ? Dg(a, e[0], t, null) : Ug(e[0]), null)
            },
            i(e) {
                s || (Jh(l, e),
                s = !0)
            },
            o(e) {
                ef(l, e),
                s = !1
            },
            d(e) {
                e && Jg(t),
                l && l.d(e)
            }
        }
    }
    function xb(e, t, n) {
        let {$$slots: o={}, $$scope: i} = t;
        return e.$$set = e => {
            "$$scope"in e && n(0, i = e.$$scope)
        }
        ,
        [i, o]
    }
    class $b extends pf {
        constructor(e) {
            super(),
            uf(this, e, xb, Sb, Ag, {})
        }
    }
    function Cb(e) {
        let t, n, o, i, r, s = chrome.i18n.getMessage("zendesk_translations_left_info", [`${e[1]}/${be}`]) + "";
        return {
            c() {
                t = th("div"),
                n = th("div"),
                o = oh(e[0]),
                i = ih(),
                r = th("div"),
                ch(n, "class", "info-text svelte-62gn63"),
                ch(r, "class", "translation-info svelte-62gn63"),
                ch(t, "class", "container svelte-62gn63")
            },
            m(e, a) {
                Qg(e, t, a),
                Kg(t, n),
                Kg(n, o),
                Kg(t, i),
                Kg(t, r),
                r.innerHTML = s
            },
            p(e, [t]) {
                1 & t && dh(o, e[0]),
                2 & t && s !== (s = chrome.i18n.getMessage("zendesk_translations_left_info", [`${e[1]}/${be}`]) + "") && (r.innerHTML = s)
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function kb(e, t, n) {
        let {infoText: o} = t
          , {translationCount: i} = t;
        return e.$$set = e => {
            "infoText"in e && n(0, o = e.infoText),
            "translationCount"in e && n(1, i = e.translationCount)
        }
        ,
        [o, i]
    }
    class Ib extends pf {
        constructor(e) {
            super(),
            uf(this, e, kb, Cb, Ag, {
                infoText: 0,
                translationCount: 1
            })
        }
    }
    function Lb(e) {
        let t, n, o, i, r = chrome.i18n.getMessage("zendesk_popup_char_limit_label", [e[2]]) + "", s = chrome.i18n.getMessage("zendesk_popup_char_limit_content") + "";
        return {
            c() {
                t = th("div"),
                n = oh(r),
                o = ih(),
                i = oh(s),
                ch(t, "class", "translation-count svelte-6kl6z0")
            },
            m(e, r) {
                Qg(e, t, r),
                Kg(t, n),
                Qg(e, o, r),
                Qg(e, i, r)
            },
            p(e, t) {
                4 & t && r !== (r = chrome.i18n.getMessage("zendesk_popup_char_limit_label", [e[2]]) + "") && dh(n, r)
            },
            i: xg,
            o: xg,
            d(e) {
                e && (Jg(t),
                Jg(o),
                Jg(i))
            }
        }
    }
    function Ab(e) {
        let t, n;
        return t = new $b({
            props: {
                $$slots: {
                    default: [Ob]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                12 & n && (o.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function Rb(e) {
        let t, n;
        return t = new $b({
            props: {
                $$slots: {
                    default: [Nb]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                12 & n && (o.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function Mb(e) {
        let t, n, o, i, r, s;
        const a = [Ub, Pb, Db]
          , l = [];
        function c(e, o) {
            return 2 & o && (t = null),
            2 & o && (n = null),
            null == t && (t = !!it(e[1], Ee.TRANSLATOR)),
            t ? 0 : (null == n && (n = !!lt(e[1], Ee.TRANSLATOR)),
            n ? 1 : 2)
        }
        return o = c(e, -1),
        i = l[o] = a[o](e),
        {
            c() {
                i.c(),
                r = rh()
            },
            m(e, t) {
                l[o].m(e, t),
                Qg(e, r, t),
                s = !0
            },
            p(e, t) {
                let n = o;
                o = c(e, t),
                o === n ? l[o].p(e, t) : (Xh(),
                ef(l[n], 1, 1, ( () => {
                    l[n] = null
                }
                )),
                Qh(),
                i = l[o],
                i ? i.p(e, t) : (i = l[o] = a[o](e),
                i.c()),
                Jh(i, 1),
                i.m(r.parentNode, r))
            },
            i(e) {
                s || (Jh(i),
                s = !0)
            },
            o(e) {
                ef(i),
                s = !1
            },
            d(e) {
                e && Jg(r),
                l[o].d(e)
            }
        }
    }
    function Ob(e) {
        let t, n;
        return t = new Ib({
            props: {
                infoText: chrome.i18n.getMessage("zendesk_limit_not_reached_free_account_infobox"),
                translationCount: e[2]
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                4 & n && (o.translationCount = e[2]),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function Nb(e) {
        let t, n;
        return t = new Ib({
            props: {
                infoText: chrome.i18n.getMessage("zendesk_limit_not_reached_pro_user_infobox"),
                translationCount: e[2]
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                4 & n && (o.translationCount = e[2]),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function Db(e) {
        let t, n, o, i;
        return {
            c() {
                t = th("div"),
                n = th("div"),
                o = ih(),
                i = th("div"),
                i.textContent = `${chrome.i18n.getMessage("zendesk_limit_reached_infobox")}`,
                ch(n, "class", "icon svelte-6kl6z0"),
                ch(i, "class", "text svelte-6kl6z0"),
                ch(t, "class", "upgrade-infobox svelte-6kl6z0")
            },
            m(e, r) {
                Qg(e, t, r),
                Kg(t, n),
                Kg(t, o),
                Kg(t, i)
            },
            p: xg,
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function Pb(e) {
        let t, n;
        return t = new $b({
            props: {
                $$slots: {
                    default: [Bb]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                12 & n && (o.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function Ub(e) {
        let t, n;
        return t = new $b({
            props: {
                $$slots: {
                    default: [Wb]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                12 & n && (o.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function Bb(e) {
        let t, n;
        return t = new Ib({
            props: {
                infoText: chrome.i18n.getMessage("zendesk_limit_reached_free_account_infobox"),
                translationCount: e[2]
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                4 & n && (o.translationCount = e[2]),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function Wb(e) {
        let t, n;
        return t = new Ib({
            props: {
                infoText: chrome.i18n.getMessage("zendesk_limit_reached_pro_user_infobox"),
                translationCount: e[2]
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                4 & n && (o.translationCount = e[2]),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function Fb(e) {
        let t, n, o, i, r, s;
        const a = [Mb, Rb, Ab, Lb]
          , l = [];
        function c(e, o) {
            return 2 & o && (t = null),
            2 & o && (n = null),
            e[0] ? 0 : (null == t && (t = !!it(e[1], Ee.TRANSLATOR)),
            t ? 1 : (null == n && (n = !!lt(e[1], Ee.TRANSLATOR)),
            n ? 2 : 3))
        }
        return o = c(e, -1),
        i = l[o] = a[o](e),
        {
            c() {
                i.c(),
                r = rh()
            },
            m(e, t) {
                l[o].m(e, t),
                Qg(e, r, t),
                s = !0
            },
            p(e, [t]) {
                let n = o;
                o = c(e, t),
                o === n ? l[o].p(e, t) : (Xh(),
                ef(l[n], 1, 1, ( () => {
                    l[n] = null
                }
                )),
                Qh(),
                i = l[o],
                i ? i.p(e, t) : (i = l[o] = a[o](e),
                i.c()),
                Jh(i, 1),
                i.m(r.parentNode, r))
            },
            i(e) {
                s || (Jh(i),
                s = !0)
            },
            o(e) {
                ef(i),
                s = !1
            },
            d(e) {
                e && Jg(r),
                l[o].d(e)
            }
        }
    }
    function zb(e, t, n) {
        let {limitReached: o} = t
          , {settings: i} = t
          , {remainingTranslations: r} = t;
        return e.$$set = e => {
            "limitReached"in e && n(0, o = e.limitReached),
            "settings"in e && n(1, i = e.settings),
            "remainingTranslations"in e && n(2, r = e.remainingTranslations)
        }
        ,
        [o, i, r]
    }
    class Hb extends pf {
        constructor(e) {
            super(),
            uf(this, e, zb, Fb, Ag, {
                limitReached: 0,
                settings: 1,
                remainingTranslations: 2
            })
        }
    }
    function jb(e) {
        let t, n = chrome.i18n.getMessage("contact_admin_info_write_disabled") + "";
        return {
            c() {
                t = oh(n)
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function Gb(e) {
        let t;
        return {
            c() {
                t = th("p"),
                t.textContent = `${chrome.i18n.getMessage("contact_admin_info_translate_disabled")}`
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function qb(e) {
        let t, n, o, i;
        function r(e, t) {
            return e[0] === Ee.TRANSLATOR ? Gb : e[0] === Ee.WRITE ? jb : void 0
        }
        let s = r(e)
          , a = s && s(e);
        return {
            c() {
                t = th("div"),
                n = th("div"),
                n.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M11.25 11.25L11.2915 11.2293C11.8646 10.9427 12.5099 11.4603 12.3545 12.082L11.6455 14.918C11.4901 15.5397 12.1354 16.0573 12.7085 15.7707L12.75 15.75M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12ZM12 8.25H12.0075V8.2575H12V8.25Z" stroke="#0177A9" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',
                o = ih(),
                i = th("div"),
                a && a.c(),
                ch(n, "class", "icon svelte-16jsbww"),
                ch(i, "class", "text svelte-16jsbww"),
                ch(t, "class", "container svelte-16jsbww")
            },
            m(e, r) {
                Qg(e, t, r),
                Kg(t, n),
                Kg(t, o),
                Kg(t, i),
                a && a.m(i, null)
            },
            p(e, [t]) {
                s === (s = r(e)) && a ? a.p(e, t) : (a && a.d(1),
                a = s && s(e),
                a && (a.c(),
                a.m(i, null)))
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                a && a.d()
            }
        }
    }
    function Vb(e, t, n) {
        let {serviceName: o} = t;
        return e.$$set = e => {
            "serviceName"in e && n(0, o = e.serviceName)
        }
        ,
        [o]
    }
    class Yb extends pf {
        constructor(e) {
            super(),
            uf(this, e, Vb, qb, Ag, {
                serviceName: 0
            })
        }
    }
    function Kb(e, t, n) {
        const o = e.slice();
        return o[18] = t[n],
        o
    }
    function Zb(e) {
        let t, n, o, i, r, s;
        const a = [eE, Jb, Qb, Xb]
          , l = [];
        function c(e, t) {
            return "onboarding" === e[5] ? 0 : "user_has_reached_limit" === e[5] ? 1 : "language_not_supported" === e[5] ? 2 : 3
        }
        n = c(e),
        o = l[n] = a[n](e);
        let d = !e[1] && "onboarding" !== e[5] && nE(e)
          , u = (!e[3].isZendeskEnabled || "default" === e[5] || "onboarding" === e[5]) && !e[6] && pE(e);
        return {
            c() {
                t = th("div"),
                o.c(),
                i = ih(),
                d && d.c(),
                r = ih(),
                u && u.c(),
                ch(t, "class", "dl-zendesk-modal svelte-1fd792j"),
                fh(t, "onboarding", "onboarding" === e[5])
            },
            m(e, o) {
                Qg(e, t, o),
                l[n].m(t, null),
                Kg(t, i),
                d && d.m(t, null),
                Kg(t, r),
                u && u.m(t, null),
                s = !0
            },
            p(e, p) {
                let m = n;
                n = c(e),
                n === m ? l[n].p(e, p) : (Xh(),
                ef(l[m], 1, 1, ( () => {
                    l[m] = null
                }
                )),
                Qh(),
                o = l[n],
                o ? o.p(e, p) : (o = l[n] = a[n](e),
                o.c()),
                Jh(o, 1),
                o.m(t, i)),
                e[1] || "onboarding" === e[5] ? d && (d.d(1),
                d = null) : d ? d.p(e, p) : (d = nE(e),
                d.c(),
                d.m(t, r)),
                e[3].isZendeskEnabled && "default" !== e[5] && "onboarding" !== e[5] || e[6] ? u && (Xh(),
                ef(u, 1, 1, ( () => {
                    u = null
                }
                )),
                Qh()) : u ? (u.p(e, p),
                104 & p && Jh(u, 1)) : (u = pE(e),
                u.c(),
                Jh(u, 1),
                u.m(t, null)),
                (!s || 32 & p) && fh(t, "onboarding", "onboarding" === e[5])
            },
            i(e) {
                s || (Jh(o),
                Jh(u),
                s = !0)
            },
            o(e) {
                ef(o),
                ef(u),
                s = !1
            },
            d(e) {
                e && Jg(t),
                l[n].d(),
                d && d.d(),
                u && u.d()
            }
        }
    }
    function Xb(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h, f, _, v, y = chrome.i18n.getMessage("ui_zendesk_modal_deepl_translate_into") + "", w = chrome.i18n.getMessage("ui_zendesk_modal_ok") + "";
        n = new Tb({
            props: {
                userHasZendeskPermissions: e[1]
            }
        });
        let b = !e[1] && tE(e);
        return d = new ob({
            props: {
                value: e[3].selectedTargetLanguage,
                websiteSettings: Hw,
                disabled: !e[3].isZendeskEnabled,
                customClass: "dropdown__zendesk-top-icon",
                fontSize: "md",
                dropdownMaxHeight: 150
            }
        }),
        d.$on("selection", e[14]),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                o = ih(),
                b && b.c(),
                i = ih(),
                r = th("div"),
                s = oh(y),
                a = ih(),
                l = th("div"),
                c = th("div"),
                lf(d.$$.fragment),
                u = ih(),
                p = th("div"),
                m = th("button"),
                g = oh(w),
                ch(t, "class", "modal-section glossary svelte-1fd792j"),
                ch(c, "class", "dropdown svelte-1fd792j"),
                ch(m, "class", "btn-primary svelte-1fd792j"),
                m.disabled = h = !e[3].isZendeskEnabled,
                ch(p, "class", "right svelte-1fd792j"),
                ch(l, "class", "dropdown-container svelte-1fd792j"),
                ch(r, "class", "modal-section language-selector svelte-1fd792j")
            },
            m(h, y) {
                Qg(h, t, y),
                cf(n, t, null),
                Qg(h, o, y),
                b && b.m(h, y),
                Qg(h, i, y),
                Qg(h, r, y),
                Kg(r, s),
                Kg(r, a),
                Kg(r, l),
                Kg(l, c),
                cf(d, c, null),
                Kg(l, u),
                Kg(l, p),
                Kg(p, m),
                Kg(m, g),
                f = !0,
                _ || (v = sh(m, "click", e[15]),
                _ = !0)
            },
            p(e, t) {
                const o = {};
                2 & t && (o.userHasZendeskPermissions = e[1]),
                n.$set(o),
                e[1] ? b && (Xh(),
                ef(b, 1, 1, ( () => {
                    b = null
                }
                )),
                Qh()) : b ? (b.p(e, t),
                2 & t && Jh(b, 1)) : (b = tE(e),
                b.c(),
                Jh(b, 1),
                b.m(i.parentNode, i));
                const r = {};
                8 & t && (r.value = e[3].selectedTargetLanguage),
                8 & t && (r.disabled = !e[3].isZendeskEnabled),
                d.$set(r),
                (!f || 8 & t && h !== (h = !e[3].isZendeskEnabled)) && (m.disabled = h)
            },
            i(e) {
                f || (Jh(n.$$.fragment, e),
                Jh(b),
                Jh(d.$$.fragment, e),
                f = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                ef(b),
                ef(d.$$.fragment, e),
                f = !1
            },
            d(e) {
                e && (Jg(t),
                Jg(o),
                Jg(i),
                Jg(r)),
                df(n),
                b && b.d(e),
                df(d),
                _ = !1,
                v()
            }
        }
    }
    function Qb(e) {
        let t, n, o;
        return {
            c() {
                t = th("div"),
                t.textContent = `${chrome.i18n.getMessage("ui_zendesk_modal_language_not_supported_line_1")}`,
                n = ih(),
                o = th("div"),
                o.textContent = `${chrome.i18n.getMessage("ui_zendesk_modal_language_not_supported_line_2")}`,
                ch(t, "class", "modal-section language-not-supported svelte-1fd792j"),
                ch(o, "class", "modal-section secondary-text svelte-1fd792j")
            },
            m(e, i) {
                Qg(e, t, i),
                Qg(e, n, i),
                Qg(e, o, i)
            },
            p: xg,
            i: xg,
            o: xg,
            d(e) {
                e && (Jg(t),
                Jg(n),
                Jg(o))
            }
        }
    }
    function Jb(e) {
        let t, n, o;
        return n = new Hb({
            props: {
                limitReached: !0,
                remainingTranslations: e[7],
                settings: e[3]
            }
        }),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                ch(t, "class", "modal-section reached-limit svelte-1fd792j")
            },
            m(e, i) {
                Qg(e, t, i),
                cf(n, t, null),
                o = !0
            },
            p(e, t) {
                const o = {};
                128 & t && (o.remainingTranslations = e[7]),
                8 & t && (o.settings = e[3]),
                n.$set(o)
            },
            i(e) {
                o || (Jh(n.$$.fragment, e),
                o = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                o = !1
            },
            d(e) {
                e && Jg(t),
                df(n)
            }
        }
    }
    function eE(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h, f, _, v, y, w = chrome.i18n.getMessage("zendesk_onboarding_content_one", [be]) + "", b = chrome.i18n.getMessage("zendesk_onboarding_content_two") + "", E = chrome.i18n.getMessage("zendesk_onboarding_content_three") + "";
        return s = new sb({
            props: {
                width: "16px",
                height: "16px",
                padding: "3px 0 0 0"
            }
        }),
        u = new sb({
            props: {
                width: "16px",
                height: "16px",
                padding: "3px 0 0 0"
            }
        }),
        f = new sb({
            props: {
                width: "16px",
                height: "16px",
                padding: "3px 0 0 0"
            }
        }),
        {
            c() {
                t = th("div"),
                n = th("div"),
                n.textContent = `${chrome.i18n.getMessage("ui_zendesk_modal_welcome")}`,
                o = ih(),
                i = th("div"),
                r = th("div"),
                lf(s.$$.fragment),
                a = ih(),
                l = th("div"),
                c = ih(),
                d = th("div"),
                lf(u.$$.fragment),
                p = ih(),
                m = th("div"),
                g = ih(),
                h = th("div"),
                lf(f.$$.fragment),
                _ = ih(),
                v = th("div"),
                ch(n, "class", "welcome svelte-1fd792j"),
                ch(l, "class", "copy-text svelte-1fd792j"),
                ch(r, "class", "copy svelte-1fd792j"),
                ch(m, "class", "copy-text svelte-1fd792j"),
                ch(d, "class", "copy svelte-1fd792j"),
                ch(v, "class", "copy-text svelte-1fd792j"),
                ch(h, "class", "copy svelte-1fd792j"),
                ch(i, "class", "body svelte-1fd792j"),
                ch(t, "class", "modal-section onboarding svelte-1fd792j")
            },
            m(e, T) {
                Qg(e, t, T),
                Kg(t, n),
                Kg(t, o),
                Kg(t, i),
                Kg(i, r),
                cf(s, r, null),
                Kg(r, a),
                Kg(r, l),
                l.innerHTML = w,
                Kg(i, c),
                Kg(i, d),
                cf(u, d, null),
                Kg(d, p),
                Kg(d, m),
                m.innerHTML = b,
                Kg(i, g),
                Kg(i, h),
                cf(f, h, null),
                Kg(h, _),
                Kg(h, v),
                v.innerHTML = E,
                y = !0
            },
            p: xg,
            i(e) {
                y || (Jh(s.$$.fragment, e),
                Jh(u.$$.fragment, e),
                Jh(f.$$.fragment, e),
                y = !0)
            },
            o(e) {
                ef(s.$$.fragment, e),
                ef(u.$$.fragment, e),
                ef(f.$$.fragment, e),
                y = !1
            },
            d(e) {
                e && Jg(t),
                df(s),
                df(u),
                df(f)
            }
        }
    }
    function tE(e) {
        let t, n, o;
        return n = new Hb({
            props: {
                limitReached: !1,
                remainingTranslations: e[7],
                settings: e[3]
            }
        }),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                ch(t, "class", "modal-section svelte-1fd792j")
            },
            m(e, i) {
                Qg(e, t, i),
                cf(n, t, null),
                o = !0
            },
            p(e, t) {
                const o = {};
                128 & t && (o.remainingTranslations = e[7]),
                8 & t && (o.settings = e[3]),
                n.$set(o)
            },
            i(e) {
                o || (Jh(n.$$.fragment, e),
                o = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                o = !1
            },
            d(e) {
                e && Jg(t),
                df(n)
            }
        }
    }
    function nE(e) {
        let t, n, o, i, r, s, a, l, c, d, u;
        function p(e, t) {
            return 72 & t && (n = null),
            72 & t && (o = null),
            72 & t && (i = null),
            null == n && (n = !(!it(e[3], Ee.TRANSLATOR) || e[6])),
            n ? sE : (null == o && (o = !(!it(e[3], Ee.TRANSLATOR) || !e[6])),
            o ? rE : (null == i && (i = !(!lt(e[3], Ee.TRANSLATOR) || e[6])),
            i ? iE : e[6] ? oE : void 0))
        }
        let m = p(e, -1)
          , g = m && m(e);
        function h(e, t) {
            return 8 & t && (a = null),
            null == a && (a = !!it(e[3], Ee.TRANSLATOR)),
            a ? lE : aE
        }
        let f = h(e, -1)
          , _ = f(e)
          , v = sf(Jf(chrome.i18n.getMessage("zendesk_try_pro_log_in_link"), ["loginLink"]))
          , y = [];
        for (let t = 0; t < v.length; t += 1)
            y[t] = uE(Kb(e, v, t));
        return {
            c() {
                t = th("div"),
                g && g.c(),
                r = ih(),
                s = th("button"),
                _.c(),
                l = ih(),
                c = th("div");
                for (let e = 0; e < y.length; e += 1)
                    y[e].c();
                ch(s, "class", "upgrade-button svelte-1fd792j"),
                ch(c, "class", "login-text svelte-1fd792j"),
                ch(t, "class", "modal-section upgrade-button-container svelte-1fd792j")
            },
            m(n, o) {
                Qg(n, t, o),
                g && g.m(t, null),
                Kg(t, r),
                Kg(t, s),
                _.m(s, null),
                Kg(t, l),
                Kg(t, c);
                for (let e = 0; e < y.length; e += 1)
                    y[e] && y[e].m(c, null);
                d || (u = sh(s, "click", e[11]),
                d = !0)
            },
            p(e, n) {
                if (m === (m = p(e, n)) && g ? g.p(e, n) : (g && g.d(1),
                g = m && m(e),
                g && (g.c(),
                g.m(t, r))),
                f === (f = h(e, n)) && _ ? _.p(e, n) : (_.d(1),
                _ = f(e),
                _ && (_.c(),
                _.m(s, null))),
                1024 & n) {
                    let t;
                    for (v = sf(Jf(chrome.i18n.getMessage("zendesk_try_pro_log_in_link"), ["loginLink"])),
                    t = 0; t < v.length; t += 1) {
                        const o = Kb(e, v, t);
                        y[t] ? y[t].p(o, n) : (y[t] = uE(o),
                        y[t].c(),
                        y[t].m(c, null))
                    }
                    for (; t < y.length; t += 1)
                        y[t].d(1);
                    y.length = v.length
                }
            },
            d(e) {
                e && Jg(t),
                g && g.d(),
                _.d(),
                eh(y, e),
                d = !1,
                u()
            }
        }
    }
    function oE(e) {
        let t, n = chrome.i18n.getMessage("zendesk_limit_reached_content") + "";
        return {
            c() {
                t = th("span"),
                ch(t, "class", "svelte-1fd792j")
            },
            m(e, o) {
                Qg(e, t, o),
                t.innerHTML = n
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function iE(e) {
        let t, n = chrome.i18n.getMessage("zendesk_limit_not_reached_free_account_content") + "";
        return {
            c() {
                t = oh(n)
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function rE(e) {
        let t, n, o = chrome.i18n.getMessage("zendesk_limit_reached_pro_user_content") + "";
        return {
            c() {
                t = new vh(!1),
                n = rh(),
                t.a = n
            },
            m(e, i) {
                t.m(o, e, i),
                Qg(e, n, i)
            },
            p: xg,
            d(e) {
                e && (Jg(n),
                t.d())
            }
        }
    }
    function sE(e) {
        let t, n = chrome.i18n.getMessage("zendesk_limit_not_reached_pro_user_content") + "";
        return {
            c() {
                t = oh(n)
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function aE(e) {
        let t, n = chrome.i18n.getMessage("zendesk_try_pro_advanced_button") + "";
        return {
            c() {
                t = oh(n)
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function lE(e) {
        let t, n = chrome.i18n.getMessage("zendesk_upgrade_cta") + "";
        return {
            c() {
                t = oh(n)
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function cE(e) {
        let t, n, o = e[18].text + "";
        return {
            c() {
                t = new vh(!1),
                n = rh(),
                t.a = n
            },
            m(e, i) {
                t.m(o, e, i),
                Qg(e, n, i)
            },
            p: xg,
            d(e) {
                e && (Jg(n),
                t.d())
            }
        }
    }
    function dE(e) {
        let t, n, o, i = e[18].text + "";
        return {
            c() {
                t = th("span"),
                ch(t, "class", "upgrade-link svelte-1fd792j")
            },
            m(r, s) {
                Qg(r, t, s),
                t.innerHTML = i,
                n || (o = sh(t, "click", e[10]),
                n = !0)
            },
            p: xg,
            d(e) {
                e && Jg(t),
                n = !1,
                o()
            }
        }
    }
    function uE(e) {
        let t;
        let n = function(e, t) {
            return "loginLink" === e[18].block ? dE : cE
        }(e)
          , o = n(e);
        return {
            c() {
                o.c(),
                t = rh()
            },
            m(e, n) {
                o.m(e, n),
                Qg(e, t, n)
            },
            p(e, t) {
                o.p(e, t)
            },
            d(e) {
                e && Jg(t),
                o.d(e)
            }
        }
    }
    function pE(e) {
        let t, n, o, i, r, s, a, l, c, d, u = e[2] && mE();
        return {
            c() {
                t = th("div"),
                n = th("div"),
                n.textContent = `${chrome.i18n.getMessage("zendesk_popup_on_off_label")}`,
                o = ih(),
                i = th("div"),
                r = th("span"),
                r.innerHTML = '<span class="svelte-1fd792j"></span>',
                s = ih(),
                u && u.c(),
                a = rh(),
                ch(n, "class", "text svelte-1fd792j"),
                ch(r, "class", "on-off-switch svelte-1fd792j"),
                fh(r, "on", e[3].isZendeskEnabled),
                ch(i, "class", "switch"),
                ch(t, "class", "modal-section switch-container svelte-1fd792j")
            },
            m(p, m) {
                Qg(p, t, m),
                Kg(t, n),
                Kg(t, o),
                Kg(t, i),
                Kg(i, r),
                Qg(p, s, m),
                u && u.m(p, m),
                Qg(p, a, m),
                l = !0,
                c || (d = sh(r, "click", e[9]),
                c = !0)
            },
            p(e, t) {
                (!l || 8 & t) && fh(r, "on", e[3].isZendeskEnabled),
                e[2] ? u ? 4 & t && Jh(u, 1) : (u = mE(),
                u.c(),
                Jh(u, 1),
                u.m(a.parentNode, a)) : u && (Xh(),
                ef(u, 1, 1, ( () => {
                    u = null
                }
                )),
                Qh())
            },
            i(e) {
                l || (Jh(u),
                l = !0)
            },
            o(e) {
                ef(u),
                l = !1
            },
            d(e) {
                e && (Jg(t),
                Jg(s),
                Jg(a)),
                u && u.d(e),
                c = !1,
                d()
            }
        }
    }
    function mE(e) {
        let t, n, o;
        return n = new Yb({
            props: {
                serviceName: Ee.TRANSLATOR
            }
        }),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                ch(t, "class", "admin-info svelte-1fd792j")
            },
            m(e, i) {
                Qg(e, t, i),
                cf(n, t, null),
                o = !0
            },
            i(e) {
                o || (Jh(n.$$.fragment, e),
                o = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                o = !1
            },
            d(e) {
                e && Jg(t),
                df(n)
            }
        }
    }
    function gE(e) {
        let t, n, o, i, r, s, a = e[4] && Zb(e);
        return {
            c() {
                t = th("div"),
                n = th("button"),
                o = ih(),
                a && a.c(),
                ch(n, "class", "dl-zendesk-top-icon svelte-1fd792j"),
                ch(t, "dir", Vt())
            },
            m(l, c) {
                Qg(l, t, c),
                Kg(t, n),
                Kg(t, o),
                a && a.m(t, null),
                i = !0,
                r || (s = [sh(n, "click", e[13]), Fg(S_.call(null, t, {
                    isShadow: !0
                })), sh(t, "click_outside", e[8])],
                r = !0)
            },
            p(e, [n]) {
                e[4] ? a ? (a.p(e, n),
                16 & n && Jh(a, 1)) : (a = Zb(e),
                a.c(),
                Jh(a, 1),
                a.m(t, null)) : a && (Xh(),
                ef(a, 1, 1, ( () => {
                    a = null
                }
                )),
                Qh())
            },
            i(e) {
                i || (Jh(a),
                i = !0)
            },
            o(e) {
                ef(a),
                i = !1
            },
            d(e) {
                e && Jg(t),
                a && a.d(),
                r = !1,
                Ig(s)
            }
        }
    }
    function hE(e, n, o) {
        let i;
        Mg(e, hf, (e => o(3, i = e))),
        Lh("text_direction", Vt());
        let r, s, {controller: a} = n, l = !1, c = "default", d = !1, u = !1;
        const p = () => {
            d ? o(5, c = "user_has_reached_limit") : i.isZendeskOnboarded ? (o(4, l = !1),
            o(5, c = "default")) : (o(5, c = "onboarding"),
            Wg(hf, i.isZendeskOnboarded = !0, i),
            t({
                action: "dlTrackOnboardingModalShown",
                payload: {
                    nicheIntegration: re.zendesk
                }
            }),
            o(4, l = !0))
        }
          , m = () => {
            "onboarding" === c && (Wg(hf, i.isZendeskOnboarded = !0, i),
            o(5, c = "default")),
            "welcome" === c && o(5, c = "default"),
            o(4, l = !1)
        }
        ;
        Ch(( () => {
            p(),
            i.isZendeskEnabled && (!i.zendeskActiveTermbase && i.activeTermbaseId && Wg(hf, i.zendeskActiveTermbase = {
                id: i.activeTermbaseId
            }, i),
            i.zendeskActiveTermbase && (async () => {
                if (!i.zendeskActiveTermbase)
                    return;
                let e = [];
                try {
                    const [t] = await AB();
                    e = t
                } catch (e) {
                    hn() && console.error(e)
                }
                if (!e || 0 === e.length)
                    return void Wg(hf, i.zendeskActiveTermbase = null, i);
                const t = e.map((e => e.id));
                if (i.zendeskActiveTermbase && t.includes(i.zendeskActiveTermbase.id)) {
                    const t = e.find((e => e.id === i.zendeskActiveTermbase.id));
                    Wg(hf, i.zendeskActiveTermbase = t, i)
                } else
                    Wg(hf, i.zendeskActiveTermbase = null, i)
            }
            )())
        }
        ));
        return e.$$set = e => {
            "controller"in e && o(0, a = e.controller)
        }
        ,
        e.$$.update = () => {
            12 & e.$$.dirty && (o(2, s = st(i, Ee.TRANSLATOR)),
            s && Wg(hf, i.isZendeskEnabled = !1, i)),
            8 & e.$$.dirty && o(1, u = i?.featureSet?.customizations?.includes("zendesk")),
            8 & e.$$.dirty && o(7, r = be - i.zendeskSuccessfulTranslations),
            10 & e.$$.dirty && (i.zendeskSuccessfulTranslations >= be && !u ? (o(6, d = !0),
            p()) : (o(6, d = !1),
            p())),
            2 & e.$$.dirty && u && (o(6, d = !1),
            o(5, c = "default"))
        }
        ,
        [a, u, s, i, l, c, d, r, m, () => {
            Wg(hf, i.isZendeskEnabled = !s && !i.isZendeskEnabled, i)
        }
        , () => {
            t({
                action: "dlRequestLogin"
            })
        }
        , function() {
            t({
                action: "dlTrackUILocationClicked",
                payload: W.zendeskTryProLink
            }),
            t({
                action: "dlExternalURLRedirect",
                payload: {
                    destination: Tv,
                    utmContent: "zendesk_customization"
                }
            })
        }
        , p, () => {
            l ? m() : o(4, l = !0)
        }
        , e => {
            Wg(hf, i.selectedTargetLanguage = e.detail.selectedOption.value, i),
            KE(a)
        }
        , () => {
            i.isZendeskEnabled && m()
        }
        ]
    }
    class fE extends pf {
        constructor(e) {
            super(),
            uf(this, e, hE, gE, Ag, {
                controller: 0,
                updateIconSettings: 12
            })
        }
        get updateIconSettings() {
            return this.$$.ctx[12]
        }
    }
    class _E {
        static HTML_TAG_NAME = "deepl-zendesk-top-icon";
        static createElement = (e=document) => {
            const t = e.createElement(_E.HTML_TAG_NAME)
              , n = new _E(t);
            return t.createDOM = n.createDOM,
            t.cleanupDOM = n.cleanupDOM,
            t.triggerUpdateIconSettings = n.triggerUpdateIconSettings,
            t
        }
        ;
        constructor(e) {
            this.domElement = e,
            this.domElement.shadow = this.domElement.attachShadow({
                mode: "open"
            }),
            this.domElement.shadowContainer = document.createElement("div"),
            this.domElement.mainComponent;
            const t = document.createElement("link");
            t.setAttribute("rel", "stylesheet"),
            t.setAttribute("href", chrome.runtime.getURL("build/content.css")),
            this.domElement.shadow.appendChild(t),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer)
        }
        createDOM = ({controller: e}) => {
            this.domElement.mainComponent = new fE({
                target: this.domElement.shadowContainer,
                props: {
                    onClose: this.cleanupDOM,
                    controller: e
                }
            })
        }
        ;
        triggerUpdateIconSettings = () => {
            this.domElement.mainComponent.updateIconSettings()
        }
        ;
        cleanupDOM = () => {
            this.domElement.shadowContainer.remove(),
            this.domElement.mainComponent && this.domElement.mainComponent.$destroy()
        }
    }
    const vE = [...pl].filter((e => !["BrowserApiErrors", "TryCatch", "Breadcrumbs", "GlobalHandlers"].includes(e.name)))
      , yE = () => {
        const e = new Ia({
            ...yf,
            transport: Aa,
            stackParser: Ba,
            integrations: vE
        })
          , t = new Lr;
        return t.setClient(e),
        t.setContext("appContext", {
            location: "content"
        }),
        (e => {
            chrome.storage.sync.get(["installationId", "session", "isLoggedIn", "translatorServiceType", "writeServiceType"], (function(t) {
                e.setTag("internal_session_id", t?.session?.id),
                e.setTag("is_translator_pro", it(t, Ee.TRANSLATOR)),
                e.setTag("is_write_pro", it(t, Ee.WRITE)),
                e.setTag("is_logged_in", t.isLoggedIn)
            }
            )),
            chrome.storage.local.get("browserInstanceId", (function(t) {
                e.setTag("browser_instance_id", t.browserInstanceId)
            }
            )),
            chrome.storage.onChanged.addListener((t => (t?.session?.newValue && e.setTag("internal_session_id", t.session.newValue.id),
            t?.installationId && e.setUser({
                id: t.installationId
            }),
            t?.browser_instance_id && e.setTag("browser_instance_id", hf.browserInstanceId.newValue),
            !0 !== t.isLoggedIn?.newValue && !1 !== t.isLoggedIn?.newValue || e.setTag("is_logged_in", t.isLoggedIn.newValue),
            t.translatorServiceType && chrome.storage.sync.get(["isLoggedIn"], e.setTag("is_translator_pro", it({
                ...hf,
                translatorServiceType: t.translatorServiceType.newValue
            }, Ee.TRANSLATOR))),
            t.writeServiceType && chrome.storage.sync.get(["isLoggedIn"], e.setTag("is_write_pro", it({
                ...hf,
                writeServiceType: t.writeServiceType.newValue
            }, Ee.WRITE))),
            !0)))
        }
        )(t),
        {
            client: e,
            scope: t
        }
    }
      , {scope: wE} = yE()
      , bE = () => {
        const e = window.location.hostname.split(".");
        if (e.length < 2)
            return !1;
        return "zendesk.com" === `${e[e.length - 2]}.${e[e.length - 1]}`
    }
      , EE = () => document.querySelector("deepl-zendesk-controller")
      , TE = () => qf.createElement()
      , SE = e => {
        const t = e.match(/^\/agent\/tickets\/(\d+)$/);
        if (t)
            return t[1]
    }
      , xE = () => {
        const e = document.querySelector("#main_panes");
        if (e)
            return Array.from(e.children).find((e => "hidden" !== window.getComputedStyle(e).visibility && "none" !== window.getComputedStyle(e).display))
    }
      , $E = e => e.querySelector("deepl-zendesk-ticket-controller")
      , CE = (e, t) => {
        const n = Sw.createElement();
        return e.appendChild(n),
        n.createDOM({
            pane: e,
            ticketId: t
        }),
        n
    }
      , kE = (e, t) => {
        try {
            const n = e.getPane();
            if (n.querySelector("deepl-zendesk-top-icon") || RE(n, e),
            !t)
                return;
            e.getTicketLanguageInformation().isSupported ? (n.querySelector("deepl-zendesk-toolbar") || ME(n, e),
            n.querySelector("deepl-zendesk-input-icon") || OE(n, e)) : n.querySelector("deepl-zendesk-toolbar") || ME(n, e)
        } catch (e) {
            hn() && console.error(e),
            wf(e, wE)
        }
    }
      , IE = () => {
        AE(["deepl-zendesk-ticket-controller", "deepl-zendesk-top-icon", "deepl-zendesk-toolbar", "deepl-zendesk-input-icon", "deepl-zendesk-message-controller", "deepl-zendesk-submit-button-tooltip", "deepl-zendesk-onboarding-modal"])
    }
      , LE = () => {
        AE(["deepl-zendesk-toolbar", "deepl-zendesk-input-icon", "deepl-zendesk-message-controller", "deepl-zendesk-onboarding-modal"]);
        const e = Array.from(document.getElementsByTagName("deepl-zendesk-ticket-controller"));
        for (const t of e)
            t.setIsAutoTranslateEnabled(!1)
    }
      , AE = e => {
        try {
            for (const t of e)
                if (t) {
                    const e = Array.from(document.getElementsByTagName(t));
                    for (const t of e)
                        t.cleanupDOM(),
                        t.remove()
                }
        } catch (e) {
            hn() && console.error(e),
            wf(e, wE)
        }
    }
      , RE = (e, t) => {
        const n = _E.createElement()
          , o = e.querySelector('[data-test-id="omni-header-filter-trigger"],[data-test-id="omni-header-ticket-actions-trigger"]');
        if (!o)
            return;
        const i = o.parentElement;
        return i ? (i.prepend(n),
        n.createDOM({
            controller: t
        }),
        n) : void 0
    }
      , ME = (e, t) => {
        const n = Dw.createElement()
          , o = e.querySelector('[data-test-id="ticket-call-controls-action-bar"]');
        if (o)
            return o.after(n),
            n.createDOM({
                controller: t
            }),
            n.updateLanguageInformation(t.getTicketLanguageInformation()),
            n
    }
      , OE = (e, t) => {
        const n = iw.createElement()
          , o = e.querySelector('div[data-test-id="omnichannel-composer-toolbar"] ul')
          , i = e.querySelector('div[data-test-id="ticket-rich-text-editor"] [contenteditable="true"]');
        if (i && o && o)
            return o.append(n),
            n.createDOM({
                controller: t,
                editable: i
            }),
            n
    }
      , NE = e => {
        const t = e.querySelector('div[data-test-id="omnichannel-composer-toolbar"] ul[data-test-id="ticket-editor-app-icon-view"][data-cy="ticket-editor-app-icon-view"]')
          , n = e.querySelector('div[data-test-id="omnichannel-composer-toolbar"] ul');
        return t ? ye : n ? we : void 0
    }
      , DE = e => Array.from(e.querySelectorAll('article[data-test-id="omni-log-comment-item"]'))
      , PE = e => {
        const t = DE(e);
        if (!(t.length < 1))
            return t.sort(( (e, t) => {
                const n = e?.querySelector('time[data-test-id="timestamp-relative"]')?.getAttribute("datetime")
                  , o = t?.querySelector('time[data-test-id="timestamp-relative"]')?.getAttribute("datetime");
                return n === o ? 0 : new Date(n) < Date(o) ? -1 : 1
            }
            )),
            t[0]
    }
      , UE = (e, t) => {
        const n = DE(e);
        if (n.length < 1)
            return;
        n.sort(( (e, t) => {
            const n = e?.querySelector('time[data-test-id="timestamp-relative"]')?.getAttribute("datetime")
              , o = t?.querySelector('time[data-test-id="timestamp-relative"]')?.getAttribute("datetime");
            return n === o ? 0 : new Date(n) < Date(o) ? -1 : 1
        }
        ));
        const o = [];
        for (let e = 0; e < t; e++)
            n[e] && o.push(n[e]);
        return o
    }
      , BE = e => e.querySelector('[data-test-id="omni-log-item-message"]')
      , WE = async e => {
        const t = PE(e);
        if (t) {
            const e = t ? BE(t).innerText : "";
            return await Wt(e)
        }
    }
      , FE = async e => {
        const t = UE(e, 12)
          , n = [];
        for (const e in t)
            try {
                const o = t[e]
                  , i = o ? BE(o).innerText : ""
                  , r = o.querySelector('[data-test-id="omni-log-item-sender"] a')?.getAttribute("href")
                  , s = o.querySelector('[data-test-id="omni-log-item-sender"] a strong').innerText;
                if (0 == i.length)
                    continue;
                let a = n.find((e => e.id === r));
                const l = i.includes(`: ${s}`) && i.indexOf(`: ${s}`) + `: ${s}`.length === i.length
                  , c = 0 === Number(e);
                a || (a = {
                    id: r,
                    name: s,
                    messages: [],
                    isLikelyCustomer: !1,
                    isFirstMessage: !1
                },
                n.push(a)),
                l && (a.isLikelyCustomer = !0),
                c && (a.isFirstMessage = !0),
                a.messages.push({
                    message: i,
                    shouldBeSkipped: l || i.length <= 3
                })
            } catch (e) {
                hn() && console.log("Dev debug: unable to read message content in detectTicketLanguageInLiveChat", e)
            }
        const o = (1 === n.filter((e => e.isLikelyCustomer)).length ? n.find((e => e.isLikelyCustomer)) : n.find((e => !e.isFirstMessage))).messages.filter((e => !e.shouldBeSkipped)).map((e => e.message));
        o.sort(( (e, t) => e.length > t.length ? -1 : e.length < t.length ? 1 : 0));
        const i = o[0];
        if (i)
            return await Wt(i)
    }
      , zE = (e, t) => {
        const n = e.querySelector("deepl-zendesk-toolbar");
        return !!n && (n.updateLanguageInformation(t),
        !0)
    }
      , HE = (e, {isEnabled: t}) => {
        const n = e.querySelector("deepl-zendesk-toolbar");
        return !!n && (n.updateAutoTranslateStatus(t),
        !0)
    }
      , jE = e => {
        const t = e.querySelector("deepl-zendesk-top-icon");
        return !!t && (t.triggerUpdateIconSettings(),
        !0)
    }
      , GE = (e, t) => {
        const n = e.querySelector("deepl-zendesk-input-icon");
        return !!n && (n.updateTargetLanguage(t),
        !0)
    }
      , qE = e => {
        try {
            const t = e.getPane()
              , n = DE(t);
            for (const t of n)
                VE(t) || YE(t, e)
        } catch (e) {
            hn() && console.error(e),
            wf(e, wE)
        }
    }
      , VE = e => e.querySelector("deepl-zendesk-message-controller")
      , YE = (e, t) => {
        const n = hw.createElement()
          , o = BE(e);
        if (o)
            return o.after(n),
            n.createDOM({
                controller: t,
                message: e
            }),
            n
    }
      , KE = e => {
        const t = Array.from(e.getPane().querySelectorAll("deepl-zendesk-message-controller"));
        for (const e of t)
            e.triggerTranslateAgain()
    }
      , ZE = e => {
        const t = Array.from(e.querySelectorAll("iframe"));
        for (const e of t)
            e.contentWindow.postMessage("dl-zendesk-welcome-screen", "*")
    }
      , XE = e => {
        const t = e.querySelector("deepl-zendesk-input-icon");
        return !!t && t.getInputHasSelection()
    }
      , QE = e => {
        const t = e.getPane().querySelector('[data-test-id="submit_button-button"]')
          , n = t.closest('[data-garden-id="buttons.button_group_view"]')
          , o = t.getBoundingClientRect()
          , i = n.getBoundingClientRect()
          , r = ww.createElement();
        return r.createDOM({
            controller: e,
            coords: o,
            containerCoords: i
        }),
        n.prepend(r),
        r
    }
      , JE = e => {
        const t = e.querySelector('[data-test-id="conversation-translator-language-detection-prompt"]');
        t && t.remove()
    }
      , eT = () => {
        const e = new URL(window.location.href);
        return "https:" === e.protocol && "mail.google.com" === e.hostname
    }
      , tT = e => e instanceof HTMLTextAreaElement || e instanceof HTMLInputElement && ["text", "search"].includes(e.type)
      , nT = e => e.selectionStart < e.selectionEnd
      , oT = async (e, t, n) => {
        if (!tT(e))
            return n || (e => {
                E_("mousedown", e);
                const t = window.getSelection();
                t.removeAllRanges();
                const n = new Range;
                n.setStart(e, 0),
                n.collapse(!1),
                t.addRange(n),
                E_("mouseup", e)
            }
            )(e),
            await y_(e, t, !0);
        if (nT(e) || ( (e, {start: t, end: n}) => {
            e.selectionStart = t,
            e.selectionEnd = n
        }
        )(e, {
            start: 0,
            end: e.value.length
        }),
        !document.execCommand("insertText", !1, t.text)) {
            const n = e.value.substring(0, e.selectionStart) + t.text + e.value.substring(e.selectionEnd);
            e.value = n
        }
    }
    ;
    function iT(e, t) {
        if (!t)
            return !1;
        const n = t.getBoundingClientRect();
        if (tT(e))
            return function(e, t) {
                const n = function(e) {
                    const t = document.createElement("div");
                    document.body.appendChild(t);
                    var n = window.getComputedStyle(e);
                    t.style.whiteSpace = "pre-wrap",
                    t.style.wordWrap = "break-word",
                    t.style.position = "fixed",
                    t.style.overflow = "hidden",
                    ["direction", "boxSizing", "width", "height", "overflowX", "overflowY", "borderTopWidth", "borderRightWidth", "borderBottomWidth", "borderLeftWidth", "borderStyle", "paddingTop", "paddingRight", "paddingBottom", "paddingLeft", "fontStyle", "fontVariant", "fontWeight", "fontStretch", "fontSize", "fontSizeAdjust", "lineHeight", "fontFamily", "textAlign", "textTransform", "textIndent", "textDecoration", "letterSpacing", "wordSpacing", "tabSize", "MozTabSize"].forEach((function(e) {
                        t.style[e] = n[e]
                    }
                    ));
                    const o = e.getBoundingClientRect();
                    return t.style.top = Math.round(o.top) + "px",
                    t.style.left = Math.round(o.left) + "px",
                    t.innerText = e.value,
                    t
                }(e);
                let o = !1;
                try {
                    o = rT(n, t)
                } catch (e) {}
                return n.remove(),
                o
            }(e, n);
        {
            const t = i_(e).getSelection()
              , o = function(e) {
                return "IFRAME" === e.nodeName.toUpperCase() ? e.getBoundingClientRect() : {
                    top: 0,
                    left: 0
                }
            }(e);
            if (t.rangeCount)
                return rT(s_(e), n, o)
        }
        return !1
    }
    function rT(e, t, n={
        top: 0,
        left: 0
    }) {
        const o = i_(e).getSelection();
        for (const s of e.childNodes)
            if ("#text" === s.nodeName.toLowerCase()) {
                const e = o.getRangeAt(0).cloneRange();
                e.setStart(s, 0),
                e.setEnd(s, s.textContent.length);
                const a = e.getClientRects();
                if (!a.length)
                    continue;
                for (const e of a) {
                    const o = {
                        left: e.left + n.left,
                        right: e.right + n.left,
                        top: e.top + n.top,
                        bottom: e.bottom + n.top
                    };
                    if (r = t,
                    (i = o).left <= r.right && i.right >= r.left && i.top <= r.bottom && i.bottom >= r.top)
                        return !0
                }
            } else if (e.childNodes.length && rT(s, t, n))
                return !0;
        var i, r;
        return !1
    }
    function sT(e, t) {
        const n = t.filter((t => new RegExp(t).exec(e)));
        return n && n.length > 0
    }
    function aT(e, t) {
        return sT(e, O) || sT(t, N)
    }
    function lT(e) {
        let t;
        try {
            t = new URL(e)
        } catch (e) {
            return !1
        }
        return "http:" === t.protocol || "https:" === t.protocol
    }
    function cT(e, t) {
        if (e && t && "string" == typeof e && Array.isArray(t)) {
            if (0 === t.length)
                return e;
            for (const n of t)
                e.substr(0, n.length) === n && (e = e.substr(n.length));
            return e
        }
    }
    function dT(e) {
        try {
            return new URL(e),
            !0
        } catch (e) {
            return !1
        }
    }
    const uT = e => {
        const t = {
            "&": ".",
            "<": ".",
            ">": ".",
            '"': ".",
            "'": ".",
            "#": ".",
            ";": ".",
            "%": ".",
            "\\": ".",
            "/": "."
        };
        return e.replace(/[&<>"'#;%\\/]/g, (function(e) {
            return t[e]
        }
        ))
    }
    ;
    function pT(e) {
        const t = e || window.getSelection().getRangeAt(0)
          , n = t.getBoundingClientRect()
          , o = document.body.parentNode.getBoundingClientRect()
          , {top: i, left: r, right: s, bottom: a, height: l, width: c} = n
          , d = {
            x: r - o.left,
            y: a - o.top,
            selectedTop: i,
            selectedBottom: a,
            selectedRight: o.width - s,
            selectedLeft: r + window.pageXOffset,
            selectedWidth: c,
            height: l
        };
        if (t.collapsed) {
            const e = t.commonAncestorContainer;
            d.x = e.getBoundingClientRect().left,
            d.y = e.getBoundingClientRect().top + e.offsetHeight
        }
        return d
    }
    const mT = (e, t) => {
        let n = {
            left: Math.max(e.left, t.left),
            right: Math.min(e.right, t.right),
            top: Math.max(e.top, t.top),
            bottom: Math.min(e.bottom, t.bottom)
        };
        return n.left >= n.right || n.top >= n.bottom ? null : n
    }
      , gT = e => {
        const t = window.getComputedStyle(e)
          , n = t.getPropertyValue("overflow-y")
          , o = t.getPropertyValue("overflow-x")
          , i = ["hidden", "scroll", "auto"];
        return i.includes(n) || i.includes(o)
    }
    ;
    function hT(e) {
        const t = (e => {
            let t = e.getBoundingClientRect()
              , n = {
                left: t.left,
                right: t.right,
                bottom: t.bottom,
                top: t.top
            };
            const o = {
                top: 0,
                left: 0,
                right: 0,
                bottom: 0,
                width: 0,
                height: 0
            }
              , i = {
                top: 0,
                left: 0,
                right: window.innerWidth,
                bottom: window.innerHeight
            };
            for (let t = e.parentElement; null !== t && t !== e.ownerDocument.body; t = t.parentElement) {
                let e = t.getBoundingClientRect();
                const i = mT(n, e);
                if (i)
                    n = i;
                else if (gT(t))
                    return o
            }
            return n = mT(n, i),
            n ? {
                top: n.top,
                bottom: n.bottom,
                left: n.left,
                right: n.right,
                width: n.right - n.left,
                height: n.bottom - n.top
            } : o
        }
        )(e)
          , n = e.selectionStart
          , o = e.selectionEnd
          , i = document.createElement("div");
        i.id = "mirror",
        document.body.appendChild(i);
        const r = window.getComputedStyle(e);
        i.style.fontFamily = r.fontFamily,
        i.style.fontSize = r.fontSize,
        i.style.padding = r.padding,
        i.style.border = r.border,
        i.style.lineHeight = r.lineHeight,
        i.style.whiteSpace = "pre-wrap",
        i.style.wordWrap = "break-word",
        i.style.visibility = "hidden",
        i.style.top = `${t.top + window.scrollY}px`,
        i.style.bottom = `${t.bottom + window.scrollY}px`,
        i.style.left = `${t.left}px`,
        i.style.height = r.height,
        i.style.width = `${t.width}px`,
        i.style.position = "absolute";
        const s = uT(e.value.substring(0, n))
          , a = uT(e.value.substring(n, o))
          , l = uT(e.value.substring(o))
          , c = vt(s + '<span id="marker-start" style="position: absolute;">|</span>' + a + '<span id="marker-end" style="position: absolute;">|</span>' + l);
        i.innerHTML = c;
        const d = document.getElementById("marker-start")
          , u = document.getElementById("marker-end")
          , p = d.getBoundingClientRect()
          , m = u.getBoundingClientRect()
          , g = document.body.parentNode.getBoundingClientRect()
          , h = e.getBoundingClientRect()
          , f = {
            x: p.left - g.left,
            y: h.top > 0 ? m.bottom - g.top : m.bottom - g.top + h.top,
            selectedTop: p.top,
            selectedBottom: m.bottom,
            selectedRight: g.width - m.right,
            selectedLeft: p.left + window.pageXOffset,
            selectedWidth: m.right - p.right,
            height: m.bottom - p.top
        };
        return document.body.removeChild(i),
        f
    }
    function fT(e) {
        let t = e.childNodes[0];
        for (let n of Array.from(e.childNodes))
            if (t.getBoundingClientRect || (t = n),
            n.getBoundingClientRect && (n.getBoundingClientRect().right > t.getBoundingClientRect().right && (t = n),
            n.hasChildNodes())) {
                const e = fT(n);
                if (e?.getBoundingClientRect) {
                    const o = n.getBoundingClientRect()
                      , i = e.getBoundingClientRect();
                    o.right < i.right && (t = e)
                }
            }
        return t
    }
    const _T = e => {
        const t = []
          , n = [];
        return wT({
            domElements: t,
            strings: n,
            element: e
        }),
        {
            domElements: t,
            strings: n
        }
    }
    ;
    function vT(e) {
        for (const t of e.childNodes)
            if ("#text" != t.nodeName && "#comment" != t.nodeName) {
                if ("block" == window.getComputedStyle(t).display)
                    return !0;
                if (vT(t))
                    return !0
            }
        return !1
    }
    const yT = ({strings: e, domElements: t}) => {
        for (const n in t)
            Array.isArray(e[n]) ? t[n].innerHTML = vt(e[n].join("")) : t[n].innerHTML = vt(e[n])
    }
      , wT = ({domElements: e, strings: t, element: n}) => {
        if ("#text" != n.nodeName && "#comment" != n.nodeName)
            if (function(e) {
                if (bT(e) || TT(e))
                    return !1;
                for (const t of e.childNodes)
                    if ("#text" == t.nodeName && "" != t.wholeText.trim() || "font" == t.nodeName)
                        return !0;
                for (const t of e.childNodes)
                    if (!bT(t) && (!ET(t) || TT(t) || "inline" != window.getComputedStyle(t).display || vT(e)))
                        return !1;
                if (void 0 === e.innerText || "" == e.innerText.trim())
                    return !1;
                if (1 === e.childNodes.length) {
                    const t = e.childNodes[0];
                    return bT(t)
                }
                return !0
            }(n))
                e.push(n),
                t.push(vt(n.innerHTML));
            else
                for (const o of n.childNodes)
                    wT({
                        domElements: e,
                        strings: t,
                        element: o
                    })
    }
    ;
    const bT = e => "#text" == e.nodeName || "#comment" == e.nodeName
      , ET = e => de.includes(e.nodeName.toLowerCase())
      , TT = e => ce.includes(e.nodeName.toLowerCase());
    function ST(e) {
        const t = [];
        for (; null != e.parentNode; ) {
            let n = 0
              , o = 0;
            for (const t of e.parentNode.childNodes)
                t.nodeName === e.nodeName && (t === e && (o = n),
                n++);
            e.hasAttribute("id") && "" != e.id ? t.unshift(e.nodeName.toLowerCase() + "#" + e.id) : n > 1 ? t.unshift(e.nodeName.toLowerCase() + ":nth-child(" + (o + 1) + ")") : t.unshift(e.nodeName.toLowerCase()),
            e = e.parentNode
        }
        return t.slice(1)
    }
    function xT(e) {
        let t;
        return {
            c() {
                t = th("div"),
                ch(t, "class", "loader svelte-i1g3gv"),
                fh(t, "small", e[0])
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p(e, [n]) {
                1 & n && fh(t, "small", e[0])
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function $T(e, t, n) {
        let {small: o=!1} = t;
        return e.$$set = e => {
            "small"in e && n(0, o = e.small)
        }
        ,
        [o]
    }
    class CT extends pf {
        constructor(e) {
            super(),
            uf(this, e, $T, xT, Ag, {
                small: 0
            })
        }
    }
    const kT = {
        developer_tools: "DEVELOPER_TOOLS",
        settings_page: "SETTINGS_PAGE",
        settings_writing: "SETTINGS_WRITING",
        settings_reading: "SETTINGS_READING",
        settings_customizations: "SETTINGS_CUSTOMIZATIONS",
        settings_glossary: "SETTINGS_GLOSSARY",
        onboarding: "ONBOARDING",
        onboarding_after_successful_login: "ONBOARDING_AFTER_SUCCESSFUL_LOGIN",
        firefox_first_run: "FIREFOX_FIRST_RUN",
        privacy_policy: "PRIVACY_POLICY",
        create_account: "CREATE_ACCOUNT"
    };
    function IT(e) {
        let t, n, o, i, r, s;
        return {
            c() {
                t = th("div"),
                n = th("span"),
                n.textContent = `${chrome.i18n.getMessage("inline_translation_link_more_settings")}`,
                o = ih(),
                i = th("span"),
                ch(i, "class", "icon icon-external-link svelte-1yv621f"),
                ch(t, "class", "settings-link svelte-1yv621f")
            },
            m(a, l) {
                Qg(a, t, l),
                Kg(t, n),
                Kg(t, o),
                Kg(t, i),
                r || (s = sh(t, "click", lh(ah(e[0]))),
                r = !0)
            },
            p: xg,
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                r = !1,
                s()
            }
        }
    }
    function LT(e, n, o) {
        let {page: i=kT.settings_page} = n;
        return e.$$set = e => {
            "page"in e && o(1, i = e.page)
        }
        ,
        [function() {
            t({
                action: "dlOpenInternalPage",
                payload: {
                    destination: i
                }
            })
        }
        , i]
    }
    class AT extends pf {
        constructor(e) {
            super(),
            uf(this, e, LT, IT, Ag, {
                page: 1
            })
        }
    }
    function RT(e) {
        let t, n, o;
        return {
            c() {
                t = th("button"),
                ch(t, "type", "button"),
                ch(t, "class", "close-icon svelte-nskp1z")
            },
            m(i, r) {
                Qg(i, t, r),
                n || (o = sh(t, "click", e[0]),
                n = !0)
            },
            p: xg,
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                n = !1,
                o()
            }
        }
    }
    function MT(e) {
        return [function(t) {
            Rh.call(this, e, t)
        }
        ]
    }
    class OT extends pf {
        constructor(e) {
            super(),
            uf(this, e, MT, RT, Ag, {})
        }
    }
    function NT(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m;
        return i = new OT({}),
        i.$on("click", e[2]),
        c = new ob({
            props: {
                value: e[0].selectedTargetLanguage
            }
        }),
        c.$on("selection", e[3]),
        p = new AT({}),
        {
            c() {
                t = th("div"),
                n = th("div"),
                o = th("div"),
                lf(i.$$.fragment),
                r = ih(),
                s = th("div"),
                a = th("p"),
                a.textContent = `${chrome.i18n.getMessage("whatsapp_web_settings_languageswitch_label")}`,
                l = ih(),
                lf(c.$$.fragment),
                d = ih(),
                u = th("div"),
                lf(p.$$.fragment),
                ch(o, "class", "close-icon-container svelte-8cr9h0"),
                ch(n, "class", "header"),
                ch(a, "class", "label-language-switch svelte-8cr9h0"),
                ch(s, "class", "body svelte-8cr9h0"),
                ch(u, "class", "footer svelte-8cr9h0"),
                ch(t, "class", "container svelte-8cr9h0")
            },
            m(e, g) {
                Qg(e, t, g),
                Kg(t, n),
                Kg(n, o),
                cf(i, o, null),
                Kg(t, r),
                Kg(t, s),
                Kg(s, a),
                Kg(s, l),
                cf(c, s, null),
                Kg(t, d),
                Kg(t, u),
                cf(p, u, null),
                m = !0
            },
            p(e, [t]) {
                const n = {};
                1 & t && (n.value = e[0].selectedTargetLanguage),
                c.$set(n)
            },
            i(e) {
                m || (Jh(i.$$.fragment, e),
                Jh(c.$$.fragment, e),
                Jh(p.$$.fragment, e),
                m = !0)
            },
            o(e) {
                ef(i.$$.fragment, e),
                ef(c.$$.fragment, e),
                ef(p.$$.fragment, e),
                m = !1
            },
            d(e) {
                e && Jg(t),
                df(i),
                df(c),
                df(p)
            }
        }
    }
    function DT(e, t, n) {
        let o;
        const i = Ah("deepl_settings");
        Mg(e, i, (e => n(0, o = e)));
        const r = Ih();
        return [o, i, function() {
            r("close")
        }
        , e => i.set({
            selectedTargetLanguage: e.detail.selectedOption.value,
            isTargetLanguageConfirmed: !0,
            regionalVariant: e.detail.selectedOption.regionalVariant || ""
        })]
    }
    class PT extends pf {
        constructor(e) {
            super(),
            uf(this, e, DT, NT, Ag, {})
        }
    }
    function UT(e) {
        return /\bdark\b/gm.test(e)
    }
    const BT = function() {
        let e = {
            isDarkMode: UT(document.body.className)
        };
        const {subscribe: t, update: n} = gf(e);
        let o = new MutationObserver((e => {
            e.forEach((e => {
                "attributes" === e.type && "class" === e.attributeName && n((e => ({
                    ...e,
                    isDarkMode: UT(document.body.className)
                })))
            }
            ))
        }
        ));
        return o.observe(document.body, {
            attributes: !0
        }),
        setTimeout(( () => {
            x_(( () => {
                o.disconnect()
            }
            ))
        }
        )),
        {
            subscribe: t
        }
    }();
    function WT(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m, g;
        const h = [zT, FT]
          , f = [];
        function _(e, t) {
            return e[2] ? 0 : 1
        }
        return n = _(e),
        o = f[n] = h[n](e),
        {
            c() {
                t = th("div"),
                o.c(),
                i = ih(),
                r = th("div"),
                r.textContent = `${chrome.i18n.getMessage("whatsapp_web_show_alternatives_link")}`,
                s = ih(),
                a = th("button"),
                l = nh("svg"),
                c = nh("path"),
                ch(r, "class", "show-alternatives svelte-3k7vbu"),
                fh(r, "dark", e[6]),
                ch(c, "d", "M3 9L9 3M3 3L9 9"),
                ch(c, "stroke", d = e[3] && e[3].isDarkMode ? "#F2F4F7" : "#037171"),
                ch(c, "stroke-width", "1.5"),
                ch(c, "stroke-linecap", "round"),
                ch(c, "stroke-linejoin", "round"),
                ch(l, "width", "12"),
                ch(l, "height", "12"),
                ch(l, "viewBox", "0 0 12 12"),
                ch(l, "fill", "none"),
                ch(l, "xmlns", "http://www.w3.org/2000/svg"),
                ch(a, "class", "svelte-3k7vbu"),
                ch(t, "class", "container svelte-3k7vbu"),
                ch(t, "dir", Vt()),
                fh(t, "dark", e[6])
            },
            m(o, d) {
                Qg(o, t, d),
                f[n].m(t, null),
                Kg(t, i),
                Kg(t, r),
                Kg(t, s),
                Kg(t, a),
                Kg(a, l),
                Kg(l, c),
                p = !0,
                m || (g = [sh(r, "click", e[7]), sh(a, "click", (function() {
                    Lg(e[1]) && e[1].apply(this, arguments)
                }
                ))],
                m = !0)
            },
            p(s, a) {
                let l = n;
                n = _(e = s),
                n === l ? f[n].p(e, a) : (Xh(),
                ef(f[l], 1, 1, ( () => {
                    f[l] = null
                }
                )),
                Qh(),
                o = f[n],
                o ? o.p(e, a) : (o = f[n] = h[n](e),
                o.c()),
                Jh(o, 1),
                o.m(t, i)),
                (!p || 64 & a) && fh(r, "dark", e[6]),
                (!p || 8 & a && d !== (d = e[3] && e[3].isDarkMode ? "#F2F4F7" : "#037171")) && ch(c, "stroke", d),
                (!p || 64 & a) && fh(t, "dark", e[6])
            },
            i(e) {
                p || (Jh(o),
                u || Wh(( () => {
                    u = nf(t, Kf, {
                        y: -10,
                        duration: 200
                    }),
                    u.start()
                }
                )),
                p = !0)
            },
            o(e) {
                ef(o),
                p = !1
            },
            d(e) {
                e && Jg(t),
                f[n].d(),
                m = !1,
                Ig(g)
            }
        }
    }
    function FT(e) {
        let t, n, o, i;
        return {
            c() {
                t = th("div"),
                n = th("span"),
                o = oh(e[0]),
                ch(n, "class", "translatedText svelte-3k7vbu"),
                ch(t, "dir", i = Vt(e[5]))
            },
            m(e, i) {
                Qg(e, t, i),
                Kg(t, n),
                Kg(n, o)
            },
            p(e, n) {
                1 & n && dh(o, e[0]),
                32 & n && i !== (i = Vt(e[5])) && ch(t, "dir", i)
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function zT(e) {
        let t, n;
        return t = new Xy({
            props: {
                error: e[2]
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                4 & n && (o.error = e[2]),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function HT(e) {
        let t, n, o = e[4] && WT(e);
        return {
            c() {
                o && o.c(),
                t = rh()
            },
            m(e, i) {
                o && o.m(e, i),
                Qg(e, t, i),
                n = !0
            },
            p(e, [n]) {
                e[4] ? o ? (o.p(e, n),
                16 & n && Jh(o, 1)) : (o = WT(e),
                o.c(),
                Jh(o, 1),
                o.m(t.parentNode, t)) : o && (Xh(),
                ef(o, 1, 1, ( () => {
                    o = null
                }
                )),
                Qh())
            },
            i(e) {
                n || (Jh(o),
                n = !0)
            },
            o(e) {
                ef(o),
                n = !1
            },
            d(e) {
                e && Jg(t),
                o && o.d(e)
            }
        }
    }
    function jT(e, n, o) {
        let i, r, s;
        Mg(e, hf, (e => o(9, r = e))),
        Mg(e, BT, (e => o(3, s = e))),
        Lh("text_direction", Vt());
        let a, l, {translatedText: c} = n, {sourceText: d} = n, {onClose: u} = n, {error: p} = n, m = !1;
        return setTimeout(( () => o(4, m = !0)), 50),
        e.$$set = e => {
            "translatedText"in e && o(0, c = e.translatedText),
            "sourceText"in e && o(8, d = e.sourceText),
            "onClose"in e && o(1, u = e.onClose),
            "error"in e && o(2, p = e.error)
        }
        ,
        e.$$.update = () => {
            8 & e.$$.dirty && o(6, i = s && s.isDarkMode),
            256 & e.$$.dirty && Wt(d).then((e => {
                a = e
            }
            )),
            512 & e.$$.dirty && o(5, l = r.selectedTargetLanguage)
        }
        ,
        [c, u, p, s, m, l, i, function() {
            t({
                action: "dlExternalURLRedirect",
                payload: {
                    destination: xv,
                    sourceLang: a,
                    targetLang: l,
                    textToShare: d
                }
            })
        }
        , d, r]
    }
    class GT extends pf {
        constructor(e) {
            super(),
            uf(this, e, jT, HT, Ag, {
                translatedText: 0,
                sourceText: 8,
                onClose: 1,
                error: 2
            })
        }
    }
    class qT {
        static HTML_TAG_NAME = "deepl-whatsapp-translated-message";
        static createElement = (e=document) => {
            const t = e.createElement(qT.HTML_TAG_NAME)
              , n = new qT(t);
            return t.createDOM = n.createDOM,
            t.cleanupDOM = n.cleanupDOM,
            t
        }
        ;
        constructor(e) {
            this.domElement = e,
            this.domElement.shadow = this.domElement.attachShadow({
                mode: "open"
            }),
            this.domElement.shadowContainer = document.createElement("div"),
            this.domElement.mainComponent;
            const t = document.createElement("link");
            t.setAttribute("rel", "stylesheet"),
            t.setAttribute("href", chrome.runtime.getURL("build/content.css")),
            this.domElement.shadow.appendChild(t),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer),
            this.domElement.shadowContainer.addEventListener("click", (e => {
                e.stopPropagation(),
                e.stopImmediatePropagation()
            }
            ))
        }
        createDOM = (e, t, n, o) => {
            this.domElement.mainComponent = new GT({
                target: this.domElement.shadowContainer,
                props: {
                    translatedText: e,
                    onClose: n,
                    sourceText: t,
                    error: o
                }
            })
        }
        ;
        cleanupDOM = () => {
            this.domElement.shadowContainer.remove(),
            this.domElement.mainComponent && this.domElement.mainComponent.$destroy()
        }
    }
    function VT(e) {
        let t, n, o, i, r, s, a, l;
        const c = [KT, YT]
          , d = [];
        function u(e, t) {
            return e[6] ? 0 : 1
        }
        n = u(e),
        o = d[n] = c[n](e);
        let p = e[8] && JT(e);
        return {
            c() {
                t = th("div"),
                o.c(),
                i = ih(),
                p && p.c(),
                ch(t, "class", "container svelte-tz0fan"),
                ch(t, "style", r = `\n    top: ${e[7]}px; \n    left: ${e[13]}px; \n    z-index: ${e[15]}; \n    opacity: ${e[12]};`),
                ch(t, "dir", Vt()),
                fh(t, "isTranslated", e[5]),
                fh(t, "isHidden", e[1]),
                fh(t, "messageHasReactionIcon", e[9]),
                fh(t, "isExpanded", e[2]),
                fh(t, "isParentRTL", e[0])
            },
            m(o, r) {
                Qg(o, t, r),
                d[n].m(t, null),
                Kg(t, i),
                p && p.m(t, null),
                e[28](t),
                s = !0,
                a || (l = [sh(t, "mouseleave", e[29]), Fg(S_.call(null, t, {
                    isShadow: !0
                })), sh(t, "click_outside", e[17]), sh(t, "mousedown", lh(ah(e[22])))],
                a = !0)
            },
            p(e, a) {
                let l = n;
                n = u(e),
                n === l ? d[n].p(e, a) : (Xh(),
                ef(d[l], 1, 1, ( () => {
                    d[l] = null
                }
                )),
                Qh(),
                o = d[n],
                o ? o.p(e, a) : (o = d[n] = c[n](e),
                o.c()),
                Jh(o, 1),
                o.m(t, i)),
                e[8] ? p ? (p.p(e, a),
                256 & a[0] && Jh(p, 1)) : (p = JT(e),
                p.c(),
                Jh(p, 1),
                p.m(t, null)) : p && (Xh(),
                ef(p, 1, 1, ( () => {
                    p = null
                }
                )),
                Qh()),
                (!s || 12416 & a[0] && r !== (r = `\n    top: ${e[7]}px; \n    left: ${e[13]}px; \n    z-index: ${e[15]}; \n    opacity: ${e[12]};`)) && ch(t, "style", r),
                (!s || 32 & a[0]) && fh(t, "isTranslated", e[5]),
                (!s || 2 & a[0]) && fh(t, "isHidden", e[1]),
                (!s || 512 & a[0]) && fh(t, "messageHasReactionIcon", e[9]),
                (!s || 4 & a[0]) && fh(t, "isExpanded", e[2]),
                (!s || 1 & a[0]) && fh(t, "isParentRTL", e[0])
            },
            i(e) {
                s || (Jh(o),
                Jh(p),
                s = !0)
            },
            o(e) {
                ef(o),
                ef(p),
                s = !1
            },
            d(o) {
                o && Jg(t),
                d[n].d(),
                p && p.d(),
                e[28](null),
                a = !1,
                Ig(l)
            }
        }
    }
    function YT(e) {
        let t, n, o, i;
        t = new L_({
            props: {
                tooltip: e[14] ? chrome.i18n.getMessage("contact_admin_info_translate_disabled") : chrome.i18n.getMessage("whatsapp_web_tooltip_translate_button"),
                multiline: !0,
                zIndex: "0",
                parentIsRTL: e[0],
                ignoreTextDirection: !0,
                $$slots: {
                    default: [ZT]
                },
                $$scope: {
                    ctx: e
                }
            }
        });
        let r = e[2] && XT(e);
        return {
            c() {
                lf(t.$$.fragment),
                n = ih(),
                r && r.c(),
                o = rh()
            },
            m(e, s) {
                cf(t, e, s),
                Qg(e, n, s),
                r && r.m(e, s),
                Qg(e, o, s),
                i = !0
            },
            p(e, n) {
                const i = {};
                16384 & n[0] && (i.tooltip = e[14] ? chrome.i18n.getMessage("contact_admin_info_translate_disabled") : chrome.i18n.getMessage("whatsapp_web_tooltip_translate_button")),
                1 & n[0] && (i.parentIsRTL = e[0]),
                16388 & n[0] | 2 & n[1] && (i.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                t.$set(i),
                e[2] ? r ? (r.p(e, n),
                4 & n[0] && Jh(r, 1)) : (r = XT(e),
                r.c(),
                Jh(r, 1),
                r.m(o.parentNode, o)) : r && (Xh(),
                ef(r, 1, 1, ( () => {
                    r = null
                }
                )),
                Qh())
            },
            i(e) {
                i || (Jh(t.$$.fragment, e),
                Jh(r),
                i = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                ef(r),
                i = !1
            },
            d(e) {
                e && (Jg(n),
                Jg(o)),
                df(t, e),
                r && r.d(e)
            }
        }
    }
    function KT(e) {
        let t, n;
        return t = new CT({
            props: {
                small: !0
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p: xg,
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function ZT(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m;
        return {
            c() {
                t = th("div"),
                n = nh("svg"),
                o = nh("g"),
                i = nh("path"),
                s = nh("path"),
                a = nh("path"),
                l = nh("defs"),
                c = nh("clipPath"),
                d = nh("rect"),
                ch(i, "d", "M1.85295 4.86015V12.4035C1.85295 12.7953 2.05334 13.1545 2.38029 13.3504L8.70832 17.1167C8.72427 17.1262 8.7404 17.1353 8.75668 17.1439L11.8727 19L11.8621 17.3672L11.8685 16.4605L11.8717 16.4747V16.1699C11.8717 15.9893 11.9613 15.8272 12.0993 15.7262L12.3015 15.6059L12.3991 15.5494L12.394 15.5508L16.091 13.3504C16.418 13.1545 16.6184 12.7953 16.6184 12.4035V4.86015C16.6184 4.46829 16.418 4.10909 16.091 3.91316L9.76299 0.146947C9.43604 -0.0489825 9.03527 -0.0489825 8.70832 0.146947L2.38029 3.92404C2.05334 4.11997 1.85295 4.47918 1.85295 4.86015Z"),
                ch(i, "fill", r = e[14] ? "#848F9B" : "#0F2B46"),
                ch(s, "d", "M6.68257 5.19787C7.10444 4.77336 7.77943 4.77336 8.2013 5.19787C8.50446 5.49621 8.60497 5.92588 8.50281 6.3113L11.4143 8.05411C11.4193 8.04902 11.4243 8.04396 11.4294 8.03894C11.8513 7.61442 12.5263 7.61442 12.9481 8.03894C13.4017 8.48522 13.4017 9.2254 12.9481 9.67168C12.5263 10.0962 11.8513 10.0962 11.4294 9.67168C11.111 9.35838 11.0162 8.90024 11.1448 8.50062L11.1341 8.50683L8.24372 6.78659C8.23005 6.80156 8.21591 6.81624 8.2013 6.83062C7.77943 7.25514 7.10444 7.25514 6.68257 6.83062C6.22906 6.38434 6.22906 5.64416 6.68257 5.19787Z"),
                ch(s, "fill", "white"),
                ch(a, "d", "M8.50819 11.5811L11.3455 9.88917L10.8182 9.58439L8.2574 11.1016C8.23971 11.0816 8.2212 11.062 8.20187 11.043C7.78 10.6185 7.10501 10.6185 6.68314 11.043C6.22963 11.4893 6.22963 12.2295 6.68314 12.6757C7.10501 13.1003 7.78 13.1003 8.20187 12.6757C8.50012 12.3822 8.60222 11.9616 8.50819 11.5811Z"),
                ch(a, "fill", "white"),
                ch(o, "clip-path", "url(#clip0)"),
                ch(d, "width", "18.5294"),
                ch(d, "height", "19"),
                ch(d, "fill", u = e[14] ? "#2C2C2C" : "white"),
                ch(d, "transform", "matrix(-1 0 0 1 18.5294 0)"),
                ch(c, "id", "clip0"),
                ch(n, "width", "15"),
                ch(n, "height", "15"),
                ch(n, "viewBox", "0 0 19 19"),
                ch(n, "fill", "none"),
                ch(n, "xmlns", "http://www.w3.org/2000/svg"),
                ch(n, "class", "svelte-tz0fan"),
                ch(t, "class", "translateTrigger svelte-tz0fan")
            },
            m(r, u) {
                Qg(r, t, u),
                Kg(t, n),
                Kg(n, o),
                Kg(o, i),
                Kg(o, s),
                Kg(o, a),
                Kg(n, l),
                Kg(l, c),
                Kg(c, d),
                p || (m = [sh(t, "mouseover", e[24]), sh(t, "click", e[25])],
                p = !0)
            },
            p(e, t) {
                16384 & t[0] && r !== (r = e[14] ? "#848F9B" : "#0F2B46") && ch(i, "fill", r),
                16384 & t[0] && u !== (u = e[14] ? "#2C2C2C" : "white") && ch(d, "fill", u)
            },
            d(e) {
                e && Jg(t),
                p = !1,
                Ig(m)
            }
        }
    }
    function XT(e) {
        let t, n;
        return t = new L_({
            props: {
                tooltip: chrome.i18n.getMessage("whatsapp_web_tooltip_settings_button"),
                multiline: !0,
                zIndex: "0",
                $$slots: {
                    default: [QT]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                256 & n[0] | 2 & n[1] && (o.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function QT(e) {
        let t, n, o, i;
        return {
            c() {
                t = th("div"),
                t.innerHTML = '<svg width="15" height="15" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-tz0fan"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.11001 16.2439H10.71L11.025 14.0488C11.565 13.8732 12.015 13.6098 12.465 13.2585L14.58 14.0488L16.38 10.9756L14.625 9.57073C14.67 9.30732 14.67 9.0439 14.67 8.78049C14.67 8.51707 14.67 8.25366 14.625 7.99024L16.38 6.58537L14.58 3.5122L12.465 4.30244C12.015 3.99512 11.52 3.73171 11.025 3.5122L10.665 1.31707H7.06501L6.70501 3.5122C6.16501 3.68781 5.71501 3.95122 5.26501 4.30244L3.15001 3.5122L1.35001 6.58537L3.10501 7.99024C3.06001 8.25366 3.06001 8.51707 3.06001 8.78049C3.06001 9.0439 3.06001 9.30732 3.10501 9.57073L1.35001 10.9756L3.15001 14.0488L5.31001 13.2585C5.76001 13.5659 6.25501 13.8293 6.75001 14.0488L7.11001 16.2439ZM9.94501 15.3659H7.83001L7.51501 13.3463L7.24501 13.2585C6.66001 13.0829 6.12001 12.7756 5.67001 12.3805L5.44501 12.2049L3.55501 12.9073L2.52001 11.1512L4.09501 9.87805L4.05001 9.61463C4.00501 9.30732 3.96001 9 3.96001 8.73659C3.96001 8.47317 4.00501 8.16585 4.05001 7.85854L4.09501 7.63902L2.52001 6.36585L3.55501 4.60976L5.44501 5.3122L5.67001 5.09268C6.12001 4.69756 6.66001 4.43415 7.24501 4.21463L7.51501 4.12683L7.83001 2.19512H9.94501L10.26 4.21463L10.53 4.30244C11.115 4.47805 11.655 4.78537 12.105 5.18049L12.285 5.3561L14.175 4.65366L15.21 6.40976L13.635 7.68293L13.68 7.94634C13.725 8.25366 13.77 8.56098 13.77 8.82439C13.77 9.08781 13.725 9.39512 13.68 9.70244L13.635 9.96585L15.21 11.239L14.175 12.9951L12.285 12.2927L12.105 12.4683C11.655 12.8634 11.115 13.1268 10.53 13.3463L10.26 13.4341L9.94501 15.3659ZM6.03018 8.78047C6.03018 10.3171 7.29018 11.5463 8.86518 11.5463C10.4402 11.5463 11.7002 10.3171 11.7002 8.78047C11.7002 7.24388 10.4402 6.01461 8.86518 6.01461C7.29018 6.01461 6.03018 7.24388 6.03018 8.78047ZM6.93018 8.78047C6.93018 7.72681 7.78518 6.89266 8.86518 6.89266C9.94518 6.89266 10.8002 7.72681 10.8002 8.78047C10.8002 9.83413 9.94518 10.6683 8.86518 10.6683C7.78518 10.6683 6.93018 9.83413 6.93018 8.78047Z" fill="#0F2B46"></path></svg>',
                ch(t, "class", "settingsTrigger svelte-tz0fan")
            },
            m(n, r) {
                Qg(n, t, r),
                o || (i = [sh(t, "click", e[26]), sh(t, "mousedown", lh(ah(e[23])))],
                o = !0)
            },
            p: xg,
            i(e) {
                n || Wh(( () => {
                    n = nf(t, Kf, {
                        x: -8,
                        duration: 600
                    }),
                    n.start()
                }
                ))
            },
            o: xg,
            d(e) {
                e && Jg(t),
                o = !1,
                Ig(i)
            }
        }
    }
    function JT(e) {
        let t, n, o, i, r;
        return n = new PT({}),
        n.$on("close", e[27]),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                ch(t, "class", "settingsContainer svelte-tz0fan"),
                fh(t, "isTop", !e[10]),
                fh(t, "isLeft", !e[11])
            },
            m(e, o) {
                Qg(e, t, o),
                cf(n, t, null),
                r = !0
            },
            p(e, n) {
                (!r || 1024 & n[0]) && fh(t, "isTop", !e[10]),
                (!r || 2048 & n[0]) && fh(t, "isLeft", !e[11])
            },
            i(e) {
                r || (Jh(n.$$.fragment, e),
                Wh(( () => {
                    r && (i && i.end(1),
                    o = nf(t, Kf, {
                        y: -10,
                        duration: 600
                    }),
                    o.start())
                }
                )),
                r = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                o && o.invalidate(),
                i = of(t, Kf, {
                    y: -10,
                    duration: 600
                }),
                r = !1
            },
            d(e) {
                e && Jg(t),
                df(n),
                e && i && i.end()
            }
        }
    }
    function eS(e) {
        let t, n, o = e[3] && e[3].isWhatsAppWebEnabled && VT(e);
        return {
            c() {
                o && o.c(),
                t = rh()
            },
            m(e, i) {
                o && o.m(e, i),
                Qg(e, t, i),
                n = !0
            },
            p(e, n) {
                e[3] && e[3].isWhatsAppWebEnabled ? o ? (o.p(e, n),
                8 & n[0] && Jh(o, 1)) : (o = VT(e),
                o.c(),
                Jh(o, 1),
                o.m(t.parentNode, t)) : o && (Xh(),
                ef(o, 1, 1, ( () => {
                    o = null
                }
                )),
                Qh())
            },
            i(e) {
                n || (Jh(o),
                n = !0)
            },
            o(e) {
                ef(o),
                n = !1
            },
            d(e) {
                e && Jg(t),
                o && o.d(e)
            }
        }
    }
    function tS(e, n, o) {
        let i, r;
        Mg(e, hf, (e => o(3, r = e))),
        Lh("deepl_settings", hf),
        Lh("deepl_website_settings", Hw),
        Lh("text_direction", Vt());
        let {textElement: s} = n
          , {messageContainer: a} = n
          , l = !1;
        const c = 265
          , d = 150
          , u = 220;
        let p, m, g, h, f = !1, _ = !0, v = 0, y = 0, w = !1, b = !1, E = !1, T = P.deepl_inline_ui.z_index, S = !0, x = !0, $ = 0;
        function C() {
            const e = p.parentNode.getBoundingClientRect()
              , t = fT(a);
            o(7, y = a.getBoundingClientRect().height / 2),
            o(20, v = t.getBoundingClientRect().right - e.left);
            setTimeout(( () => {
                const t = a.querySelector('[data-icon="react"]');
                t && (o(20, v = t.getBoundingClientRect().right - e.left),
                o(21, g = !0)),
                o(12, $ = 1),
                l && o(20, v = v + -42)
            }
            ), d);
            const n = a.querySelector('[data-a8n="reaction-bubble"]')
              , i = a.querySelector('[data-testid="reaction-bubble"]');
            o(9, E = !(!n && !i)),
            window.innerHeight - e.bottom < u + y ? o(10, S = !1) : o(10, S = !0),
            a.getBoundingClientRect().right - t.getBoundingClientRect().right < c ? o(11, x = !1) : o(11, x = !0)
        }
        async function k() {
            if (m)
                return;
            o(6, f = !0),
            o(8, w = !1);
            let e, n, i = "";
            try {
                i = await Wt(s.innerText)
            } catch (e) {
                console.log(e)
            }
            try {
                n = await t({
                    action: "dlRequestWhatsAppMessageTranslation",
                    payload: {
                        message: s.innerText,
                        messageLang: i,
                        domainName: window.location.hostname
                    }
                })
            } catch (t) {
                e = t,
                console.error(e)
            }
            o(5, m = e ? "" : n[0].text),
            o(6, f = !1);
            const r = qT.createElement();
            r.createDOM(m, s.innerText, ( () => {
                o(18, a.dataset.dlIsTranslated = "false", a),
                setTimeout(( () => o(5, m = "")), 600),
                r.cleanupDOM(),
                r.remove()
            }
            ), e),
            s.appendChild(r),
            o(18, a.dataset.dlIsTranslated = "true", a)
        }
        a.addEventListener("mouseover", ( () => {
            o(1, _ = !1)
        }
        ), !1),
        a.addEventListener("mouseout", ( () => {
            w || o(1, _ = !0)
        }
        ), !1);
        return e.$$set = e => {
            "textElement"in e && o(19, s = e.textElement),
            "messageContainer"in e && o(18, a = e.messageContainer)
        }
        ,
        e.$$.update = () => {
            8 & e.$$.dirty[0] && o(14, i = st(r, Ee.TRANSLATOR)),
            2621442 & e.$$.dirty[0] && (o(0, l = Yt(s.parentNode)),
            _ || g || C()),
            1048581 & e.$$.dirty[0] && (console.log("isParentRTL", l),
            console.log("shdfL", b),
            o(13, h = l && b ? v - 20 : v))
        }
        ,
        [l, _, b, r, p, m, f, y, w, E, S, x, $, h, i, T, k, function() {
            o(8, w = !1)
        }
        , a, s, v, g, function(t) {
            Rh.call(this, e, t)
        }
        , function(t) {
            Rh.call(this, e, t)
        }
        , () => {
            i || o(2, b = !0)
        }
        , () => {
            i || k()
        }
        , () => o(8, w = !w), () => o(8, w = !1), function(e) {
            Oh[e ? "unshift" : "push"](( () => {
                p = e,
                o(4, p)
            }
            ))
        }
        , () => {
            w || o(2, b = !1)
        }
        ]
    }
    class nS extends pf {
        constructor(e) {
            super(),
            uf(this, e, tS, eS, Ag, {
                textElement: 19,
                messageContainer: 18
            }, null, [-1, -1])
        }
    }
    class oS {
        static HTML_TAG_NAME = "deepl-whatsapp-message-in-translator";
        static createElement = (e=document) => {
            const t = e.createElement(oS.HTML_TAG_NAME)
              , n = new oS(t);
            return t.createDOM = n.createDOM,
            t.cleanupDOM = n.cleanupDOM,
            t
        }
        ;
        constructor(e) {
            this.domElement = e,
            this.domElement.shadow = this.domElement.attachShadow({
                mode: "open"
            }),
            this.domElement.shadowContainer = document.createElement("div"),
            this.domElement.mainComponent;
            const t = document.createElement("link");
            t.setAttribute("rel", "stylesheet"),
            t.setAttribute("href", chrome.runtime.getURL("build/content.css")),
            this.domElement.shadow.appendChild(t),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer),
            this.domElement.shadowContainer.addEventListener("click", (e => {
                e.stopPropagation(),
                e.stopImmediatePropagation()
            }
            ))
        }
        createDOM = (e, t) => {
            this.domElement.mainComponent = new nS({
                target: this.domElement.shadowContainer,
                props: {
                    textElement: e,
                    messageContainer: t
                }
            })
        }
        ;
        cleanupDOM = () => {
            this.domElement.shadowContainer.remove(),
            this.domElement.mainComponent && this.domElement.mainComponent.$destroy()
        }
    }
    function iS() {
        const e = document.querySelector("deepl-whatsapp-messages-in-translator");
        if (e) {
            const t = document.body.querySelector("[data-testid=conversation-panel-messages]")
              , n = document.querySelector("footer").getBoundingClientRect()
              , o = t.getBoundingClientRect();
            return e.style.left = o.right - 58 + "px",
            void (e.style.top = n.top - 55 + "px")
        }
    }
    function rS() {
        let e = new MutationObserver(( () => {
            !function() {
                const e = document.body.querySelectorAll(".message-in");
                for (let t of e)
                    if ("true" !== t.dataset.dlHasMessageTranslator && "true" !== t.dataset.dlIsTranslated) {
                        t.dataset.dlHasMessageTranslator = "true";
                        const e = t.querySelector(".selectable-text.copyable-text");
                        if (e && e.innerText && !dT(e.innerText)) {
                            const n = oS.createElement();
                            n.createDOM(e, t),
                            n.style.position = "absolute",
                            n.style.top = "0px",
                            t.appendChild(n)
                        }
                    }
            }()
        }
        ));
        e.observe(document.body, {
            attributes: !0,
            childList: !0,
            subtree: !0
        }),
        window.addEventListener("resize", iS),
        x_(( () => {
            window.removeEventListener("resize", iS),
            e.disconnect()
        }
        ))
    }
    class sS {
        constructor(e) {
            this.domElement = e,
            this.domElement.shadow = this.domElement.attachShadow({
                mode: "open"
            }),
            this.domElement.shadowContainer = document.createElement("div"),
            this.domElement.mainComponent;
            const t = document.createElement("link");
            t.setAttribute("rel", "stylesheet"),
            t.setAttribute("href", chrome.runtime.getURL("build/content.css")),
            this.domElement.shadow.appendChild(t),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer),
            this.domElement.shadowContainer.addEventListener("mouseup", (e => {
                e.stopPropagation(),
                e.stopImmediatePropagation()
            }
            )),
            this.domElement.shadowContainer.addEventListener("mousedown", (e => {
                e.stopPropagation(),
                e.stopImmediatePropagation()
            }
            )),
            this.domElement.shadowContainer.addEventListener("click", (e => {
                e.stopPropagation(),
                e.stopImmediatePropagation()
            }
            ))
        }
        createDOM = () => {
            throw new Error("createDOM must be defined in the child component")
        }
        ;
        cleanupDOM = () => {
            this.domElement.shadowContainer.remove(),
            this.domElement.mainComponent && this.domElement.mainComponent.$destroy()
        }
        ;
        bindChildFunctions = (e=[]) => {
            ["createDOM", "cleanupDOM", ...e].forEach((e => {
                this.domElement[e] = this[e]
            }
            ))
        }
    }
    const aS = "rgb(0, 0, 0)"
      , lS = "rgb(21, 32, 43)";
    function cS(e) {
        return e === aS || e === lS
    }
    const dS = function() {
        let e = {
            isDarkMode: cS(document.body.style.backgroundColor)
        };
        const {subscribe: t, update: n} = gf(e);
        let o = new MutationObserver((e => {
            e.forEach((e => {
                "attributes" === e.type && "style" === e.attributeName && n((e => ({
                    ...e,
                    isDarkMode: cS(document.body.style.backgroundColor)
                })))
            }
            ))
        }
        ));
        return o.observe(document.body, {
            attributes: !0
        }),
        setTimeout(( () => {
            x_(( () => {
                o.disconnect()
            }
            ))
        }
        )),
        {
            subscribe: t
        }
    }();
    function uS(e) {
        let t, n, o = function(e) {
            let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h, f;
            const _ = [mS, pS]
              , v = [];
            function y(e, t) {
                return e[2] ? 0 : 1
            }
            return o = y(e),
            i = v[o] = _[o](e),
            {
                c() {
                    t = th("div"),
                    n = th("div"),
                    i.c(),
                    r = ih(),
                    s = th("div"),
                    s.textContent = `${chrome.i18n.getMessage("twitter_web_alternatives_link")}`,
                    l = ih(),
                    c = th("button"),
                    d = nh("svg"),
                    u = nh("path"),
                    ch(s, "class", "show-alternatives svelte-t50unb"),
                    fh(s, "dark", e[4]),
                    ch(n, "dir", a = Vt(e[3].selectedTargetLanguage)),
                    ch(u, "d", "M3 9L9 3M3 3L9 9"),
                    ch(u, "stroke", p = e[4] ? "white" : "#037171"),
                    ch(u, "stroke-width", "1.5"),
                    ch(u, "stroke-linecap", "round"),
                    ch(u, "stroke-linejoin", "round"),
                    ch(d, "width", "12"),
                    ch(d, "height", "12"),
                    ch(d, "viewBox", "0 0 12 12"),
                    ch(d, "fill", "none"),
                    ch(d, "xmlns", "http://www.w3.org/2000/svg"),
                    ch(c, "class", "svelte-t50unb"),
                    ch(t, "class", "container svelte-t50unb"),
                    ch(t, "dir", Vt()),
                    fh(t, "dark", e[4])
                },
                m(i, a) {
                    Qg(i, t, a),
                    Kg(t, n),
                    v[o].m(n, null),
                    Kg(n, r),
                    Kg(n, s),
                    Kg(t, l),
                    Kg(t, c),
                    Kg(c, d),
                    Kg(d, u),
                    g = !0,
                    h || (f = [sh(s, "click", e[5]), sh(c, "click", (function() {
                        Lg(e[1]) && e[1].apply(this, arguments)
                    }
                    ))],
                    h = !0)
                },
                p(l, c) {
                    let d = o;
                    o = y(e = l),
                    o === d ? v[o].p(e, c) : (Xh(),
                    ef(v[d], 1, 1, ( () => {
                        v[d] = null
                    }
                    )),
                    Qh(),
                    i = v[o],
                    i ? i.p(e, c) : (i = v[o] = _[o](e),
                    i.c()),
                    Jh(i, 1),
                    i.m(n, r)),
                    (!g || 16 & c) && fh(s, "dark", e[4]),
                    (!g || 8 & c && a !== (a = Vt(e[3].selectedTargetLanguage))) && ch(n, "dir", a),
                    (!g || 16 & c && p !== (p = e[4] ? "white" : "#037171")) && ch(u, "stroke", p),
                    (!g || 16 & c) && fh(t, "dark", e[4])
                },
                i(e) {
                    g || (Jh(i),
                    m || Wh(( () => {
                        m = nf(t, Kf, {
                            y: -10,
                            duration: 200
                        }),
                        m.start()
                    }
                    )),
                    g = !0)
                },
                o(e) {
                    ef(i),
                    g = !1
                },
                d(e) {
                    e && Jg(t),
                    v[o].d(),
                    h = !1,
                    Ig(f)
                }
            }
        }(e);
        return {
            c() {
                o && o.c(),
                t = rh()
            },
            m(e, i) {
                o && o.m(e, i),
                Qg(e, t, i),
                n = !0
            },
            p(e, t) {
                o.p(e, t)
            },
            i(e) {
                n || (Jh(o),
                n = !0)
            },
            o(e) {
                ef(o),
                n = !1
            },
            d(e) {
                e && Jg(t),
                o && o.d(e)
            }
        }
    }
    function pS(e) {
        let t, n;
        return {
            c() {
                t = th("span"),
                n = oh(e[0]),
                ch(t, "class", "translatedText svelte-t50unb")
            },
            m(e, o) {
                Qg(e, t, o),
                Kg(t, n)
            },
            p(e, t) {
                1 & t && dh(n, e[0])
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function mS(e) {
        let t, n;
        return t = new Xy({
            props: {
                error: e[2]
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                4 & n && (o.error = e[2]),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function gS(e) {
        let t, n, o = e[3] && e[3].isTwitterEnabled && uS(e);
        return {
            c() {
                o && o.c(),
                t = rh()
            },
            m(e, i) {
                o && o.m(e, i),
                Qg(e, t, i),
                n = !0
            },
            p(e, [n]) {
                e[3] && e[3].isTwitterEnabled ? o ? (o.p(e, n),
                8 & n && Jh(o, 1)) : (o = uS(e),
                o.c(),
                Jh(o, 1),
                o.m(t.parentNode, t)) : o && (Xh(),
                ef(o, 1, 1, ( () => {
                    o = null
                }
                )),
                Qh())
            },
            i(e) {
                n || (Jh(o),
                n = !0)
            },
            o(e) {
                ef(o),
                n = !1
            },
            d(e) {
                e && Jg(t),
                o && o.d(e)
            }
        }
    }
    function hS(e, n, o) {
        let i, r, s;
        Mg(e, hf, (e => o(3, r = e))),
        Mg(e, dS, (e => o(7, s = e))),
        Lh("text_direction", Vt());
        let a, l, {translatedText: c} = n, {sourceText: d} = n, {onClose: u} = n, {error: p} = n;
        return e.$$set = e => {
            "translatedText"in e && o(0, c = e.translatedText),
            "sourceText"in e && o(6, d = e.sourceText),
            "onClose"in e && o(1, u = e.onClose),
            "error"in e && o(2, p = e.error)
        }
        ,
        e.$$.update = () => {
            128 & e.$$.dirty && o(4, i = s && s.isDarkMode),
            64 & e.$$.dirty && Wt(d).then((e => {
                a = e
            }
            )),
            8 & e.$$.dirty && (l = r.selectedTargetLanguage)
        }
        ,
        [c, u, p, r, i, function() {
            t({
                action: "dlExternalURLRedirect",
                payload: {
                    destination: xv,
                    sourceLang: a,
                    targetLang: l,
                    textToShare: d
                }
            })
        }
        , d, s]
    }
    class fS extends pf {
        constructor(e) {
            super(),
            uf(this, e, hS, gS, Ag, {
                translatedText: 0,
                sourceText: 6,
                onClose: 1,
                error: 2
            })
        }
    }
    class _S extends sS {
        static HTML_TAG_NAME = "deepl-twitter-translated-tweet";
        constructor(e) {
            super(e),
            this.bindChildFunctions()
        }
        static createElement = (e=document) => {
            const t = e.createElement(_S.HTML_TAG_NAME);
            return new _S(t),
            t
        }
        ;
        createDOM = (e, t, n, o) => {
            this.domElement.mainComponent = new fS({
                target: this.domElement.shadowContainer,
                props: {
                    translatedText: e,
                    onClose: n,
                    sourceText: t,
                    error: o
                }
            })
        }
    }
    function vS(e) {
        let t, n, o, i;
        const r = [wS, yS]
          , s = [];
        function a(e, t) {
            return e[2] ? 0 : e[3] ? 1 : -1
        }
        return ~(n = a(e)) && (o = s[n] = r[n](e)),
        {
            c() {
                t = th("div"),
                o && o.c(),
                ch(t, "dir", Vt())
            },
            m(e, o) {
                Qg(e, t, o),
                ~n && s[n].m(t, null),
                i = !0
            },
            p(e, i) {
                let l = n;
                n = a(e),
                n === l ? ~n && s[n].p(e, i) : (o && (Xh(),
                ef(s[l], 1, 1, ( () => {
                    s[l] = null
                }
                )),
                Qh()),
                ~n ? (o = s[n],
                o ? o.p(e, i) : (o = s[n] = r[n](e),
                o.c()),
                Jh(o, 1),
                o.m(t, null)) : o = null)
            },
            i(e) {
                i || (Jh(o),
                i = !0)
            },
            o(e) {
                ef(o),
                i = !1
            },
            d(e) {
                e && Jg(t),
                ~n && s[n].d()
            }
        }
    }
    function yS(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h;
        return n = new L_({
            props: {
                isEnabled: e[4],
                tooltip: chrome.i18n.getMessage("contact_admin_info_translate_disabled"),
                multiline: !0,
                $$slots: {
                    default: [bS]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                t = th("button"),
                lf(n.$$.fragment),
                o = ih(),
                i = nh("svg"),
                r = nh("g"),
                s = nh("path"),
                a = nh("path"),
                l = nh("path"),
                c = nh("defs"),
                d = nh("clipPath"),
                u = nh("rect"),
                ch(s, "d", "M1.85295 4.86015V12.4035C1.85295 12.7953 2.05334 13.1545 2.38029 13.3504L8.70832 17.1167C8.72427 17.1262 8.7404 17.1353 8.75668 17.1439L11.8727 19L11.8621 17.3672L11.8685 16.4605L11.8717 16.4747V16.1699C11.8717 15.9893 11.9613 15.8272 12.0993 15.7262L12.3015 15.6059L12.3991 15.5494L12.394 15.5508L16.091 13.3504C16.418 13.1545 16.6184 12.7953 16.6184 12.4035V4.86015C16.6184 4.46829 16.418 4.10909 16.091 3.91316L9.76299 0.146947C9.43604 -0.0489825 9.03527 -0.0489825 8.70832 0.146947L2.38029 3.92404C2.05334 4.11997 1.85295 4.47918 1.85295 4.86015Z"),
                ch(s, "class", "deepl-icon svelte-qovtib"),
                ch(a, "d", "M6.68257 5.19787C7.10444 4.77336 7.77943 4.77336 8.2013 5.19787C8.50446 5.49621 8.60497 5.92588 8.50281 6.3113L11.4143 8.05411C11.4193 8.04902 11.4243 8.04396 11.4294 8.03894C11.8513 7.61442 12.5263 7.61442 12.9481 8.03894C13.4017 8.48522 13.4017 9.2254 12.9481 9.67168C12.5263 10.0962 11.8513 10.0962 11.4294 9.67168C11.111 9.35838 11.0162 8.90024 11.1448 8.50062L11.1341 8.50683L8.24372 6.78659C8.23005 6.80156 8.21591 6.81624 8.2013 6.83062C7.77943 7.25514 7.10444 7.25514 6.68257 6.83062C6.22906 6.38434 6.22906 5.64416 6.68257 5.19787Z"),
                ch(a, "fill", "white"),
                ch(l, "d", "M8.50819 11.5811L11.3455 9.88917L10.8182 9.58439L8.2574 11.1016C8.23971 11.0816 8.2212 11.062 8.20187 11.043C7.78 10.6185 7.10501 10.6185 6.68314 11.043C6.22963 11.4893 6.22963 12.2295 6.68314 12.6757C7.10501 13.1003 7.78 13.1003 8.20187 12.6757C8.50012 12.3822 8.60222 11.9616 8.50819 11.5811Z"),
                ch(l, "fill", "white"),
                ch(r, "clip-path", "url(#clip0)"),
                ch(u, "width", "18.5294"),
                ch(u, "height", "19"),
                ch(u, "fill", "white"),
                ch(u, "transform", "matrix(-1 0 0 1 18.5294 0)"),
                ch(d, "id", "clip0"),
                ch(i, "width", "15"),
                ch(i, "height", "15"),
                ch(i, "viewBox", "0 0 19 19"),
                ch(i, "fill", "none"),
                ch(i, "xmlns", "http://www.w3.org/2000/svg"),
                ch(i, "class", "svelte-qovtib"),
                ch(t, "class", "tweetLink svelte-qovtib"),
                t.disabled = p = !!e[1] || e[4],
                fh(t, "dark", e[5])
            },
            m(p, f) {
                Qg(p, t, f),
                cf(n, t, null),
                Kg(t, o),
                Kg(t, i),
                Kg(i, r),
                Kg(r, s),
                Kg(r, a),
                Kg(r, l),
                Kg(i, c),
                Kg(c, d),
                Kg(d, u),
                m = !0,
                g || (h = [sh(t, "keydown", e[6]), sh(t, "click", e[6])],
                g = !0)
            },
            p(e, o) {
                const i = {};
                16 & o && (i.isEnabled = e[4]),
                1024 & o && (i.$$scope = {
                    dirty: o,
                    ctx: e
                }),
                n.$set(i),
                (!m || 18 & o && p !== (p = !!e[1] || e[4])) && (t.disabled = p),
                (!m || 32 & o) && fh(t, "dark", e[5])
            },
            i(e) {
                m || (Jh(n.$$.fragment, e),
                m = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                m = !1
            },
            d(e) {
                e && Jg(t),
                df(n),
                g = !1,
                Ig(h)
            }
        }
    }
    function wS(e) {
        let t, n;
        return t = new CT({
            props: {
                small: !0
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p: xg,
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function bS(e) {
        let t;
        return {
            c() {
                t = th("div"),
                t.textContent = `${chrome.i18n.getMessage("twitter_web_translate_tweet_link")}`,
                ch(t, "class", "copy svelte-qovtib")
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function ES(e) {
        let t, n, o = e[0] && e[0].isTwitterEnabled && vS(e);
        return {
            c() {
                o && o.c(),
                t = rh()
            },
            m(e, i) {
                o && o.m(e, i),
                Qg(e, t, i),
                n = !0
            },
            p(e, [n]) {
                e[0] && e[0].isTwitterEnabled ? o ? (o.p(e, n),
                1 & n && Jh(o, 1)) : (o = vS(e),
                o.c(),
                Jh(o, 1),
                o.m(t.parentNode, t)) : o && (Xh(),
                ef(o, 1, 1, ( () => {
                    o = null
                }
                )),
                Qh())
            },
            i(e) {
                n || (Jh(o),
                n = !0)
            },
            o(e) {
                ef(o),
                n = !1
            },
            d(e) {
                e && Jg(t),
                o && o.d(e)
            }
        }
    }
    function TS(e, n, o) {
        let i, r, s, a;
        Mg(e, hf, (e => o(0, s = e))),
        Mg(e, dS, (e => o(8, a = e))),
        Lh("deepl_settings", hf),
        Lh("deepl_website_settings", Hw),
        Lh("text_direction", Vt());
        let l, c, {tweetTextNode: d} = n, u = !1;
        return e.$$set = e => {
            "tweetTextNode"in e && o(7, d = e.tweetTextNode)
        }
        ,
        e.$$.update = () => {
            if (256 & e.$$.dirty && o(5, i = a && a.isDarkMode),
            1 & e.$$.dirty && o(4, r = st(s, Ee.TRANSLATOR)),
            1 & e.$$.dirty) {
                s.blacklistDomainsForReading.includes(window.location.hostname) ? o(3, c = !1) : s.selectedTargetLanguage && async function() {
                    const e = d.innerText;
                    if (e.length < 20)
                        return !1;
                    const t = await Wt(e);
                    return Bt(chrome.i18n.getUILanguage()) !== t && Bt(s.selectedTargetLanguage) !== t
                }().then((e => o(3, c = e))).catch(( () => o(3, c = !1)))
            }
        }
        ,
        [s, l, u, c, r, i, async function() {
            if (l)
                return;
            o(2, u = !0);
            let e, n, i = "";
            try {
                i = await Wt(d.innerText),
                i = Ht(i)
            } catch (e) {
                console.log(e)
            }
            try {
                n = await t({
                    action: "dlRequestTwitterTweetTranslation",
                    payload: {
                        message: d.innerText,
                        messageLang: i,
                        domainName: window.location.hostname
                    }
                })
            } catch (t) {
                e = t,
                console.error(e)
            }
            o(1, l = e ? "" : vt(n)),
            o(2, u = !1);
            const r = _S.createElement();
            r.createDOM(l, d.innerText, ( () => {
                o(1, l = ""),
                r.cleanupDOM()
            }
            ), e),
            d.appendChild(r)
        }
        , d, a]
    }
    class SS extends pf {
        constructor(e) {
            super(),
            uf(this, e, TS, ES, Ag, {
                tweetTextNode: 7
            })
        }
    }
    class xS extends sS {
        static HTML_TAG_NAME = "deepl-twitter-tweet-link";
        static createElement = (e=document) => {
            const t = e.createElement(xS.HTML_TAG_NAME);
            return new xS(t),
            t
        }
        ;
        constructor(e) {
            super(e),
            this.bindChildFunctions()
        }
        createDOM = e => {
            this.domElement.mainComponent = new SS({
                target: this.domElement.shadowContainer,
                props: {
                    tweetTextNode: e
                }
            })
        }
    }
    function $S() {
        console.log("customizing for twitter");
        let e = new MutationObserver(( () => {
            !function() {
                const e = document.body.querySelectorAll("[data-testid='tweetText']");
                for (let t of e)
                    if ("true" !== t.dataset.dlHasMessageTranslator && (t.dataset.dlHasMessageTranslator = "true",
                    t && t.innerText)) {
                        const e = xS.createElement();
                        return e.createDOM(t),
                        void t.appendChild(e)
                    }
            }()
        }
        ));
        e.observe(document.body, {
            attributes: !0,
            childList: !0,
            subtree: !0
        }),
        x_(( () => e.disconnect()))
    }
    function CS(e) {
        let t, n;
        return {
            c() {
                t = th("span"),
                n = oh(e[0]),
                ch(t, "class", "translatedText svelte-jkt5fr")
            },
            m(e, o) {
                Qg(e, t, o),
                Kg(t, n)
            },
            p(e, t) {
                1 & t && dh(n, e[0])
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function kS(e) {
        let t, n;
        return t = new Xy({
            props: {
                error: e[2]
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                4 & n && (o.error = e[2]),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function IS(e) {
        let t, n, o = function(e) {
            let t, n, o, i, r, s, a, l, c, d, u, p;
            const m = [kS, CS]
              , g = [];
            function h(e, t) {
                return e[2] ? 0 : 1
            }
            return o = h(e),
            i = g[o] = m[o](e),
            {
                c() {
                    t = th("div"),
                    n = th("div"),
                    i.c(),
                    r = ih(),
                    s = th("div"),
                    s.textContent = `${chrome.i18n.getMessage("ui_inline_translation_see_alternatives_v2")}`,
                    a = ih(),
                    l = th("button"),
                    l.innerHTML = '<svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 9L9 3M3 3L9 9" stroke="#363F4A" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',
                    ch(s, "class", "show-alternatives svelte-jkt5fr"),
                    ch(l, "class", "svelte-jkt5fr"),
                    ch(t, "class", "container svelte-jkt5fr"),
                    ch(t, "dir", Vt())
                },
                m(i, c) {
                    Qg(i, t, c),
                    Kg(t, n),
                    g[o].m(n, null),
                    Kg(n, r),
                    Kg(n, s),
                    Kg(t, a),
                    Kg(t, l),
                    d = !0,
                    u || (p = [sh(s, "click", e[3]), sh(l, "click", (function() {
                        Lg(e[1]) && e[1].apply(this, arguments)
                    }
                    ))],
                    u = !0)
                },
                p(t, s) {
                    let a = o;
                    o = h(e = t),
                    o === a ? g[o].p(e, s) : (Xh(),
                    ef(g[a], 1, 1, ( () => {
                        g[a] = null
                    }
                    )),
                    Qh(),
                    i = g[o],
                    i ? i.p(e, s) : (i = g[o] = m[o](e),
                    i.c()),
                    Jh(i, 1),
                    i.m(n, r))
                },
                i(e) {
                    d || (Jh(i),
                    c || Wh(( () => {
                        c = nf(t, Kf, {
                            y: -10,
                            duration: 200
                        }),
                        c.start()
                    }
                    )),
                    d = !0)
                },
                o(e) {
                    ef(i),
                    d = !1
                },
                d(e) {
                    e && Jg(t),
                    g[o].d(),
                    u = !1,
                    Ig(p)
                }
            }
        }(e);
        return {
            c() {
                o && o.c(),
                t = rh()
            },
            m(e, i) {
                o && o.m(e, i),
                Qg(e, t, i),
                n = !0
            },
            p(e, [t]) {
                o.p(e, t)
            },
            i(e) {
                n || (Jh(o),
                n = !0)
            },
            o(e) {
                ef(o),
                n = !1
            },
            d(e) {
                e && Jg(t),
                o && o.d(e)
            }
        }
    }
    function LS(e, n, o) {
        let i;
        Mg(e, hf, (e => o(5, i = e))),
        Lh("text_direction", Vt());
        let r, s, {translatedText: a} = n, {sourceText: l} = n, {onClose: c} = n, {error: d} = n;
        return e.$$set = e => {
            "translatedText"in e && o(0, a = e.translatedText),
            "sourceText"in e && o(4, l = e.sourceText),
            "onClose"in e && o(1, c = e.onClose),
            "error"in e && o(2, d = e.error)
        }
        ,
        e.$$.update = () => {
            16 & e.$$.dirty && Wt(l).then((e => {
                r = e
            }
            )),
            32 & e.$$.dirty && (s = i.selectedTargetLanguage)
        }
        ,
        [a, c, d, function() {
            t({
                action: "dlExternalURLRedirect",
                payload: {
                    destination: xv,
                    sourceLang: r,
                    targetLang: s,
                    textToShare: l
                }
            });
            try {
                t({
                    action: "dlTrackUiAction",
                    payload: {
                        uiAction: H,
                        nicheIntegration: re.linkedIn
                    }
                })
            } catch (e) {
                console.error(e)
            }
        }
        , l, i]
    }
    class AS extends pf {
        constructor(e) {
            super(),
            uf(this, e, LS, IS, Ag, {
                translatedText: 0,
                sourceText: 4,
                onClose: 1,
                error: 2
            })
        }
    }
    class RS {
        static HTML_TAG_NAME = "deepl-linkedin-translated-post";
        static createElement = (e=document) => {
            const t = e.createElement(RS.HTML_TAG_NAME)
              , n = new RS(t);
            return t.createDOM = n.createDOM,
            t.cleanupDOM = n.cleanupDOM,
            t
        }
        ;
        constructor(e) {
            this.domElement = e,
            this.domElement.shadow = this.domElement.attachShadow({
                mode: "open"
            }),
            this.domElement.shadowContainer = document.createElement("div"),
            this.domElement.mainComponent = null;
            const t = document.createElement("link");
            t.setAttribute("rel", "stylesheet"),
            t.setAttribute("href", chrome.runtime.getURL("build/content.css")),
            this.domElement.shadow.appendChild(t),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer),
            this.domElement.shadowContainer.addEventListener("click", (e => {
                e.stopPropagation(),
                e.stopImmediatePropagation()
            }
            ))
        }
        createDOM = (e, t, n, o) => {
            this.domElement.mainComponent = new AS({
                target: this.domElement.shadowContainer,
                props: {
                    translatedText: e,
                    onClose: n,
                    sourceText: t,
                    error: o
                }
            })
        }
        ;
        cleanupDOM = () => {
            this.domElement.shadowContainer.remove(),
            this.domElement.mainComponent && this.domElement.mainComponent.$destroy()
        }
    }
    function MS(e) {
        let t, n, o = {
            ctx: e,
            current: null,
            token: null,
            hasCatch: !1,
            pending: BS,
            then: NS,
            catch: OS,
            value: 12,
            blocks: [, , , ]
        };
        return function(e, t) {
            const n = t.token = {};
            function o(e, o, i, r) {
                if (t.token !== n)
                    return;
                t.resolved = r;
                let s = t.ctx;
                void 0 !== i && (s = s.slice(),
                s[i] = r);
                const a = e && (t.current = e)(s);
                let l = !1;
                t.block && (t.blocks ? t.blocks.forEach(( (e, n) => {
                    n !== o && e && (Xh(),
                    ef(e, 1, 1, ( () => {
                        t.blocks[n] === e && (t.blocks[n] = null)
                    }
                    )),
                    Qh())
                }
                )) : t.block.d(1),
                a.c(),
                Jh(a, 1),
                a.m(t.mount(), t.anchor),
                l = !0),
                t.block = a,
                t.blocks && (t.blocks[o] = a),
                l && Gh()
            }
            if (!(i = e) || "object" != typeof i && "function" != typeof i || "function" != typeof i.then) {
                if (t.current !== t.then)
                    return o(t.then, 1, t.value, e),
                    !0;
                t.resolved = e
            } else {
                const n = $h();
                if (e.then((e => {
                    xh(n),
                    o(t.then, 1, t.value, e),
                    xh(null)
                }
                ), (e => {
                    if (xh(n),
                    o(t.catch, 2, t.error, e),
                    xh(null),
                    !t.hasCatch)
                        throw e
                }
                )),
                t.current !== t.pending)
                    return o(t.pending, 0),
                    !0
            }
            var i
        }(e[4](), o),
        {
            c() {
                t = rh(),
                o.block.c()
            },
            m(e, i) {
                Qg(e, t, i),
                o.block.m(e, o.anchor = i),
                o.mount = () => t.parentNode,
                o.anchor = t,
                n = !0
            },
            p(t, n) {
                !function(e, t, n) {
                    const o = t.slice()
                      , {resolved: i} = e;
                    e.current === e.then && (o[e.value] = i),
                    e.current === e.catch && (o[e.error] = i),
                    e.block.p(o, n)
                }(o, e = t, n)
            },
            i(e) {
                n || (Jh(o.block),
                n = !0)
            },
            o(e) {
                for (let e = 0; e < 3; e += 1) {
                    ef(o.blocks[e])
                }
                n = !1
            },
            d(e) {
                e && Jg(t),
                o.block.d(e),
                o.token = null,
                o = null
            }
        }
    }
    function OS(e) {
        return {
            c: xg,
            m: xg,
            p: xg,
            i: xg,
            o: xg,
            d: xg
        }
    }
    function NS(e) {
        let t, n, o = e[12] && function(e) {
            let t, n, o, i;
            const r = [PS, DS]
              , s = [];
            function a(e, t) {
                return e[0] ? 0 : 1
            }
            return n = a(e),
            o = s[n] = r[n](e),
            {
                c() {
                    t = th("div"),
                    o.c(),
                    ch(t, "class", "linkedin-link-container svelte-11s4dqh"),
                    ch(t, "dir", Vt())
                },
                m(e, o) {
                    Qg(e, t, o),
                    s[n].m(t, null),
                    i = !0
                },
                p(e, i) {
                    let l = n;
                    n = a(e),
                    n === l ? s[n].p(e, i) : (Xh(),
                    ef(s[l], 1, 1, ( () => {
                        s[l] = null
                    }
                    )),
                    Qh(),
                    o = s[n],
                    o ? o.p(e, i) : (o = s[n] = r[n](e),
                    o.c()),
                    Jh(o, 1),
                    o.m(t, null))
                },
                i(e) {
                    i || (Jh(o),
                    i = !0)
                },
                o(e) {
                    ef(o),
                    i = !1
                },
                d(e) {
                    e && Jg(t),
                    s[n].d()
                }
            }
        }(e);
        return {
            c() {
                o && o.c(),
                t = rh()
            },
            m(e, i) {
                o && o.m(e, i),
                Qg(e, t, i),
                n = !0
            },
            p(e, t) {
                e[12] && o.p(e, t)
            },
            i(e) {
                n || (Jh(o),
                n = !0)
            },
            o(e) {
                ef(o),
                n = !1
            },
            d(e) {
                e && Jg(t),
                o && o.d(e)
            }
        }
    }
    function DS(e) {
        let t, n, o, i, r;
        return n = new L_({
            props: {
                isEnabled: e[2],
                tooltip: chrome.i18n.getMessage("contact_admin_info_translate_disabled"),
                $$slots: {
                    default: [US]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                t = th("button"),
                lf(n.$$.fragment),
                ch(t, "class", "linkedin-link svelte-11s4dqh"),
                t.disabled = e[2]
            },
            m(s, a) {
                Qg(s, t, a),
                cf(n, t, null),
                o = !0,
                i || (r = [sh(t, "keydown", e[5]), sh(t, "click", e[5])],
                i = !0)
            },
            p(e, i) {
                const r = {};
                4 & i && (r.isEnabled = e[2]),
                8194 & i && (r.$$scope = {
                    dirty: i,
                    ctx: e
                }),
                n.$set(r),
                (!o || 4 & i) && (t.disabled = e[2])
            },
            i(e) {
                o || (Jh(n.$$.fragment, e),
                o = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                o = !1
            },
            d(e) {
                e && Jg(t),
                df(n),
                i = !1,
                Ig(r)
            }
        }
    }
    function PS(e) {
        let t, n, o;
        return n = new CT({
            props: {
                small: !0
            }
        }),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                ch(t, "class", "spinner svelte-11s4dqh")
            },
            m(e, i) {
                Qg(e, t, i),
                cf(n, t, null),
                o = !0
            },
            p: xg,
            i(e) {
                o || (Jh(n.$$.fragment, e),
                o = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                o = !1
            },
            d(e) {
                e && Jg(t),
                df(n)
            }
        }
    }
    function US(e) {
        let t;
        return {
            c() {
                t = th("div"),
                t.textContent = `${chrome.i18n.getMessage("linkedin_web_translate_post_link")}`,
                ch(t, "class", "copy svelte-11s4dqh"),
                fh(t, "active", e[1])
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p(e, n) {
                2 & n && fh(t, "active", e[1])
            },
            d(e) {
                e && Jg(t)
            }
        }
    }
    function BS(e) {
        return {
            c: xg,
            m: xg,
            p: xg,
            i: xg,
            o: xg,
            d: xg
        }
    }
    function WS(e) {
        let t, n, o = e[3] && e[3][re.linkedIn] && MS(e);
        return {
            c() {
                o && o.c(),
                t = rh()
            },
            m(e, i) {
                o && o.m(e, i),
                Qg(e, t, i),
                n = !0
            },
            p(e, [n]) {
                e[3] && e[3][re.linkedIn] ? o ? (o.p(e, n),
                8 & n && Jh(o, 1)) : (o = MS(e),
                o.c(),
                Jh(o, 1),
                o.m(t.parentNode, t)) : o && (Xh(),
                ef(o, 1, 1, ( () => {
                    o = null
                }
                )),
                Qh())
            },
            i(e) {
                n || (Jh(o),
                n = !0)
            },
            o(e) {
                ef(o),
                n = !1
            },
            d(e) {
                e && Jg(t),
                o && o.d(e)
            }
        }
    }
    function FS(e, n, o) {
        let i, r, s, a;
        Mg(e, hf, (e => o(7, a = e))),
        Lh("deepl_settings", hf),
        Lh("deepl_website_settings", Hw),
        Lh("text_direction", Vt());
        let l, {linkedInPostNode: c} = n, d = !1, u = c.querySelector(".update-components-text").innerText;
        return e.$$set = e => {
            "linkedInPostNode"in e && o(6, c = e.linkedInPostNode)
        }
        ,
        e.$$.update = () => {
            128 & e.$$.dirty && o(3, r = a.customizationsActiveStates),
            128 & e.$$.dirty && o(2, s = st(a, Ee.TRANSLATOR))
        }
        ,
        o(1, i = !0),
        [d, i, s, r, async function() {
            if (u.length < 20)
                return !1;
            const e = await Wt(u);
            return t = e,
            Bt(chrome.i18n.getUILanguage()) !== t && (e => Bt(a.selectedTargetLanguage) !== e)(e);
            var t
        }
        , async function() {
            if (l)
                return;
            o(0, d = !0);
            let e, n, r = "";
            try {
                r = await Wt(u),
                r = Ht(r)
            } catch (e) {
                console.log(e)
            }
            try {
                n = await t({
                    action: "dlRequestLinkedInPostTranslation",
                    payload: {
                        message: u,
                        messageLang: r,
                        domainName: window.location.hostname,
                        trigger: v
                    }
                })
            } catch (t) {
                e = t,
                console.error(e)
            }
            l = e ? "" : n[0].text,
            o(0, d = !1);
            const s = RS.createElement();
            s.createDOM(l, u, ( () => {
                l = "",
                o(1, i = !0),
                s.cleanupDOM(),
                s.remove()
            }
            ), e),
            c.appendChild(s),
            o(1, i = !1)
        }
        , c, a]
    }
    class zS extends pf {
        constructor(e) {
            super(),
            uf(this, e, FS, WS, Ag, {
                linkedInPostNode: 6
            })
        }
    }
    class HS {
        static HTML_TAG_NAME = "deepl-linkedin-post-link";
        static createElement = (e=document) => {
            const t = e.createElement(HS.HTML_TAG_NAME)
              , n = new HS(t);
            return t.createDOM = n.createDOM,
            t.cleanupDOM = n.cleanupDOM,
            t
        }
        ;
        constructor(e) {
            this.domElement = e,
            this.domElement.shadow = this.domElement.attachShadow({
                mode: "open"
            }),
            this.domElement.shadowContainer = document.createElement("div"),
            this.domElement.mainComponent = null;
            const t = document.createElement("link");
            t.setAttribute("rel", "stylesheet"),
            t.setAttribute("href", chrome.runtime.getURL("build/content.css")),
            this.domElement.shadow.appendChild(t),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer),
            this.domElement.shadowContainer.addEventListener("click", (e => {
                e.stopPropagation(),
                e.stopImmediatePropagation()
            }
            ))
        }
        createDOM = e => {
            this.domElement.mainComponent = new zS({
                target: this.domElement.shadowContainer,
                props: {
                    linkedInPostNode: e
                }
            })
        }
        ;
        cleanupDOM = () => {
            this.domElement.shadowContainer.remove(),
            this.domElement.mainComponent && this.domElement.mainComponent.$destroy()
        }
    }
    const jS = () => document.body.querySelectorAll(".feed-shared-update-v2__description-wrapper")
      , GS = e => {
        const t = HS.createElement();
        t.createDOM(e),
        e.appendChild(t)
    }
    ;
    function qS() {
        let e = new MutationObserver(( () => {
            !function() {
                const e = jS();
                for (let t of e)
                    if ("true" !== t.dataset.dlHasMessageTranslator && (t.dataset.dlHasMessageTranslator = "true",
                    t && t.innerText))
                        return void GS(t)
            }()
        }
        ));
        e.observe(document.body, {
            attributes: !0,
            childList: !0,
            subtree: !0
        }),
        x_(( () => e.disconnect()))
    }
    function VS() {
        return !!document.documentElement.hasAttribute("dark")
    }
    const YS = function() {
        let e = {
            isDarkMode: VS()
        };
        const {subscribe: t, update: n} = gf(e);
        let o = new MutationObserver((e => {
            e.forEach((e => {
                "attributes" === e.type && "style" === e.attributeName && n((e => ({
                    ...e,
                    isDarkMode: VS(document.body.style.backgroundColor)
                })))
            }
            ))
        }
        ));
        return o.observe(document, {
            attributes: !0
        }),
        setTimeout(( () => {
            x_(( () => {
                o.disconnect()
            }
            ))
        }
        )),
        {
            subscribe: t
        }
    }();
    function KS(e) {
        let t, n, o = function(e) {
            let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h, f;
            const _ = [XS, ZS]
              , v = [];
            function y(e, t) {
                return e[2] ? 0 : 1
            }
            return o = y(e),
            i = v[o] = _[o](e),
            {
                c() {
                    t = th("div"),
                    n = th("div"),
                    i.c(),
                    r = ih(),
                    s = th("div"),
                    s.textContent = `${chrome.i18n.getMessage("youtube_alternatives_link")}`,
                    l = ih(),
                    c = th("button"),
                    d = nh("svg"),
                    u = nh("path"),
                    ch(s, "class", "show-alternatives svelte-t50unb"),
                    fh(s, "dark", e[4]),
                    ch(n, "dir", a = Vt(e[3].selectedTargetLanguage)),
                    ch(u, "d", "M3 9L9 3M3 3L9 9"),
                    ch(u, "stroke", p = e[4] ? "white" : "#037171"),
                    ch(u, "stroke-width", "1.5"),
                    ch(u, "stroke-linecap", "round"),
                    ch(u, "stroke-linejoin", "round"),
                    ch(d, "width", "12"),
                    ch(d, "height", "12"),
                    ch(d, "viewBox", "0 0 12 12"),
                    ch(d, "fill", "none"),
                    ch(d, "xmlns", "http://www.w3.org/2000/svg"),
                    ch(c, "class", "svelte-t50unb"),
                    ch(t, "class", "container svelte-t50unb"),
                    ch(t, "dir", Vt()),
                    fh(t, "dark", e[4])
                },
                m(i, a) {
                    Qg(i, t, a),
                    Kg(t, n),
                    v[o].m(n, null),
                    Kg(n, r),
                    Kg(n, s),
                    Kg(t, l),
                    Kg(t, c),
                    Kg(c, d),
                    Kg(d, u),
                    g = !0,
                    h || (f = [sh(s, "click", e[5]), sh(c, "click", (function() {
                        Lg(e[1]) && e[1].apply(this, arguments)
                    }
                    ))],
                    h = !0)
                },
                p(l, c) {
                    let d = o;
                    o = y(e = l),
                    o === d ? v[o].p(e, c) : (Xh(),
                    ef(v[d], 1, 1, ( () => {
                        v[d] = null
                    }
                    )),
                    Qh(),
                    i = v[o],
                    i ? i.p(e, c) : (i = v[o] = _[o](e),
                    i.c()),
                    Jh(i, 1),
                    i.m(n, r)),
                    (!g || 16 & c) && fh(s, "dark", e[4]),
                    (!g || 8 & c && a !== (a = Vt(e[3].selectedTargetLanguage))) && ch(n, "dir", a),
                    (!g || 16 & c && p !== (p = e[4] ? "white" : "#037171")) && ch(u, "stroke", p),
                    (!g || 16 & c) && fh(t, "dark", e[4])
                },
                i(e) {
                    g || (Jh(i),
                    m || Wh(( () => {
                        m = nf(t, Kf, {
                            y: -10,
                            duration: 200
                        }),
                        m.start()
                    }
                    )),
                    g = !0)
                },
                o(e) {
                    ef(i),
                    g = !1
                },
                d(e) {
                    e && Jg(t),
                    v[o].d(),
                    h = !1,
                    Ig(f)
                }
            }
        }(e);
        return {
            c() {
                o && o.c(),
                t = rh()
            },
            m(e, i) {
                o && o.m(e, i),
                Qg(e, t, i),
                n = !0
            },
            p(e, t) {
                o.p(e, t)
            },
            i(e) {
                n || (Jh(o),
                n = !0)
            },
            o(e) {
                ef(o),
                n = !1
            },
            d(e) {
                e && Jg(t),
                o && o.d(e)
            }
        }
    }
    function ZS(e) {
        let t, n;
        return {
            c() {
                t = th("span"),
                n = oh(e[0]),
                ch(t, "class", "translatedText svelte-t50unb")
            },
            m(e, o) {
                Qg(e, t, o),
                Kg(t, n)
            },
            p(e, t) {
                1 & t && dh(n, e[0])
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function XS(e) {
        let t, n;
        return t = new Xy({
            props: {
                error: e[2]
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                4 & n && (o.error = e[2]),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function QS(e) {
        let t, n, o = e[3] && e[3].isYoutubeEnabled && KS(e);
        return {
            c() {
                o && o.c(),
                t = rh()
            },
            m(e, i) {
                o && o.m(e, i),
                Qg(e, t, i),
                n = !0
            },
            p(e, [n]) {
                e[3] && e[3].isYoutubeEnabled ? o ? (o.p(e, n),
                8 & n && Jh(o, 1)) : (o = KS(e),
                o.c(),
                Jh(o, 1),
                o.m(t.parentNode, t)) : o && (Xh(),
                ef(o, 1, 1, ( () => {
                    o = null
                }
                )),
                Qh())
            },
            i(e) {
                n || (Jh(o),
                n = !0)
            },
            o(e) {
                ef(o),
                n = !1
            },
            d(e) {
                e && Jg(t),
                o && o.d(e)
            }
        }
    }
    function JS(e, n, o) {
        let i, r, s;
        Mg(e, hf, (e => o(3, r = e))),
        Mg(e, YS, (e => o(7, s = e)));
        let a, l, {translatedText: c} = n, {sourceText: d} = n, {onClose: u} = n, {error: p} = n;
        return e.$$set = e => {
            "translatedText"in e && o(0, c = e.translatedText),
            "sourceText"in e && o(6, d = e.sourceText),
            "onClose"in e && o(1, u = e.onClose),
            "error"in e && o(2, p = e.error)
        }
        ,
        e.$$.update = () => {
            128 & e.$$.dirty && o(4, i = s && s.isDarkMode),
            64 & e.$$.dirty && Wt(d).then((e => {
                a = e
            }
            )),
            8 & e.$$.dirty && (l = r.selectedTargetLanguage)
        }
        ,
        [c, u, p, r, i, function() {
            t({
                action: "dlExternalURLRedirect",
                payload: {
                    destination: xv,
                    sourceLang: a,
                    targetLang: l,
                    textToShare: d
                }
            })
        }
        , d, s]
    }
    class ex extends pf {
        constructor(e) {
            super(),
            uf(this, e, JS, QS, Ag, {
                translatedText: 0,
                sourceText: 6,
                onClose: 1,
                error: 2
            })
        }
    }
    class tx extends sS {
        static HTML_TAG_NAME = "deepl-youtube-translated-translated";
        constructor(e) {
            super(e),
            this.bindChildFunctions()
        }
        static createElement = (e=document) => {
            const t = e.createElement(tx.HTML_TAG_NAME);
            return new tx(t),
            t
        }
        ;
        createDOM = (e, t, n, o) => {
            this.domElement.mainComponent = new ex({
                target: this.domElement.shadowContainer,
                props: {
                    translatedText: e,
                    onClose: n,
                    sourceText: t,
                    error: o
                }
            })
        }
    }
    function nx(e) {
        let t, n, o, i;
        const r = [ix, ox]
          , s = [];
        function a(e, t) {
            return e[2] ? 0 : e[3] ? 1 : -1
        }
        return ~(n = a(e)) && (o = s[n] = r[n](e)),
        {
            c() {
                t = th("div"),
                o && o.c(),
                ch(t, "dir", Vt())
            },
            m(e, o) {
                Qg(e, t, o),
                ~n && s[n].m(t, null),
                i = !0
            },
            p(e, i) {
                let l = n;
                n = a(e),
                n === l ? ~n && s[n].p(e, i) : (o && (Xh(),
                ef(s[l], 1, 1, ( () => {
                    s[l] = null
                }
                )),
                Qh()),
                ~n ? (o = s[n],
                o ? o.p(e, i) : (o = s[n] = r[n](e),
                o.c()),
                Jh(o, 1),
                o.m(t, null)) : o = null)
            },
            i(e) {
                i || (Jh(o),
                i = !0)
            },
            o(e) {
                ef(o),
                i = !1
            },
            d(e) {
                e && Jg(t),
                ~n && s[n].d()
            }
        }
    }
    function ox(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h;
        return n = new L_({
            props: {
                isEnabled: e[4],
                tooltip: chrome.i18n.getMessage("contact_admin_info_translate_disabled"),
                $$slots: {
                    default: [rx]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                t = th("button"),
                lf(n.$$.fragment),
                o = ih(),
                i = nh("svg"),
                r = nh("g"),
                s = nh("path"),
                a = nh("path"),
                l = nh("path"),
                c = nh("defs"),
                d = nh("clipPath"),
                u = nh("rect"),
                ch(s, "d", "M1.85295 4.86015V12.4035C1.85295 12.7953 2.05334 13.1545 2.38029 13.3504L8.70832 17.1167C8.72427 17.1262 8.7404 17.1353 8.75668 17.1439L11.8727 19L11.8621 17.3672L11.8685 16.4605L11.8717 16.4747V16.1699C11.8717 15.9893 11.9613 15.8272 12.0993 15.7262L12.3015 15.6059L12.3991 15.5494L12.394 15.5508L16.091 13.3504C16.418 13.1545 16.6184 12.7953 16.6184 12.4035V4.86015C16.6184 4.46829 16.418 4.10909 16.091 3.91316L9.76299 0.146947C9.43604 -0.0489825 9.03527 -0.0489825 8.70832 0.146947L2.38029 3.92404C2.05334 4.11997 1.85295 4.47918 1.85295 4.86015Z"),
                ch(s, "class", "deepl-icon svelte-mtyjwe"),
                ch(a, "d", "M6.68257 5.19787C7.10444 4.77336 7.77943 4.77336 8.2013 5.19787C8.50446 5.49621 8.60497 5.92588 8.50281 6.3113L11.4143 8.05411C11.4193 8.04902 11.4243 8.04396 11.4294 8.03894C11.8513 7.61442 12.5263 7.61442 12.9481 8.03894C13.4017 8.48522 13.4017 9.2254 12.9481 9.67168C12.5263 10.0962 11.8513 10.0962 11.4294 9.67168C11.111 9.35838 11.0162 8.90024 11.1448 8.50062L11.1341 8.50683L8.24372 6.78659C8.23005 6.80156 8.21591 6.81624 8.2013 6.83062C7.77943 7.25514 7.10444 7.25514 6.68257 6.83062C6.22906 6.38434 6.22906 5.64416 6.68257 5.19787Z"),
                ch(a, "fill", "white"),
                ch(l, "d", "M8.50819 11.5811L11.3455 9.88917L10.8182 9.58439L8.2574 11.1016C8.23971 11.0816 8.2212 11.062 8.20187 11.043C7.78 10.6185 7.10501 10.6185 6.68314 11.043C6.22963 11.4893 6.22963 12.2295 6.68314 12.6757C7.10501 13.1003 7.78 13.1003 8.20187 12.6757C8.50012 12.3822 8.60222 11.9616 8.50819 11.5811Z"),
                ch(l, "fill", "white"),
                ch(r, "clip-path", "url(#clip0)"),
                ch(u, "width", "18.5294"),
                ch(u, "height", "19"),
                ch(u, "fill", "white"),
                ch(u, "transform", "matrix(-1 0 0 1 18.5294 0)"),
                ch(d, "id", "clip0"),
                ch(i, "width", "15"),
                ch(i, "height", "15"),
                ch(i, "viewBox", "0 0 19 19"),
                ch(i, "fill", "none"),
                ch(i, "xmlns", "http://www.w3.org/2000/svg"),
                ch(i, "class", "svelte-mtyjwe"),
                ch(t, "class", "commentLink svelte-mtyjwe"),
                t.disabled = p = e[4] || !!e[1],
                fh(t, "dark", e[5])
            },
            m(p, f) {
                Qg(p, t, f),
                cf(n, t, null),
                Kg(t, o),
                Kg(t, i),
                Kg(i, r),
                Kg(r, s),
                Kg(r, a),
                Kg(r, l),
                Kg(i, c),
                Kg(c, d),
                Kg(d, u),
                m = !0,
                g || (h = [sh(t, "keydown", e[6]), sh(t, "click", e[6])],
                g = !0)
            },
            p(e, o) {
                const i = {};
                16 & o && (i.isEnabled = e[4]),
                1024 & o && (i.$$scope = {
                    dirty: o,
                    ctx: e
                }),
                n.$set(i),
                (!m || 18 & o && p !== (p = e[4] || !!e[1])) && (t.disabled = p),
                (!m || 32 & o) && fh(t, "dark", e[5])
            },
            i(e) {
                m || (Jh(n.$$.fragment, e),
                m = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                m = !1
            },
            d(e) {
                e && Jg(t),
                df(n),
                g = !1,
                Ig(h)
            }
        }
    }
    function ix(e) {
        let t, n;
        return t = new CT({
            props: {
                small: !0
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p: xg,
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function rx(e) {
        let t;
        return {
            c() {
                t = th("div"),
                t.textContent = `${chrome.i18n.getMessage("youtube_translate_comment_link")}`,
                ch(t, "class", "copy svelte-mtyjwe")
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function sx(e) {
        let t, n, o = e[0] && e[0].isYoutubeEnabled && nx(e);
        return {
            c() {
                o && o.c(),
                t = rh()
            },
            m(e, i) {
                o && o.m(e, i),
                Qg(e, t, i),
                n = !0
            },
            p(e, [n]) {
                e[0] && e[0].isYoutubeEnabled ? o ? (o.p(e, n),
                1 & n && Jh(o, 1)) : (o = nx(e),
                o.c(),
                Jh(o, 1),
                o.m(t.parentNode, t)) : o && (Xh(),
                ef(o, 1, 1, ( () => {
                    o = null
                }
                )),
                Qh())
            },
            i(e) {
                n || (Jh(o),
                n = !0)
            },
            o(e) {
                ef(o),
                n = !1
            },
            d(e) {
                e && Jg(t),
                o && o.d(e)
            }
        }
    }
    function ax(e, n, o) {
        let i, r, s, a;
        Mg(e, hf, (e => o(0, s = e))),
        Mg(e, YS, (e => o(8, a = e)));
        let l, c, {commentNode: d} = n, u = !1;
        return e.$$set = e => {
            "commentNode"in e && o(7, d = e.commentNode)
        }
        ,
        e.$$.update = () => {
            if (256 & e.$$.dirty && o(5, i = a && a.isDarkMode),
            1 & e.$$.dirty && o(4, r = st(s, Ee.TRANSLATOR)),
            1 & e.$$.dirty) {
                s.blacklistDomainsForReading.includes(window.location.hostname) ? o(3, c = !1) : s.selectedTargetLanguage && async function() {
                    const e = d.innerText;
                    if (e.length < 10)
                        return !1;
                    const t = await Wt(e);
                    return Bt(chrome.i18n.getUILanguage()) !== t && Bt(s.selectedTargetLanguage) !== t
                }().then((e => o(3, c = e))).catch(( () => o(3, c = !1)))
            }
        }
        ,
        [s, l, u, c, r, i, async function() {
            if (l)
                return;
            o(2, u = !0);
            let e, n, i = "";
            try {
                i = await Wt(d.innerText),
                i = Ht(i)
            } catch (e) {
                console.log(e)
            }
            try {
                n = await t({
                    action: "dlRequestYouTubeTranslation",
                    payload: {
                        message: d.innerText,
                        messageLang: i,
                        domainName: window.location.hostname
                    }
                })
            } catch (t) {
                e = t,
                console.error(e)
            }
            o(1, l = e ? "" : n[0].text),
            o(2, u = !1);
            const r = tx.createElement();
            r.createDOM(l, d.innerText, ( () => {
                o(1, l = ""),
                r.cleanupDOM()
            }
            ), e),
            d.appendChild(r)
        }
        , d, a]
    }
    class lx extends pf {
        constructor(e) {
            super(),
            uf(this, e, ax, sx, Ag, {
                commentNode: 7
            })
        }
    }
    class cx extends sS {
        static HTML_TAG_NAME = "deepl-youtube-comment-link";
        static createElement = (e=document) => {
            const t = e.createElement(cx.HTML_TAG_NAME);
            return new cx(t),
            t
        }
        ;
        constructor(e) {
            super(e),
            this.bindChildFunctions()
        }
        createDOM = e => {
            this.domElement.mainComponent = new lx({
                target: this.domElement.shadowContainer,
                props: {
                    commentNode: e
                }
            })
        }
    }
    function dx() {
        let e = document.body.querySelector("ytd-comments");
        return e || (e = document.body.querySelector("#comments")),
        e
    }
    function ux() {
        setTimeout(( () => {
            const e = dx();
            if (e) {
                let t = new MutationObserver(( () => {
                    !function() {
                        let e = dx();
                        if (!e)
                            return;
                        const t = e.querySelectorAll("#content-text");
                        for (let e of t)
                            if ("true" !== e.dataset.dlHasMessageTranslator && (e.dataset.dlHasMessageTranslator = "true",
                            e && e.innerText)) {
                                const t = cx.createElement();
                                return t.createDOM(e),
                                void e.appendChild(t)
                            }
                    }()
                }
                ));
                t.observe(e, {
                    attributes: !1,
                    childList: !0,
                    subtree: !0
                }),
                x_(( () => t.disconnect()))
            }
        }
        ), 1e3)
    }
    function px(e) {
        if (void 0 !== e)
            try {
                return JSON.parse(atob(e.split(".")[1]))
            } catch (e) {
                return null
            }
    }
    function mx(e) {
        switch (e) {
        case W.inputTranslationTriggerIcon:
            return 1;
        case W.inlineTranslationTriggerIcon:
            return 2;
        case W.inlineTranslationSettingPopup:
            return 3;
        case W.inputTranslationSettingPopup:
            return 4;
        case W.settingsPageFPT:
            return 5;
        case W.settingsPageReading:
            return 6;
        case W.settingsPageWriting:
            return 7;
        case W.fptHideModal:
            return 8;
        case W.inputTranslationSettingsIcon:
            return 9;
        case W.inlineTranslationSettingsIcon:
            return 10;
        case W.inputTranslationReadMoreLink:
            return 11;
        case W.inlineTranslationReadMoreLink:
            return 12;
        case W.fptTranslationReadMoreLink:
            return 13;
        case W.extensionHubToggleSwitch:
            return 14;
        case W.hubCustomizeShortcut:
            return 15;
        case W.hubLoginButton:
            return 16;
        case W.hubUpgradeToProLink:
            return 17;
        case W.hubTryProLink:
            return 18;
        case W.settingsPageCustomizeShortcutButton:
            return 19;
        case W.hubFPTEnableCheckbox:
            return 20;
        case W.hubFPTDisableCheckbox:
            return 21;
        case W.deeplWriteIcon:
            return 22;
        case W.hubViewIntegrations:
            return 23;
        case W.hubCloseCustomizationsWidget:
            return 24;
        case W.gmailOnboardingPopup:
            return 25;
        case W.gmailOnboardingIcon:
            return 26;
        case W.gmailCharLimitLogin:
            return 27;
        case W.gmailFeedbackSurvey:
            return 28;
        case W.gslidesFeedbackSurvey:
            return 29;
        case W.gslidesCharLimitLogin:
            return 30;
        case W.zendeskTryProLink:
            return 31;
        case W.settingsPageIntegrations:
            return 32;
        case W.onboardingSignUp:
            return 33;
        case W.onboardingSkipSignUp:
            return 34;
        case W.onboardingLoginLink:
            return 35;
        case W.onboardingSeeAllIntegrations:
            return 36;
        case W.inputImproveTriggerIcon:
            return 37;
        case W.iconToggleInHubTranslator:
            return 38;
        case W.iconToggleInHubWrite:
            return 39;
        case W.manageIconSettings:
            return 40;
        case W.writeLanguageSwitchedInHub:
            return 41;
        case W.writeLanguageSwitchedInSettings:
            return 42;
        case W.sidePanelIconOnWebsite:
            return 43;
        case W.hubOnboadingLink:
            return 44;
        case W.inlineSelectionTranslateIcon:
            return 45;
        case W.inlineSelectionWriteIcon:
            return 46;
        case W.inputSelectionTranslateIcon:
            return 47;
        case W.inputSelectionWriteIcon:
            return 48;
        case W.inlineSelectionTriggerOffIcon:
            return 49;
        case W.inputSelectionTriggerOffIcon:
            return 50;
        default:
            return 0
        }
    }
    function gx(e) {
        switch (e) {
        case J.chrome:
            return Q.chrome;
        case J.edge:
            return Q.edge;
        case J.firefox:
            return Q.firefox;
        case J.local:
            return Q.local;
        default:
            return Q.unspecified
        }
    }
    function hx(e) {
        switch (e) {
        case Te.free:
            return 1;
        case Te.pro:
            return 2;
        case Te.none:
            return 3;
        default:
            return 0
        }
    }
    function fx(e) {
        switch (e) {
        case Ue.READING_VIEW_TRANSLATE:
            return 1;
        case Ue.COMPOSE_VIEW_TRANSLATE:
            return 2;
        case Ue.COMPOSE_VIEW_IMPROVE:
            return 3;
        default:
            return 0
        }
    }
    function _x(e) {
        switch (e) {
        case Ke.none:
            return 1;
        case Ke.pro:
            return 2;
        case Ke.free:
            return 3;
        default:
            return 0
        }
    }
    const vx = ["accountData", "domainName"]
      , yx = [60067, 60068, 60069]
      , wx = (e, t) => e && "object" == typeof e ? Array.isArray(e) ? e.map((e => wx(e, t))) : Object.keys(e).reduce(( (n, o) => (t.includes(o) || (n[o] = wx(e[o], t)),
    n)), {}) : e
      , bx = (e, t=!1, n=!1) => e ? n && t ? e : !n && yx.includes(e?.eventId) ? null : wx(e, vx) : null
      , Ex = (e=!1, t=!1) => !(!e && !t) && (!(!e && t) && (!(!e || t) || (!(!e || !t) || void 0)));
    async function Tx(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p = !1;
        try {
            const e = await Ix(["session", "installationId", "firefoxAnonPermissionGranted", "firefoxPersonalPermissionGranted"]);
            n = e.session.id,
            t = e.installationId,
            d = e.firefoxAnonPermissionGranted,
            u = e.firefoxPersonalPermissionGranted
        } catch (e) {
            console.error(`DAP: Failed to fetch settings. Error: ${e.message}`)
        }
        try {
            const e = await function() {
                return Sg(this, void 0, void 0, (function*() {
                    return yield chrome.storage.local.get(["isLoggedIn", "isProUser", "sessionType", "translatorServiceType", "writeServiceType", "apiServiceType", "docTranslatorServiceType", "accountId", "hasTermbaseService"])
                }
                ))
            }();
            p = !!e.accountId,
            o = hx(e.translatorServiceType),
            i = hx(e.apiServiceType),
            r = hx(e.docTranslatorServiceType),
            c = hx(e.writeServiceType),
            a = p ? 2 === o || 2 === i || 2 === c || 2 === r ? w.loggedInPro : w.loggedInFree : w.notLoggedIn,
            l = e.sessionType ? _x(e.sessionType) : _x(Ke.none)
        } catch (e) {
            console.error(`DAP: Failed to fetch user information. Error: ${e.message}`)
        }
        try {
            s = await function() {
                return Sg(this, void 0, void 0, (function*() {
                    return (yield chrome.storage.local.get(["browserInstanceId"])).browserInstanceId
                }
                ))
            }()
        } catch (e) {
            console.error(e)
        }
        const m = mt()
          , g = await function() {
            return Sg(this, void 0, void 0, (function*() {
                let e = [];
                try {
                    e = yield function() {
                        return Sg(this, void 0, void 0, (function*() {
                            const e = yield function(e, t) {
                                return Sg(this, void 0, void 0, (function*() {
                                    return xx || (yield new Promise(( (e, t) => {
                                        let n = indexedDB.open($x, 1);
                                        n.onerror = function() {
                                            t(n.error)
                                        }
                                        ,
                                        n.onsuccess = function(t) {
                                            xx = t.target.result,
                                            e()
                                        }
                                        ,
                                        n.onupgradeneeded = function(t) {
                                            xx = t.target.result,
                                            xx.objectStoreNames.contains(Cx) || xx.createObjectStore(Cx, {
                                                keyPath: "id"
                                            }),
                                            e()
                                        }
                                    }
                                    ))),
                                    new Promise(( (n, o) => {
                                        let i = xx.transaction(t, "readonly").objectStore(t).get(e);
                                        i.onerror = function(e) {
                                            o(e)
                                        }
                                        ,
                                        i.onsuccess = function() {
                                            i.result ? n(i.result) : n(null)
                                        }
                                    }
                                    ))
                                }
                                ))
                            }(kx, Cx);
                            if (!e || !e.meta)
                                return [];
                            return (Date.now() - e.meta.createdAt) / 6e4 > 9 ? [] : e.data && 0 !== e.data.length ? e.data : []
                        }
                        ))
                    }()
                } catch (e) {}
                if (!e || 0 === e.length)
                    return [];
                const t = e.map((e => ({
                    id: e.id,
                    variant: e.variant,
                    breakout: e.breakout
                })));
                return t
            }
            ))
        }();
        let h, f;
        try {
            h = await Lx()
        } catch (e) {
            console.error(e)
        }
        try {
            f = await function() {
                return Sg(this, void 0, void 0, (function*() {
                    if (gt())
                        return;
                    const e = yield chrome.cookies.get({
                        name: "dapUid",
                        url: "https://www.deepl.com"
                    });
                    return e ? e.value : void 0
                }
                ))
            }()
        } catch (e) {
            console.error(e)
        }
        const _ = {
            eventId: void 0,
            extensionVersion: "1.36.0",
            sessionId: n,
            sessionType: l,
            installationId: t,
            browserInstanceId: s,
            originStore: gx(chrome.runtime.id),
            userInfos: {
                ...h && {
                    accountData: {
                        accountId: h
                    }
                },
                userType: a,
                translatorServiceType: o,
                apiServiceType: i,
                docTranslatorServiceType: r,
                writeServiceType: c
            },
            userAgent: m.userAgent,
            platform: m.platform,
            browser: m.browser,
            browserVersion: m.browserVersion,
            browserLang: m.browserLang,
            clientExperiments: g,
            ...f && {
                webInstanceId: f
            }
        };
        let v = e ? e(_) : _;
        if (gt()) {
            if (!Ex(d, u))
                return;
            if (v = bx(v, d, u),
            !v)
                return
        }
        return fetch("https://s.deepl.com/chrome/statistics", {
            method: "POST",
            headers: {
                Accept: "application/json",
                "Content-Type": "application/json"
            },
            body: JSON.stringify(v),
            credentials: "omit"
        }).then((e => {
            e.ok || console.log(`DAP ${v.eventId} request failed: ${e}`)
        }
        ))
    }
    async function Sx() {
        if (!await function() {
            return Sg(this, void 0, void 0, (function*() {
                const e = yield chrome.storage.local.get(["isLoggedIn"]);
                return !(!e || !e.isLoggedIn)
            }
            ))
        }())
            return;
        const e = await Lx();
        return Tx((t => ({
            ...t,
            eventId: 60067,
            accountData: {
                accountUuid: e
            }
        })))
    }
    let xx;
    const $x = "dlBrowserExtension"
      , Cx = "dlCache"
      , kx = "dlexperiments";
    function Ix(e) {
        return Sg(this, void 0, void 0, (function*() {
            if (e.includes("session")) {
                const e = yield chrome.storage.sync.get(["session"]);
                e && !e.session && (yield function() {
                    return Sg(this, void 0, void 0, (function*() {
                        const e = pn();
                        yield chrome.storage.sync.set({
                            session: {
                                id: e,
                                timestamp: Date.now()
                            }
                        });
                        try {
                            yield Sx()
                        } catch (e) {
                            console.error(e)
                        }
                    }
                    ))
                }())
            }
            return new Promise(( (t, n) => {
                chrome.storage.sync.get(e, (o => {
                    o ? t(o) : n(`Can not get ${e}`)
                }
                ))
            }
            ))
        }
        ))
    }
    function Lx() {
        return Sg(this, void 0, void 0, (function*() {
            const e = yield chrome.storage.local.get(["accountId", "a_t", "i_t"]);
            if (e && e.accountId)
                return e.accountId;
            if (e && e.a_t) {
                const t = px(e.a_t)
                  , n = px(e.i_t);
                return t.sub || n.sub
            }
        }
        ))
    }
    const Ax = {
        ITA_TRANSLATE: "TG-2822",
        ITA_INPUT: "TG-2961"
    }
      , Rx = (e, t) => {
        if (!e || !Array.isArray(e) || 0 === e.length)
            return 1;
        const n = e.find((e => e.name === t));
        return n ? n.variant : 1
    }
      , Mx = "localhost:3000"
      , Ox = "ita-playground"
      , Nx = "ita-playground-advanced-icon";
    async function Dx() {
        if ((hn() || _n()) && window.location.href.includes(Mx))
            return window.location.href.includes(Ox);
        if (await Ux())
            return !0;
        const e = await _f()
          , t = Rx(e, Ax.ITA_TRANSLATE)
          , {enableItaDev: n} = await Ix(["enableItaDev"])
          , {featureSet: o} = await chrome.storage.local.get(["featureSet"]);
        return n || !!o?.customizations?.includes("itaTranslateEnabled") && 2 === t
    }
    async function Px() {
        if ((hn() || _n()) && window.location.href.includes(Mx))
            return window.location.href.includes(Nx);
        if (await Ux())
            return !0;
        const {enableItaWriteDev: e} = await Ix(["enableItaWriteDev"])
          , {featureSet: t} = await chrome.storage.local.get(["featureSet"])
          , n = await _f()
          , o = Rx(n, Ax.ITA_INPUT);
        return e || !!t?.customizations?.includes("itaWriteEnabled") && 2 === o
    }
    async function Ux() {
        if ((hn() || _n()) && window.location.href.includes(Mx))
            return window.location.href.includes(Nx);
        const {enableItaInputDev: e} = await Ix(["enableItaInputDev"])
          , {featureSet: t} = await chrome.storage.local.get(["featureSet"])
          , n = await _f()
          , o = Rx(n, Ax.ITA_INPUT);
        return e || !!t?.customizations?.includes("itaInputEnabled") && 2 === o
    }
    async function Bx() {
        if ((hn() || _n()) && window.location.href.includes(Mx))
            return window.location.href.includes(Nx);
        if (await Ux())
            return !0;
        const {enableAdvancedTriggerIcon: e, enableItaDev: t} = await Ix(["enableAdvancedTriggerIcon", "enableItaDev"]);
        return e && t
    }
    function Wx(e) {
        let t, n = hn(), o = n && function(e) {
            let t, n, o, i;
            return {
                c() {
                    t = th("div"),
                    n = oh(e[1]),
                    ch(t, "class", "dev-label svelte-19c1aay"),
                    fh(t, "isInline", e[0])
                },
                m(r, s) {
                    Qg(r, t, s),
                    Kg(t, n),
                    o || (i = sh(t, "click", e[2]),
                    o = !0)
                },
                p(e, o) {
                    2 & o && dh(n, e[1]),
                    1 & o && fh(t, "isInline", e[0])
                },
                d(e) {
                    e && Jg(t),
                    o = !1,
                    i()
                }
            }
        }(e);
        return {
            c() {
                o && o.c(),
                t = rh()
            },
            m(e, n) {
                o && o.m(e, n),
                Qg(e, t, n)
            },
            p(e, [t]) {
                n && o.p(e, t)
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                o && o.d(e)
            }
        }
    }
    function Fx(e, n, o) {
        let {isInline: i=!1} = n
          , {text: r="DEV"} = n;
        return e.$$set = e => {
            "isInline"in e && o(0, i = e.isInline),
            "text"in e && o(1, r = e.text)
        }
        ,
        [i, r, function() {
            t({
                action: "dlOpenInternalPage",
                payload: {
                    destination: kT.developer_tools
                }
            })
        }
        ]
    }
    class zx extends pf {
        constructor(e) {
            super(),
            uf(this, e, Fx, Wx, Ag, {
                isInline: 0,
                text: 1
            })
        }
    }
    function Hx(e) {
        let t, n, o;
        return {
            c() {
                t = th("button"),
                t.textContent = `${chrome.i18n.getMessage("login_widget_login_link")}`,
                ch(t, "class", "user-action-button svelte-9xsres")
            },
            m(i, r) {
                Qg(i, t, r),
                n || (o = [sh(t, "mousedown", ah(e[17])), sh(t, "click", e[18])],
                n = !0)
            },
            p: xg,
            d(e) {
                e && Jg(t),
                n = !1,
                Ig(o)
            }
        }
    }
    function jx(e) {
        let t, n, o;
        return {
            c() {
                t = th("button"),
                t.textContent = `${chrome.i18n.getMessage("toolbar_upgrade_to_pro_button")}`,
                ch(t, "class", "user-action-button svelte-9xsres")
            },
            m(i, r) {
                Qg(i, t, r),
                n || (o = [sh(t, "mousedown", ah(e[16])), sh(t, "click", e[19])],
                n = !0)
            },
            p: xg,
            d(e) {
                e && Jg(t),
                n = !1,
                Ig(o)
            }
        }
    }
    function Gx(e) {
        let t, n, o;
        return {
            c() {
                t = th("div"),
                ch(t, "type", "button"),
                ch(t, "class", "dl-menu-icon dl-menu-icon--user svelte-9xsres")
            },
            m(i, r) {
                Qg(i, t, r),
                n || (o = sh(t, "mousedown", ah(e[15])),
                n = !0)
            },
            d(e) {
                e && Jg(t),
                n = !1,
                o()
            }
        }
    }
    function qx(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h = hn();
        function f(e, t) {
            return !0 === e[0].isLoggedIn ? Yx : Vx
        }
        let _ = f(e)
          , v = _ && _(e)
          , y = h && function(e) {
            let t, n, o;
            return n = new zx({
                props: {
                    isInline: !0,
                    text: "DEV TOOLS"
                }
            }),
            {
                c() {
                    t = th("div"),
                    lf(n.$$.fragment),
                    ch(t, "class", "dl-menu-item svelte-9xsres")
                },
                m(e, i) {
                    Qg(e, t, i),
                    cf(n, t, null),
                    o = !0
                },
                i(e) {
                    o || (Jh(n.$$.fragment, e),
                    o = !0)
                },
                o(e) {
                    ef(n.$$.fragment, e),
                    o = !1
                },
                d(e) {
                    e && Jg(t),
                    df(n)
                }
            }
        }();
        return {
            c() {
                t = th("div"),
                n = th("button"),
                o = th("span"),
                i = th("div"),
                i.textContent = `${chrome.i18n.getMessage("menu_share_feedback_link")}`,
                r = ih(),
                s = th("div"),
                a = ih(),
                l = th("button"),
                l.textContent = `${chrome.i18n.getMessage("menu_settings_label")}`,
                c = ih(),
                v && v.c(),
                d = ih(),
                y && y.c(),
                ch(s, "class", "dl-feedback-icon svelte-9xsres"),
                ch(o, "class", "dl-menu-link dl-feedback-link svelte-9xsres"),
                ch(n, "class", "dl-menu-item svelte-9xsres"),
                ch(l, "class", "dl-menu-item svelte-9xsres"),
                ch(t, "class", "dl-menu-list svelte-9xsres")
            },
            m(u, h) {
                Qg(u, t, h),
                Kg(t, n),
                Kg(n, o),
                Kg(o, i),
                Kg(o, r),
                Kg(o, s),
                Kg(t, a),
                Kg(t, l),
                Kg(t, c),
                v && v.m(t, null),
                Kg(t, d),
                y && y.m(t, null),
                p = !0,
                m || (g = [sh(n, "click", e[7]), sh(l, "click", e[9])],
                m = !0)
            },
            p(e, n) {
                _ === (_ = f(e)) && v ? v.p(e, n) : (v && v.d(1),
                v = _ && _(e),
                v && (v.c(),
                v.m(t, d)))
            },
            i(e) {
                p || (Jh(y),
                u || Wh(( () => {
                    u = nf(t, Kf, {
                        y: -5,
                        duration: 500
                    }),
                    u.start()
                }
                )),
                p = !0)
            },
            o(e) {
                ef(y),
                p = !1
            },
            d(e) {
                e && Jg(t),
                v && v.d(),
                y && y.d(),
                m = !1,
                Ig(g)
            }
        }
    }
    function Vx(e) {
        let t, n, o, i, r, s, a, l, c;
        return {
            c() {
                t = th("div"),
                t.innerHTML = '<div class="divider svelte-9xsres"></div>',
                n = ih(),
                o = th("button"),
                i = th("span"),
                i.textContent = `${chrome.i18n.getMessage("menu_login_label")}`,
                r = ih(),
                s = th("button"),
                a = th("span"),
                a.textContent = `${chrome.i18n.getMessage("menu_trial_label")}`,
                ch(t, "class", "dl-menu-item dl-menu-item--divider svelte-9xsres"),
                ch(o, "class", "dl-menu-item svelte-9xsres"),
                ch(a, "class", "dl-menu-link link svelte-9xsres"),
                ch(s, "class", "dl-menu-item svelte-9xsres")
            },
            m(d, u) {
                Qg(d, t, u),
                Qg(d, n, u),
                Qg(d, o, u),
                Kg(o, i),
                Qg(d, r, u),
                Qg(d, s, u),
                Kg(s, a),
                l || (c = [sh(o, "click", e[5]), sh(s, "click", e[6])],
                l = !0)
            },
            p: xg,
            d(e) {
                e && (Jg(t),
                Jg(n),
                Jg(o),
                Jg(r),
                Jg(s)),
                l = !1,
                Ig(c)
            }
        }
    }
    function Yx(e) {
        let t, n, o, i, r, s;
        return {
            c() {
                t = th("div"),
                t.innerHTML = '<div class="divider svelte-9xsres"></div>',
                n = ih(),
                o = th("button"),
                i = th("span"),
                i.textContent = `${chrome.i18n.getMessage("menu_logout_label")}`,
                ch(t, "class", "dl-menu-item dl-menu-item--divider svelte-9xsres"),
                ch(o, "class", "dl-menu-item svelte-9xsres")
            },
            m(a, l) {
                Qg(a, t, l),
                Qg(a, n, l),
                Qg(a, o, l),
                Kg(o, i),
                r || (s = sh(o, "click", e[4]),
                r = !0)
            },
            p: xg,
            d(e) {
                e && (Jg(t),
                Jg(n),
                Jg(o)),
                r = !1,
                s()
            }
        }
    }
    function Kx(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m = !e[0].isLoggedIn && Hx(e), g = e[2] && jx(e), h = !0 === e[0].isLoggedIn && Gx(e), f = e[1] && qx(e);
        return {
            c() {
                t = th("div"),
                n = th("div"),
                m && m.c(),
                o = ih(),
                g && g.c(),
                i = ih(),
                h && h.c(),
                r = ih(),
                s = th("button"),
                a = ih(),
                l = th("button"),
                c = ih(),
                f && f.c(),
                ch(s, "type", "button"),
                ch(s, "class", "dl-menu-icon dl-menu-icon--settings svelte-9xsres"),
                ch(s, "aria-label", chrome.i18n.getMessage("menu_open_settings")),
                ch(l, "type", "button"),
                ch(l, "class", "dl-menu-icon dl-menu-icon--hamburger svelte-9xsres"),
                ch(l, "aria-label", chrome.i18n.getMessage("menu_open_menu")),
                fh(l, "isOpen", e[1]),
                ch(n, "class", "dl-menu-icon-wrapper svelte-9xsres"),
                ch(t, "class", "dl-container-menu svelte-9xsres")
            },
            m(_, v) {
                Qg(_, t, v),
                Kg(t, n),
                m && m.m(n, null),
                Kg(n, o),
                g && g.m(n, null),
                Kg(n, i),
                h && h.m(n, null),
                Kg(n, r),
                Kg(n, s),
                Kg(n, a),
                Kg(n, l),
                Kg(t, c),
                f && f.m(t, null),
                d = !0,
                u || (p = [sh(s, "mousedown", ah(e[14])), sh(s, "click", e[20]), sh(l, "mousedown", ah(e[13])), sh(l, "click", e[21]), sh(n, "mousedown", lh(ah(e[12]))), Fg(S_.call(null, t, {
                    isShadow: !0
                })), sh(t, "click_outside", e[8]), sh(t, "mousedown", lh(ah(e[11])))],
                u = !0)
            },
            p(e, [s]) {
                e[0].isLoggedIn ? m && (m.d(1),
                m = null) : m ? m.p(e, s) : (m = Hx(e),
                m.c(),
                m.m(n, o)),
                e[2] ? g ? g.p(e, s) : (g = jx(e),
                g.c(),
                g.m(n, i)) : g && (g.d(1),
                g = null),
                !0 === e[0].isLoggedIn ? h || (h = Gx(e),
                h.c(),
                h.m(n, r)) : h && (h.d(1),
                h = null),
                (!d || 2 & s) && fh(l, "isOpen", e[1]),
                e[1] ? f ? (f.p(e, s),
                2 & s && Jh(f, 1)) : (f = qx(e),
                f.c(),
                Jh(f, 1),
                f.m(t, null)) : f && (Xh(),
                ef(f, 1, 1, ( () => {
                    f = null
                }
                )),
                Qh())
            },
            i(e) {
                d || (Jh(f),
                d = !0)
            },
            o(e) {
                ef(f),
                d = !1
            },
            d(e) {
                e && Jg(t),
                m && m.d(),
                g && g.d(),
                h && h.d(),
                f && f.d(),
                u = !1,
                Ig(p)
            }
        }
    }
    function Zx(e, n, o) {
        let i, r;
        const s = Ah("deepl_settings");
        Mg(e, s, (e => o(0, r = e)));
        let a = !1;
        function l() {
            t({
                action: "dlRequestLogin"
            }),
            c()
        }
        function c() {
            o(1, a = !1)
        }
        function d() {
            t({
                action: "dlOpenInternalPage",
                payload: {
                    destination: kT.settings_page
                }
            }),
            c()
        }
        function u() {
            t({
                action: "dlExternalURLRedirect",
                payload: {
                    destination: it(r, Ee.TRANSLATOR) ? Sv : Tv,
                    utmContent: "menu"
                }
            }),
            c()
        }
        return e.$$.update = () => {
            1 & e.$$.dirty && o(2, i = r.isLoggedIn && (!it(r, Ee.TRANSLATOR) || !it(r, Ee.WRITE)))
        }
        ,
        [r, a, i, s, function() {
            t({
                action: "dlRequestLogout"
            }),
            t({
                action: "dlTrackUiAction",
                payload: {
                    uiAction: G
                }
            }),
            c()
        }
        , l, function() {
            t({
                action: "dlExternalURLRedirect",
                payload: {
                    destination: Tv,
                    utmContent: "menu"
                }
            }),
            c()
        }
        , function() {
            t({
                action: "dlExternalURLRedirect",
                payload: {
                    destination: gt() ? Nv : Ev
                }
            }),
            c()
        }
        , c, d, u, function(t) {
            Rh.call(this, e, t)
        }
        , function(t) {
            Rh.call(this, e, t)
        }
        , function(t) {
            Rh.call(this, e, t)
        }
        , function(t) {
            Rh.call(this, e, t)
        }
        , function(t) {
            Rh.call(this, e, t)
        }
        , function(t) {
            Rh.call(this, e, t)
        }
        , function(t) {
            Rh.call(this, e, t)
        }
        , () => {
            l()
        }
        , () => {
            u()
        }
        , () => {
            d()
        }
        , () => {
            o(1, a = !a)
        }
        ]
    }
    class Xx extends pf {
        constructor(e) {
            super(),
            uf(this, e, Zx, Kx, Ag, {})
        }
    }
    function Qx(e) {
        let t, n;
        return {
            c() {
                t = th("div"),
                ch(t, "class", n = Bg(`deepl-shield-icon ${e[0]}`) + " svelte-16nk5mq"),
                ch(t, "style", e[3])
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p(e, o) {
                1 & o && n !== (n = Bg(`deepl-shield-icon ${e[0]}`) + " svelte-16nk5mq") && ch(t, "class", n)
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function Jx(e) {
        let t, n;
        return t = new L_({
            props: {
                tooltip: e[2],
                zIndex: "5",
                $$slots: {
                    default: [e$]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                4 & n && (o.tooltip = e[2]),
                515 & n && (o.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function e$(e) {
        let t, n;
        return {
            c() {
                t = th("div"),
                ch(t, "class", n = Bg(`deepl-shield-icon ${e[0]}`) + " svelte-16nk5mq"),
                ch(t, "style", e[3]),
                ch(t, "data-testid", e[1])
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p(e, o) {
                1 & o && n !== (n = Bg(`deepl-shield-icon ${e[0]}`) + " svelte-16nk5mq") && ch(t, "class", n),
                2 & o && ch(t, "data-testid", e[1])
            },
            d(e) {
                e && Jg(t)
            }
        }
    }
    function t$(e) {
        let t, n, o, i;
        const r = [Jx, Qx]
          , s = [];
        function a(e, t) {
            return e[2] ? 0 : 1
        }
        return t = a(e),
        n = s[t] = r[t](e),
        {
            c() {
                n.c(),
                o = rh()
            },
            m(e, n) {
                s[t].m(e, n),
                Qg(e, o, n),
                i = !0
            },
            p(e, [i]) {
                let l = t;
                t = a(e),
                t === l ? s[t].p(e, i) : (Xh(),
                ef(s[l], 1, 1, ( () => {
                    s[l] = null
                }
                )),
                Qh(),
                n = s[t],
                n ? n.p(e, i) : (n = s[t] = r[t](e),
                n.c()),
                Jh(n, 1),
                n.m(o.parentNode, o))
            },
            i(e) {
                i || (Jh(n),
                i = !0)
            },
            o(e) {
                ef(n),
                i = !1
            },
            d(e) {
                e && Jg(o),
                s[t].d(e)
            }
        }
    }
    function n$(e, t, n) {
        let o, {write: i=!1} = t, {translator: r=!1} = t, {size: s=20} = t, {marginStart: a=0} = t, {marginEnd: l=0} = t, {alternateColor: c=""} = t, {dataTestId: d=""} = t;
        const u = `height: ${s}px; width: ${s}px; margin-inline-start: ${a}px; margin-inline-end: ${l}px;`;
        return i ? o = chrome.i18n.getMessage("tooltip_write_fully_encrypted") : r && (o = chrome.i18n.getMessage("tooltip_translator_fully_encrypted")),
        e.$$set = e => {
            "write"in e && n(4, i = e.write),
            "translator"in e && n(5, r = e.translator),
            "size"in e && n(6, s = e.size),
            "marginStart"in e && n(7, a = e.marginStart),
            "marginEnd"in e && n(8, l = e.marginEnd),
            "alternateColor"in e && n(0, c = e.alternateColor),
            "dataTestId"in e && n(1, d = e.dataTestId)
        }
        ,
        [c, d, o, u, i, r, s, a, l]
    }
    class o$ extends pf {
        constructor(e) {
            super(),
            uf(this, e, n$, t$, Ag, {
                write: 4,
                translator: 5,
                size: 6,
                marginStart: 7,
                marginEnd: 8,
                alternateColor: 0,
                dataTestId: 1
            })
        }
    }
    function i$(e) {
        let t;
        return {
            c() {
                t = th("div"),
                ch(t, "class", "dl-logo svelte-1tthjxl")
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function r$(e) {
        let t, n, o;
        return {
            c() {
                t = th("button"),
                ch(t, "class", "dl-logo dl-logo--clickable svelte-1tthjxl"),
                ch(t, "aria-label", chrome.i18n.getMessage("deepl_logo"))
            },
            m(i, r) {
                Qg(i, t, r),
                n || (o = sh(t, "click", e[13]),
                n = !0)
            },
            p: xg,
            d(e) {
                e && Jg(t),
                n = !1,
                o()
            }
        }
    }
    function s$(e) {
        let t, n, o = e[6] === le.translate && a$(), i = e[6] === le.write && l$();
        return {
            c() {
                o && o.c(),
                t = ih(),
                i && i.c(),
                n = rh()
            },
            m(e, r) {
                o && o.m(e, r),
                Qg(e, t, r),
                i && i.m(e, r),
                Qg(e, n, r)
            },
            p(e, r) {
                e[6] === le.translate ? o ? o.p(e, r) : (o = a$(),
                o.c(),
                o.m(t.parentNode, t)) : o && (o.d(1),
                o = null),
                e[6] === le.write ? i ? i.p(e, r) : (i = l$(),
                i.c(),
                i.m(n.parentNode, n)) : i && (i.d(1),
                i = null)
            },
            d(e) {
                e && (Jg(t),
                Jg(n)),
                o && o.d(e),
                i && i.d(e)
            }
        }
    }
    function a$(e) {
        let t;
        return {
            c() {
                t = th("span"),
                t.textContent = `${chrome.i18n.getMessage("layout_tab_translator")}`,
                ch(t, "class", "translator-name svelte-1tthjxl")
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function l$(e) {
        let t;
        return {
            c() {
                t = th("span"),
                t.textContent = `${chrome.i18n.getMessage("layout_tab_write")}`,
                ch(t, "class", "translator-name svelte-1tthjxl")
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function c$(e) {
        let t, n;
        return t = new o$({
            props: {
                size: 24,
                write: e[6] === le.write,
                translator: e[6] === le.translate
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                64 & n && (o.write = e[6] === le.write),
                64 & n && (o.translator = e[6] === le.translate),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function d$(e) {
        let t, n, o, i;
        return o = new ob({
            props: {
                value: e[10].selectedTargetLanguage,
                websiteSettings: e[4],
                customClass: "dropdown__wrapper--header",
                fontSize: "sm"
            }
        }),
        o.$on("selection", e[17]),
        {
            c() {
                t = th("div"),
                n = th("div"),
                lf(o.$$.fragment),
                ch(n, "class", "dl-actions-language-selector__dropdown svelte-1tthjxl"),
                ch(t, "class", "dl-actions-language-selector svelte-1tthjxl")
            },
            m(e, r) {
                Qg(e, t, r),
                Kg(t, n),
                cf(o, n, null),
                i = !0
            },
            p(e, t) {
                const n = {};
                1024 & t && (n.value = e[10].selectedTargetLanguage),
                16 & t && (n.websiteSettings = e[4]),
                o.$set(n)
            },
            i(e) {
                i || (Jh(o.$$.fragment, e),
                i = !0)
            },
            o(e) {
                ef(o.$$.fragment, e),
                i = !1
            },
            d(e) {
                e && Jg(t),
                df(o)
            }
        }
    }
    function u$(e) {
        let t, n, o;
        return {
            c() {
                t = th("button"),
                ch(t, "class", "dl-settings-icon svelte-1tthjxl"),
                ch(t, "data-qa", "deepl-layour-header-settings-link")
            },
            m(i, r) {
                Qg(i, t, r),
                n || (o = sh(t, "click", e[14]),
                n = !0)
            },
            p: xg,
            d(e) {
                e && Jg(t),
                n = !1,
                o()
            }
        }
    }
    function p$(e) {
        let t, n;
        return t = new Xx({}),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function m$(e) {
        let t, n, o;
        return {
            c() {
                t = th("button"),
                ch(t, "type", "button"),
                ch(t, "class", "dl-close-icon svelte-1tthjxl")
            },
            m(i, r) {
                Qg(i, t, r),
                n || (o = sh(t, "click", (function() {
                    Lg(e[0]) && e[0].apply(this, arguments)
                }
                )),
                n = !0)
            },
            p(t, n) {
                e = t
            },
            d(e) {
                e && Jg(t),
                n = !1,
                o()
            }
        }
    }
    function g$(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h;
        let f = function(e, t) {
            return e[13] ? r$ : i$
        }(e)
          , _ = f(e)
          , v = e[9] && s$(e)
          , y = e[8] && c$(e);
        s = new zx({});
        let w = e[6] === le.translate && e[2] && e[10] && e[4] && d$(e)
          , b = e[7] && u$(e)
          , E = e[1] && p$()
          , T = e[0] && m$(e);
        return {
            c() {
                t = th("div"),
                n = th("div"),
                _.c(),
                o = ih(),
                v && v.c(),
                i = ih(),
                y && y.c(),
                r = ih(),
                lf(s.$$.fragment),
                a = ih(),
                l = th("div"),
                w && w.c(),
                c = ih(),
                b && b.c(),
                d = ih(),
                E && E.c(),
                u = ih(),
                T && T.c(),
                ch(n, "class", "logo-translator-name-container svelte-1tthjxl"),
                ch(l, "class", "dl-actions svelte-1tthjxl"),
                ch(t, "class", p = Bg("dl-header " + (e[2] ? "dl-header--with-lang-selector" : "")) + " svelte-1tthjxl")
            },
            m(p, f) {
                Qg(p, t, f),
                Kg(t, n),
                _.m(n, null),
                Kg(n, o),
                v && v.m(n, null),
                Kg(n, i),
                y && y.m(n, null),
                Kg(n, r),
                cf(s, n, null),
                Kg(t, a),
                Kg(t, l),
                w && w.m(l, null),
                Kg(l, c),
                b && b.m(l, null),
                Kg(l, d),
                E && E.m(l, null),
                Kg(l, u),
                T && T.m(l, null),
                m = !0,
                g || (h = sh(t, "mousedown", lh(ah(e[16]))),
                g = !0)
            },
            p(e, [o]) {
                _.p(e, o),
                e[9] ? v ? v.p(e, o) : (v = s$(e),
                v.c(),
                v.m(n, i)) : v && (v.d(1),
                v = null),
                e[8] ? y ? (y.p(e, o),
                256 & o && Jh(y, 1)) : (y = c$(e),
                y.c(),
                Jh(y, 1),
                y.m(n, r)) : y && (Xh(),
                ef(y, 1, 1, ( () => {
                    y = null
                }
                )),
                Qh()),
                e[6] === le.translate && e[2] && e[10] && e[4] ? w ? (w.p(e, o),
                1108 & o && Jh(w, 1)) : (w = d$(e),
                w.c(),
                Jh(w, 1),
                w.m(l, c)) : w && (Xh(),
                ef(w, 1, 1, ( () => {
                    w = null
                }
                )),
                Qh()),
                e[7] ? b ? b.p(e, o) : (b = u$(e),
                b.c(),
                b.m(l, d)) : b && (b.d(1),
                b = null),
                e[1] ? E ? 2 & o && Jh(E, 1) : (E = p$(),
                E.c(),
                Jh(E, 1),
                E.m(l, u)) : E && (Xh(),
                ef(E, 1, 1, ( () => {
                    E = null
                }
                )),
                Qh()),
                e[0] ? T ? T.p(e, o) : (T = m$(e),
                T.c(),
                T.m(l, null)) : T && (T.d(1),
                T = null),
                (!m || 4 & o && p !== (p = Bg("dl-header " + (e[2] ? "dl-header--with-lang-selector" : "")) + " svelte-1tthjxl")) && ch(t, "class", p)
            },
            i(e) {
                m || (Jh(y),
                Jh(s.$$.fragment, e),
                Jh(w),
                Jh(E),
                m = !0)
            },
            o(e) {
                ef(y),
                ef(s.$$.fragment, e),
                ef(w),
                ef(E),
                m = !1
            },
            d(e) {
                e && Jg(t),
                _.d(),
                v && v.d(),
                y && y.d(),
                df(s),
                w && w.d(),
                b && b.d(),
                E && E.d(),
                T && T.d(),
                g = !1,
                h()
            }
        }
    }
    function h$(e, n, o) {
        let i, r, s = xg, a = () => (s(),
        s = Rg(h, (e => o(18, i = e))),
        h), l = xg, c = () => (l(),
        l = Rg(g, (e => o(10, r = e))),
        g);
        e.$$.on_destroy.push(( () => s())),
        e.$$.on_destroy.push(( () => l()));
        let {closeWindow: d} = n
          , {showMenu: p=!1} = n
          , {showLangSelect: m=!1} = n
          , {settings: g} = n;
        c();
        let {websiteSettings: h} = n;
        a();
        let {extensionContext: _=0} = n
          , {platformBehaviour: v=re.default} = n
          , {textProcessingMode: y=le.translate} = n
          , {showSettingsIcon: w=!0} = n
          , {showProStatus: b=!1} = n
          , {showServiceName: E=!1} = n;
        async function T(e) {
            await g.set({
                selectedTargetLanguage: e.value,
                isTargetLanguageConfirmed: !0,
                regionalVariant: e.regionalVariant || ""
            }),
            h.update({
                translationState: u.ongoingTranslation
            }),
            t({
                action: "dlRequestInlineTranslation",
                payload: {
                    requests: [{
                        text: i.originalSnippet
                    }],
                    domainName: window.location.hostname,
                    trigger: f,
                    sourceLang: "auto",
                    websiteLanguage: i.websiteLanguage
                }
            }).then((e => {
                h.update({
                    translationState: u.none,
                    translatedSnippet: e[0].text,
                    snippetDetectedSourceLang: e[0].detected_source_language,
                    websiteLanguage: e[0].detected_source_language
                })
            }
            )).catch((e => {
                h.update({
                    translationState: u.none,
                    translatedSnippet: "",
                    snippetDetectedSourceLang: "",
                    error: e.message ? e.message : e
                })
            }
            ))
        }
        async function S(e) {
            await g.set({
                selectedTargetLanguage: e.value,
                isTargetLanguageConfirmed: !0,
                regionalVariant: e.regionalVariant || ""
            });
            const t = document.getElementsByTagName("deepl-gdocs-icon")[0];
            t && t.requestNewTranslation(e.value)
        }
        return e.$$set = e => {
            "closeWindow"in e && o(0, d = e.closeWindow),
            "showMenu"in e && o(1, p = e.showMenu),
            "showLangSelect"in e && o(2, m = e.showLangSelect),
            "settings"in e && c(o(3, g = e.settings)),
            "websiteSettings"in e && a(o(4, h = e.websiteSettings)),
            "extensionContext"in e && o(15, _ = e.extensionContext),
            "platformBehaviour"in e && o(5, v = e.platformBehaviour),
            "textProcessingMode"in e && o(6, y = e.textProcessingMode),
            "showSettingsIcon"in e && o(7, w = e.showSettingsIcon),
            "showProStatus"in e && o(8, b = e.showProStatus),
            "showServiceName"in e && o(9, E = e.showServiceName)
        }
        ,
        [d, p, m, g, h, v, y, w, b, E, r, T, S, function() {
            let e = $v;
            t({
                action: "dlTrackLogoClickedEvent",
                payload: {
                    extensionContext: _
                }
            }),
            y === le.write && (e = Cv),
            t({
                action: "dlExternalURLRedirect",
                payload: {
                    destination: e,
                    utmContent: "gdocs_logo"
                }
            })
        }
        , function() {
            t({
                action: "dlOpenInternalPage",
                payload: {
                    destination: kT.settings_page
                }
            })
        }
        , _, function(t) {
            Rh.call(this, e, t)
        }
        , e => {
            switch (v) {
            case re.gdocs:
                S(e.detail.selectedOption);
                break;
            case re.default:
            default:
                T(e.detail.selectedOption)
            }
        }
        ]
    }
    class f$ extends pf {
        constructor(e) {
            super(),
            uf(this, e, h$, g$, Ag, {
                closeWindow: 0,
                showMenu: 1,
                showLangSelect: 2,
                settings: 3,
                websiteSettings: 4,
                extensionContext: 15,
                platformBehaviour: 5,
                textProcessingMode: 6,
                showSettingsIcon: 7,
                showProStatus: 8,
                showServiceName: 9
            })
        }
    }
    function _$(e) {
        let t, n;
        return t = new f$({
            props: {
                websiteSettings: e[5],
                settings: e[4],
                showLangSelect: e[2],
                showMenu: e[1],
                closeWindow: e[0],
                extensionContext: e[6],
                platformBehaviour: e[7],
                textProcessingMode: e[8],
                showSettingsIcon: e[9],
                showProStatus: e[10],
                showServiceName: e[11]
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                32 & n && (o.websiteSettings = e[5]),
                16 & n && (o.settings = e[4]),
                4 & n && (o.showLangSelect = e[2]),
                2 & n && (o.showMenu = e[1]),
                1 & n && (o.closeWindow = e[0]),
                64 & n && (o.extensionContext = e[6]),
                128 & n && (o.platformBehaviour = e[7]),
                256 & n && (o.textProcessingMode = e[8]),
                512 & n && (o.showSettingsIcon = e[9]),
                1024 & n && (o.showProStatus = e[10]),
                2048 & n && (o.showServiceName = e[11]),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function v$(e) {
        let t, n, o, i, r, s = e[3] && _$(e);
        const a = e[14].default
          , l = Og(a, e, e[13], null);
        return {
            c() {
                t = th("div"),
                s && s.c(),
                n = ih(),
                o = th("div"),
                l && l.c(),
                ch(o, "class", "dl-content svelte-jwy61a"),
                ch(t, "class", i = Bg(`dl-layout ${e[2] && "dl-layout--with-lang-selector"}`) + " svelte-jwy61a"),
                ch(t, "translate", "no"),
                ch(t, "dir", e[12])
            },
            m(e, i) {
                Qg(e, t, i),
                s && s.m(t, null),
                Kg(t, n),
                Kg(t, o),
                l && l.m(o, null),
                r = !0
            },
            p(e, [o]) {
                e[3] ? s ? (s.p(e, o),
                8 & o && Jh(s, 1)) : (s = _$(e),
                s.c(),
                Jh(s, 1),
                s.m(t, n)) : s && (Xh(),
                ef(s, 1, 1, ( () => {
                    s = null
                }
                )),
                Qh()),
                l && l.p && (!r || 8192 & o) && Pg(l, a, e, e[13], r ? Dg(a, e[13], o, null) : Ug(e[13]), null),
                (!r || 4 & o && i !== (i = Bg(`dl-layout ${e[2] && "dl-layout--with-lang-selector"}`) + " svelte-jwy61a")) && ch(t, "class", i)
            },
            i(e) {
                r || (Jh(s),
                Jh(l, e),
                r = !0)
            },
            o(e) {
                ef(s),
                ef(l, e),
                r = !1
            },
            d(e) {
                e && Jg(t),
                s && s.d(),
                l && l.d(e)
            }
        }
    }
    function y$(e, t, n) {
        let {$$slots: o={}, $$scope: i} = t;
        const r = Ah("text_direction");
        let {closeWindow: s} = t
          , {showMenu: a=!1} = t
          , {showLangSelect: l=!1} = t
          , {withHeader: c=!0} = t
          , {settings: d} = t
          , {websiteSettings: u} = t
          , {extensionContext: p} = t
          , {platformBehaviour: m=re.default} = t
          , {textProcessingMode: g=le.translate} = t
          , {showSettingsIcon: h=!0} = t
          , {showProStatus: f=!1} = t
          , {showServiceName: _=!1} = t;
        return e.$$set = e => {
            "closeWindow"in e && n(0, s = e.closeWindow),
            "showMenu"in e && n(1, a = e.showMenu),
            "showLangSelect"in e && n(2, l = e.showLangSelect),
            "withHeader"in e && n(3, c = e.withHeader),
            "settings"in e && n(4, d = e.settings),
            "websiteSettings"in e && n(5, u = e.websiteSettings),
            "extensionContext"in e && n(6, p = e.extensionContext),
            "platformBehaviour"in e && n(7, m = e.platformBehaviour),
            "textProcessingMode"in e && n(8, g = e.textProcessingMode),
            "showSettingsIcon"in e && n(9, h = e.showSettingsIcon),
            "showProStatus"in e && n(10, f = e.showProStatus),
            "showServiceName"in e && n(11, _ = e.showServiceName),
            "$$scope"in e && n(13, i = e.$$scope)
        }
        ,
        [s, a, l, c, d, u, p, m, g, h, f, _, r, i, o]
    }
    class w$ extends pf {
        constructor(e) {
            super(),
            uf(this, e, y$, v$, Ag, {
                closeWindow: 0,
                showMenu: 1,
                showLangSelect: 2,
                withHeader: 3,
                settings: 4,
                websiteSettings: 5,
                extensionContext: 6,
                platformBehaviour: 7,
                textProcessingMode: 8,
                showSettingsIcon: 9,
                showProStatus: 10,
                showServiceName: 11
            })
        }
    }
    function b$(e) {
        let t, n, o, i, r, s, a, l, c, d;
        return {
            c() {
                t = th("div"),
                n = th("input"),
                o = ih(),
                i = th("div"),
                r = ih(),
                s = th("label"),
                a = oh(e[3]),
                ch(n, "id", e[1]),
                ch(n, "name", e[4]),
                ch(n, "type", "radio"),
                n.checked = e[2],
                ch(n, "data-qa", e[6]),
                ch(n, "class", "svelte-1jny8vu"),
                ch(i, "class", "radio-icon svelte-1jny8vu"),
                ch(s, "for", e[1]),
                ch(s, "class", "svelte-1jny8vu"),
                ch(t, "class", l = Bg(`radio ${e[5]} ${e[2] ? "radio--checked" : ""}`) + " svelte-1jny8vu")
            },
            m(l, u) {
                Qg(l, t, u),
                Kg(t, n),
                uh(n, e[0]),
                Kg(t, o),
                Kg(t, i),
                Kg(t, r),
                Kg(t, s),
                Kg(s, a),
                c || (d = [sh(n, "change", e[10]), sh(n, "change", e[8]), sh(n, "mousedown", lh(ah(e[9]))), sh(t, "click", e[7])],
                c = !0)
            },
            p(e, [o]) {
                2 & o && ch(n, "id", e[1]),
                16 & o && ch(n, "name", e[4]),
                4 & o && (n.checked = e[2]),
                64 & o && ch(n, "data-qa", e[6]),
                1 & o && uh(n, e[0]),
                8 & o && dh(a, e[3]),
                2 & o && ch(s, "for", e[1]),
                36 & o && l !== (l = Bg(`radio ${e[5]} ${e[2] ? "radio--checked" : ""}`) + " svelte-1jny8vu") && ch(t, "class", l)
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                c = !1,
                Ig(d)
            }
        }
    }
    function E$(e, t, n) {
        let {id: o} = t
          , {checked: i=!1} = t
          , {label: r=""} = t
          , {value: s=""} = t
          , {name: a=""} = t
          , {cssClassName: l=""} = t
          , {dataQa: c="deepl-radio-button"} = t;
        return e.$$set = e => {
            "id"in e && n(1, o = e.id),
            "checked"in e && n(2, i = e.checked),
            "label"in e && n(3, r = e.label),
            "value"in e && n(0, s = e.value),
            "name"in e && n(4, a = e.name),
            "cssClassName"in e && n(5, l = e.cssClassName),
            "dataQa"in e && n(6, c = e.dataQa)
        }
        ,
        [s, o, i, r, a, l, c, function(t) {
            Rh.call(this, e, t)
        }
        , function(t) {
            Rh.call(this, e, t)
        }
        , function(t) {
            Rh.call(this, e, t)
        }
        , function() {
            s = this.value,
            n(0, s)
        }
        ]
    }
    class T$ extends pf {
        constructor(e) {
            super(),
            uf(this, e, E$, b$, Ag, {
                id: 1,
                checked: 2,
                label: 3,
                value: 0,
                name: 4,
                cssClassName: 5,
                dataQa: 6
            })
        }
    }
    function S$(e) {
        let t, n, o;
        return n = new w$({
            props: {
                withHeader: !1,
                $$slots: {
                    default: [x$]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                ch(t, "data-testid", "dl-inline-translate-turnoff-settings")
            },
            m(e, i) {
                Qg(e, t, i),
                cf(n, t, null),
                o = !0
            },
            p(e, t) {
                const o = {};
                524297 & t && (o.$$scope = {
                    dirty: t,
                    ctx: e
                }),
                n.$set(o)
            },
            i(e) {
                o || (Jh(n.$$.fragment, e),
                o = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                o = !1
            },
            d(e) {
                e && Jg(t),
                df(n)
            }
        }
    }
    function x$(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h, f, _, v, y, w, b = chrome.i18n.getMessage("inline_translation_setting_button_ok") + "";
        return l = new T$({
            props: {
                name: "disable_inline_translation",
                id: V.disablePerSite,
                value: V.disablePerSite,
                cssClassName: "radio--with-border",
                checked: e[3] === V.disablePerSite,
                label: chrome.i18n.getMessage("inline_translation_setting_radio_disable_per_site"),
                dataQa: "disable-per-site-radio-button"
            }
        }),
        l.$on("change", e[7]),
        l.$on("click", e[12]),
        d = new T$({
            props: {
                name: "disable_inline_translation",
                id: V.disableEverywhere,
                value: V.disableEverywhere,
                cssClassName: "radio--with-border",
                checked: e[3] === V.disableEverywhere,
                label: chrome.i18n.getMessage("inline_translation_setting_radio_disable_everywhere"),
                dataQa: "disable-everywhere-radio-button"
            }
        }),
        d.$on("change", e[7]),
        d.$on("click", e[13]),
        {
            c() {
                t = th("div"),
                n = th("button"),
                o = ih(),
                i = th("div"),
                r = th("p"),
                r.textContent = `${chrome.i18n.getMessage("inline_translation_setting_label_title_v2")}`,
                s = ih(),
                a = th("div"),
                lf(l.$$.fragment),
                c = ih(),
                lf(d.$$.fragment),
                u = ih(),
                p = th("div"),
                m = th("span"),
                m.textContent = `${chrome.i18n.getMessage("inline_translation_setting_link_cancel")}`,
                g = ih(),
                h = th("button"),
                f = oh(b),
                ch(n, "type", "button"),
                ch(n, "class", "close-icon svelte-kj6lw"),
                ch(t, "class", "header svelte-kj6lw"),
                ch(r, "class", "font-bold svelte-kj6lw"),
                ch(a, "class", "option-container svelte-kj6lw"),
                ch(m, "class", "link svelte-kj6lw"),
                ch(m, "data-qa", "close-settings-popup-link"),
                ch(h, "class", _ = Bg("btn btn-primary " + (e[3] ? "" : "disabled")) + " svelte-kj6lw"),
                ch(h, "data-qa", "save-settings-change-button"),
                ch(p, "class", "action-container svelte-kj6lw"),
                ch(i, "class", "dl-widget svelte-kj6lw")
            },
            m(_, b) {
                Qg(_, t, b),
                Kg(t, n),
                Qg(_, o, b),
                Qg(_, i, b),
                Kg(i, r),
                Kg(i, s),
                Kg(i, a),
                cf(l, a, null),
                Kg(a, c),
                cf(d, a, null),
                Kg(i, u),
                Kg(i, p),
                Kg(p, m),
                Kg(p, g),
                Kg(p, h),
                Kg(h, f),
                v = !0,
                y || (w = [sh(n, "click", lh(ah((function() {
                    Lg(e[0]) && e[0].apply(this, arguments)
                }
                )))), sh(t, "mousedown", lh(ah(e[11]))), sh(m, "click", (function() {
                    Lg(e[0]) && e[0].apply(this, arguments)
                }
                )), sh(h, "click", lh(ah(e[6]))), sh(i, "mousedown", lh(ah(e[10])))],
                y = !0)
            },
            p(t, n) {
                e = t;
                const o = {};
                8 & n && (o.checked = e[3] === V.disablePerSite),
                l.$set(o);
                const i = {};
                8 & n && (i.checked = e[3] === V.disableEverywhere),
                d.$set(i),
                (!v || 8 & n && _ !== (_ = Bg("btn btn-primary " + (e[3] ? "" : "disabled")) + " svelte-kj6lw")) && ch(h, "class", _)
            },
            i(e) {
                v || (Jh(l.$$.fragment, e),
                Jh(d.$$.fragment, e),
                v = !0)
            },
            o(e) {
                ef(l.$$.fragment, e),
                ef(d.$$.fragment, e),
                v = !1
            },
            d(e) {
                e && (Jg(t),
                Jg(o),
                Jg(i)),
                df(l),
                df(d),
                y = !1,
                Ig(w)
            }
        }
    }
    function $$(e) {
        let t, n, o, i, r = e[4].enableInlineTranslation && S$(e);
        return {
            c() {
                t = th("div"),
                r && r.c(),
                ch(t, "class", "tooltip-wrapper tooltip-wrapper--settings svelte-kj6lw"),
                ch(t, "data-qa", "deepl-inline-settings-tooltip"),
                ch(t, "style", e[2]),
                ch(t, "dir", Vt())
            },
            m(s, a) {
                Qg(s, t, a),
                r && r.m(t, null),
                e[14](t),
                n = !0,
                o || (i = [Fg(S_.call(null, t, {
                    isShadow: !0
                })), sh(t, "click_outside", e[15])],
                o = !0)
            },
            p(e, [o]) {
                e[4].enableInlineTranslation ? r ? (r.p(e, o),
                16 & o && Jh(r, 1)) : (r = S$(e),
                r.c(),
                Jh(r, 1),
                r.m(t, null)) : r && (Xh(),
                ef(r, 1, 1, ( () => {
                    r = null
                }
                )),
                Qh()),
                (!n || 4 & o) && ch(t, "style", e[2])
            },
            i(e) {
                n || (Jh(r),
                n = !0)
            },
            o(e) {
                ef(r),
                n = !1
            },
            d(n) {
                n && Jg(t),
                r && r.d(),
                e[14](null),
                o = !1,
                Ig(i)
            }
        }
    }
    function C$(e, n, o) {
        let i;
        Mg(e, hf, (e => o(4, i = e))),
        Lh("text_direction", Vt());
        let r, s, a, {closeTooltip: l} = n, {replaceElement: c} = n, d = "visibility: hidden; opacity:0; height:0;", u = "";
        function p(e) {
            o(3, u = e)
        }
        Ch(( () => {
            setTimeout(( () => {
                o(2, d = "")
            }
            ), 100),
            a = A_(r, ( ({clientHeight: e}) => {
                o(9, s = e)
            }
            ))
        }
        )),
        kh(( () => {
            a && a()
        }
        ));
        return e.$$set = e => {
            "closeTooltip"in e && o(0, l = e.closeTooltip),
            "replaceElement"in e && o(8, c = e.replaceElement)
        }
        ,
        e.$$.update = () => {
            768 & e.$$.dirty && c(s)
        }
        ,
        [l, r, d, u, i, p, function() {
            if (!u)
                return;
            switch (u) {
            case V.disableEverywhere:
                hf.set({
                    enableInlineTranslation: !1
                }),
                t({
                    action: "dlTrackSettingChanged",
                    payload: {
                        settingType: V.disableEverywhere,
                        domainName: window.location.hostname,
                        uiFunction: K,
                        uiLocation: W.inlineTranslationSettingPopup
                    }
                });
                break;
            case V.disablePerSite:
                !function() {
                    let e = i.blacklistDomainsForReading;
                    e && !e.includes(window.location.hostname) && (e.push(window.location.hostname),
                    hf.set({
                        blacklistDomainsForReading: e
                    }),
                    t({
                        action: "dlTrackSettingChanged",
                        payload: {
                            settingType: V.disablePerSite,
                            domainName: window.location.hostname,
                            uiFunction: K,
                            uiLocation: W.inlineTranslationSettingPopup
                        }
                    }))
                }()
            }
            let e = cT(window.location.hostname, ["www."]);
            l(),
            t({
                action: "dlSendNotification",
                payload: {
                    type: U.inlineTranslation,
                    options: {
                        theme: B.green_theme,
                        currentDomain: e,
                        saveAction: u,
                        settingsPageURL: kT.settings_reading
                    }
                }
            })
        }
        , function(e) {
            o(3, u = e.currentTarget.value)
        }
        , c, s, function(t) {
            Rh.call(this, e, t)
        }
        , function(t) {
            Rh.call(this, e, t)
        }
        , () => p(V.disablePerSite), () => p(V.disableEverywhere), function(e) {
            Oh[e ? "unshift" : "push"](( () => {
                r = e,
                o(1, r)
            }
            ))
        }
        , () => l()]
    }
    class k$ extends pf {
        constructor(e) {
            super(),
            uf(this, e, C$, $$, Ag, {
                closeTooltip: 0,
                replaceElement: 8
            })
        }
    }
    class I$ {
        static HTML_TAG_NAME = "deepl-inline-translate-settings-tooltip";
        static createElement = (e=document) => {
            const t = e.createElement(I$.HTML_TAG_NAME)
              , n = new I$(t);
            return t.createDOM = n.createDOM,
            t.cleanupDOM = n.cleanupDOM,
            t
        }
        ;
        constructor(e) {
            this.domElement = e,
            this.domElement.shadow = this.domElement.attachShadow({
                mode: "open"
            }),
            this.domElement.shadowContainer = document.createElement("div"),
            this.domElement.container = document.createElement("div"),
            this.domElement.mainComponent;
            const t = document.createElement("link");
            t.setAttribute("rel", "stylesheet"),
            t.setAttribute("href", chrome.runtime.getURL("build/content.css")),
            this.domElement.shadow.appendChild(t),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer)
        }
        createDOM = (e, t) => {
            const {deepl_inline_ui: n} = P;
            this.domElement.shadowContainer && this.domElement.shadowContainer.childElementCount > 0 && this.cleanupDOM();
            const o = 300;
            this.domElement.shadowContainer.appendChild(this.domElement.container);
            const i = e?.top
              , r = window.innerHeight - (e?.bottom || 0);
            let s = "position: absolute; top: 0px; left: 0px; width: 100%; z-index: " + (n.z_index - 100)
              , a = `position: absolute; top: 0px; left: 0px; z-index: ${n.z_index - 100};`
              , l = e.y
              , c = e.x;
            this.domElement.shadowContainer.style.cssText = s,
            this.domElement.container.style.cssText = a,
            this.domElement.mainComponent = new k$({
                target: this.domElement.container,
                props: {
                    closeTooltip: t,
                    replaceElement: t => {
                        const d = i > o;
                        r > o ? l = e.y + 8 : d && (l = e.y - 30 - t - 4),
                        r < o && i < o && (s = `position: fixed; top:50%; left:50%; transform:translate(-50%,-50%); z-index: ${n.z_index - 100}; max-height:90vh;`,
                        a = `z-index: ${n.z_index - 100};`,
                        c = 0,
                        l = 0),
                        e.right < 260 ? c = e.left - 260 + 60 : e.left < 260 && (c = e.left),
                        this.domElement.container.style.top = `${parseInt(l)}px`,
                        this.domElement.container.style.left = `${parseInt(c)}px`
                    }
                }
            })
        }
        ;
        cleanupDOM = () => {
            this.domElement.container.remove(),
            this.domElement.shadowContainer.remove(),
            this.domElement.shadowContainer = document.createElement("div"),
            this.domElement.container = document.createElement("div"),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer),
            this.domElement.mainComponent && this.domElement.mainComponent.$destroy()
        }
    }
    const L$ = e => ({
        top: e?.selectedTop,
        bottom: window.innerHeight - e?.selectedBottom,
        right: e?.selectedRight,
        left: e?.selectedLeft
    })
      , A$ = e => {
        const {coords: t, clientHeight: n} = e
          , o = L$(t)
          , i = {
            top: {
                position: t.y - t.height,
                isPossible: o.top >= 0
            },
            bottom: {
                position: t.y - n,
                isPossible: o.bottom >= 0
            },
            middle: {
                position: window.pageYOffset + window.innerHeight / 2 - n / 2,
                isPossible: !0
            }
        };
        for (const e of Object.values(i))
            if (e.isPossible)
                return e.position
    }
      , R$ = ({coords: e, TOOLTIP_WIDTH: t}) => {
        const n = {
            right: {
                position: e.x,
                isPossible: e.x + t <= window.innerWidth
            },
            left: {
                position: e.x + e.selectedWidth - t,
                isPossible: e.x + e.selectedWidth - t >= 0
            },
            middle: {
                position: window.innerWidth / 2 - t / 2,
                isPossible: !0
            }
        };
        for (const e of Object.values(n))
            if (e.isPossible)
                return e.position
    }
      , M$ = (e, t, n) => {
        const {coords: o, clientHeight: i, style: r, TOOLTIP_WIDTH: s, TRIGGER_MENU_ICON_HEIGHT: a} = t;
        switch (e) {
        case "top":
            r.top = o.y - o.height - i - 2 - a - n.y + "px",
            r.left = R$(t) - n.x + "px";
            break;
        case "bottom":
            r.top = o.y + 2 + a - n.y + "px",
            r.left = R$(t) - n.x + "px";
            break;
        case "left":
            r.top = A$(t) - n.y + "px",
            r.left = o.x - s - 2 - n.x + "px";
            break;
        case "right":
            r.top = A$(t) - n.y + "px",
            r.left = o.x + o.selectedWidth + 2 - n.x + "px";
            break;
        default:
            r.top = window.pageYOffset + window.innerHeight / 2 - i / 2 - n.y + "px",
            r.left = window.innerWidth / 2 - s / 2 - n.x + "px"
        }
    }
      , O$ = (e, t, n) => {
        const {coords: o, clientHeight: i, TOOLTIP_WIDTH: r, style: s} = t;
        switch (s.left = o.x - r - 10 - n.x + "px",
        e) {
        case "top":
            s.top = o.y - i - n.y + "px";
            break;
        case "bottom":
            s.top = o.y - o.height - n.y + "px";
            break;
        default:
            s.top = window.pageYOffset + window.innerHeight / 2 - i / 2 - n.y + "px"
        }
    }
      , N$ = (e, t) => {
        const n = D$(t);
        switch (e) {
        case "top":
        case "bottom":
        case "left":
        case "right":
            return n[e];
        default:
            return !0
        }
    }
      , D$ = e => {
        const {TOOLTIP_WIDTH: t, clientHeight: n, coords: o} = e
          , i = L$(o);
        return {
            left: i.left > t,
            right: i.right > t,
            bottom: i.bottom > n,
            top: i.top > n
        }
    }
      , P$ = e => {
        const t = ["bottom", "top", "left", "right", "middle"];
        return t.sort(( (t, n) => t === e ? -1 : n === e ? 1 : 0)),
        [t, ["bottom", "top", "middle"]]
    }
    ;
    function U$(e) {
        return e.preventDefault(),
        !1
    }
    function B$(e, n) {
        e.dataTransfer.setData("text/html", "");
        let o = e.target.getBoundingClientRect()
          , i = {
            x: 0,
            y: 0
        };
        const r = e.clientX - o.left
          , s = e.clientY - o.top;
        return r > 0 && (i.x = r),
        s > 0 && (i.y = s),
        function(e) {
            try {
                t({
                    action: "dlTrackInlineDragStart",
                    payload: {
                        nicheIntegration: e
                    }
                })
            } catch (e) {
                console.error(e)
            }
        }(n),
        {
            dragElementRect: o,
            dragOffset: i
        }
    }
    function W$({dropEvent: e, document: t, dragConfig: n}) {
        if (e.preventDefault(),
        0 === e.y || 0 === e.x)
            return null;
        const {dragOffset: o, dragElementRect: i, dragBarWidth: r} = n
          , s = t.body.getBoundingClientRect();
        let a;
        return a = e.pageX - o.x > s.width - i.width ? s.width - i.width - r > 0 ? s.width - i.width - r : 0 : e.pageX - o.x,
        {
            x: a,
            y: e.pageY - o.y
        }
    }
    function F$(e) {
        return e && function(e) {
            return e.replace(/./gm, (function(e) {
                return e.match(/[a-z0-9\s]+/i) ? e : "&#" + e.charCodeAt(0) + ";"
            }
            ))
        }(e).replaceAll("\n", "<br />")
    }
    function z$(e) {
        let t, n, o;
        return {
            c() {
                t = th("button"),
                t.innerHTML = '<span class="dl-icon dl-icon-copy svelte-sfmd6f"></span>',
                ch(t, "type", "button"),
                ch(t, "class", "dl-btn svelte-sfmd6f"),
                ch(t, "data-qa", "dl-toolbar-copy-button"),
                fh(t, "dl-btn-active", e[0])
            },
            m(i, r) {
                Qg(i, t, r),
                n || (o = [sh(t, "click", e[1]), sh(t, "mouseleave", e[2])],
                n = !0)
            },
            p(e, n) {
                1 & n && fh(t, "dl-btn-active", e[0])
            },
            d(e) {
                e && Jg(t),
                n = !1,
                Ig(o)
            }
        }
    }
    function H$(e) {
        let t, n;
        return t = new L_({
            props: {
                zIndex: 300,
                tooltip: chrome.i18n.getMessage(e[0] ? "ui_inline_translation_copied" : "ui_inline_translation_copy"),
                $$slots: {
                    default: [z$]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, [n]) {
                const o = {};
                1 & n && (o.tooltip = chrome.i18n.getMessage(e[0] ? "ui_inline_translation_copied" : "ui_inline_translation_copy")),
                129 & n && (o.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function j$(e, n, o) {
        let {text: i} = n
          , {targetLang: r} = n
          , {platformBehaviour: s=re.default} = n
          , a = !1;
        return e.$$set = e => {
            "text"in e && o(3, i = e.text),
            "targetLang"in e && o(4, r = e.targetLang),
            "platformBehaviour"in e && o(5, s = e.platformBehaviour)
        }
        ,
        [a, function() {
            navigator.clipboard.writeText(i).then((function() {
                o(0, a = !0)
            }
            ), (function(e) {
                console.error(e)
            }
            )),
            function(e) {
                try {
                    t({
                        action: "dlTrackInlineCopy",
                        payload: e
                    })
                } catch (e) {
                    console.error(e)
                }
            }({
                targetLang: r,
                targetLength: i.length,
                nicheIntegration: s
            })
        }
        , function() {
            setTimeout(( () => {
                o(0, a = !1)
            }
            ), 300)
        }
        , i, r, s]
    }
    class G$ extends pf {
        constructor(e) {
            super(),
            uf(this, e, j$, H$, Ag, {
                text: 3,
                targetLang: 4,
                platformBehaviour: 5
            })
        }
    }
    function q$(e) {
        let t, n, o, i, r, s, a, l, c;
        return {
            c() {
                t = th("div"),
                n = th("button"),
                n.textContent = `${chrome.i18n.getMessage("ui_inline_translation_listen_to_translation")}`,
                o = ih(),
                i = th("button"),
                i.textContent = `${chrome.i18n.getMessage("ui_inline_translation_listen_to_original")}`,
                ch(n, "class", "list-entry svelte-o3etn3"),
                ch(n, "data-qa", "dl-toolbar-listener-button-target-lang"),
                fh(n, "dl-entry-notAvailable", !e[0]),
                ch(i, "class", "list-entry svelte-o3etn3"),
                ch(i, "data-qa", "dl-toolbar-listener-button-source-lang"),
                fh(i, "dl-entry-notAvailable", !e[1]),
                ch(t, "class", "listen-list svelte-o3etn3"),
                ch(t, "data-qa", "dl-toolbar-listener-element-langs")
            },
            m(r, s) {
                Qg(r, t, s),
                Kg(t, n),
                Kg(t, o),
                Kg(t, i),
                a = !0,
                l || (c = [sh(n, "click", (function() {
                    Lg(e[2]) && e[2].apply(this, arguments)
                }
                )), sh(i, "click", (function() {
                    Lg(e[3]) && e[3].apply(this, arguments)
                }
                ))],
                l = !0)
            },
            p(t, [o]) {
                e = t,
                (!a || 1 & o) && fh(n, "dl-entry-notAvailable", !e[0]),
                (!a || 2 & o) && fh(i, "dl-entry-notAvailable", !e[1])
            },
            i(e) {
                a || (Wh(( () => {
                    a && (s && s.end(1),
                    r = nf(t, Kf, {
                        y: -5,
                        duration: 500
                    }),
                    r.start())
                }
                )),
                a = !0)
            },
            o(e) {
                r && r.invalidate(),
                s = of(t, Kf, {
                    y: -5,
                    duration: 500
                }),
                a = !1
            },
            d(e) {
                e && Jg(t),
                e && s && s.end(),
                l = !1,
                Ig(c)
            }
        }
    }
    function V$(e, t, n) {
        let {isAvailableSelectedTargetLang: o} = t
          , {isAvailableSourceLang: i} = t
          , {onTargetListen: r=( () => {}
        )} = t
          , {onSourceListen: s=( () => {}
        )} = t;
        return e.$$set = e => {
            "isAvailableSelectedTargetLang"in e && n(0, o = e.isAvailableSelectedTargetLang),
            "isAvailableSourceLang"in e && n(1, i = e.isAvailableSourceLang),
            "onTargetListen"in e && n(2, r = e.onTargetListen),
            "onSourceListen"in e && n(3, s = e.onSourceListen)
        }
        ,
        [o, i, r, s]
    }
    class Y$ extends pf {
        constructor(e) {
            super(),
            uf(this, e, V$, q$, Ag, {
                isAvailableSelectedTargetLang: 0,
                isAvailableSourceLang: 1,
                onTargetListen: 2,
                onSourceListen: 3
            })
        }
    }
    function K$(e) {
        let t, n, o, i, r;
        return n = new L_({
            props: {
                tooltip: e[8],
                zIndex: 300,
                $$slots: {
                    default: [X$]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                t = th("fragment"),
                lf(n.$$.fragment),
                ch(t, "role", "navigation")
            },
            m(s, a) {
                Qg(s, t, a),
                cf(n, t, null),
                o = !0,
                i || (r = [sh(t, "mouseover", e[11]), sh(t, "focus", e[11]), sh(t, "mouseleave", e[15])],
                i = !0)
            },
            p(e, t) {
                const o = {};
                256 & t && (o.tooltip = e[8]),
                1048831 & t && (o.$$scope = {
                    dirty: t,
                    ctx: e
                }),
                n.$set(o)
            },
            i(e) {
                o || (Jh(n.$$.fragment, e),
                o = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                o = !1
            },
            d(e) {
                e && Jg(t),
                df(n),
                i = !1,
                Ig(r)
            }
        }
    }
    function Z$(e) {
        let t, n;
        return t = new Y$({
            props: {
                isAvailableSelectedTargetLang: e[6],
                isAvailableSourceLang: e[7],
                onTargetListen: e[13],
                onSourceListen: e[14]
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                64 & n && (o.isAvailableSelectedTargetLang = e[6]),
                128 & n && (o.isAvailableSourceLang = e[7]),
                10 & n && (o.onTargetListen = e[13]),
                5 & n && (o.onSourceListen = e[14]),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function X$(e) {
        let t, n, o, i, r, s, a = e[5] && Z$(e);
        return {
            c() {
                t = th("button"),
                t.innerHTML = '<span class="dl-icon dl-icon-listen svelte-17suwwx"></span>',
                n = ih(),
                a && a.c(),
                o = rh(),
                ch(t, "type", "button"),
                ch(t, "class", "dl-btn svelte-17suwwx"),
                ch(t, "data-qa", "dl-toolbar-listener-button"),
                fh(t, "dl-btn-active", e[4]),
                fh(t, "dl-btn-hovered", e[5])
            },
            m(l, c) {
                Qg(l, t, c),
                Qg(l, n, c),
                a && a.m(l, c),
                Qg(l, o, c),
                i = !0,
                r || (s = sh(t, "click", e[10]),
                r = !0)
            },
            p(e, n) {
                (!i || 16 & n) && fh(t, "dl-btn-active", e[4]),
                (!i || 32 & n) && fh(t, "dl-btn-hovered", e[5]),
                e[5] ? a ? (a.p(e, n),
                32 & n && Jh(a, 1)) : (a = Z$(e),
                a.c(),
                Jh(a, 1),
                a.m(o.parentNode, o)) : a && (Xh(),
                ef(a, 1, 1, ( () => {
                    a = null
                }
                )),
                Qh())
            },
            i(e) {
                i || (Jh(a),
                i = !0)
            },
            o(e) {
                ef(a),
                i = !1
            },
            d(e) {
                e && (Jg(t),
                Jg(n),
                Jg(o)),
                a && a.d(e),
                r = !1,
                s()
            }
        }
    }
    function Q$(e) {
        let t, n, o = (e[6] || e[7]) && K$(e);
        return {
            c() {
                o && o.c(),
                t = rh()
            },
            m(e, i) {
                o && o.m(e, i),
                Qg(e, t, i),
                n = !0
            },
            p(e, [n]) {
                e[6] || e[7] ? o ? (o.p(e, n),
                192 & n && Jh(o, 1)) : (o = K$(e),
                o.c(),
                Jh(o, 1),
                o.m(t.parentNode, t)) : o && (Xh(),
                ef(o, 1, 1, ( () => {
                    o = null
                }
                )),
                Qh())
            },
            i(e) {
                n || (Jh(o),
                n = !0)
            },
            o(e) {
                ef(o),
                n = !1
            },
            d(e) {
                e && Jg(t),
                o && o.d(e)
            }
        }
    }
    function J$(e, n, o) {
        let i, {platformBehaviour: r=re.default} = n, {sourceLang: s=""} = n, {targetLang: a=""} = n, {sourceText: l=""} = n, {targetText: c=""} = n, d = !1, u = !1, p = !1, m = !1;
        function g() {
            t({
                action: "dlStopSpeech"
            }),
            o(4, i = void 0)
        }
        function h(e, n) {
            const o = n === ae
              , i = {
                targetLang: o ? a : s,
                targetLength: o ? c.length : l.length,
                actionType: e,
                nicheIntegration: r,
                textKind: n,
                context: le.translate
            };
            try {
                t({
                    action: "dlTrackInlineListen",
                    payload: i
                })
            } catch (e) {
                console.error(e)
            }
        }
        async function f(e, n, r) {
            i || (t({
                action: "dlTextToSpeech",
                payload: {
                    text: e,
                    lang: n
                }
            }),
            o(4, i = r),
            h(Z, r),
            o(5, p = !1))
        }
        async function _(e, t, n) {
            if ("dlVoiceOverStopped" === e.action)
                o(4, i = void 0),
                n();
            return !0
        }
        function v(e) {
            try {
                t({
                    action: "dlTrackVoiceOverStops",
                    payload: e
                })
            } catch (e) {
                console.error(e)
            }
        }
        chrome.runtime.onMessage.addListener(_),
        kh(( () => {
            if (i) {
                const e = i === ae;
                v({
                    targetLang: e ? a : s,
                    targetLength: e ? c.length : l.length,
                    triggerType: R,
                    nicheIntegration: r,
                    textKind: i,
                    context: le.translate
                })
            }
            g(),
            chrome.runtime.onMessage.removeListener(_)
        }
        ));
        return e.$$set = e => {
            "platformBehaviour"in e && o(12, r = e.platformBehaviour),
            "sourceLang"in e && o(0, s = e.sourceLang),
            "targetLang"in e && o(1, a = e.targetLang),
            "sourceText"in e && o(2, l = e.sourceText),
            "targetText"in e && o(3, c = e.targetText)
        }
        ,
        e.$$.update = () => {
            51 & e.$$.dirty && (a && t({
                action: "dlGetSupportedVoices"
            }).then((e => {
                o(6, d = e.includes(["EN-US", "EN-GB"].includes(a) ? "EN" : ["PT-PT", "PT-BR"].includes(a) ? "PT" : ["ZH-CN", "ZH-HANT"].includes(a) ? "ZH" : a)),
                o(7, u = e.includes(s))
            }
            )),
            !p && i ? setTimeout(( () => {
                o(8, m = chrome.i18n.getMessage("ui_inline_translation_listen_stop"))
            }
            ), 1e3) : o(8, m = !1))
        }
        ,
        [s, a, l, c, i, p, d, u, m, f, function() {
            if (i) {
                const e = i;
                g();
                const t = e === ae;
                o(4, i = void 0),
                v({
                    targetLang: t ? a : s,
                    targetLength: t ? c.length : l.length,
                    triggerType: A,
                    nicheIntegration: r,
                    textKind: e,
                    context: le.translate
                }),
                h(X, e)
            } else
                o(5, p = !0)
        }
        , function() {
            i || o(5, p = !0)
        }
        , r, () => f(c, a, ae), () => f(l, s, se), () => o(5, p = !1)]
    }
    class eC extends pf {
        constructor(e) {
            super(),
            uf(this, e, J$, Q$, Ag, {
                platformBehaviour: 12,
                sourceLang: 0,
                targetLang: 1,
                sourceText: 2,
                targetText: 3
            })
        }
    }
    function tC(e) {
        let t, n, o, i;
        return {
            c() {
                t = th("button"),
                ch(t, "type", "button"),
                ch(t, "class", "dl-replace-button svelte-9vlams"),
                t.disabled = n = e[3] || !e[2] || e[4]
            },
            m(n, r) {
                Qg(n, t, r),
                o || (i = sh(t, "click", lh(ah(e[5]))),
                o = !0)
            },
            p(e, o) {
                12 & o && n !== (n = e[3] || !e[2] || e[4]) && (t.disabled = n)
            },
            d(e) {
                e && Jg(t),
                o = !1,
                i()
            }
        }
    }
    function nC(e) {
        let t, n;
        return t = new L_({
            props: {
                tooltip: chrome.i18n.getMessage("ui_gdocs_replace_cta"),
                multiline: !0,
                zIndex: "0",
                isEnabled: !e[3] && e[2] && !e[4],
                $$slots: {
                    default: [tC]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, [n]) {
                const o = {};
                12 & n && (o.isEnabled = !e[3] && e[2] && !e[4]),
                524 & n && (o.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function oC(e, n, o) {
        let i, r, s = xg, a = () => (s(),
        s = Rg(d, (e => o(7, i = e))),
        d), l = xg, c = () => (l(),
        l = Rg(p, (e => o(8, r = e))),
        p);
        e.$$.on_destroy.push(( () => s())),
        e.$$.on_destroy.push(( () => l()));
        let {websiteSettings: d} = n;
        a();
        let {settings: p} = n;
        c();
        let m, {onClose: g} = n, h = !1, f = i.translationState === u.anonymousUserMaxCharExceeded;
        return Ch(( () => {
            o(2, m = xt())
        }
        )),
        e.$$set = e => {
            "websiteSettings"in e && a(o(0, d = e.websiteSettings)),
            "settings"in e && c(o(1, p = e.settings)),
            "onClose"in e && o(6, g = e.onClose)
        }
        ,
        [d, p, m, h, f, function() {
            const e = Et().text;
            o(3, h = !0);
            const n = document.querySelector("deepl-gdocs-icon");
            n && (n.applyReplacement(),
            g(),
            t({
                action: "dlTrackGDocsReplaceText",
                payload: {
                    sourceLang: i.websiteLanguage,
                    targetLang: r.selectedTargetLanguage,
                    sourceLength: e.length,
                    targetLength: i.translatedSnippet.length
                }
            }))
        }
        , g]
    }
    class iC extends pf {
        constructor(e) {
            super(),
            uf(this, e, oC, nC, Ag, {
                websiteSettings: 0,
                settings: 1,
                onClose: 6
            })
        }
    }
    function rC(e) {
        let t, n, o = vt(e[4]) + "";
        return {
            c() {
                t = th("div"),
                n = th("div"),
                ch(t, "class", "tooltip-linguee svelte-166oozy")
            },
            m(e, i) {
                Qg(e, t, i),
                Kg(t, n),
                n.innerHTML = o
            },
            p(e, t) {
                16 & t && o !== (o = vt(e[4]) + "") && (n.innerHTML = o)
            },
            d(e) {
                e && Jg(t)
            }
        }
    }
    function sC(e) {
        let t, n;
        return t = new iC({
            props: {
                websiteSettings: e[0],
                settings: hf,
                onClose: e[5]
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                1 & n && (o.websiteSettings = e[0]),
                32 & n && (o.onClose = e[5]),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function aC(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h, f, _, v, y, w, b, E, T, S, x, $ = e[4] && rC(e);
        y = new eC({
            props: {
                sourceLang: e[7].websiteLanguage,
                targetLang: e[8].selectedTargetLanguage,
                sourceText: e[7].originalSnippet,
                targetText: e[7].translatedSnippet,
                platformBehaviour: e[6]
            }
        }),
        b = new G$({
            props: {
                targetLang: e[8].selectedTargetLanguage,
                text: e[7].translatedSnippet,
                platformBehaviour: e[6]
            }
        });
        let C = e[6] === re.gdocs && sC(e);
        return {
            c() {
                t = th("div"),
                n = th("div"),
                o = th("button"),
                i = th("span"),
                i.textContent = `${chrome.i18n.getMessage("ui_inline_translation_see_alternatives_v2")}`,
                r = ih(),
                s = th("span"),
                a = ih(),
                l = th("fragment"),
                c = th("div"),
                d = th("div"),
                d.textContent = `${chrome.i18n.getMessage("ui_inline_translation_dictionary")}`,
                u = ih(),
                p = th("div"),
                m = ih(),
                g = th("div"),
                f = ih(),
                $ && $.c(),
                _ = ih(),
                v = th("div"),
                lf(y.$$.fragment),
                w = ih(),
                lf(b.$$.fragment),
                E = ih(),
                C && C.c(),
                ch(s, "class", "icon icon-external-link svelte-166oozy"),
                ch(o, "type", "button"),
                ch(o, "class", "link svelte-166oozy"),
                ch(n, "class", "dl-link-container"),
                ch(d, "class", "dict-text svelte-166oozy"),
                ch(p, "class", "img_book svelte-166oozy"),
                fh(p, "shown-dict", e[2]),
                ch(g, "class", "img_arrow svelte-166oozy"),
                fh(g, "shown-dict", e[2]),
                ch(c, "class", h = "dl-dictionary " + (e[3] ? "" : "disable") + " " + (e[2] ? "shown-dict" : "") + " svelte-166oozy"),
                ch(c, "data-qa", "dl-toolbar-dictionary-button"),
                ph(l, "position", "relative"),
                ch(v, "class", "dl-btn-group svelte-166oozy"),
                ch(t, "class", "dl-toolbar svelte-166oozy")
            },
            m(h, k) {
                Qg(h, t, k),
                Kg(t, n),
                Kg(n, o),
                Kg(o, i),
                Kg(o, r),
                Kg(o, s),
                Kg(t, a),
                Kg(t, l),
                Kg(l, c),
                Kg(c, d),
                Kg(c, u),
                Kg(c, p),
                Kg(c, m),
                Kg(c, g),
                Kg(l, f),
                $ && $.m(l, null),
                Kg(t, _),
                Kg(t, v),
                cf(y, v, null),
                Kg(v, w),
                cf(b, v, null),
                Kg(v, E),
                C && C.m(v, null),
                T = !0,
                S || (x = [sh(o, "click", e[9]), sh(c, "click", (function() {
                    Lg(e[1]) && e[1].apply(this, arguments)
                }
                )), sh(c, "mouseenter", e[10])],
                S = !0)
            },
            p(t, [n]) {
                e = t,
                (!T || 4 & n) && fh(p, "shown-dict", e[2]),
                (!T || 4 & n) && fh(g, "shown-dict", e[2]),
                (!T || 12 & n && h !== (h = "dl-dictionary " + (e[3] ? "" : "disable") + " " + (e[2] ? "shown-dict" : "") + " svelte-166oozy")) && ch(c, "class", h),
                e[4] ? $ ? $.p(e, n) : ($ = rC(e),
                $.c(),
                $.m(l, null)) : $ && ($.d(1),
                $ = null);
                const o = {};
                128 & n && (o.sourceLang = e[7].websiteLanguage),
                256 & n && (o.targetLang = e[8].selectedTargetLanguage),
                128 & n && (o.sourceText = e[7].originalSnippet),
                128 & n && (o.targetText = e[7].translatedSnippet),
                64 & n && (o.platformBehaviour = e[6]),
                y.$set(o);
                const i = {};
                256 & n && (i.targetLang = e[8].selectedTargetLanguage),
                128 & n && (i.text = e[7].translatedSnippet),
                64 & n && (i.platformBehaviour = e[6]),
                b.$set(i),
                e[6] === re.gdocs ? C ? (C.p(e, n),
                64 & n && Jh(C, 1)) : (C = sC(e),
                C.c(),
                Jh(C, 1),
                C.m(v, null)) : C && (Xh(),
                ef(C, 1, 1, ( () => {
                    C = null
                }
                )),
                Qh())
            },
            i(e) {
                T || (Jh(y.$$.fragment, e),
                Jh(b.$$.fragment, e),
                Jh(C),
                T = !0)
            },
            o(e) {
                ef(y.$$.fragment, e),
                ef(b.$$.fragment, e),
                ef(C),
                T = !1
            },
            d(e) {
                e && Jg(t),
                $ && $.d(),
                df(y),
                df(b),
                C && C.d(),
                S = !1,
                Ig(x)
            }
        }
    }
    function lC(e, n, o) {
        let i, r, s = xg, a = () => (s(),
        s = Rg(l, (e => o(7, i = e))),
        l);
        Mg(e, hf, (e => o(8, r = e))),
        e.$$.on_destroy.push(( () => s()));
        let {websiteSettings: l} = n;
        a();
        let {switchVisibilityDictionary: c} = n
          , {showDictionary: d=!1} = n
          , {enableDictionaryButton: u} = n
          , {dictionaryButtonError: p} = n
          , {onClose: m} = n
          , {platformBehaviour: g=re.default} = n;
        return e.$$set = e => {
            "websiteSettings"in e && a(o(0, l = e.websiteSettings)),
            "switchVisibilityDictionary"in e && o(1, c = e.switchVisibilityDictionary),
            "showDictionary"in e && o(2, d = e.showDictionary),
            "enableDictionaryButton"in e && o(3, u = e.enableDictionaryButton),
            "dictionaryButtonError"in e && o(4, p = e.dictionaryButtonError),
            "onClose"in e && o(5, m = e.onClose),
            "platformBehaviour"in e && o(6, g = e.platformBehaviour)
        }
        ,
        [l, c, d, u, p, m, g, i, r, function() {
            const e = {};
            i && r && (e.sourceLang = i.websiteLanguage,
            e.targetLang = r.selectedTargetLanguage,
            e.textToShare = i.originalSnippet),
            t({
                action: "dlExternalURLRedirect",
                payload: {
                    destination: xv,
                    ...e
                }
            });
            try {
                t({
                    action: "dlTrackUiAction",
                    payload: {
                        uiAction: H,
                        nicheIntegration: g
                    }
                })
            } catch (e) {
                console.error(e)
            }
        }
        , function() {
            if (!u)
                try {
                    t({
                        action: "dlTrackDisabledDictionaryHover",
                        payload: {}
                    })
                } catch (e) {
                    console.log(e)
                }
        }
        ]
    }
    class cC extends pf {
        constructor(e) {
            super(),
            uf(this, e, lC, aC, Ag, {
                websiteSettings: 0,
                switchVisibilityDictionary: 1,
                showDictionary: 2,
                enableDictionaryButton: 3,
                dictionaryButtonError: 4,
                onClose: 5,
                platformBehaviour: 6
            })
        }
    }
    function dC(e) {
        let t, n, o, i, r, s;
        return {
            c() {
                t = th("div"),
                n = th("button"),
                n.textContent = `${chrome.i18n.getMessage("ui_gdocs_write_accept")}`,
                o = ih(),
                i = th("button"),
                i.textContent = `${chrome.i18n.getMessage("ui_gdocs_write_cancel")}`,
                ch(n, "class", "btn-primary svelte-1ou9pye"),
                ch(i, "class", "btn-secondary svelte-1ou9pye"),
                ch(t, "class", "dl-toolbar svelte-1ou9pye")
            },
            m(a, l) {
                Qg(a, t, l),
                Kg(t, n),
                Kg(t, o),
                Kg(t, i),
                r || (s = [sh(n, "click", e[0]), sh(i, "click", e[1])],
                r = !0)
            },
            p: xg,
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                r = !1,
                Ig(s)
            }
        }
    }
    function uC(e, t, n) {
        let {onClose: o} = t;
        return e.$$set = e => {
            "onClose"in e && n(2, o = e.onClose)
        }
        ,
        [ () => {
            const e = document.getElementsByTagName("deepl-gdocs-icon")[0];
            e && (e.applyReplacement(),
            e.trackDeeplWriteInsertCopy()),
            o()
        }
        , () => {
            const e = document.getElementsByTagName("deepl-gdocs-icon")[0];
            e && e.trackDeeplWriteDiscardCopy(),
            o()
        }
        , o]
    }
    class pC extends pf {
        constructor(e) {
            super(),
            uf(this, e, uC, dC, Ag, {
                onClose: 2
            })
        }
    }
    function mC(e) {
        let t, n, o, i, r, s = JSON.stringify(e[1](), void 0, 2) + "";
        return {
            c() {
                t = th("p"),
                n = oh(e[0]),
                o = ih(),
                i = th("pre"),
                r = oh(s),
                ch(i, "class", "debug-settings svelte-mu7va1")
            },
            m(e, s) {
                Qg(e, t, s),
                Kg(t, n),
                Qg(e, o, s),
                Qg(e, i, s),
                Kg(i, r)
            },
            p(e, [t]) {
                1 & t && dh(n, e[0]),
                2 & t && s !== (s = JSON.stringify(e[1](), void 0, 2) + "") && dh(r, s)
            },
            i: xg,
            o: xg,
            d(e) {
                e && (Jg(t),
                Jg(o),
                Jg(i))
            }
        }
    }
    function gC(e, t, n) {
        let {headline: o="JSON block"} = t
          , {jsonData: i=( () => {}
        )} = t;
        return e.$$set = e => {
            "headline"in e && n(0, o = e.headline),
            "jsonData"in e && n(1, i = e.jsonData)
        }
        ,
        [o, i]
    }
    class hC extends pf {
        constructor(e) {
            super(),
            uf(this, e, gC, mC, Ag, {
                headline: 0,
                jsonData: 1
            })
        }
    }
    const fC = new Set(["BG", "CS", "DA", "DE", "EL", "EN", "ES", "ET", "FI", "FR", "FR_CA", "HU", "IT", "JA", "KO", "LT", "LV", "MT", "NL", "PL", "PT", "PT_BR", "PT_PT", "RO", "RU", "SK", "SL", "SV", "ZH"])
      , _C = new Map([["ZH_EN", "chinese-english"], ["EN_ZH", "english-chinese"], ["NL_EN", "dutch-english"], ["EN_NL", "english-dutch"], ["FR_EN", "french-english"], ["EN_FR", "english-french"], ["FR_DE", "french-german"], ["DE_FR", "german-french"], ["FR_PT", "french-portuguese"], ["PT_FR", "portuguese-french"], ["FR_ES", "french-spanish"], ["ES_FR", "spanish-french"], ["DE_EN", "german-english"], ["EN_DE", "english-german"], ["DE_PT", "german-portuguese"], ["PT_DE", "portuguese-german"], ["DE_ES", "german-spanish"], ["ES_DE", "spanish-german"], ["IT_EN", "italian-english"], ["EN_IT", "english-italian"], ["JA_EN", "japanese-english"], ["EN_JA", "english-japanese"], ["PL_EN", "polish-english"], ["EN_PL", "english-polish"], ["PT_EN", "portuguese-english"], ["EN_PT", "english-portuguese"], ["PT_ES", "portuguese-spanish"], ["ES_PT", "spanish-portuguese"], ["RU_EN", "russian-english"], ["EN_RU", "english-russian"], ["ES_EN", "spanish-english"], ["EN_ES", "english-spanish"]]);
    function vC(e, t) {
        return ["EN-GB", "EN-US"].includes(e) && (e = "EN"),
        ["EN-GB", "EN-US"].includes(t) && (t = "EN"),
        ["PT-PT", "PT-BR"].includes(e) && (e = "PT"),
        ["PT-PT", "PT-BR"].includes(t) && (t = "PT"),
        ["ZH-CN", "ZH-HANT"].includes(e) && (e = "ZH"),
        ["ZH-CN", "ZH-HANT"].includes(t) && (t = "ZH"),
        function(e, t) {
            const n = `${e.toUpperCase()}_${t.toUpperCase()}`;
            return _C.get(n)
        }(e, t)
    }
    async function yC(e) {
        let {interfaceLang: n, sourceLang: o, targetLang: i, text: r} = e;
        var s;
        n && (s = n,
        fC.has(s.toUpperCase())) || (n = "EN"),
        n = n.substring(0, 2).toUpperCase(),
        await (Bh(),
        Ph);
        try {
            return await t({
                action: "dlGetDictionary",
                payload: {
                    interfaceLang: n,
                    sourceLang: o,
                    targetLang: i,
                    text: r
                }
            })
        } catch (e) {
            throw t({
                action: "dlTrackLingueeErrorData",
                payload: {
                    lingueeError: e.error
                }
            }),
            e
        }
    }
    function wC(e) {
        let t, n, o, i, r = vt(e[0]) + "";
        return {
            c() {
                t = th("div"),
                n = th("style"),
                n.textContent = '.lmt__dict {\n  background-color: white;\n  text-align: start;\n  box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  position: relative;\n  font-weight: 400;\n  font-family: system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n  padding: 0 24px;\n  border: 0;\n  width: 100%;\n  font-size: 14px;\n}\n.lmt__dict #dictionary .dict_headline_for_0 {\n  display: none;\n}\n.lmt__dict #dictionary .dict_headline_for_1 {\n  display: none;\n}\n.lmt__dict h1 {\n  font-family: system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n  font-style: normal;\n  font-weight: normal;\n  line-height: 1.1;\n  font-size: 15px;\n}\n.lmt__dict h1.didyoumean {\n  display: none;\n}\n.lmt__dict #spelling_message_pane {\n  display: none;\n}\n.lmt__dict a {\n  text-decoration: none;\n  pointer-events: none;\n  font-family: system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n  color: #333;\n}\n.lmt__dict.lmt--hidden {\n  display: none;\n}\n.lmt__dict .semantic_field,\n.lmt__dict .sem,\n.lmt__dict .othertempora {\n  font-style: italic;\n  color: #999;\n  position: relative;\n  font-size: 12px;\n}\n.lmt__dict noindex:-o-prefocus,\n.lmt__dict .semantic_field,\n.lmt__dict .sem {\n  position: static;\n  z-index: 1;\n}\n.lmt__dict .placeholder {\n  font-size: smaller;\n}\n.lmt__dict #dictionary,\n.lmt__dict .dictionary {\n  font-weight: 400;\n  font-style: italic;\n  font-size: 15px;\n  color: #999;\n  line-height: 1.35em;\n  position: relative;\n}\n.lmt__dict #dictionary .inexact {\n  font-weight: 400;\n  font-style: italic;\n  font-size: 13px;\n  color: #999;\n  margin-top: 18px;\n}\n.lmt__dict .lemma {\n  vertical-align: top;\n  margin: 10px 0 25px 0;\n}\n.lmt__dict .lemma.last {\n  background: none;\n}\n.lmt__dict .lemma_desc {\n  padding: 0 0 10px 0;\n}\n.lmt__dict #dictionary h2.lemma_desc {\n  margin: 0px;\n}\n.lmt__dict .lemma_content {\n  padding: 0 0 0 0;\n  position: relative;\n  margin-bottom: 8px;\n}\n.lmt__dict .translation_group {\n  position: relative;\n  padding-top: 8px;\n}\n.lmt__dict .lemma_content .translation_group_line.with_pie {\n  padding-inline-start: 18px;\n  text-indent: -18px;\n}\n.lmt__dict .exact .translation.featured {\n  margin-bottom: 8px;\n  clear: both;\n}\n.lmt__dict .translation_desc {\n  padding: 2px 0 0 0;\n  display: inline-block;\n}\n.lmt__dict h3.translation_desc {\n  margin: 0;\n  font-weight: 400;\n}\n.lmt__dict #dictionary h3.translation_desc {\n  margin-bottom: 0;\n}\n.lmt__dict .group_line .translation_desc {\n  text-indent: 0;\n  display: inline;\n  padding: 2px 10px 1px 0;\n  padding-inline-start: 0;\n}\n.lmt__dict .comment {\n  margin: 15px 0 15px 0;\n  padding: 0 0 0 10px;\n}\n.lmt__dict .lemma_content {\n  padding-inline-start: 40px;\n}\n.lmt__dict .meaninggroup_description_inner {\n  margin-inline-start: -20px;\n  width: 20px;\n  display: inline-block;\n}\n.lmt__dict .meaninggroup_descriptions {\n  margin-inline-start: -20px;\n  display: inline-block;\n}\n.lmt__dict .tag_t {\n  color: #333;\n  font-style: normal;\n}\n.lmt__dict .tag_s {\n  color: #006494;\n  font-style: normal;\n}\n.lmt__dict .tag_lemma {\n  font-size: 16px;\n  font-weight: 400;\n  color: #006494;\n  font-style: normal;\n}\n.lmt__dict .tag_lemma a {\n  color: #006494;\n}\n.lmt__dict .inexact .tag_lemma {\n  font-size: 14px;\n}\n.lmt__dict .tag_type,\n.lmt__dict .tag_wordtype {\n  font-style: italic;\n  font-size: 14px;\n  margin-inline-end: 2px;\n  color: #999;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_type,\n.lmt__dict .inexact .tag_wordtype,\n.lmt__dict .example_lines .tag_type,\n.lmt__dict .example_lines .tag_wordtype,\n.lmt__dict .tag_forms .tag_wordtype {\n  font-size: 14px;\n}\n.lmt__dict .tag_wordtype {\n  font-size: 14px;\n  margin-inline-start: 0;\n}\n.lmt__dict .tag_area,\n.lmt__dict .tag_usage {\n  color: #999;\n  font-style: italic;\n  font-size: 14px;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_area,\n.lmt__dict .inexact .tag_usage,\n.lmt__dict .inexact .tag_forms {\n  font-size: 10px;\n}\n.lmt__dict .tag_c {\n  color: #999;\n  font-size: 15px;\n  font-style: italic;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_c {\n  font-size: 13px;\n}\n.lmt__dict .tag_forms {\n  font-size: 13px;\n  color: #999;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_forms {\n  display: none;\n}\n.lmt__dict .lemma_desc .tag_forms {\n  display: none;\n  padding-inline-start: 3px;\n}\n.lmt__dict .tag_trans_src_context {\n  color: #006494;\n  font-style: normal;\n  padding-inline-end: 10px;\n  font-size: 14px;\n}\n.lmt__dict .tag_trans_src_context:before {\n  content: "(";\n}\n.lmt__dict .tag_trans_src_context:after {\n  content: ")";\n}\n.lmt__dict .tag_lemma_context {\n  padding-inline-start: 5px;\n  padding-inline-end: 5px;\n  font-size: 14px;\n}\n.lmt__dict .inexact .tag_lemma_context {\n  padding-inline-start: 5px;\n  font-size: 13px;\n}\n.lmt__dict .tag_lemma_context .placeholder {\n  font-size: inherit;\n}\n.lmt__dict #dictionary .tag_forms h3 {\n  display: inline;\n  padding-inline-end: 10px;\n  font-size: 12px;\n  margin: 0 0 0 0;\n  color: #999;\n}\n.lmt__dict .tag_formname {\n  color: #999;\n}\n.lmt__dict .tag_c,\n.lmt__dict .tag_t,\n.lmt__dict .tag_s,\n.lmt__dict .tag_area,\n.lmt__dict .tag_usage {\n  font-size: 14px;\n}\n.lmt__dict .tag_trans {\n  font-size: 14px;\n  color: #333;\n  font-style: normal;\n  display: inline-block;\n  min-height: 20px;\n}\n.lmt__dict .inexact .tag_trans {\n  font-size: 14px;\n  color: #333;\n  font-style: normal;\n}\n.lmt__dict .inexact .tag_trans a {\n  color: #333;\n}\n.lmt__dict .exact .tag_trans a.featured {\n  line-height: 24px;\n}\n.lmt__dict .meaninggroup_notfirst {\n  padding-top: 8px;\n}\n.lmt__dict .meaninggroup_editing.meaninggroup_notfirst {\n  padding-top: 20px;\n}\n.lmt__dict .meaning_class_header {\n  padding-inline-start: 5px;\n  padding-top: 5px;\n}\n.lmt__dict .meaninggroup_outer_list {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n  display: inline;\n}\n.lmt__dict .meaninggroup_inner_list {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n}\n.lmt__dict .meaninggroup_inner_list li {\n  display: inline;\n}\n.lmt__dict .meaninggroup_problematic .meaninggroup_description {\n  color: #e00;\n}\n.lmt__dict .meaninggroup_problematic .meaninggroup_description_index {\n  color: #e00;\n}\n.lmt__dict .isForeignTerm .meaninggroup_synonym,\n.lmt__dict .isForeignTerm .meaninggroup_valency,\n.lmt__dict .isForeignTerm .meaninggroup_valency,\n.lmt__dict .meaninggroup_descriptions {\n  color: #333;\n}\n.lmt__dict .isMainTerm .meaninggroup_synonym,\n.lmt__dict .isMainTerm .meaninggroup_valency,\n.lmt__dict .isMainTerm .meaninggroup_valency,\n.lmt__dict .meaninggroup_descriptions {\n  color: #265182;\n}\n.lmt__dict .meaninggroup_synonym {\n  font-size: 15px;\n  font-weight: 400;\n  font-style: normal;\n}\n.lmt__dict .meaninggroup_preliminary {\n  font-size: 15px;\n  font-weight: 400;\n  font-style: normal;\n  color: green;\n}\n.lmt__dict .meaninggroup_descriptions {\n  font-size: 15px;\n  font-weight: 400;\n  font-style: normal;\n}\n.lmt__dict .meaninggroup_valency {\n  font-size: 15px;\n  font-weight: 400;\n  color: #333;\n  font-style: normal;\n}\n.lmt__dict .meaninggroup_usage {\n  color: #999;\n}\n.lmt__dict .meaninggroup_areas {\n  color: #999;\n  font-style: italic;\n}\n.lmt__dict .meaninggroup_editing .meaninggroup_descriptions,\n.lmt__dict .meaninggroup_editing .meaninggroup_synonym,\n.lmt__dict .meaninggroup_editing .meaninggroup_usage,\n.lmt__dict .meaninggroup_editing .meaninggroup_synonym,\n.lmt__dict .meaninggroup_editing .meaninggroup_description_index,\n.lmt__dict .meaninggroup_editing .meaninggroup_preliminary {\n  font-weight: 600;\n}\n.lmt__dict .meaninggroups_remark {\n  margin-inline-start: -20px;\n}\n.lmt__dict .inflectioninfo,\n.lmt__dict .inflectioninfo .tag_c {\n  color: #006494;\n  font-style: normal;\n  font-size: 13px;\n}\n.lmt__dict .isForeignTerm .inflectioninfo {\n  color: #333;\n}\n.lmt__dict .isForeignTerm .tag_lemma,\n.lmt__dict .isForeignTerm .tag_lemma a,\n.lmt__dict .isForeignTerm .tag_s,\n.lmt__dict .isForeignTerm .tag_s a,\n.lmt__dict .isForeignTerm .tag_trans_src_context {\n  color: #333;\n}\n.lmt__dict .isForeignTerm .tag_trans,\n.lmt__dict .isForeignTerm .tag_trans a,\n.lmt__dict .isForeignTerm .tag_t,\n.lmt__dict .isForeignTerm .tag_t a,\n.lmt__dict .isForeignTerm .tag_trans {\n  color: #006494;\n}\n.lmt__dict .spell_suggestion.isForeignTerm,\n.lmt__dict .spell_suggestion.isForeignTerm .corrected {\n  color: #333;\n}\n.lmt__dict .spell_suggestion,\n.lmt__dict .spell_suggestion .corrected {\n  color: #006494;\n}\n.lmt__dict .line .translation {\n  display: inline-block;\n  line-height: 1em;\n  text-indent: 0;\n}\n.lmt__dict .line.inflectioninfo {\n  display: none;\n}\n.lmt__dict .sep {\n  font-size: 12px;\n  padding-inline-start: 10px;\n  color: #6e6e6e;\n}\n.lmt__dict .tag_forms .sep {\n  padding-inline-start: 5px;\n}\n.lmt__dict .inexact .sep {\n  font-size: 9px;\n}\n.lmt__dict .dash {\n  padding-inline-end: 10px;\n}\n.lmt__dict .exact .lemma_desc .dash {\n  display: none;\n}\n.lmt__dict .lemma_desc .dash {\n  font-size: 14px;\n  font-style: normal;\n  color: #999;\n  padding-inline-start: 7px;\n  padding-inline-end: 7px;\n}\n.lmt__dict .inexact .lemma_desc {\n  padding: 0 0 0 0;\n}\n.lmt__dict .inexact .translation_lines,\n.lmt__dict .inexact .translation_group,\n.lmt__dict .inexact .line {\n  display: inline;\n}\n.lmt__dict .inexact .lemma_content {\n  display: inline;\n}\n.lmt__dict .inexact .lemma_desc,\n.lmt__dict #dictionary .inexact h2.lemma_desc {\n  display: inline-block;\n  padding-inline-end: 0;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n}\n.lmt__dict .inexact .lemma_content {\n  padding-inline-start: 0;\n}\n.lmt__dict .inexact .lemma {\n  margin: 1px 0 0 0;\n  text-indent: -10px;\n  padding-inline-start: 20px;\n}\n.lmt__dict .inexact div.singleline {\n  text-indent: 0;\n  padding-inline-start: 0;\n}\n.lmt__dict #dictionary > .expandable > .versionShort > .example_lines {\n  padding-bottom: 15px;\n}\n.lmt__dict #dictionary h3 {\n  margin-bottom: 2px;\n  font-size: 14px;\n}\n.lmt__dict a.audio {\n  display: none;\n  position: relative;\n  cursor: pointer;\n  top: 3px;\n  width: 19px;\n  height: 17px;\n  background-position: -40px -38px;\n  opacity: 0.5;\n}\n.lmt__dict .ie7 a.audio,\n.lmt__dict .ie8 a.audio {\n  filter: alpha(opacity=50);\n  background-position: -120px -92px;\n}\n.lmt__dict .inexact a.audio {\n  display: none;\n}\n.lmt__dict .inexact .lemma_desc a.audio,\n.lmt__dict .inexact .translation.expanded a.audio,\n.lmt__dict .inexact .translation.contracting a.audio {\n  display: inline-block;\n}\n.lmt__dict .exact .tag_lemma a.audio {\n  top: 2px;\n}\n.lmt__dict .mouse_device a.audio {\n  opacity: 0.45;\n}\n.lmt__dict .mouse_device a.audio:hover,\n.lmt__dict .mouse_device a.expand_i:hover {\n  opacity: 1;\n}\n.lmt__dict .grammar_info {\n  position: relative;\n  top: -4px;\n  vertical-align: middle;\n  font-size: 0.7em;\n  color: #999;\n  font-style: italic;\n  margin-inline-start: 1px;\n  display: inline-block;\n  text-indent: 0;\n}\n.lmt__dict .exact .grammar_info {\n  top: -5px;\n  margin-inline-start: 2px;\n}\n.lmt__dict #dictionary h2,\n.lmt__dict #dictionary h3 {\n  color: #333;\n  font-weight: 400;\n}\n.lmt__dict #dictionary h2 {\n  font-size: 20px;\n  margin-bottom: 20px;\n}\n.lmt__dict #dictionary .tag_forms h2 {\n  font-size: 14px;\n}\n.lmt__dict .translation_row.singleline {\n  height: 20px;\n}\n.lmt__dict .singleline {\n  position: relative;\n  padding-inline-end: 20px;\n  height: 20px;\n  overflow: hidden;\n}\n.lmt__dict .singleline > * {\n  line-height: 50px;\n  position: relative;\n  top: -15px;\n}\n.lmt__dict .ie8 .singleline > * {\n  top: -13px;\n  height: 22px;\n}\n.lmt__dict .singleline .tag_s {\n  white-space: nowrap;\n}\n.lmt__dict .expandable {\n  position: relative;\n}\n.lmt__dict .example_lines .expandM,\n.lmt__dict .inexact .expandM {\n  display: block;\n  height: 15px;\n  padding-inline-start: 0px;\n  opacity: 0.7;\n}\n.lmt__dict a.expand_i {\n  width: 17px;\n  height: 17px;\n  position: relative;\n  top: 4px;\n  display: inline-block;\n  background-position: -20px -36px;\n  cursor: pointer;\n  opacity: 0.55;\n  filter: alpha(opacity=55);\n}\n.lmt__dict .translation a.expand_i {\n  background-color: white;\n}\n.lmt__dict .example {\n  padding-inline-start: 45px;\n  margin-top: 8px;\n  margin-bottom: 12px;\n}\n.lmt__dict .expertmode .example {\n  padding-inline-start: 50px;\n}\n.lmt__dict .example .tag_e {\n  display: block;\n  position: relative;\n  max-width: 700px;\n  line-height: 1.1em;\n}\n.lmt__dict .example .tag_s {\n  width: 47%;\n  float: inline-start;\n}\n.lmt__dict .example .tag_t {\n  width: 50%;\n  float: inline-end;\n}\n.lmt__dict .example .tag_e_end {\n  display: block;\n  clear: both;\n}\n.lmt__dict .example .dash {\n  display: none;\n}\n.lmt__dict #soundFlags {\n  display: none;\n}\n.lmt__dict .hidden,\n.lmt__dict #lingueecontent .hidden,\n.lmt__dict #attribution.hidden {\n  display: none;\n}\n.lmt__dict .notascommon {\n  display: block;\n  padding-inline-end: 10px;\n  font-size: 14px;\n  line-height: 1.4em;\n}\n.lmt__dict .tag_wordtype {\n  display: inline-block;\n}\n.lmt__dict .tag_forms {\n  display: inline-block;\n}\n.lmt__dict .inexact .lemma {\n  padding-inline-start: 20px;\n}\n.lmt__dict .example_lines > .expandable > .versionshort > .expandM {\n  margin-inline-start: 0;\n}\n.lmt__dict .source_url_spacer {\n  margin-inline-start: 0;\n}\n.lmt__dict .example {\n  padding-inline-start: 30px;\n}\n.lmt__dict .translation_desc {\n  padding-bottom: 0;\n}\n.lmt__dict .translation a.expand_i,\n.lmt__dict .translation a.audio,\n.lmt__dict .inexact .lemma_desc a.audio,\n.lmt__dict .inexact .translation.expanded a.audio {\n  display: none;\n}\n.lmt__dict .inexact .lemma {\n  padding-inline-start: 20px;\n}\n.lmt__dict .example_lines > .expandable > .versionshort > .expandM {\n  margin-inline-start: 0;\n}\n.lmt__dict .source_url_spacer {\n  margin-inline-start: 0;\n}\n.lmt__dict .example {\n  padding-inline-start: 24px;\n}\n.lmt__dict .lemma_desc {\n  margin: 0;\n}\n.lmt__dict .lemma {\n  margin-top: 0;\n}\n.lmt__dict .source {\n  font-size: 24px;\n  color: #d0d0d0;\n}\n.lmt__dict .source .tag_lemma {\n  font-size: 20px;\n  font-weight: 400;\n}\n.lmt__dict .lemma_content {\n  padding-inline-start: 20px;\n  padding-inline-end: 0px;\n}\n.lmt__dict .source .tag_s,\n.lmt__dict .source .tag_usage,\n.lmt__dict .source .tag_formname,\n.lmt__dict .source .formlink,\n.lmt__dict .source .tag_forms,\n.lmt__dict .source .grammar_info {\n  color: #999 !important;\n}\n.lmt__dict .translation:first-of-type h3 {\n  line-height: 1;\n}\n.lmt__dict .translation:first-of-type h3 .dictlink {\n  font-size: 20px;\n}\n.lmt__dict .source {\n  position: relative;\n}\n.lmt__dict .sourceHint {\n  display: none;\n}\n.lmt__dict .notascommon {\n  color: #aaa;\n}\n.lmt__dict .tag_type,\n.lmt__dict .tag_wordtype,\n.lmt__dict .source .tag_s,\n.lmt__dict .source .tag_usage,\n.lmt__dict .source .tag_formname,\n.lmt__dict .source .tag_wordtype,\n.lmt__dict .source .formlink,\n.lmt__dict .source .tag_forms,\n.lmt__dict .source .grammar_info,\n.lmt__dict .tag_c {\n  font-style: normal;\n}\n.lmt__dict .tag_forms {\n  font-style: normal;\n}\n.lmt__dict .tag_forms .tag_s {\n  padding-inline-start: 0px;\n  margin-inline-end: -19px;\n}\n\n#LMT__dict_right {\n  margin-inline-start: 59px;\n}\n\n@keyframes lmt__dict__appear_animation {\n  0% {\n    transform: scale(0.99) translateY(-5px);\n    opacity: 0;\n  }\n  100% {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n.lmt__dict.lmt--is-dict-ready {\n  display: block;\n}\n.lmt__dict .lmt__dict__empty_state {\n  display: none;\n  padding: 16px 24px;\n  color: #6e6e6e;\n  font-size: 16px;\n}\n.lmt__dict #result_container,\n.lmt__dict #wikipedia-body,\n.lmt__dict #wikipedia-header,\n.lmt__dict .copyrightLineOuter,\n.lmt__dict .openTriangle,\n.lmt__dict .expandM {\n  display: none !important;\n}',
                o = ih(),
                i = new vh(!1),
                ch(n, "lang", "scss"),
                i.a = null
            },
            m(e, s) {
                Qg(e, t, s),
                Kg(t, n),
                Kg(t, o),
                i.m(r, t)
            },
            p(e, [t]) {
                1 & t && r !== (r = vt(e[0]) + "") && i.p(r)
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function bC(e, t, n) {
        let {html: o} = t;
        return e.$$set = e => {
            "html"in e && n(0, o = e.html)
        }
        ,
        [o]
    }
    class EC extends pf {
        constructor(e) {
            super(),
            uf(this, e, bC, wC, Ag, {
                html: 0
            })
        }
    }
    function TC(e) {
        let t, n, o, i;
        return n = new EC({
            props: {
                html: e[1]
            }
        }),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                ch(t, "class", "dl__dictionary svelte-1n7xyu1")
            },
            m(e, o) {
                Qg(e, t, o),
                cf(n, t, null),
                i = !0
            },
            p(e, t) {
                const o = {};
                2 & t && (o.html = e[1]),
                n.$set(o)
            },
            i(e) {
                i || (Jh(n.$$.fragment, e),
                o || Wh(( () => {
                    o = nf(t, Kf, {
                        y: -50,
                        duration: 700
                    }),
                    o.start()
                }
                )),
                i = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                i = !1
            },
            d(e) {
                e && Jg(t),
                df(n)
            }
        }
    }
    function SC(e) {
        let t, n, o = e[0] && e[1] && e[2] && TC(e);
        return {
            c() {
                t = th("div"),
                o && o.c()
            },
            m(e, i) {
                Qg(e, t, i),
                o && o.m(t, null),
                n = !0
            },
            p(e, [n]) {
                e[0] && e[1] && e[2] ? o ? (o.p(e, n),
                7 & n && Jh(o, 1)) : (o = TC(e),
                o.c(),
                Jh(o, 1),
                o.m(t, null)) : o && (Xh(),
                ef(o, 1, 1, ( () => {
                    o = null
                }
                )),
                Qh())
            },
            i(e) {
                n || (Jh(o),
                n = !0)
            },
            o(e) {
                ef(o),
                n = !1
            },
            d(e) {
                e && Jg(t),
                o && o.d()
            }
        }
    }
    function xC(e, n, o) {
        let i, r, s, a, l, {originalSnippet: c} = n, {sourceLanguage: d} = n, {targetLanguage: u} = n, {websiteLanguage: p} = n, {showDictionary: m=!1} = n, {setDictionaryLauncherState: g} = n, {resetDictionary: h=( () => {}
        )} = n, f = "", _ = "", v = "";
        function y() {
            if (c && c !== v) {
                v = c;
                !async function(e) {
                    const n = e.enabled ? M.enabled : M.disabled
                      , o = e.langPair;
                    try {
                        await t({
                            action: "dltrackDictionaryStatus",
                            payload: {
                                status: n,
                                langPair: o
                            }
                        })
                    } catch (e) {
                        console.log(e)
                    }
                }({
                    enabled: !!f && !!r && a && l,
                    langPair: r
                })
            }
        }
        async function w() {
            o(10, _ = "");
            const e = {
                interfaceLang: chrome.i18n.getUILanguage(),
                sourceLang: p,
                targetLang: u,
                text: s
            };
            try {
                o(1, f = await yC(e))
            } catch (e) {
                o(10, _ = function(e, t) {
                    let n = chrome.i18n.getMessage("ui_inline_translation_problem_loading_dictionary");
                    return e == Lf.ENTRY_NOT_FOUND && (n = chrome.i18n.getMessage("ui_inline_translation_no_entry_dictionary", t)),
                    n
                }(e.error, s))
            } finally {
                y(),
                h()
            }
        }
        return e.$$set = e => {
            "originalSnippet"in e && o(3, c = e.originalSnippet),
            "sourceLanguage"in e && o(4, d = e.sourceLanguage),
            "targetLanguage"in e && o(5, u = e.targetLanguage),
            "websiteLanguage"in e && o(6, p = e.websiteLanguage),
            "showDictionary"in e && o(0, m = e.showDictionary),
            "setDictionaryLauncherState"in e && o(7, g = e.setDictionaryLauncherState),
            "resetDictionary"in e && o(8, h = e.resetDictionary)
        }
        ,
        e.$$.update = () => {
            var n;
            if (8 & e.$$.dirty && (o(12, a = !!(n = c) && 1 === n.trim().split(" ").length),
            o(13, l = function(e) {
                return !!e && e.trim().length < 200
            }(c))),
            48 & e.$$.dirty && (u !== d && d ? o(2, r = vC(d, u)) : (o(2, r = ""),
            o(9, i = ""))),
            14604 & e.$$.dirty && (c && c.trim() !== s ? (o(11, s = c.trim()),
            o(10, _ = ""),
            r && a && l ? (o(9, i = r),
            w()) : (o(1, f = ""),
            y(),
            h())) : h()),
            12804 & e.$$.dirty && r != i && r && a && l && (o(10, _ = ""),
            w()),
            5254 & e.$$.dirty) {
                let e = "";
                _ ? e = _ : a ? r ? f || (e = chrome.i18n.getMessage("ui_inline_translation_problem_loading_dictionary")) : e = chrome.i18n.getMessage("ui_inline_translation_unavailable_lang_pair") : e = chrome.i18n.getMessage("ui_inline_translation_translate_only_one_word");
                g({
                    enableDictionaryButton: !!f && a && !!r && !_,
                    dictionaryButtonError: e
                })
            }
            if (1 & e.$$.dirty && m)
                try {
                    t({
                        action: "dlTrackOpenDictionarySection",
                        payload: {}
                    })
                } catch (e) {
                    console.log(e)
                }
        }
        ,
        [m, f, r, c, d, u, p, g, h, i, _, s, a, l]
    }
    class $C extends pf {
        constructor(e) {
            super(),
            uf(this, e, xC, SC, Ag, {
                originalSnippet: 3,
                sourceLanguage: 4,
                targetLanguage: 5,
                websiteLanguage: 6,
                showDictionary: 0,
                setDictionaryLauncherState: 7,
                resetDictionary: 8
            })
        }
    }
    function CC(e, t, n) {
        const o = e.slice();
        return o[31] = t[n],
        o
    }
    function kC(e, t, n) {
        const o = e.slice();
        return o[34] = t[n],
        o
    }
    function IC(e, t, n) {
        const o = e.slice();
        return o[37] = t[n],
        o
    }
    function LC(e) {
        let t, n, o, i, r, s = !Ye.includes(e[4].selectedTargetLanguage), a = e[6] && RC(e), l = s && MC(e), c = e[4].gDocsSegmentation === Ve.SENTENCE && OC(e), d = e[4].gDocsSegmentation === Ve.WORD && PC(e);
        return {
            c() {
                t = th("div"),
                n = th("div"),
                a && a.c(),
                o = ih(),
                l && l.c(),
                i = ih(),
                c && c.c(),
                r = ih(),
                d && d.c(),
                ch(n, "class", "dl-segmentation-selector svelte-fxpmgu")
            },
            m(e, s) {
                Qg(e, t, s),
                Kg(t, n),
                a && a.m(n, null),
                Kg(n, o),
                l && l.m(n, null),
                Kg(t, i),
                c && c.m(t, null),
                Kg(t, r),
                d && d.m(t, null)
            },
            p(e, i) {
                e[6] ? a ? a.p(e, i) : (a = RC(e),
                a.c(),
                a.m(n, o)) : a && (a.d(1),
                a = null),
                16 & i[0] && (s = !Ye.includes(e[4].selectedTargetLanguage)),
                s ? l ? l.p(e, i) : (l = MC(e),
                l.c(),
                l.m(n, null)) : l && (l.d(1),
                l = null),
                e[4].gDocsSegmentation === Ve.SENTENCE ? c ? c.p(e, i) : (c = OC(e),
                c.c(),
                c.m(t, r)) : c && (c.d(1),
                c = null),
                e[4].gDocsSegmentation === Ve.WORD ? d ? d.p(e, i) : (d = PC(e),
                d.c(),
                d.m(t, null)) : d && (d.d(1),
                d = null)
            },
            d(e) {
                e && Jg(t),
                a && a.d(),
                l && l.d(),
                c && c.d(),
                d && d.d()
            }
        }
    }
    function AC(e) {
        let t;
        return {
            c() {
                t = th("div"),
                t.innerHTML = '<div class="skeleton-item svelte-fxpmgu"><div class="skeleton-subitem svelte-fxpmgu"></div></div> <div class="skeleton-item svelte-fxpmgu"><div class="skeleton-subitem svelte-fxpmgu"></div></div> <div class="skeleton-item svelte-fxpmgu"><div class="skeleton-subitem svelte-fxpmgu"></div> <div class="skeleton-subitem is-short-line svelte-fxpmgu"></div></div>',
                ch(t, "class", "dl-alternatives-loading-skeleton svelte-fxpmgu")
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function RC(e) {
        let t, n, o;
        return {
            c() {
                t = th("button"),
                t.textContent = `${chrome.i18n.getMessage("ui_alternatives_segmentation_sentence")}`,
                ch(t, "class", "segmentation-button sentence svelte-fxpmgu"),
                fh(t, "active", e[4].gDocsSegmentation === Ve.SENTENCE)
            },
            m(i, r) {
                Qg(i, t, r),
                n || (o = sh(t, "click", e[22]),
                n = !0)
            },
            p(e, n) {
                16 & n[0] && fh(t, "active", e[4].gDocsSegmentation === Ve.SENTENCE)
            },
            d(e) {
                e && Jg(t),
                n = !1,
                o()
            }
        }
    }
    function MC(e) {
        let t, n, o;
        return {
            c() {
                t = th("button"),
                t.textContent = `${chrome.i18n.getMessage("ui_alternatives_segmentation_word")}`,
                ch(t, "class", "segmentation-button word svelte-fxpmgu"),
                fh(t, "active", e[4].gDocsSegmentation === Ve.WORD)
            },
            m(i, r) {
                Qg(i, t, r),
                n || (o = sh(t, "click", e[23]),
                n = !0)
            },
            p(e, n) {
                16 & n[0] && fh(t, "active", e[4].gDocsSegmentation === Ve.WORD)
            },
            d(e) {
                e && Jg(t),
                n = !1,
                o()
            }
        }
    }
    function OC(e) {
        let t, n, o = sf(e[2]), i = [];
        for (let t = 0; t < o.length; t += 1)
            i[t] = DC(kC(e, o, t));
        return {
            c() {
                t = th("div");
                for (let e = 0; e < i.length; e += 1)
                    i[e].c();
                ch(t, "class", "alternatives svelte-fxpmgu"),
                ch(t, "dir", n = Vt(e[0].targetLang))
            },
            m(e, n) {
                Qg(e, t, n);
                for (let e = 0; e < i.length; e += 1)
                    i[e] && i[e].m(t, null)
            },
            p(e, r) {
                if (516 & r[0]) {
                    let n;
                    for (o = sf(e[2]),
                    n = 0; n < o.length; n += 1) {
                        const s = kC(e, o, n);
                        i[n] ? i[n].p(s, r) : (i[n] = DC(s),
                        i[n].c(),
                        i[n].m(t, null))
                    }
                    for (; n < i.length; n += 1)
                        i[n].d(1);
                    i.length = o.length
                }
                1 & r[0] && n !== (n = Vt(e[0].targetLang)) && ch(t, "dir", n)
            },
            d(e) {
                e && Jg(t),
                eh(i, e)
            }
        }
    }
    function NC(e) {
        let t, n, o = Rt(e[37].text) + "";
        return {
            c() {
                t = th("span"),
                n = oh(o),
                ch(t, "class", "svelte-fxpmgu"),
                fh(t, "highlighted-text-chunk", e[37].isHighlighted)
            },
            m(e, o) {
                Qg(e, t, o),
                Kg(t, n)
            },
            p(e, i) {
                4 & i[0] && o !== (o = Rt(e[37].text) + "") && dh(n, o),
                4 & i[0] && fh(t, "highlighted-text-chunk", e[37].isHighlighted)
            },
            d(e) {
                e && Jg(t)
            }
        }
    }
    function DC(e) {
        let t, n, o, i, r = sf(e[34].textChunks), s = [];
        for (let t = 0; t < r.length; t += 1)
            s[t] = NC(IC(e, r, t));
        function a() {
            return e[24](e[34])
        }
        return {
            c() {
                t = th("div");
                for (let e = 0; e < s.length; e += 1)
                    s[e].c();
                n = ih(),
                ch(t, "class", "sentence-alternatives alternative svelte-fxpmgu"),
                ch(t, "tabindex", "-1"),
                ch(t, "aria-hidden", "true")
            },
            m(e, r) {
                Qg(e, t, r);
                for (let e = 0; e < s.length; e += 1)
                    s[e] && s[e].m(t, null);
                Kg(t, n),
                o || (i = sh(t, "click", a),
                o = !0)
            },
            p(o, i) {
                if (e = o,
                4 & i[0]) {
                    let o;
                    for (r = sf(e[34].textChunks),
                    o = 0; o < r.length; o += 1) {
                        const a = IC(e, r, o);
                        s[o] ? s[o].p(a, i) : (s[o] = NC(a),
                        s[o].c(),
                        s[o].m(t, n))
                    }
                    for (; o < s.length; o += 1)
                        s[o].d(1);
                    s.length = r.length
                }
            },
            d(e) {
                e && Jg(t),
                eh(s, e),
                o = !1,
                i()
            }
        }
    }
    function PC(e) {
        let t, n, o = sf(e[3]), i = [];
        for (let t = 0; t < o.length; t += 1)
            i[t] = UC(CC(e, o, t));
        return {
            c() {
                t = th("div");
                for (let e = 0; e < i.length; e += 1)
                    i[e].c();
                ch(t, "class", "alternatives svelte-fxpmgu"),
                ch(t, "dir", n = Vt(e[0].targetLang))
            },
            m(e, n) {
                Qg(e, t, n);
                for (let e = 0; e < i.length; e += 1)
                    i[e] && i[e].m(t, null)
            },
            p(e, r) {
                if (1032 & r[0]) {
                    let n;
                    for (o = sf(e[3]),
                    n = 0; n < o.length; n += 1) {
                        const s = CC(e, o, n);
                        i[n] ? i[n].p(s, r) : (i[n] = UC(s),
                        i[n].c(),
                        i[n].m(t, null))
                    }
                    for (; n < i.length; n += 1)
                        i[n].d(1);
                    i.length = o.length
                }
                1 & r[0] && n !== (n = Vt(e[0].targetLang)) && ch(t, "dir", n)
            },
            d(e) {
                e && Jg(t),
                eh(i, e)
            }
        }
    }
    function UC(e) {
        let t, n, o, i, r, s = Rt(e[31].text) + "";
        function a() {
            return e[25](e[31])
        }
        return {
            c() {
                t = th("div"),
                n = oh(s),
                o = ih(),
                ch(t, "role", "button"),
                ch(t, "class", "word-alternative alternative svelte-fxpmgu"),
                ch(t, "tabindex", "-1"),
                ch(t, "aria-hidden", "true")
            },
            m(e, s) {
                Qg(e, t, s),
                Kg(t, n),
                Kg(t, o),
                i || (r = sh(t, "click", a),
                i = !0)
            },
            p(t, o) {
                e = t,
                8 & o[0] && s !== (s = Rt(e[31].text) + "") && dh(n, s)
            },
            d(e) {
                e && Jg(t),
                i = !1,
                r()
            }
        }
    }
    function BC(e) {
        let t, n, o, i, r;
        function s(e, t) {
            return e[5] ? AC : e[1] ? LC : void 0
        }
        let a = s(e)
          , l = a && a(e);
        return {
            c() {
                t = th("div"),
                n = th("button"),
                n.textContent = `${chrome.i18n.getMessage("ui_alternatives_title")}`,
                o = ih(),
                l && l.c(),
                ch(n, "class", "dl-toggle-show-alternatives svelte-fxpmgu"),
                fh(n, "is-showing", e[1]),
                ch(t, "class", "dl-alternatives-container svelte-fxpmgu")
            },
            m(s, a) {
                Qg(s, t, a),
                Kg(t, n),
                Kg(t, o),
                l && l.m(t, null),
                i || (r = sh(n, "click", e[21]),
                i = !0)
            },
            p(e, o) {
                2 & o[0] && fh(n, "is-showing", e[1]),
                a === (a = s(e)) && l ? l.p(e, o) : (l && l.d(1),
                l = a && a(e),
                l && (l.c(),
                l.m(t, null)))
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                l && l.d(),
                i = !1,
                r()
            }
        }
    }
    function WC(e, n, o) {
        let i;
        const r = Ah("deepl_settings");
        Mg(e, r, (e => o(4, i = e)));
        let {textProcessingMode: s=le.translate} = n
          , {contentProcessBuildingBlocks: a} = n
          , {buildAndSetReplaceData: c} = n
          , {activeSentence: d} = n
          , {activeWord: u} = n
          , {shouldMarkWordOrSentenceAsActive: p} = n
          , {registerAlternativesCallbacks: m} = n
          , {clearAlternativesCallbacks: g} = n
          , h = !1
          , f = !1
          , _ = []
          , v = []
          , y = !0;
        const w = () => {
            if (h)
                if (i.gDocsSegmentation === Ve.SENTENCE && y)
                    d || (o(14, d = 0),
                    o(15, u = 0)),
                    b(d);
                else if (i.gDocsSegmentation === Ve.WORD) {
                    u || o(15, u = 0),
                    d || o(14, d = 0);
                    const e = a.processedSentences[d].text.split(/\s+/)[u]
                      , t = Mt(a.processedSentences[d].text).find((t => t.text === e));
                    E(d, u, t)
                }
        }
          , b = async e => {
            if (i.gDocsSegmentation === Ve.SENTENCE) {
                o(14, d = e),
                o(1, h = !0),
                o(2, _ = []),
                o(5, f = !0);
                try {
                    const n = await t({
                        action: "dlRequestGDocsSentenceAlternatives",
                        payload: {
                            mode: s,
                            sourceLang: a.detectedSourceLanguage,
                            targetLang: a.targetLang,
                            sentence: a.sentences[e],
                            contextBefore: e > 0 && a.sentences[e - 1].text,
                            contextAfter: e < a.sentences.length - 1 && a.sentences[e + 1].text
                        }
                    });
                    for (const t of n.result.translations[0].beams)
                        t.sentences[0].text !== a.processedSentences[e].text && _.length < 4 && o(2, _ = [..._, {
                            text: t.sentences[0].text,
                            textChunks: n_(t.sentences[0].text, a.processedSentences[e].text)
                        }]);
                    I(Ve.SENTENCE)
                } catch (e) {
                    console.error(e)
                }
                o(5, f = !1)
            }
        }
          , E = async (e, n, r) => {
            if (i.gDocsSegmentation === Ve.WORD) {
                o(14, d = e),
                o(15, u = n),
                o(1, h = !0),
                o(3, v = []),
                o(5, f = !0);
                try {
                    const n = await t({
                        action: "dlRequestGDocsWordAlternatives",
                        payload: {
                            mode: s,
                            sourceLang: a.detectedSourceLanguage,
                            targetLang: a.targetLang,
                            sentence: a.sentences[e],
                            contextBefore: e > 0 && a.sentences[e - 1].text,
                            contextAfter: e < a.sentences.length - 1 && a.sentences[e + 1].text,
                            partialTranslation: a.processedSentences[e].text.substring(0, r.offsetStartRaw)
                        }
                    });
                    for (const t of n.result.translations[0].beams)
                        if (t.sentences[0].text !== a.processedSentences[e].text.substring(0, r.offsetStartRaw + r.offsetLengthRaw) && v.length < 4) {
                            const e = t.sentences[0].text.substring(r.offsetStartRaw);
                            e.trim().length > 0 && o(3, v = [...v, {
                                text: `${e}...`,
                                partialTranslation: t.sentences[0].text
                            }])
                        }
                    I(Ve.WORD)
                } catch (e) {
                    console.error(e)
                }
                o(5, f = !1)
            }
        }
          , T = e => {
            o(0, a.processedSentences[d].text = e, a),
            o(2, _ = []),
            c(),
            k(Ve.SENTENCE)
        }
          , S = async e => {
            o(0, a.processedSentences[d].text = e, a),
            o(3, v = []);
            try {
                const n = await t({
                    action: "dlRequestGDocsSentenceFromPartialTranslation",
                    payload: {
                        mode: s,
                        sourceLang: a.detectedSourceLanguage,
                        targetLang: a.targetLang,
                        sentence: a.sentences[d],
                        contextBefore: d > 0 && a.sentences[d - 1].text,
                        contextAfter: d < a.sentences.length - 1 && a.sentences[d + 1].text,
                        partialTranslation: e
                    }
                });
                o(0, a.processedSentences[d].text = n.result.translations[0].beams[0].sentences[0].text, a),
                c(),
                k(Ve.WORD)
            } catch (e) {
                console.error(e)
            }
        }
          , x = () => {
            Wg(r, i.gDocsSegmentation = Ve.SENTENCE, i),
            d || (o(14, d = 0),
            o(15, u = 0)),
            C(Ve.SENTENCE)
        }
          , $ = () => {
            let e;
            Wg(r, i.gDocsSegmentation = Ve.WORD, i),
            u || o(15, u = 0),
            e = a.processedSentences[d].text.split(/\s+/)[u];
            const t = Mt(a.processedSentences[d].text).find((t => t.text === e));
            E(d, u, t),
            C(Ve.WORD)
        }
          , C = async e => await L({
            eventType: Oe,
            alternativesSegmentation: e
        })
          , k = async e => await L({
            eventType: Ne,
            alternativesSegmentation: e
        })
          , I = async e => await L({
            eventType: Me,
            alternativesSegmentation: e
        })
          , L = async ({eventType: e, alternativesSegmentation: n}) => await t({
            action: "dlTrackAlternativesEvent",
            payload: {
                eventType: e,
                alternativesMetaData: {
                    sourceLang: a.detectedSourceLanguage,
                    targetLang: a.targetLang,
                    nicheIntegration: re.gdocs,
                    contentProcessingMode: s,
                    alternativesSegmentation: n
                }
            }
        });
        Ch(( () => {
            Wg(r, i.gDocsSegmentation = Ve.SENTENCE, i),
            m({
                showSentenceAlternatives: b,
                showWordAlternatives: E
            })
        }
        )),
        kh(( () => {
            g()
        }
        ));
        return e.$$set = e => {
            "textProcessingMode"in e && o(17, s = e.textProcessingMode),
            "contentProcessBuildingBlocks"in e && o(0, a = e.contentProcessBuildingBlocks),
            "buildAndSetReplaceData"in e && o(18, c = e.buildAndSetReplaceData),
            "activeSentence"in e && o(14, d = e.activeSentence),
            "activeWord"in e && o(15, u = e.activeWord),
            "shouldMarkWordOrSentenceAsActive"in e && o(16, p = e.shouldMarkWordOrSentenceAsActive),
            "registerAlternativesCallbacks"in e && o(19, m = e.registerAlternativesCallbacks),
            "clearAlternativesCallbacks"in e && o(20, g = e.clearAlternativesCallbacks)
        }
        ,
        e.$$.update = () => {
            16 & e.$$.dirty[0] && l.includes(i.gdocsWriteLang) && (o(6, y = !1),
            Wg(r, i.gDocsSegmentation = Ve.WORD, i)),
            30 & e.$$.dirty[0] && o(16, p = h && (i.gDocsSegmentation === Ve.WORD && v || i.gDocsSegmentation === Ve.SENTENCE && _))
        }
        ,
        [a, h, _, v, i, f, y, r, w, T, S, x, $, I, d, u, p, s, c, m, g, () => {
            o(1, h = !h),
            I(),
            w()
        }
        , () => x(), () => $(), e => T(e.text), e => S(e.partialTranslation)]
    }
    class FC extends pf {
        constructor(e) {
            super(),
            uf(this, e, WC, BC, Ag, {
                textProcessingMode: 17,
                contentProcessBuildingBlocks: 0,
                buildAndSetReplaceData: 18,
                activeSentence: 14,
                activeWord: 15,
                shouldMarkWordOrSentenceAsActive: 16,
                registerAlternativesCallbacks: 19,
                clearAlternativesCallbacks: 20
            }, null, [-1, -1])
        }
    }
    function zC(e, t, n) {
        const o = e.slice();
        return o[25] = t[n],
        o
    }
    function HC(e, t, n) {
        const o = e.slice();
        return o[28] = t[n],
        o
    }
    function jC(e, t, n) {
        const o = e.slice();
        return o[31] = t[n],
        o[33] = n,
        o
    }
    function GC(e) {
        let t, n, o = sf(e[8].contentReference), i = [];
        for (let t = 0; t < o.length; t += 1)
            i[t] = ek(zC(e, o, t));
        return {
            c() {
                t = th("div");
                for (let e = 0; e < i.length; e += 1)
                    i[e].c();
                ch(t, "class", "preview-text-scroller svelte-t9u7lm"),
                ch(t, "dir", n = Vt(e[0] === le.translate ? e[7].selectedTargetLanguage : e[7].gdocsWriteLang))
            },
            m(e, n) {
                Qg(e, t, n);
                for (let e = 0; e < i.length; e += 1)
                    i[e] && i[e].m(t, null)
            },
            p(e, r) {
                if (16256 & r[0]) {
                    let n;
                    for (o = sf(e[8].contentReference),
                    n = 0; n < o.length; n += 1) {
                        const s = zC(e, o, n);
                        i[n] ? i[n].p(s, r) : (i[n] = ek(s),
                        i[n].c(),
                        i[n].m(t, null))
                    }
                    for (; n < i.length; n += 1)
                        i[n].d(1);
                    i.length = o.length
                }
                129 & r[0] && n !== (n = Vt(e[0] === le.translate ? e[7].selectedTargetLanguage : e[7].gdocsWriteLang)) && ch(t, "dir", n)
            },
            d(e) {
                e && Jg(t),
                eh(i, e)
            }
        }
    }
    function qC(e) {
        let t;
        return {
            c() {
                t = th("div"),
                ch(t, "class", "dl-untranslatable-line svelte-t9u7lm")
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function VC(e) {
        let t, n, o = sf(e[8].textLinesComponents[e[25].index]), i = [];
        for (let t = 0; t < o.length; t += 1)
            i[t] = JC(HC(e, o, t));
        return {
            c() {
                t = th("div");
                for (let e = 0; e < i.length; e += 1)
                    i[e].c();
                n = ih(),
                ch(t, "class", "dl-translatable-line svelte-t9u7lm"),
                fh(t, "is-sentence-segmentation", e[7].gDocsSegmentation === Ve.SENTENCE),
                fh(t, "is-word-segmentation", e[7].gDocsSegmentation === Ve.WORD)
            },
            m(e, o) {
                Qg(e, t, o);
                for (let e = 0; e < i.length; e += 1)
                    i[e] && i[e].m(t, null);
                Kg(t, n)
            },
            p(e, r) {
                if (16256 & r[0]) {
                    let s;
                    for (o = sf(e[8].textLinesComponents[e[25].index]),
                    s = 0; s < o.length; s += 1) {
                        const a = HC(e, o, s);
                        i[s] ? i[s].p(a, r) : (i[s] = JC(a),
                        i[s].c(),
                        i[s].m(t, n))
                    }
                    for (; s < i.length; s += 1)
                        i[s].d(1);
                    i.length = o.length
                }
                128 & r[0] && fh(t, "is-sentence-segmentation", e[7].gDocsSegmentation === Ve.SENTENCE),
                128 & r[0] && fh(t, "is-word-segmentation", e[7].gDocsSegmentation === Ve.WORD)
            },
            d(e) {
                e && Jg(t),
                eh(i, e)
            }
        }
    }
    function YC(e) {
        let t, n = Rt(e[8].processedSentences[e[28]].text) + "";
        return {
            c() {
                t = oh(n)
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p(e, o) {
                256 & o[0] && n !== (n = Rt(e[8].processedSentences[e[28]].text) + "") && dh(t, n)
            },
            d(e) {
                e && Jg(t)
            }
        }
    }
    function KC(e) {
        let t, n = sf(Mt(e[8].processedSentences[e[28]].text)), o = [];
        for (let t = 0; t < n.length; t += 1)
            o[t] = QC(jC(e, n, t));
        return {
            c() {
                for (let e = 0; e < o.length; e += 1)
                    o[e].c();
                t = rh()
            },
            m(e, n) {
                for (let t = 0; t < o.length; t += 1)
                    o[t] && o[t].m(e, n);
                Qg(e, t, n)
            },
            p(e, i) {
                if (12032 & i[0]) {
                    let r;
                    for (n = sf(Mt(e[8].processedSentences[e[28]].text)),
                    r = 0; r < n.length; r += 1) {
                        const s = jC(e, n, r);
                        o[r] ? o[r].p(s, i) : (o[r] = QC(s),
                        o[r].c(),
                        o[r].m(t.parentNode, t))
                    }
                    for (; r < o.length; r += 1)
                        o[r].d(1);
                    o.length = n.length
                }
            },
            d(e) {
                e && Jg(t),
                eh(o, e)
            }
        }
    }
    function ZC(e) {
        let t, n, o = e[31].text + "";
        return {
            c() {
                t = th("span"),
                n = oh(o)
            },
            m(e, o) {
                Qg(e, t, o),
                Kg(t, n)
            },
            p(e, t) {
                256 & t[0] && o !== (o = e[31].text + "") && dh(n, o)
            },
            d(e) {
                e && Jg(t)
            }
        }
    }
    function XC(e) {
        let t, n, o, i, r = e[31].text + "";
        function s() {
            return e[18](e[28], e[33], e[31])
        }
        return {
            c() {
                t = th("span"),
                n = oh(r),
                ch(t, "class", "word-text svelte-t9u7lm"),
                ch(t, "tabindex", "-1"),
                ch(t, "aria-hidden", "true"),
                fh(t, "active-word", e[28] === e[9] && e[10] === e[33] && e[11])
            },
            m(e, r) {
                Qg(e, t, r),
                Kg(t, n),
                o || (i = sh(t, "click", s),
                o = !0)
            },
            p(o, i) {
                e = o,
                256 & i[0] && r !== (r = e[31].text + "") && dh(n, r),
                3840 & i[0] && fh(t, "active-word", e[28] === e[9] && e[10] === e[33] && e[11])
            },
            d(e) {
                e && Jg(t),
                o = !1,
                i()
            }
        }
    }
    function QC(e) {
        let t;
        function n(e, t) {
            return e[31].isWord ? XC : ZC
        }
        let o = n(e)
          , i = o(e);
        return {
            c() {
                i.c(),
                t = rh()
            },
            m(e, n) {
                i.m(e, n),
                Qg(e, t, n)
            },
            p(e, r) {
                o === (o = n(e)) && i ? i.p(e, r) : (i.d(1),
                i = o(e),
                i && (i.c(),
                i.m(t.parentNode, t)))
            },
            d(e) {
                e && Jg(t),
                i.d(e)
            }
        }
    }
    function JC(e) {
        let t, n, o, i, r, s, a, l = e[8].processedSentences[e[28]].prefix + "", c = e[7].gDocsSegmentation === Ve.SENTENCE && YC(e), d = e[7].gDocsSegmentation === Ve.WORD && KC(e);
        function u() {
            return e[19](e[28])
        }
        return {
            c() {
                t = th("span"),
                n = oh(l),
                o = ih(),
                i = th("span"),
                c && c.c(),
                r = ih(),
                d && d.c(),
                ch(t, "class", "sentence-prefix"),
                ch(i, "class", "sentence-text svelte-t9u7lm"),
                ch(i, "tabindex", "-1"),
                ch(i, "aria-hidden", "true"),
                fh(i, "active-sentence", e[9] === e[28] && e[11])
            },
            m(e, l) {
                Qg(e, t, l),
                Kg(t, n),
                Qg(e, o, l),
                Qg(e, i, l),
                c && c.m(i, null),
                Kg(i, r),
                d && d.m(i, null),
                s || (a = sh(i, "click", u),
                s = !0)
            },
            p(t, o) {
                e = t,
                256 & o[0] && l !== (l = e[8].processedSentences[e[28]].prefix + "") && dh(n, l),
                e[7].gDocsSegmentation === Ve.SENTENCE ? c ? c.p(e, o) : (c = YC(e),
                c.c(),
                c.m(i, r)) : c && (c.d(1),
                c = null),
                e[7].gDocsSegmentation === Ve.WORD ? d ? d.p(e, o) : (d = KC(e),
                d.c(),
                d.m(i, null)) : d && (d.d(1),
                d = null),
                2816 & o[0] && fh(i, "active-sentence", e[9] === e[28] && e[11])
            },
            d(e) {
                e && (Jg(t),
                Jg(o),
                Jg(i)),
                c && c.d(),
                d && d.d(),
                s = !1,
                a()
            }
        }
    }
    function ek(e) {
        let t;
        function n(e, t) {
            return e[25].isTranslatable ? VC : qC
        }
        let o = n(e)
          , i = o(e);
        return {
            c() {
                i.c(),
                t = rh()
            },
            m(e, n) {
                i.m(e, n),
                Qg(e, t, n)
            },
            p(e, r) {
                o === (o = n(e)) && i ? i.p(e, r) : (i.d(1),
                i = o(e),
                i && (i.c(),
                i.m(t.parentNode, t)))
            },
            d(e) {
                e && Jg(t),
                i.d(e)
            }
        }
    }
    function tk(e) {
        let t, n, o;
        return n = new cC({
            props: {
                platformBehaviour: re.gdocs,
                websiteSettings: e[1],
                showDictionary: e[2],
                switchVisibilityDictionary: e[3],
                enableDictionaryButton: e[4],
                dictionaryButtonError: e[5],
                onClose: e[6]
            }
        }),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                ch(t, "class", "dl-inline-translate-toolbar-frame svelte-t9u7lm")
            },
            m(e, i) {
                Qg(e, t, i),
                cf(n, t, null),
                o = !0
            },
            p(e, t) {
                const o = {};
                2 & t[0] && (o.websiteSettings = e[1]),
                4 & t[0] && (o.showDictionary = e[2]),
                8 & t[0] && (o.switchVisibilityDictionary = e[3]),
                16 & t[0] && (o.enableDictionaryButton = e[4]),
                32 & t[0] && (o.dictionaryButtonError = e[5]),
                64 & t[0] && (o.onClose = e[6]),
                n.$set(o)
            },
            i(e) {
                o || (Jh(n.$$.fragment, e),
                o = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                o = !1
            },
            d(e) {
                e && Jg(t),
                df(n)
            }
        }
    }
    function nk(e) {
        let t, n;
        return t = new pC({
            props: {
                onClose: e[6]
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                64 & n[0] && (o.onClose = e[6]),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function ok(e) {
        let t, n, o, i, r, s;
        function a(t) {
            e[20](t)
        }
        function l(t) {
            e[21](t)
        }
        function c(t) {
            e[22](t)
        }
        function d(t) {
            e[23](t)
        }
        let u = {
            textProcessingMode: e[0],
            buildAndSetReplaceData: e[15],
            registerAlternativesCallbacks: e[16],
            clearAlternativesCallbacks: e[17]
        };
        return void 0 !== e[8] && (u.contentProcessBuildingBlocks = e[8]),
        void 0 !== e[9] && (u.activeSentence = e[9]),
        void 0 !== e[10] && (u.activeWord = e[10]),
        void 0 !== e[11] && (u.shouldMarkWordOrSentenceAsActive = e[11]),
        t = new FC({
            props: u
        }),
        Oh.push(( () => af(t, "contentProcessBuildingBlocks", a))),
        Oh.push(( () => af(t, "activeSentence", l))),
        Oh.push(( () => af(t, "activeWord", c))),
        Oh.push(( () => af(t, "shouldMarkWordOrSentenceAsActive", d))),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, n) {
                cf(t, e, n),
                s = !0
            },
            p(e, s) {
                const a = {};
                1 & s[0] && (a.textProcessingMode = e[0]),
                !n && 256 & s[0] && (n = !0,
                a.contentProcessBuildingBlocks = e[8],
                Fh(( () => n = !1))),
                !o && 512 & s[0] && (o = !0,
                a.activeSentence = e[9],
                Fh(( () => o = !1))),
                !i && 1024 & s[0] && (i = !0,
                a.activeWord = e[10],
                Fh(( () => i = !1))),
                !r && 2048 & s[0] && (r = !0,
                a.shouldMarkWordOrSentenceAsActive = e[11],
                Fh(( () => r = !1))),
                t.$set(a)
            },
            i(e) {
                s || (Jh(t.$$.fragment, e),
                s = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                s = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function ik(e) {
        let t, n, o, i, r, s, a = e[8] && e[8].contentReference && GC(e), l = e[0] === le.translate && tk(e), c = e[0] === le.write && nk(e), d = e[8] && ok(e);
        return {
            c() {
                t = th("div"),
                a && a.c(),
                n = ih(),
                l && l.c(),
                o = ih(),
                c && c.c(),
                i = ih(),
                r = th("div"),
                d && d.c(),
                ch(r, "class", "dl-alternatives-frame svelte-t9u7lm")
            },
            m(e, u) {
                Qg(e, t, u),
                a && a.m(t, null),
                Kg(t, n),
                l && l.m(t, null),
                Kg(t, o),
                c && c.m(t, null),
                Kg(t, i),
                Kg(t, r),
                d && d.m(r, null),
                s = !0
            },
            p(e, s) {
                e[8] && e[8].contentReference ? a ? a.p(e, s) : (a = GC(e),
                a.c(),
                a.m(t, n)) : a && (a.d(1),
                a = null),
                e[0] === le.translate ? l ? (l.p(e, s),
                1 & s[0] && Jh(l, 1)) : (l = tk(e),
                l.c(),
                Jh(l, 1),
                l.m(t, o)) : l && (Xh(),
                ef(l, 1, 1, ( () => {
                    l = null
                }
                )),
                Qh()),
                e[0] === le.write ? c ? (c.p(e, s),
                1 & s[0] && Jh(c, 1)) : (c = nk(e),
                c.c(),
                Jh(c, 1),
                c.m(t, i)) : c && (Xh(),
                ef(c, 1, 1, ( () => {
                    c = null
                }
                )),
                Qh()),
                e[8] ? d ? (d.p(e, s),
                256 & s[0] && Jh(d, 1)) : (d = ok(e),
                d.c(),
                Jh(d, 1),
                d.m(r, null)) : d && (Xh(),
                ef(d, 1, 1, ( () => {
                    d = null
                }
                )),
                Qh())
            },
            i(e) {
                s || (Jh(l),
                Jh(c),
                Jh(d),
                s = !0)
            },
            o(e) {
                ef(l),
                ef(c),
                ef(d),
                s = !1
            },
            d(e) {
                e && Jg(t),
                a && a.d(),
                l && l.d(),
                c && c.d(),
                d && d.d()
            }
        }
    }
    function rk(e, t, n) {
        let o;
        const i = Ah("deepl_settings");
        Mg(e, i, (e => n(7, o = e)));
        let r, s, a, l, {textProcessingMode: c=le.translate} = t, {websiteSettings: d} = t, {showDictionary: u} = t, {switchVisibilityDictionary: p} = t, {enableDictionaryButton: m} = t, {dictionaryButtonError: g} = t, {onClose: h} = t, f = !1, _ = () => {}
        , v = () => {}
        ;
        const y = () => {
            if (s)
                try {
                    const {processedText: e, processedEntities: t} = At({
                        textLines: s.textLinesComponents.map((e => e.map((e => s.processedSentences[e].prefix + s.processedSentences[e].text)))),
                        entities: s.entities,
                        contentReference: s.contentReference
                    });
                    d.update({
                        translatedSnippet: e
                    }),
                    r && r.setReplaceData({
                        entities: t,
                        text: e,
                        originalObject: s.originalObject
                    })
                } catch (e) {
                    console.error(e)
                }
        }
        ;
        Ch(( () => {
            r = document.querySelector("deepl-gdocs-icon"),
            n(8, s = r.getContentProcessBuildingBlocks()),
            y()
        }
        ));
        return e.$$set = e => {
            "textProcessingMode"in e && n(0, c = e.textProcessingMode),
            "websiteSettings"in e && n(1, d = e.websiteSettings),
            "showDictionary"in e && n(2, u = e.showDictionary),
            "switchVisibilityDictionary"in e && n(3, p = e.switchVisibilityDictionary),
            "enableDictionaryButton"in e && n(4, m = e.enableDictionaryButton),
            "dictionaryButtonError"in e && n(5, g = e.dictionaryButtonError),
            "onClose"in e && n(6, h = e.onClose)
        }
        ,
        e.$$.update = () => {
            128 & e.$$.dirty[0] && Ye.includes(o.selectedTargetLanguage) && Wg(i, o.gDocsSegmentation = Ve.SENTENCE, o)
        }
        ,
        [c, d, u, p, m, g, h, o, s, a, l, f, _, v, i, y, e => {
            n(12, _ = e.showSentenceAlternatives),
            n(13, v = e.showWordAlternatives)
        }
        , () => {
            n(12, _ = () => {}
            ),
            n(13, v = () => {}
            )
        }
        , (e, t, n) => v(e, t, n), e => _(e), function(e) {
            s = e,
            n(8, s)
        }
        , function(e) {
            a = e,
            n(9, a)
        }
        , function(e) {
            l = e,
            n(10, l)
        }
        , function(e) {
            f = e,
            n(11, f)
        }
        ]
    }
    class sk extends pf {
        constructor(e) {
            super(),
            uf(this, e, rk, ik, Ag, {
                textProcessingMode: 0,
                websiteSettings: 1,
                showDictionary: 2,
                switchVisibilityDictionary: 3,
                enableDictionaryButton: 4,
                dictionaryButtonError: 5,
                onClose: 6
            }, null, [-1, -1])
        }
    }
    function ak(e) {
        let t, n, o, i;
        return t = new hC({
            props: {
                headline: "Response - Translated DOM",
                jsonData: e[18]
            }
        }),
        o = new hC({
            props: {
                headline: "Request - Original DOM",
                jsonData: e[19]
            }
        }),
        {
            c() {
                lf(t.$$.fragment),
                n = ih(),
                lf(o.$$.fragment)
            },
            m(e, r) {
                cf(t, e, r),
                Qg(e, n, r),
                cf(o, e, r),
                i = !0
            },
            p(e, n) {
                const i = {};
                16 & n && (i.jsonData = e[18]),
                t.$set(i);
                const r = {};
                16 & n && (r.jsonData = e[19]),
                o.$set(r)
            },
            i(e) {
                i || (Jh(t.$$.fragment, e),
                Jh(o.$$.fragment, e),
                i = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                ef(o.$$.fragment, e),
                i = !1
            },
            d(e) {
                e && Jg(n),
                df(t, e),
                df(o, e)
            }
        }
    }
    function lk(e) {
        let t, n, o, i, r, s, a = vt(F$(e[4].translatedSnippet)) + "", l = e[3] === le.translate && mk(e), c = e[3] === le.write && gk(e);
        return {
            c() {
                t = th("div"),
                o = ih(),
                l && l.c(),
                i = ih(),
                c && c.c(),
                r = rh(),
                ch(t, "class", "result-frame svelte-1qr4p6b"),
                ch(t, "dir", n = Vt(e[5].selectedTargetLanguage))
            },
            m(e, n) {
                Qg(e, t, n),
                t.innerHTML = a,
                Qg(e, o, n),
                l && l.m(e, n),
                Qg(e, i, n),
                c && c.m(e, n),
                Qg(e, r, n),
                s = !0
            },
            p(e, o) {
                (!s || 16 & o) && a !== (a = vt(F$(e[4].translatedSnippet)) + "") && (t.innerHTML = a),
                (!s || 32 & o && n !== (n = Vt(e[5].selectedTargetLanguage))) && ch(t, "dir", n),
                e[3] === le.translate ? l ? (l.p(e, o),
                8 & o && Jh(l, 1)) : (l = mk(e),
                l.c(),
                Jh(l, 1),
                l.m(i.parentNode, i)) : l && (Xh(),
                ef(l, 1, 1, ( () => {
                    l = null
                }
                )),
                Qh()),
                e[3] === le.write ? c ? (c.p(e, o),
                8 & o && Jh(c, 1)) : (c = gk(e),
                c.c(),
                Jh(c, 1),
                c.m(r.parentNode, r)) : c && (Xh(),
                ef(c, 1, 1, ( () => {
                    c = null
                }
                )),
                Qh())
            },
            i(e) {
                s || (Jh(l),
                Jh(c),
                s = !0)
            },
            o(e) {
                ef(l),
                ef(c),
                s = !1
            },
            d(e) {
                e && (Jg(t),
                Jg(o),
                Jg(i),
                Jg(r)),
                l && l.d(e),
                c && c.d(e)
            }
        }
    }
    function ck(e) {
        let t, n;
        return t = new sk({
            props: {
                textProcessingMode: e[3],
                websiteSettings: e[1],
                showDictionary: e[7],
                switchVisibilityDictionary: e[13],
                enableDictionaryButton: e[9],
                dictionaryButtonError: e[8],
                onClose: e[0]
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                8 & n && (o.textProcessingMode = e[3]),
                2 & n && (o.websiteSettings = e[1]),
                128 & n && (o.showDictionary = e[7]),
                512 & n && (o.enableDictionaryButton = e[9]),
                256 & n && (o.dictionaryButtonError = e[8]),
                1 & n && (o.onClose = e[0]),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function dk(e) {
        let t, n;
        return t = new Xy({
            props: {
                error: e[4].error
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                16 & n && (o.error = e[4].error),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function uk(e) {
        let t, n, o, i, r, s, a, l, c, d, u;
        function p(e, t) {
            return e[3] === le.translate ? fk : hk
        }
        let m = p(e)
          , g = m(e);
        function h(e, t) {
            return e[3] === le.translate ? vk : _k
        }
        let f = h(e)
          , _ = f(e);
        function v(e, t) {
            return e[3] === le.translate ? wk : yk
        }
        let y = v(e)
          , w = y(e);
        return {
            c() {
                t = th("div"),
                n = th("p"),
                g.c(),
                o = ih(),
                i = th("div"),
                r = th("h2"),
                _.c(),
                s = ih(),
                w.c(),
                a = ih(),
                l = th("div"),
                c = th("button"),
                c.textContent = `${chrome.i18n.getMessage("link_try_deepl")}`,
                ch(n, "class", "counter svelte-1qr4p6b"),
                ch(r, "class", "svelte-1qr4p6b"),
                ch(c, "class", "svelte-1qr4p6b"),
                ch(l, "class", "button-row svelte-1qr4p6b"),
                ch(i, "class", "box svelte-1qr4p6b"),
                ch(t, "class", "anonymous-user-max-char-exceeded svelte-1qr4p6b")
            },
            m(p, m) {
                Qg(p, t, m),
                Kg(t, n),
                g.m(n, null),
                Kg(t, o),
                Kg(t, i),
                Kg(i, r),
                _.m(r, null),
                Kg(i, s),
                w.m(i, null),
                Kg(i, a),
                Kg(i, l),
                Kg(l, c),
                d || (u = sh(c, "click", e[15]),
                d = !0)
            },
            p(e, t) {
                m === (m = p(e)) && g ? g.p(e, t) : (g.d(1),
                g = m(e),
                g && (g.c(),
                g.m(n, null))),
                f === (f = h(e)) && _ ? _.p(e, t) : (_.d(1),
                _ = f(e),
                _ && (_.c(),
                _.m(r, null))),
                y === (y = v(e)) && w ? w.p(e, t) : (w.d(1),
                w = y(e),
                w && (w.c(),
                w.m(i, a)))
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                g.d(),
                _.d(),
                w.d(),
                d = !1,
                u()
            }
        }
    }
    function pk(e) {
        let t, n, o;
        return n = new CT({}),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                ch(t, "class", "loading-spinner-container svelte-1qr4p6b")
            },
            m(e, i) {
                Qg(e, t, i),
                cf(n, t, null),
                o = !0
            },
            p: xg,
            i(e) {
                o || (Jh(n.$$.fragment, e),
                o = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                o = !1
            },
            d(e) {
                e && Jg(t),
                df(n)
            }
        }
    }
    function mk(e) {
        let t, n;
        return t = new cC({
            props: {
                platformBehaviour: e[2],
                websiteSettings: e[1],
                showDictionary: e[7],
                switchVisibilityDictionary: e[13],
                enableDictionaryButton: e[9],
                dictionaryButtonError: e[8],
                onClose: e[0]
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                4 & n && (o.platformBehaviour = e[2]),
                2 & n && (o.websiteSettings = e[1]),
                128 & n && (o.showDictionary = e[7]),
                512 & n && (o.enableDictionaryButton = e[9]),
                256 & n && (o.dictionaryButtonError = e[8]),
                1 & n && (o.onClose = e[0]),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function gk(e) {
        let t, n;
        return t = new pC({
            props: {
                onClose: e[0]
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                1 & n && (o.onClose = e[0]),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function hk(e) {
        let t, n, o = e[4].originalSnippet.length + "";
        return {
            c() {
                t = oh(o),
                n = oh("/2000")
            },
            m(e, o) {
                Qg(e, t, o),
                Qg(e, n, o)
            },
            p(e, n) {
                16 & n && o !== (o = e[4].originalSnippet.length + "") && dh(t, o)
            },
            d(e) {
                e && (Jg(t),
                Jg(n))
            }
        }
    }
    function fk(e) {
        let t, n, o = e[4].originalSnippet.length + "";
        return {
            c() {
                t = oh(o),
                n = oh("/5000")
            },
            m(e, o) {
                Qg(e, t, o),
                Qg(e, n, o)
            },
            p(e, n) {
                16 & n && o !== (o = e[4].originalSnippet.length + "") && dh(t, o)
            },
            d(e) {
                e && (Jg(t),
                Jg(n))
            }
        }
    }
    function _k(e) {
        let t, n = chrome.i18n.getMessage("inline_gdocs_max_chars_exceeded_improvement_title") + "";
        return {
            c() {
                t = oh(n)
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function vk(e) {
        let t, n = chrome.i18n.getMessage("inline_gdocs_max_chars_exceeded_title") + "";
        return {
            c() {
                t = oh(n)
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function yk(e) {
        let t;
        return {
            c() {
                t = th("p"),
                t.textContent = `${chrome.i18n.getMessage("inline_gdocs_max_chars_exceeded_body_write")}`
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function wk(e) {
        let t;
        return {
            c() {
                t = th("p"),
                t.textContent = `${chrome.i18n.getMessage("inline_gdocs_max_chars_exceeded_body")}`
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function bk(e) {
        let t, n, o, i, r, s, a, l, c, d = !!ht();
        const p = [pk, uk, dk, ck, lk, ak]
          , m = [];
        function g(e, t) {
            return 16 & t && (n = null),
            null == e[4] || e[4].translationState === u.ongoingTranslation ? 0 : e[4].translationState === u.anonymousUserMaxCharExceeded ? 1 : e[4].error ? 2 : e[2] === re.gdocs ? 3 : e[4].translatedSnippet ? 4 : (null == n && (n = !(!hn() || !e[4].translatedDOMSnippet)),
            n ? 5 : -1)
        }
        ~(o = g(e, -1)) && (i = m[o] = p[o](e)),
        s = new $C({
            props: {
                originalSnippet: e[4].originalSnippet,
                sourceLanguage: e[4].snippetDetectedSourceLang,
                targetLanguage: e[5].selectedTargetLanguage,
                websiteLanguage: e[4].websiteLanguage,
                showDictionary: e[7],
                setDictionaryLauncherState: e[12],
                resetDictionary: e[14]
            }
        });
        let h = d && function(e) {
            let t, n, o, i, r, s, a, l, c = chrome.i18n.getMessage("inline_translation_ads_ms_office") + "";
            return {
                c() {
                    t = th("div"),
                    n = th("div"),
                    o = ih(),
                    i = th("div"),
                    i.textContent = `${chrome.i18n.getMessage("inline_translation_ads_ms_office_discover")}`,
                    r = ih(),
                    s = th("div"),
                    ch(n, "class", "text-banner svelte-1qr4p6b"),
                    ch(i, "class", "button-banner svelte-1qr4p6b"),
                    ch(s, "class", "icon svelte-1qr4p6b"),
                    ch(t, "class", "dl-ms-addin-banner svelte-1qr4p6b")
                },
                m(d, u) {
                    Qg(d, t, u),
                    Kg(t, n),
                    n.innerHTML = c,
                    Kg(t, o),
                    Kg(t, i),
                    Kg(t, r),
                    Kg(t, s),
                    a || (l = sh(i, "click", e[16]),
                    a = !0)
                },
                p: xg,
                d(e) {
                    e && Jg(t),
                    a = !1,
                    l()
                }
            }
        }(e);
        return {
            c() {
                t = th("div"),
                i && i.c(),
                r = ih(),
                lf(s.$$.fragment),
                a = ih(),
                h && h.c(),
                l = rh(),
                ch(t, "class", "tooltip-container svelte-1qr4p6b"),
                ch(t, "data-qa", "deepl-inline-translation-result-container"),
                fh(t, "error", e[4].error)
            },
            m(e, n) {
                Qg(e, t, n),
                ~o && m[o].m(t, null),
                Qg(e, r, n),
                cf(s, e, n),
                Qg(e, a, n),
                h && h.m(e, n),
                Qg(e, l, n),
                c = !0
            },
            p(e, n) {
                let r = o;
                o = g(e, n),
                o === r ? ~o && m[o].p(e, n) : (i && (Xh(),
                ef(m[r], 1, 1, ( () => {
                    m[r] = null
                }
                )),
                Qh()),
                ~o ? (i = m[o],
                i ? i.p(e, n) : (i = m[o] = p[o](e),
                i.c()),
                Jh(i, 1),
                i.m(t, null)) : i = null),
                (!c || 16 & n) && fh(t, "error", e[4].error);
                const a = {};
                16 & n && (a.originalSnippet = e[4].originalSnippet),
                16 & n && (a.sourceLanguage = e[4].snippetDetectedSourceLang),
                32 & n && (a.targetLanguage = e[5].selectedTargetLanguage),
                16 & n && (a.websiteLanguage = e[4].websiteLanguage),
                128 & n && (a.showDictionary = e[7]),
                s.$set(a),
                d && h.p(e, n)
            },
            i(e) {
                c || (Jh(i),
                Jh(s.$$.fragment, e),
                c = !0)
            },
            o(e) {
                ef(i),
                ef(s.$$.fragment, e),
                c = !1
            },
            d(e) {
                e && (Jg(t),
                Jg(r),
                Jg(a),
                Jg(l)),
                ~o && m[o].d(),
                df(s, e),
                h && h.d(e)
            }
        }
    }
    function Ek(e) {
        let t, n, o;
        return n = new w$({
            props: {
                closeWindow: e[11],
                showLangSelect: !e[4].error,
                settings: hf,
                websiteSettings: e[1],
                extensionContext: e[10],
                platformBehaviour: e[2],
                textProcessingMode: e[3],
                showProStatus: e[6],
                showServiceName: !0,
                showSettingsIcon: !0,
                $$slots: {
                    default: [bk]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment)
            },
            m(e, i) {
                Qg(e, t, i),
                cf(n, t, null),
                o = !0
            },
            p(e, [t]) {
                const o = {};
                16 & t && (o.showLangSelect = !e[4].error),
                2 & t && (o.websiteSettings = e[1]),
                4 & t && (o.platformBehaviour = e[2]),
                8 & t && (o.textProcessingMode = e[3]),
                64 & t && (o.showProStatus = e[6]),
                2098111 & t && (o.$$scope = {
                    dirty: t,
                    ctx: e
                }),
                n.$set(o)
            },
            i(e) {
                o || (Jh(n.$$.fragment, e),
                o = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                o = !1
            },
            d(e) {
                e && Jg(t),
                df(n)
            }
        }
    }
    function Tk(e, n, o) {
        let i, r, s = xg, a = () => (s(),
        s = Rg(c, (e => o(4, i = e))),
        c);
        Mg(e, hf, (e => o(5, r = e))),
        e.$$.on_destroy.push(( () => s()));
        let {closeTooltip: l} = n
          , {websiteSettings: c} = n;
        a();
        let d, {platformBehaviour: p=re.default} = n, {textProcessingMode: m=le.translate} = n, {setPositioningStatus: g} = n, h = !1, f = "", _ = !1, v = $;
        async function y(e) {
            switch (m) {
            case le.translate:
                {
                    const n = await Wt(i.originalSnippet);
                    let o;
                    e === De && (o = "dlTrackGdocsMaxCharExceededShown"),
                    e === Pe && (o = "dlTrackGDocsMaxCharExceededTryProClicked"),
                    t({
                        action: o,
                        payload: {
                            sourceLang: n,
                            targetLang: r.selectedTargetLanguage,
                            sourceLength: i.originalSnippet.length
                        }
                    })
                }
                break;
            case le.write:
                {
                    const t = document.getElementsByTagName("deepl-gdocs-icon")[0];
                    t && t.trackMaxCharExceeded(e)
                }
            }
        }
        return e.$$set = e => {
            "closeTooltip"in e && o(0, l = e.closeTooltip),
            "websiteSettings"in e && a(o(1, c = e.websiteSettings)),
            "platformBehaviour"in e && o(2, p = e.platformBehaviour),
            "textProcessingMode"in e && o(3, m = e.textProcessingMode),
            "setPositioningStatus"in e && o(17, g = e.setPositioningStatus)
        }
        ,
        e.$$.update = () => {
            20 & e.$$.dirty && p === re.gdocs && i.translationState === u.anonymousUserMaxCharExceeded && i.originalSnippet.length > 0 && y(De),
            17 & e.$$.dirty && i && (!i.isTranslationTooltipInjected || i.translationState !== u.none || i.translatedSnippet || i.error || i.translatedDOMSnippet || l()),
            131092 & e.$$.dirty && !i.translationState && p === re.default && g && (g(!0),
            setTimeout(( () => {
                g(!1)
            }
            ), 600)),
            40 & e.$$.dirty && o(6, d = it(r, Ee.TRANSLATOR) && m === le.translate || it(r, Ee.WRITE) && m === le.write)
        }
        ,
        [l, c, p, m, i, r, d, h, f, _, v, function() {
            t({
                action: "dlTrackUiAction",
                payload: {
                    uiAction: j,
                    nicheIntegration: p
                }
            }),
            l()
        }
        , function(e) {
            o(8, f = e.dictionaryButtonError),
            o(9, _ = e.enableDictionaryButton)
        }
        , function() {
            _ && o(7, h = !h)
        }
        , function() {
            o(7, h = !1)
        }
        , function() {
            y(Pe),
            t({
                action: "dlExternalURLRedirect",
                payload: {
                    destination: m === le.translate ? Tv : Sv,
                    utmContent: m === le.translate ? "gdocs_customization" : "gdocs_customization_write"
                }
            })
        }
        , () => {
            t({
                action: "dlExternalURLRedirect",
                payload: {
                    destination: Bv,
                    utmContent: "msaddin_ads_banner"
                }
            });
            try {
                t({
                    action: "dlTrackClicksOnAdsButton"
                })
            } catch (e) {
                console.error(e)
            }
        }
        , g, () => i.translatedDOMSnippet, () => i.originalSnippet]
    }
    class Sk extends pf {
        constructor(e) {
            super(),
            uf(this, e, Tk, Ek, Ag, {
                closeTooltip: 0,
                websiteSettings: 1,
                platformBehaviour: 2,
                textProcessingMode: 3,
                setPositioningStatus: 17
            })
        }
    }
    function xk(e) {
        let t, n, o, i, r, s, a, l;
        return r = new Sk({
            props: {
                closeTooltip: e[0],
                websiteSettings: e[1],
                platformBehaviour: e[2],
                textProcessingMode: e[3],
                setPositioningStatus: e[7]
            }
        }),
        {
            c() {
                t = th("div"),
                n = th("div"),
                o = ih(),
                i = th("div"),
                lf(r.$$.fragment),
                ch(n, "class", "tooltip-drag-handle svelte-un7ezn"),
                ch(i, "class", "tooltip-body svelte-un7ezn"),
                ch(t, "data-qa", "inline-translate-tooltip"),
                ch(t, "class", "tooltip-wrapper svelte-un7ezn"),
                ch(t, "role", "dialog"),
                ch(t, "style", e[6]),
                ch(t, "draggable", e[5]),
                ch(t, "dir", Vt())
            },
            m(c, d) {
                Qg(c, t, d),
                Kg(t, n),
                Kg(t, o),
                Kg(t, i),
                cf(r, i, null),
                e[18](t),
                s = !0,
                a || (l = [sh(n, "mouseover", e[8]), sh(n, "mouseout", e[9]), Fg(S_.call(null, t, {
                    isShadow: !0
                })), sh(t, "click_outside", e[17]), sh(t, "dragstart", e[10])],
                a = !0)
            },
            p(e, [n]) {
                const o = {};
                1 & n && (o.closeTooltip = e[0]),
                2 & n && (o.websiteSettings = e[1]),
                4 & n && (o.platformBehaviour = e[2]),
                8 & n && (o.textProcessingMode = e[3]),
                r.$set(o),
                (!s || 64 & n) && ch(t, "style", e[6]),
                (!s || 32 & n) && ch(t, "draggable", e[5])
            },
            i(e) {
                s || (Jh(r.$$.fragment, e),
                s = !0)
            },
            o(e) {
                ef(r.$$.fragment, e),
                s = !1
            },
            d(n) {
                n && Jg(t),
                df(r),
                e[18](null),
                a = !1,
                Ig(l)
            }
        }
    }
    function $k(e, t, n) {
        let o;
        Mg(e, hf, (e => n(16, o = e))),
        Lh("deepl_settings", hf),
        Lh("text_direction", Vt());
        let i, r, s, a, l, {closeTooltip: c} = t, {websiteSettings: d} = t, {replaceElement: u} = t, {actualPosition: p} = t, {dragContainerTo: m} = t, {platformBehaviour: g=re.default} = t, {textProcessingMode: h=le.translate} = t, f = !1, _ = !1, v = "visibility: hidden; opacity:0; height:0;";
        let y = {
            x: 0,
            y: 0
        };
        function w(e) {
            let t = W$({
                dropEvent: e,
                document: document,
                dragConfig: {
                    dragOffset: y,
                    dragElementRect: a,
                    dragBarWidth: 16
                }
            });
            t && m(t)
        }
        Ch(( () => {
            n(15, l = o.isLoggedIn),
            setTimeout(( () => {
                n(6, v = "")
            }
            ), 100),
            document.addEventListener("dragover", U$),
            document.addEventListener("drop", w),
            s = A_(i, ( ({clientHeight: e}) => {
                n(14, r = e)
            }
            ))
        }
        )),
        kh(( () => {
            document.removeEventListener("dragover", U$),
            document.removeEventListener("drop", w),
            s && s()
        }
        ));
        return e.$$set = e => {
            "closeTooltip"in e && n(0, c = e.closeTooltip),
            "websiteSettings"in e && n(1, d = e.websiteSettings),
            "replaceElement"in e && n(12, u = e.replaceElement),
            "actualPosition"in e && n(11, p = e.actualPosition),
            "dragContainerTo"in e && n(13, m = e.dragContainerTo),
            "platformBehaviour"in e && n(2, g = e.platformBehaviour),
            "textProcessingMode"in e && n(3, h = e.textProcessingMode)
        }
        ,
        e.$$.update = () => {
            var t, i;
            98305 & e.$$.dirty && !1 === l && !0 === o.isLoggedIn && c(),
            65536 & e.$$.dirty && n(11, (t = o.inlineTranslateTooltipPosition,
            p = u(r, t))),
            16384 & e.$$.dirty && n(11, (i = r,
            p = _ || g === re.gdocs ? u(i, o.inlineTranslateTooltipPosition) : p))
        }
        ,
        [c, d, g, h, i, f, v, e => {
            _ = e
        }
        , function() {
            n(5, f = !0)
        }
        , function() {
            n(5, f = !1)
        }
        , function(e) {
            const t = B$(e, g);
            y = t.dragOffset,
            a = t.dragElementRect
        }
        , p, u, m, r, l, o, () => c(), function(e) {
            Oh[e ? "unshift" : "push"](( () => {
                i = e,
                n(4, i)
            }
            ))
        }
        ]
    }
    class Ck extends pf {
        constructor(e) {
            super(),
            uf(this, e, $k, xk, Ag, {
                closeTooltip: 0,
                websiteSettings: 1,
                replaceElement: 12,
                actualPosition: 11,
                dragContainerTo: 13,
                platformBehaviour: 2,
                textProcessingMode: 3
            })
        }
    }
    class kk {
        static HTML_TAG_NAME = "deepl-inline-translate-tooltip";
        static createElement = (e=document) => {
            const t = e.createElement(kk.HTML_TAG_NAME)
              , n = new kk(t);
            return t.createDOM = n.createDOM,
            t.cleanupDOM = n.cleanupDOM,
            t.dragContainerTo = n.dragContainerTo,
            t
        }
        ;
        #e = void 0;
        constructor(e) {
            this.domElement = e,
            this.domElement.platformBehaviour = re.default,
            this.domElement.shadow = this.domElement.attachShadow({
                mode: "open"
            }),
            this.domElement.shadowContainer = document.createElement("div"),
            this.domElement.container = document.createElement("div"),
            this.domElement.mainComponent,
            this.domElement.selectionRange;
            const t = document.createElement("link");
            t.setAttribute("rel", "stylesheet"),
            t.setAttribute("href", chrome.runtime.getURL("build/content.css")),
            this.domElement.shadow.appendChild(t),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer)
        }
        createDOM = (e, t, n) => {
            const {deepl_inline_ui: o} = P;
            this.domElement.shadowContainer && this.domElement.shadowContainer.childElementCount > 0 && this.cleanupDOM(),
            this.domElement.platformBehaviour === re.default && (this.domElement.selectionRange = window.getSelection().getRangeAt(0));
            let i = e(this.domElement.selectionRange);
            this.domElement.shadowContainer.appendChild(this.domElement.container);
            let r = "visibility: initial !important; position: absolute; top: 0px; left: 0px; width: 100%; z-index: " + (o.z_index - 100)
              , s = `position: absolute; top: ${i.y}px; left: ${i.x - 200}px; z-index: ${o.z_index - 100};`;
            switch (this.domElement.platformBehaviour) {
            case re.gdocs:
                s += "top: 600px; left: 10px;";
                break;
            case re.default:
            default:
                s += ""
            }
            this.domElement.shadowContainer.style.cssText = r,
            this.domElement.container.style.cssText = s,
            this.domElement.mainComponent = new Ck({
                target: this.domElement.container,
                props: {
                    closeTooltip: t,
                    websiteSettings: n,
                    replaceElement: (t, n) => {
                        i = e(this.domElement.selectionRange);
                        const o = {
                            coords: i,
                            clientHeight: t,
                            TOOLTIP_WIDTH: 550,
                            TRIGGER_MENU_ICON_HEIGHT: 30,
                            style: this.domElement.container.style
                        };
                        let r = n;
                        const s = D$(o)
                          , [a,l] = P$(n)
                          , c = this.#e ?? {
                            x: 0,
                            y: 0
                        };
                        if (this.domElement.platformBehaviour === re.gdocs) {
                            for (const e of l)
                                if (N$(e, o)) {
                                    O$(e, o, c);
                                    break
                                }
                        } else
                            for (const e of a)
                                if (N$(e, o)) {
                                    r = "middle" !== e ? e : void 0,
                                    M$(e, o, c);
                                    break
                                }
                        return {
                            ...s,
                            current: r
                        }
                    }
                    ,
                    platformBehaviour: this.domElement.platformBehaviour,
                    textProcessingMode: this.domElement.textProcessingMode,
                    dragContainerTo: this.dragContainerTo
                }
            })
        }
        ;
        dragContainerTo = e => {
            this.#e = {
                y: parseInt(this.domElement.container.style.top) - e.y + (this.#e?.y ?? 0),
                x: parseInt(this.domElement.container.style.left) - e.x + (this.#e?.x ?? 0)
            },
            this.domElement.container.style.top = `${e.y}px`,
            this.domElement.container.style.left = `${e.x}px`
        }
        ;
        cleanupDOM = () => {
            this.domElement.container.remove(),
            this.domElement.shadowContainer.remove(),
            this.domElement.shadowContainer = document.createElement("div"),
            this.domElement.container = document.createElement("div"),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer),
            this.domElement.mainComponent && this.domElement.mainComponent.$destroy()
        }
    }
    function Ik(e) {
        let t, n, o, i, r, s, a, l, c, d;
        return {
            c() {
                t = th("div"),
                n = th("span"),
                o = oh(e[1]),
                i = ih(),
                r = th("div"),
                s = ih(),
                a = th("span"),
                l = oh(e[2]),
                ch(n, "class", "headsup svelte-1yp9nwa"),
                ch(r, "class", "close-button svelte-1yp9nwa"),
                ch(r, "data-testid", "popup-notification-bubble"),
                ch(a, "class", "information svelte-1yp9nwa"),
                ch(t, "class", "container svelte-1yp9nwa"),
                fh(t, "position-top", "TOP" === e[0]),
                fh(t, "position-bottom", "BOTTOM" === e[0]),
                fh(t, "position-top-left", "TOP_LEFT" === e[0]),
                fh(t, "position-top-right", "TOP_RIGHT" === e[0]),
                fh(t, "position-bottom-left", "BOTTOM_LEFT" === e[0]),
                fh(t, "position-bottom-right", "BOTTOM_RIGHT" === e[0])
            },
            m(u, p) {
                Qg(u, t, p),
                Kg(t, n),
                Kg(n, o),
                Kg(t, i),
                Kg(t, r),
                Kg(t, s),
                Kg(t, a),
                Kg(a, l),
                c || (d = [sh(r, "click", (function() {
                    Lg(e[3]) && e[3].apply(this, arguments)
                }
                )), sh(t, "mouseup", lh(ah(e[4]))), sh(t, "mousedown", lh(ah(e[5])))],
                c = !0)
            },
            p(n, [i]) {
                e = n,
                2 & i && dh(o, e[1]),
                4 & i && dh(l, e[2]),
                1 & i && fh(t, "position-top", "TOP" === e[0]),
                1 & i && fh(t, "position-bottom", "BOTTOM" === e[0]),
                1 & i && fh(t, "position-top-left", "TOP_LEFT" === e[0]),
                1 & i && fh(t, "position-top-right", "TOP_RIGHT" === e[0]),
                1 & i && fh(t, "position-bottom-left", "BOTTOM_LEFT" === e[0]),
                1 & i && fh(t, "position-bottom-right", "BOTTOM_RIGHT" === e[0])
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                c = !1,
                Ig(d)
            }
        }
    }
    function Lk(e, t, n) {
        let {position: o} = t
          , {headsupText: i} = t
          , {informationText: r} = t
          , {onClose: s=( () => {}
        )} = t;
        return e.$$set = e => {
            "position"in e && n(0, o = e.position),
            "headsupText"in e && n(1, i = e.headsupText),
            "informationText"in e && n(2, r = e.informationText),
            "onClose"in e && n(3, s = e.onClose)
        }
        ,
        [o, i, r, s, function(t) {
            Rh.call(this, e, t)
        }
        , function(t) {
            Rh.call(this, e, t)
        }
        ]
    }
    class Ak extends pf {
        constructor(e) {
            super(),
            uf(this, e, Lk, Ik, Ag, {
                position: 0,
                headsupText: 1,
                informationText: 2,
                onClose: 3
            })
        }
    }
    function Rk(e) {
        let t, n;
        return t = new Ak({
            props: {
                headsupText: chrome.i18n.getMessage("input_advanced_icons_onboarding_title"),
                informationText: chrome.i18n.getMessage("input_advanced_icons_onboarding_description"),
                position: e[0],
                onClose: e[1]
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, [n]) {
                const o = {};
                1 & n && (o.position = e[0]),
                2 & n && (o.onClose = e[1]),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function Mk(e, t, n) {
        let {position: o} = t
          , {onClose: i=( () => {}
        )} = t;
        return e.$$set = e => {
            "position"in e && n(0, o = e.position),
            "onClose"in e && n(1, i = e.onClose)
        }
        ,
        [o, i]
    }
    class Ok extends pf {
        constructor(e) {
            super(),
            uf(this, e, Mk, Rk, Ag, {
                position: 0,
                onClose: 1
            })
        }
    }
    const Nk = "TOP"
      , Dk = "BOTTOM"
      , Pk = "TOP_LEFT"
      , Uk = "TOP_RIGHT"
      , Bk = "BOTTOM_LEFT"
      , Wk = "BOTTOM_RIGHT"
      , Fk = e => {
        switch (!0) {
        case e.left < 0 && e.top > 0 && e.top < window.innerHeight:
            return Uk;
        case e.right > window.innerWidth && e.top > 0 && e.top < window.innerHeight:
            return Pk;
        case e.right > window.innerWidth && e.top < 0:
            return Bk;
        case e.left < 0 && e.top < 0:
            return Wk;
        case e.top < 0:
            return Dk;
        case e.top > window.innerHeight:
        default:
            return Nk
        }
    }
    ;
    function zk(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h, f;
        return {
            c() {
                t = th("div"),
                n = th("div"),
                o = th("div"),
                i = th("div"),
                r = th("div"),
                r.textContent = `${chrome.i18n.getMessage("inline_translation_highlighter_tooltip_headline")}`,
                s = ih(),
                a = th("div"),
                a.textContent = `${chrome.i18n.getMessage("inline_translation_highlighter_tooltip_text")}`,
                l = ih(),
                c = th("button"),
                ch(r, "class", "headline svelte-150jdi1"),
                ch(a, "class", "text svelte-150jdi1"),
                ch(i, "class", "text-wrapper svelte-150jdi1"),
                ch(o, "class", "content svelte-150jdi1"),
                ch(c, "class", "close-icon svelte-150jdi1"),
                ch(c, "aria-label", "Close"),
                ch(n, "class", d = Bg(`body body__${e[1]}`) + " svelte-150jdi1"),
                ch(t, "class", u = Bg(`container container__${e[1]}`) + " svelte-150jdi1"),
                ch(t, "data-testid", "inline-translate-onboarding-highlighter")
            },
            m(d, u) {
                Qg(d, t, u),
                Kg(t, n),
                Kg(n, o),
                Kg(o, i),
                Kg(i, r),
                Kg(i, s),
                Kg(i, a),
                Kg(n, l),
                Kg(n, c),
                g = !0,
                h || (f = sh(c, "click", e[3]),
                h = !0)
            },
            p(e, [o]) {
                (!g || 2 & o && d !== (d = Bg(`body body__${e[1]}`) + " svelte-150jdi1")) && ch(n, "class", d),
                (!g || 2 & o && u !== (u = Bg(`container container__${e[1]}`) + " svelte-150jdi1")) && ch(t, "class", u)
            },
            i(e) {
                g || (Wh(( () => {
                    g && (m && m.end(1),
                    p = nf(t, Kf, {
                        x: 100,
                        duration: 1e3
                    }),
                    p.start())
                }
                )),
                g = !0)
            },
            o(e) {
                p && p.invalidate(),
                m = of(t, Kf, {
                    x: 100,
                    duration: 1e3
                }),
                g = !1
            },
            d(e) {
                e && Jg(t),
                e && m && m.end(),
                h = !1,
                f()
            }
        }
    }
    function Hk(n, o, i) {
        let {closeInlineHighlighter: r=( () => {}
        )} = o
          , {el: s} = o
          , a = "topLeft";
        Ch((async () => {
            try {
                t({
                    action: "dlTrackOpenInlineHighlighter",
                    payload: {
                        domainName: e.websiteData.hostname
                    }
                })
            } catch (e) {
                console.error(e)
            }
        }
        ));
        return n.$$set = e => {
            "closeInlineHighlighter"in e && i(0, r = e.closeInlineHighlighter),
            "el"in e && i(2, s = e.el)
        }
        ,
        n.$$.update = () => {
            if (4 & n.$$.dirty && s) {
                const e = s.getBoundingClientRect();
                let t = e.x > 305
                  , n = window.innerWidth - e.right > 305
                  , o = window.innerHeight - e.bottom > 190
                  , r = e.y > 190;
                r && t ? i(1, a = "topLeft") : r && n ? i(1, a = "topRight") : o && t ? i(1, a = "bottomLeft") : o && n && i(1, a = "bottomRight")
            }
        }
        ,
        [r, a, s, () => r(ie.close_icon)]
    }
    class jk extends pf {
        constructor(e) {
            super(),
            uf(this, e, Hk, zk, Ag, {
                closeInlineHighlighter: 0,
                el: 2
            })
        }
    }
    function Gk(e) {
        let t, n, o, i, r;
        return i = new ob({
            props: {
                value: e[2].targetLanguageUserInput,
                showChooseLanguageOption: !0,
                fontSize: "sm"
            }
        }),
        i.$on("selection", e[5]),
        {
            c() {
                t = th("p"),
                n = oh(e[0]),
                o = ih(),
                lf(i.$$.fragment),
                ch(t, "class", "font-bold svelte-1bwyi2r")
            },
            m(e, s) {
                Qg(e, t, s),
                Kg(t, n),
                Qg(e, o, s),
                cf(i, e, s),
                r = !0
            },
            p(e, t) {
                (!r || 1 & t) && dh(n, e[0]);
                const o = {};
                4 & t && (o.value = e[2].targetLanguageUserInput),
                i.$set(o)
            },
            i(e) {
                r || (Jh(i.$$.fragment, e),
                r = !0)
            },
            o(e) {
                ef(i.$$.fragment, e),
                r = !1
            },
            d(e) {
                e && (Jg(t),
                Jg(o)),
                df(i, e)
            }
        }
    }
    function qk(e) {
        let t, n, o = (e[2].enableInputTranslation || e[1]) && Gk(e);
        return {
            c() {
                t = th("div"),
                o && o.c()
            },
            m(e, i) {
                Qg(e, t, i),
                o && o.m(t, null),
                n = !0
            },
            p(e, [n]) {
                e[2].enableInputTranslation || e[1] ? o ? (o.p(e, n),
                6 & n && Jh(o, 1)) : (o = Gk(e),
                o.c(),
                Jh(o, 1),
                o.m(t, null)) : o && (Xh(),
                ef(o, 1, 1, ( () => {
                    o = null
                }
                )),
                Qh())
            },
            i(e) {
                n || (Jh(o),
                n = !0)
            },
            o(e) {
                ef(o),
                n = !1
            },
            d(e) {
                e && Jg(t),
                o && o.d()
            }
        }
    }
    function Vk(e, t, n) {
        let o;
        const i = Ah("deepl_settings");
        Mg(e, i, (e => n(2, o = e)));
        const r = Ih();
        let {subHeaderText: s=chrome.i18n.getMessage("input_translation_settings_target_language")} = t
          , {fromShortcut: a} = t;
        function l(e) {
            r("languageChanged", {
                lang: e
            })
        }
        return e.$$set = e => {
            "subHeaderText"in e && n(0, s = e.subHeaderText),
            "fromShortcut"in e && n(1, a = e.fromShortcut)
        }
        ,
        [s, a, o, i, l, e => l(e.detail.selectedOption)]
    }
    class Yk extends pf {
        constructor(e) {
            super(),
            uf(this, e, Vk, qk, Ag, {
                subHeaderText: 0,
                fromShortcut: 1
            })
        }
    }
    function Kk(e) {
        let t, n, o, i, r, s, a, l;
        const c = e[3].default
          , d = Og(c, e, e[2], null);
        return {
            c() {
                t = th("div"),
                n = th("div"),
                o = th("button"),
                i = ih(),
                r = th("div"),
                d && d.c(),
                ch(o, "type", "button"),
                ch(o, "class", "close-icon svelte-1l51lop"),
                ch(n, "class", "header svelte-1l51lop"),
                ch(r, "class", "content"),
                ch(t, "class", "container svelte-1l51lop")
            },
            m(c, u) {
                Qg(c, t, u),
                Kg(t, n),
                Kg(n, o),
                Kg(t, i),
                Kg(t, r),
                d && d.m(r, null),
                e[5](t),
                s = !0,
                a || (l = sh(o, "click", e[4]),
                a = !0)
            },
            p(e, [t]) {
                d && d.p && (!s || 4 & t) && Pg(d, c, e, e[2], s ? Dg(c, e[2], t, null) : Ug(e[2]), null)
            },
            i(e) {
                s || (Jh(d, e),
                s = !0)
            },
            o(e) {
                ef(d, e),
                s = !1
            },
            d(n) {
                n && Jg(t),
                d && d.d(n),
                e[5](null),
                a = !1,
                l()
            }
        }
    }
    function Zk(e, t, n) {
        let {$$slots: o={}, $$scope: i} = t;
        const r = Ih();
        let s, a, l, c;
        Ch(( () => {
            c = A_(l, (e => {
                e.offsetHeight = s,
                e.offsetWidth = a
            }
            ))
        }
        )),
        kh(( () => {
            c && c()
        }
        ));
        return e.$$set = e => {
            "$$scope"in e && n(2, i = e.$$scope)
        }
        ,
        r("resize", {
            offsetHeight: s,
            offsetWidth: a
        }),
        [l, r, i, o, () => r("close"), function(e) {
            Oh[e ? "unshift" : "push"](( () => {
                l = e,
                n(0, l)
            }
            ))
        }
        ]
    }
    class Xk extends pf {
        constructor(e) {
            super(),
            uf(this, e, Zk, Kk, Ag, {})
        }
    }
    const Qk = {
        generalSettings: "GENERAL_SETTINGS",
        inputSettings: "INPUT_SETTINGS"
    };
    function Jk(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h, f, _, v = chrome.i18n.getMessage("input_translation_setting_button_ok") + "";
        return r = new T$({
            props: {
                name: "disable_input_translation",
                id: V.disablePerSite,
                value: V.disablePerSite,
                cssClassName: "radio--with-border",
                checked: e[5] === V.disablePerSite,
                label: chrome.i18n.getMessage("input_translation_setting_radio_disable_per_site"),
                dataQa: "input-translation_hide-icon_disable-per-site"
            }
        }),
        r.$on("change", e[12]),
        a = new T$({
            props: {
                name: "disable_input_translation",
                id: V.disableEverywhere,
                value: V.disableEverywhere,
                cssClassName: "radio--with-border",
                checked: e[5] === V.disableEverywhere,
                label: chrome.i18n.getMessage("input_translation_setting_radio_disable_everywhere"),
                dataQa: "input-translation_hide-icon_disable-always"
            }
        }),
        a.$on("change", e[12]),
        {
            c() {
                t = th("div"),
                n = th("p"),
                n.textContent = `${chrome.i18n.getMessage("input_translation_setting_label_title_v2")}`,
                o = ih(),
                i = th("div"),
                lf(r.$$.fragment),
                s = ih(),
                lf(a.$$.fragment),
                l = ih(),
                c = th("div"),
                d = th("span"),
                d.textContent = `${chrome.i18n.getMessage("input_translation_setting_link_cancel")}`,
                u = ih(),
                p = th("button"),
                m = oh(v),
                ch(n, "class", "font-bold svelte-o4sfla"),
                ch(i, "class", "option-container svelte-o4sfla"),
                ch(d, "class", "link svelte-o4sfla"),
                ch(p, "class", g = Bg("btn btn-primary " + (e[5] ? "" : "disabled")) + " svelte-o4sfla"),
                ch(p, "data-qa", "input-translation_hide-icon_accept"),
                ch(c, "class", "action-container svelte-o4sfla"),
                ch(t, "class", "dl-widget svelte-o4sfla"),
                ch(t, "data-testid", "dl-input-translate-turnoff-settings")
            },
            m(g, v) {
                Qg(g, t, v),
                Kg(t, n),
                Kg(t, o),
                Kg(t, i),
                cf(r, i, null),
                Kg(i, s),
                cf(a, i, null),
                Kg(t, l),
                Kg(t, c),
                Kg(c, d),
                Kg(c, u),
                Kg(c, p),
                Kg(p, m),
                h = !0,
                f || (_ = [sh(d, "click", (function() {
                    Lg(e[1] === Qk.inputSettings ? e[8] : e[9]) && (e[1] === Qk.inputSettings ? e[8] : e[9]).apply(this, arguments)
                }
                )), sh(p, "click", e[11])],
                f = !0)
            },
            p(t, n) {
                e = t;
                const o = {};
                32 & n[0] && (o.checked = e[5] === V.disablePerSite),
                r.$set(o);
                const i = {};
                32 & n[0] && (i.checked = e[5] === V.disableEverywhere),
                a.$set(i),
                (!h || 32 & n[0] && g !== (g = Bg("btn btn-primary " + (e[5] ? "" : "disabled")) + " svelte-o4sfla")) && ch(p, "class", g)
            },
            i(e) {
                h || (Jh(r.$$.fragment, e),
                Jh(a.$$.fragment, e),
                h = !0)
            },
            o(e) {
                ef(r.$$.fragment, e),
                ef(a.$$.fragment, e),
                h = !1
            },
            d(e) {
                e && Jg(t),
                df(r),
                df(a),
                f = !1,
                Ig(_)
            }
        }
    }
    function eI(e) {
        let t, n, o, i, r;
        n = new Yk({
            props: {
                fromShortcut: e[2]
            }
        }),
        n.$on("languageChanged", e[22]);
        let s = e[6] && e[6].targetLanguageUserInput && tI(e);
        return {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                o = ih(),
                s && s.c(),
                i = rh(),
                ch(t, "class", "dl-widget svelte-o4sfla"),
                ch(t, "data-testid", "dl-input-settings-language-selector")
            },
            m(e, a) {
                Qg(e, t, a),
                cf(n, t, null),
                Qg(e, o, a),
                s && s.m(e, a),
                Qg(e, i, a),
                r = !0
            },
            p(e, t) {
                const o = {};
                4 & t[0] && (o.fromShortcut = e[2]),
                n.$set(o),
                e[6] && e[6].targetLanguageUserInput ? s ? s.p(e, t) : (s = tI(e),
                s.c(),
                s.m(i.parentNode, i)) : s && (s.d(1),
                s = null)
            },
            i(e) {
                r || (Jh(n.$$.fragment, e),
                r = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                r = !1
            },
            d(e) {
                e && (Jg(t),
                Jg(o),
                Jg(i)),
                df(n),
                s && s.d(e)
            }
        }
    }
    function tI(e) {
        let t, n, o, i, r, s, a, l;
        return {
            c() {
                t = th("div"),
                n = th("div"),
                o = th("div"),
                i = th("span"),
                i.textContent = `${chrome.i18n.getMessage("input_translation_link_more_settings")}`,
                r = ih(),
                s = th("span"),
                ch(s, "class", "icon icon-external-link svelte-o4sfla"),
                ch(o, "class", "link link-settings svelte-o4sfla"),
                ch(o, "data-qa", "dl-input-translate-open-settings-page"),
                ch(n, "class", "action-container svelte-o4sfla"),
                ch(t, "class", "dl-widget svelte-o4sfla")
            },
            m(c, d) {
                Qg(c, t, d),
                Kg(t, n),
                Kg(n, o),
                Kg(o, i),
                Kg(o, r),
                Kg(o, s),
                a || (l = sh(o, "click", e[10]),
                a = !0)
            },
            p: xg,
            d(e) {
                e && Jg(t),
                a = !1,
                l()
            }
        }
    }
    function nI(e) {
        let t, n, o, i;
        const r = [eI, Jk]
          , s = [];
        function a(e, t) {
            return e[3] === Qk.generalSettings ? 0 : e[3] === Qk.inputSettings ? 1 : -1
        }
        return ~(t = a(e)) && (n = s[t] = r[t](e)),
        {
            c() {
                n && n.c(),
                o = rh()
            },
            m(e, n) {
                ~t && s[t].m(e, n),
                Qg(e, o, n),
                i = !0
            },
            p(e, i) {
                let l = t;
                t = a(e),
                t === l ? ~t && s[t].p(e, i) : (n && (Xh(),
                ef(s[l], 1, 1, ( () => {
                    s[l] = null
                }
                )),
                Qh()),
                ~t ? (n = s[t],
                n ? n.p(e, i) : (n = s[t] = r[t](e),
                n.c()),
                Jh(n, 1),
                n.m(o.parentNode, o)) : n = null)
            },
            i(e) {
                i || (Jh(n),
                i = !0)
            },
            o(e) {
                ef(n),
                i = !1
            },
            d(e) {
                e && Jg(o),
                ~t && s[t].d(e)
            }
        }
    }
    function oI(e) {
        let t, n, o, i;
        return n = new Xk({
            props: {
                $$slots: {
                    default: [nI]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        n.$on("close", e[23]),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                ch(t, "class", o = "settings-container settings-container__" + e[0] + " svelte-o4sfla")
            },
            m(o, r) {
                Qg(o, t, r),
                cf(n, t, null),
                e[24](t),
                i = !0
            },
            p(e, r) {
                const s = {};
                110 & r[0] | 1 & r[1] && (s.$$scope = {
                    dirty: r,
                    ctx: e
                }),
                n.$set(s),
                (!i || 1 & r[0] && o !== (o = "settings-container settings-container__" + e[0] + " svelte-o4sfla")) && ch(t, "class", o)
            },
            i(e) {
                i || (Jh(n.$$.fragment, e),
                i = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                i = !1
            },
            d(o) {
                o && Jg(t),
                df(n),
                e[24](null)
            }
        }
    }
    function iI(e, n, o) {
        let i;
        const r = Ih();
        let s = Qk.generalSettings;
        const a = Ah("deepl_settings");
        Mg(e, a, (e => o(6, i = e)));
        let l, c, {startPage: d} = n, {fromShortcut: u=!1} = n, {icon: p} = n, {position: m="top"} = n, {registerSettingsCallbacks: g=( () => {}
        )} = n, {unregisterSettingsCallbacks: h=( () => {}
        )} = n, {closeSettings: f} = n, _ = {
            top: 0,
            bottom: 0,
            left: 0,
            right: 0
        }, v = {
            height: 0,
            width: 0
        }, y = 140, w = 387, b = "";
        const E = () => {
            if (p) {
                const e = p.getBoundingClientRect();
                let t = {};
                for (const n of ["top", "bottom", "left", "right"])
                    e[n] !== _[n] && (t[n] = e[n]);
                Object.keys(t).length && o(18, _ = {
                    ..._,
                    ...t
                });
                let n = {};
                window.innerHeight !== v.height && (n.height = window.innerHeight),
                window.innerWidth !== v.width && (n.width = window.innerWidth),
                Object.keys(n).length && o(19, v = {
                    ...v,
                    ...n
                })
            } else
                o(18, _ = {
                    top: 0,
                    bottom: 0,
                    left: 0,
                    right: 0
                })
        }
        ;
        return Ch(( () => {
            E(),
            g({
                recalculateSettingsCoords: E
            }),
            c = A_(l, ( ({clientHeight: e, clientWidth: t}) => {
                o(20, y = e),
                o(21, w = t)
            }
            ))
        }
        )),
        kh(( () => {
            h(),
            c && c()
        }
        )),
        e.$$set = e => {
            "startPage"in e && o(1, d = e.startPage),
            "fromShortcut"in e && o(2, u = e.fromShortcut),
            "icon"in e && o(13, p = e.icon),
            "position"in e && o(0, m = e.position),
            "registerSettingsCallbacks"in e && o(14, g = e.registerSettingsCallbacks),
            "unregisterSettingsCallbacks"in e && o(15, h = e.unregisterSettingsCallbacks),
            "closeSettings"in e && o(16, f = e.closeSettings)
        }
        ,
        e.$$.update = () => {
            3932160 & e.$$.dirty[0] && o(0, m = ( ({iconCoordinates: e, viewportSize: t, popupHeight: n, popupWidth: o}) => {
                if (!p)
                    return "top";
                const i = {
                    top: e.top > n,
                    bottom: t.height - e.bottom > n,
                    right: t.width - e.right > o,
                    left: e.left > o
                };
                if (i.top && !i.left)
                    return "top_right";
                if (i.top && !i.right)
                    return "top_left";
                if (i.bottom && !i.left)
                    return "bottom_right";
                if (i.bottom && !i.right)
                    return "bottom_left";
                for (const [e,t] of Object.entries(i))
                    if (t)
                        return e;
                return "top"
            }
            )({
                iconCoordinates: _,
                viewportSize: v,
                popupHeight: y,
                popupWidth: w
            })),
            2 & e.$$.dirty[0] && d && o(3, s = d)
        }
        ,
        [m, d, u, s, l, b, i, a, function() {
            r("close")
        }
        , function() {
            var e;
            o(5, b = ""),
            e = Qk.generalSettings,
            o(3, s = e)
        }
        , function() {
            t({
                action: "dlOpenInternalPage",
                payload: {
                    destination: kT.settings_writing
                }
            })
        }
        , function() {
            if (!b)
                return;
            switch (b) {
            case V.disableEverywhere:
                a.set({
                    enableInputTranslation: !1
                }),
                t({
                    action: "dlTrackSettingChanged",
                    payload: {
                        settingType: V.disableEverywhere,
                        domainName: window.location.hostname,
                        uiFunction: Y,
                        uiLocation: W.inputTranslationSettingPopup
                    }
                }),
                f();
                break;
            case V.disablePerSite:
                !function() {
                    let e = i.blacklistDomainsForWriting;
                    e && !e.includes(window.location.hostname) && (e.push(window.location.hostname),
                    a.set({
                        blacklistDomainsForWriting: e
                    }),
                    t({
                        action: "dlTrackSettingChanged",
                        payload: {
                            settingType: V.disablePerSite,
                            domainName: window.location.hostname,
                            uiFunction: Y,
                            uiLocation: W.inputTranslationSettingPopup
                        }
                    }));
                    f()
                }()
            }
            let e = cT(window.location.hostname, ["www."]);
            t({
                action: "dlSendNotification",
                payload: {
                    type: U.inputTranslation,
                    options: {
                        theme: B.green_theme,
                        currentDomain: e,
                        saveAction: b,
                        settingsPageURL: kT.settings_writing
                    }
                }
            })
        }
        , function(e) {
            o(5, b = e.currentTarget.value)
        }
        , p, g, h, f, E, _, v, y, w, function(t) {
            Rh.call(this, e, t)
        }
        , function(t) {
            Rh.call(this, e, t)
        }
        , function(e) {
            Oh[e ? "unshift" : "push"](( () => {
                l = e,
                o(4, l)
            }
            ))
        }
        ]
    }
    class rI extends pf {
        constructor(e) {
            super(),
            uf(this, e, iI, oI, Ag, {
                startPage: 1,
                fromShortcut: 2,
                icon: 13,
                position: 0,
                registerSettingsCallbacks: 14,
                unregisterSettingsCallbacks: 15,
                closeSettings: 16,
                recalculateSettingsCoords: 17
            }, null, [-1, -1])
        }
        get recalculateSettingsCoords() {
            return this.$$.ctx[17]
        }
    }
    function sI(e) {
        let t, n, o, i, r, s, a, l, c, d, u = e[8] && !e[1] && !e[4].isInlineHighlighterShown && aI(e), p = void 0 !== e[16] && lI(e);
        const m = [dI, cI]
          , g = [];
        function h(e, t) {
            return e[1] ? 0 : 1
        }
        return s = h(e),
        a = g[s] = m[s](e),
        {
            c() {
                t = th("div"),
                u && u.c(),
                n = ih(),
                o = th("div"),
                p && p.c(),
                i = ih(),
                r = th("div"),
                a.c(),
                ch(r, "class", "icon-container svelte-13ncph2"),
                ch(r, "data-testid", "deepl-inline-translate-icon-container"),
                ch(r, "role", "group"),
                ch(o, "class", "layout-container svelte-13ncph2"),
                ch(t, "dir", Vt())
            },
            m(a, m) {
                Qg(a, t, m),
                u && u.m(t, null),
                Kg(t, n),
                Kg(t, o),
                p && p.m(o, null),
                Kg(o, i),
                Kg(o, r),
                g[s].m(r, null),
                e[57](r),
                l = !0,
                c || (d = [sh(r, "mouseenter", e[23]), sh(r, "mouseleave", e[24])],
                c = !0)
            },
            p(e, l) {
                !e[8] || e[1] || e[4].isInlineHighlighterShown ? u && (Xh(),
                ef(u, 1, 1, ( () => {
                    u = null
                }
                )),
                Qh()) : u ? (u.p(e, l),
                274 & l[0] && Jh(u, 1)) : (u = aI(e),
                u.c(),
                Jh(u, 1),
                u.m(t, n)),
                void 0 !== e[16] ? p ? (p.p(e, l),
                65536 & l[0] && Jh(p, 1)) : (p = lI(e),
                p.c(),
                Jh(p, 1),
                p.m(o, i)) : p && (Xh(),
                ef(p, 1, 1, ( () => {
                    p = null
                }
                )),
                Qh());
                let c = s;
                s = h(e),
                s === c ? g[s].p(e, l) : (Xh(),
                ef(g[c], 1, 1, ( () => {
                    g[c] = null
                }
                )),
                Qh(),
                a = g[s],
                a ? a.p(e, l) : (a = g[s] = m[s](e),
                a.c()),
                Jh(a, 1),
                a.m(r, null))
            },
            i(e) {
                l || (Jh(u),
                Jh(p),
                Jh(a),
                l = !0)
            },
            o(e) {
                ef(u),
                ef(p),
                ef(a),
                l = !1
            },
            d(n) {
                n && Jg(t),
                u && u.d(),
                p && p.d(),
                g[s].d(),
                e[57](null),
                c = !1,
                Ig(d)
            }
        }
    }
    function aI(e) {
        let t, n;
        return t = new jk({
            props: {
                closeInlineHighlighter: e[27],
                el: e[8]
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                256 & n[0] && (o.el = e[8]),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function lI(e) {
        let t, n, o, i;
        return n = new Ok({
            props: {
                position: e[16],
                onClose: e[19]
            }
        }),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                ch(t, "data-testid", "onboarding-popup-notification"),
                ch(t, "class", "onboarding-container svelte-13ncph2"),
                fh(t, "top", "TOP" === e[16]),
                fh(t, "bottom", "BOTTOM" === e[16]),
                fh(t, "top-left", "TOP_LEFT" === e[16]),
                fh(t, "top-right", "TOP_RIGHT" === e[16]),
                fh(t, "bottom-left", "BOTTOM_LEFT" === e[16]),
                fh(t, "bottom-right", "BOTTOM_RIGHT" === e[16])
            },
            m(o, r) {
                Qg(o, t, r),
                cf(n, t, null),
                e[48](t),
                i = !0
            },
            p(e, o) {
                const r = {};
                65536 & o[0] && (r.position = e[16]),
                n.$set(r),
                (!i || 65536 & o[0]) && fh(t, "top", "TOP" === e[16]),
                (!i || 65536 & o[0]) && fh(t, "bottom", "BOTTOM" === e[16]),
                (!i || 65536 & o[0]) && fh(t, "top-left", "TOP_LEFT" === e[16]),
                (!i || 65536 & o[0]) && fh(t, "top-right", "TOP_RIGHT" === e[16]),
                (!i || 65536 & o[0]) && fh(t, "bottom-left", "BOTTOM_LEFT" === e[16]),
                (!i || 65536 & o[0]) && fh(t, "bottom-right", "BOTTOM_RIGHT" === e[16])
            },
            i(e) {
                i || (Jh(n.$$.fragment, e),
                o && o.end(1),
                i = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                e && (o = of(t, Kf, {
                    x: 100,
                    duration: 1e3
                })),
                i = !1
            },
            d(i) {
                i && Jg(t),
                df(n),
                e[48](null),
                i && o && o.end()
            }
        }
    }
    function cI(e) {
        let t, n, o, i;
        return t = new L_({
            props: {
                tooltip: e[6],
                showProShield: e[12],
                $$slots: {
                    default: [uI]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        o = new L_({
            props: {
                tooltip: chrome.i18n.getMessage("inline_translation_tooltip_turnoff"),
                $$slots: {
                    default: [pI]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                lf(t.$$.fragment),
                n = ih(),
                lf(o.$$.fragment)
            },
            m(e, r) {
                cf(t, e, r),
                Qg(e, n, r),
                cf(o, e, r),
                i = !0
            },
            p(e, n) {
                const i = {};
                64 & n[0] && (i.tooltip = e[6]),
                4096 & n[0] && (i.showProShield = e[12]),
                4 & n[0] | 16 & n[2] && (i.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                t.$set(i);
                const r = {};
                512 & n[0] | 16 & n[2] && (r.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                o.$set(r)
            },
            i(e) {
                i || (Jh(t.$$.fragment, e),
                Jh(o.$$.fragment, e),
                i = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                ef(o.$$.fragment, e),
                i = !1
            },
            d(e) {
                e && Jg(n),
                df(t, e),
                df(o, e)
            }
        }
    }
    function dI(e) {
        let t, n, o, i, r;
        const s = [gI, mI]
          , a = [];
        function l(e, t) {
            return e[5] ? 0 : 1
        }
        t = l(e),
        n = a[t] = s[t](e);
        let c = e[0] && (e[11] || e[14]) && vI(e);
        return {
            c() {
                n.c(),
                o = ih(),
                c && c.c(),
                i = rh()
            },
            m(e, n) {
                a[t].m(e, n),
                Qg(e, o, n),
                c && c.m(e, n),
                Qg(e, i, n),
                r = !0
            },
            p(e, r) {
                let d = t;
                t = l(e),
                t === d ? a[t].p(e, r) : (Xh(),
                ef(a[d], 1, 1, ( () => {
                    a[d] = null
                }
                )),
                Qh(),
                n = a[t],
                n ? n.p(e, r) : (n = a[t] = s[t](e),
                n.c()),
                Jh(n, 1),
                n.m(o.parentNode, o)),
                e[0] && (e[11] || e[14]) ? c ? (c.p(e, r),
                18433 & r[0] && Jh(c, 1)) : (c = vI(e),
                c.c(),
                Jh(c, 1),
                c.m(i.parentNode, i)) : c && (Xh(),
                ef(c, 1, 1, ( () => {
                    c = null
                }
                )),
                Qh())
            },
            i(e) {
                r || (Jh(n),
                Jh(c),
                r = !0)
            },
            o(e) {
                ef(n),
                ef(c),
                r = !1
            },
            d(e) {
                e && (Jg(o),
                Jg(i)),
                a[t].d(e),
                c && c.d(e)
            }
        }
    }
    function uI(e) {
        let t, n, o;
        return {
            c() {
                t = th("div"),
                ch(t, "class", "dl-logo svelte-13ncph2"),
                ch(t, "data-qa", "deepl-inline-translate-menu-icon"),
                fh(t, "disabled", e[2])
            },
            m(i, r) {
                Qg(i, t, r),
                n || (o = [sh(t, "click", lh(ah(e[21]))), sh(t, "focus", e[45]), sh(t, "mouseup", lh(ah(e[46]))), sh(t, "mousedown", lh(ah(e[47]))), sh(t, "mouseenter", e[55])],
                n = !0)
            },
            p(e, n) {
                4 & n[0] && fh(t, "disabled", e[2])
            },
            d(e) {
                e && Jg(t),
                n = !1,
                Ig(o)
            }
        }
    }
    function pI(e) {
        let t, n, o, i;
        return {
            c() {
                t = th("div"),
                ch(t, "data-qa", "deepl-inline-translate-turnoff-icon"),
                ch(t, "class", "dl-turnoff-inline-icon svelte-13ncph2"),
                fh(t, "advanced", !1),
                fh(t, "hidden", !e[9]),
                fh(t, "left", !1)
            },
            m(n, r) {
                Qg(n, t, r),
                o || (i = [sh(t, "click", lh(ah(e[25]))), sh(t, "focus", e[42]), sh(t, "mousedown", lh(ah(e[43]))), sh(t, "mouseup", lh(ah(e[44]))), sh(t, "mouseenter", e[56])],
                o = !0)
            },
            p(e, n) {
                512 & n[0] && fh(t, "hidden", !e[9])
            },
            i(e) {
                n || Wh(( () => {
                    n = nf(t, Kf, {
                        x: -5,
                        duration: 300
                    }),
                    n.start()
                }
                ))
            },
            o: xg,
            d(e) {
                e && Jg(t),
                o = !1,
                Ig(i)
            }
        }
    }
    function mI(e) {
        let t, n, o, i, r, s;
        return t = new L_({
            props: {
                tooltip: chrome.i18n.getMessage("inline_translation_tooltip_turnoff"),
                $$slots: {
                    default: [hI]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        o = new L_({
            props: {
                tooltip: e[7],
                showProShield: e[13],
                $$slots: {
                    default: [fI]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        r = new L_({
            props: {
                tooltip: e[6],
                showProShield: e[12],
                $$slots: {
                    default: [_I]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                lf(t.$$.fragment),
                n = ih(),
                lf(o.$$.fragment),
                i = ih(),
                lf(r.$$.fragment)
            },
            m(e, a) {
                cf(t, e, a),
                Qg(e, n, a),
                cf(o, e, a),
                Qg(e, i, a),
                cf(r, e, a),
                s = !0
            },
            p(e, n) {
                const i = {};
                3587 & n[0] | 16 & n[2] && (i.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                t.$set(i);
                const s = {};
                128 & n[0] && (s.tooltip = e[7]),
                8192 & n[0] && (s.showProShield = e[13]),
                9 & n[0] | 16 & n[2] && (s.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                o.$set(s);
                const a = {};
                64 & n[0] && (a.tooltip = e[6]),
                4096 & n[0] && (a.showProShield = e[12]),
                5 & n[0] | 16 & n[2] && (a.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                r.$set(a)
            },
            i(e) {
                s || (Jh(t.$$.fragment, e),
                Jh(o.$$.fragment, e),
                Jh(r.$$.fragment, e),
                s = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                ef(o.$$.fragment, e),
                ef(r.$$.fragment, e),
                s = !1
            },
            d(e) {
                e && (Jg(n),
                Jg(i)),
                df(t, e),
                df(o, e),
                df(r, e)
            }
        }
    }
    function gI(e) {
        let t, n, o;
        return t = new CT({}),
        {
            c() {
                n = th("div"),
                lf(t.$$.fragment),
                ph(n, "display", "contents"),
                ph(n, "--size", "16px")
            },
            m(e, i) {
                Qg(e, n, i),
                cf(t, n, null),
                o = !0
            },
            p: xg,
            i(e) {
                o || (Jh(t.$$.fragment, e),
                o = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                o = !1
            },
            d(e) {
                e && t && Jg(n),
                df(t, e)
            }
        }
    }
    function hI(e) {
        let t, n, o, i;
        return {
            c() {
                t = th("div"),
                ch(t, "data-testid", "deepl-advanced-trigger-turnoff-icon"),
                ch(t, "class", "dl-turnoff-inline-icon svelte-13ncph2"),
                fh(t, "advanced", e[1]),
                fh(t, "hidden", !e[9]),
                fh(t, "left", !0)
            },
            m(n, r) {
                Qg(n, t, r),
                e[51](t),
                o || (i = [sh(t, "click", lh(ah(e[49]))), sh(t, "focus", e[39]), sh(t, "mousedown", lh(ah(e[40]))), sh(t, "mouseup", lh(ah(e[41]))), sh(t, "mouseenter", e[50])],
                o = !0)
            },
            p(e, n) {
                2 & n[0] && fh(t, "advanced", e[1]),
                512 & n[0] && fh(t, "hidden", !e[9])
            },
            i(e) {
                n || Wh(( () => {
                    n = nf(t, Kf, {
                        x: -5,
                        duration: 300
                    }),
                    n.start()
                }
                ))
            },
            o: xg,
            d(n) {
                n && Jg(t),
                e[51](null),
                o = !1,
                Ig(i)
            }
        }
    }
    function fI(e) {
        let t, n, o;
        return {
            c() {
                t = th("div"),
                ch(t, "class", "dl-inline-icon dl-write-icon svelte-13ncph2"),
                ch(t, "data-testid", "deepl-advanced-trigger-write-icon"),
                ch(t, "data-qa", "deepl-inline-translate-menu-icon"),
                fh(t, "disabled", e[3])
            },
            m(i, r) {
                Qg(i, t, r),
                n || (o = [sh(t, "click", lh(ah(e[22]))), sh(t, "mouseup", lh(ah(e[37]))), sh(t, "mousedown", lh(ah(e[38]))), sh(t, "mouseenter", e[52])],
                n = !0)
            },
            p(e, n) {
                8 & n[0] && fh(t, "disabled", e[3])
            },
            d(e) {
                e && Jg(t),
                n = !1,
                Ig(o)
            }
        }
    }
    function _I(e) {
        let t, n, o;
        return {
            c() {
                t = th("div"),
                ch(t, "class", "dl-inline-icon dl-translate-icon svelte-13ncph2"),
                ch(t, "data-testid", "dl-advanced-trigger-translate-icon"),
                ch(t, "data-qa", "deepl-inline-translate-menu-icon"),
                fh(t, "disabled", e[2])
            },
            m(i, r) {
                Qg(i, t, r),
                n || (o = [sh(t, "click", lh(ah(e[20]))), sh(t, "mouseup", lh(ah(e[35]))), sh(t, "mousedown", lh(ah(e[36]))), sh(t, "mouseenter", e[53])],
                n = !0)
            },
            p(e, n) {
                4 & n[0] && fh(t, "disabled", e[2])
            },
            d(e) {
                e && Jg(t),
                n = !1,
                Ig(o)
            }
        }
    }
    function vI(e) {
        let t, n, o;
        return n = new rI({
            props: {
                icon: e[10],
                closeSettings: e[28],
                startPage: e[11] ? Qk.inputSettings : Qk.generalSettings
            }
        }),
        n.$on("close", e[28]),
        n.$on("languageChanged", e[54]),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                ph(t, "z-index", e[18])
            },
            m(e, i) {
                Qg(e, t, i),
                cf(n, t, null),
                o = !0
            },
            p(e, t) {
                const o = {};
                1024 & t[0] && (o.icon = e[10]),
                2048 & t[0] && (o.startPage = e[11] ? Qk.inputSettings : Qk.generalSettings),
                n.$set(o)
            },
            i(e) {
                o || (Jh(n.$$.fragment, e),
                o = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                o = !1
            },
            d(e) {
                e && Jg(t),
                df(n)
            }
        }
    }
    function yI(e) {
        let t, n, o = !e[17] && sI(e);
        return {
            c() {
                o && o.c(),
                t = rh()
            },
            m(e, i) {
                o && o.m(e, i),
                Qg(e, t, i),
                n = !0
            },
            p(e, n) {
                e[17] ? o && (Xh(),
                ef(o, 1, 1, ( () => {
                    o = null
                }
                )),
                Qh()) : o ? (o.p(e, n),
                131072 & n[0] && Jh(o, 1)) : (o = sI(e),
                o.c(),
                Jh(o, 1),
                o.m(t.parentNode, t))
            },
            i(e) {
                n || (Jh(o),
                n = !0)
            },
            o(e) {
                ef(o),
                n = !1
            },
            d(e) {
                e && Jg(t),
                o && o.d(e)
            }
        }
    }
    function wI(e, o, i) {
        let r, s, a, l, c, d, u;
        Mg(e, hf, (e => i(4, d = e))),
        Mg(e, Hw, (e => i(34, u = e))),
        Lh("deepl_settings", hf),
        Lh("text_direction", Vt());
        let p, m, {platformBehaviour: g=re.default} = o, {isInput: h=!1} = o, {enableAdvancedTriggerIcon: f} = o, _ = !1, v = "", y = "", w = "", b = [], E = !1, T = !1, S = !1, x = !1, $ = !1, C = P.deepl_inline_ui.z_index + 10;
        const k = chrome.i18n.getMessage("context_menus_translate_section")
          , I = () => {
            if (d.hasITAInlineOnboardingBeenShown || !f)
                return;
            if (!A)
                return Nk;
            const e = A.getBoundingClientRect();
            return Fk(e)
        }
          , L = () => {
            !d.hasITAInlineOnboardingBeenShown && f && hf.set({
                hasITAInlineOnboardingBeenShown: !0
            }),
            i(16, M = void 0)
        }
        ;
        let A, R, M = f ? I() : void 0;
        Ch(( () => {
            A && (i(16, M = I()),
            R = A_(A, ( () => i(16, M = I()))))
        }
        )),
        t({
            action: "dlCheckCommandShortcuts"
        }).then((e => i(31, v = e ? e.filter((e => e.name == F))[0].shortcut : "")));
        const O = async () => {
            i(5, _ = h && !(await Ix(["useAdvancedWindowModeForInlineFunctionality"])).useAdvancedWindowModeForInlineFunctionality)
        }
        ;
        async function N() {
            l || (PP(),
            B(),
            L(),
            f && (ZP(),
            XP()),
            h ? (t({
                action: "dlTriggerTranslateInput"
            }),
            await O()) : t({
                action: "dlTriggerTranslateInline"
            }),
            v || n(U.hintKeyboardShortcut),
            j(ie.deepl_icon))
        }
        async function D(e, n, o) {
            if ("dlTriggerTranslationShortcut" === e.action) {
                if (l)
                    return;
                if (h)
                    return;
                N(),
                t({
                    action: "dlTrackUseOfShortcut",
                    payload: {
                        shortcutType: F,
                        location: W.inlineTranslationTriggerIcon,
                        nicheIntegration: g
                    }
                }),
                o()
            }
            return !0
        }
        function B() {
            u && u.isInlineTranslateSettingsTooltipInjected || T || i(9, E = !1)
        }
        function z() {
            u && !u.isInlineTranslateSettingsTooltipInjected && (i(9, E = !0),
            DP(g),
            t({
                action: "dlTrackInlineSettingOpened",
                payload: {
                    uiFunction: K,
                    uiLocation: W.inlineTranslationTriggerIcon,
                    nicheIntegration: g
                }
            })),
            j(ie.deepl_icon)
        }
        function H(e) {
            b.includes(e) || (t({
                action: "dlTrackIconHover",
                payload: {
                    uiLocation: e,
                    domainName: window.location.host,
                    nicheIntegration: g
                }
            }),
            b.push(e))
        }
        function j(e) {
            if (!d.isInlineHighlighterShown) {
                hf.set({
                    isInlineHighlighterShown: !0
                });
                try {
                    t({
                        action: "dlTrackCloseInlineHighlighter",
                        payload: {
                            trigger: e
                        }
                    })
                } catch (e) {
                    console.error(e)
                }
            }
        }
        chrome.runtime.onMessage.addListener(D),
        kh(( () => {
            R?.(),
            L(),
            chrome.runtime.onMessage.removeListener(D)
        }
        ));
        const G = async e => {
            await hf.set({
                targetLanguageUserInput: e.value
            }),
            i(14, $ = !1),
            N()
        }
        ;
        return e.$$set = e => {
            "platformBehaviour"in e && i(30, g = e.platformBehaviour),
            "isInput"in e && i(0, h = e.isInput),
            "enableAdvancedTriggerIcon"in e && i(1, f = e.enableAdvancedTriggerIcon)
        }
        ,
        e.$$.update = () => {
            16 & e.$$.dirty[0] && i(32, r = !d.enableInlineTranslation || d.blacklistDomainsForReading?.includes(window.location.hostname) || d.isGmailEnabled && eT()),
            16 & e.$$.dirty[0] && i(33, s = !d.enableInputTranslation || aT(window.location.host, window.location.href) || d.blacklistDomainsForWriting?.includes(window.location.hostname) || d.isGmailEnabled && eT()),
            1 & e.$$.dirty[0] | 6 & e.$$.dirty[1] && i(17, a = h && s || !h && r),
            16 & e.$$.dirty[0] && i(2, l = st(d, Ee.TRANSLATOR)),
            4 & e.$$.dirty[0] | 1 & e.$$.dirty[1] && i(6, y = l ? chrome.i18n.getMessage("contact_admin_info_translate_disabled") : v ? `${k} (${v})` : k),
            16 & e.$$.dirty[0] && i(3, c = st(d, Ee.WRITE)),
            8 & e.$$.dirty[0] && i(7, w = c ? chrome.i18n.getMessage("contact_admin_info_write_disabled") : i(7, w = chrome.i18n.getMessage("review_ui_improve_selection"))),
            16 & e.$$.dirty[0] && i(12, S = it(d, Ee.TRANSLATOR)),
            16 & e.$$.dirty[0] && i(13, x = it(d, Ee.WRITE)),
            8 & e.$$.dirty[1] && !1 === u.isInlineTranslateSettingsTooltipInjected && i(9, E = !1)
        }
        ,
        [h, f, l, c, d, _, y, w, p, E, m, T, S, x, $, A, M, a, C, L, function() {
            L(),
            function() {
                let e;
                if (!0 === f)
                    e = h ? W.inputSelectionTranslateIcon : W.inlineSelectionTranslateIcon;
                else
                    e = W.inlineTranslationTriggerIcon;
                t({
                    action: "dlTrackUILocationClicked",
                    payload: e
                })
            }(),
            !h || d.targetLanguageUserInput ? N() : i(14, $ = !0)
        }
        , N, async function() {
            c || (PP(),
            B(),
            L(),
            f && (ZP(),
            XP()),
            h ? (t({
                action: "dlTriggerImproveInput"
            }),
            await O()) : t({
                action: "dlTriggerImproveInline"
            }),
            j(ie.deepl_icon),
            t({
                action: "dlTrackUILocationClicked",
                payload: h ? W.inputSelectionWriteIcon : W.inlineSelectionWriteIcon
            }))
        }
        , function() {
            _ || i(9, E = !0)
        }
        , B, z, H, j, () => {
            i(11, T = !1)
        }
        , G, g, v, r, s, u, function(t) {
            Rh.call(this, e, t)
        }
        , function(t) {
            Rh.call(this, e, t)
        }
        , function(t) {
            Rh.call(this, e, t)
        }
        , function(t) {
            Rh.call(this, e, t)
        }
        , function(t) {
            Rh.call(this, e, t)
        }
        , function(t) {
            Rh.call(this, e, t)
        }
        , function(t) {
            Rh.call(this, e, t)
        }
        , function(t) {
            Rh.call(this, e, t)
        }
        , function(t) {
            Rh.call(this, e, t)
        }
        , function(t) {
            Rh.call(this, e, t)
        }
        , function(t) {
            Rh.call(this, e, t)
        }
        , function(t) {
            Rh.call(this, e, t)
        }
        , function(t) {
            Rh.call(this, e, t)
        }
        , function(e) {
            Oh[e ? "unshift" : "push"](( () => {
                A = e,
                i(15, A)
            }
            ))
        }
        , () => {
            h ? i(11, T = !0) : z()
        }
        , () => H(h ? W.inputSelectionTriggerOffIcon : W.inlineSelectionTriggerOffIcon), function(e) {
            Oh[e ? "unshift" : "push"](( () => {
                m = e,
                i(10, m)
            }
            ))
        }
        , () => H(h ? W.inputSelectionWriteIcon : W.inlineSelectionWriteIcon), () => H(h ? W.inputSelectionTranslateIcon : W.inlineSelectionTranslateIcon), e => G(e.detail.lang), () => H(W.inlineTranslationTriggerIcon), () => H(W.inlineTranslationSettingsIcon), function(e) {
            Oh[e ? "unshift" : "push"](( () => {
                p = e,
                i(8, p)
            }
            ))
        }
        ]
    }
    class bI extends pf {
        constructor(e) {
            super(),
            uf(this, e, wI, yI, Ag, {
                platformBehaviour: 30,
                isInput: 0,
                enableAdvancedTriggerIcon: 1
            }, null, [-1, -1, -1])
        }
    }
    const EI = {
        TRIGGER_HEIGHT: 25,
        TRIGGER_WIDTH: 25,
        TRIGGER_EXPENDED_WIDTH: 60
    };
    function TI(e, t) {
        let n = {
            containerStyleTop: t.y > 0 ? t.y : 0,
            containerStyleLeft: t.x > 0 ? t.x : 0
        };
        if (!e || !t)
            return n;
        const {TRIGGER_EXPENDED_WIDTH: o, TRIGGER_WIDTH: i, TRIGGER_HEIGHT: r} = EI
          , s = e?.detail;
        if (1 === s) {
            if (e.isOutsideOfView)
                return n;
            let s = parseInt(window.getComputedStyle(window.getSelection().anchorNode.parentElement, null).getPropertyValue("font-size"));
            const a = document.body.parentNode.getBoundingClientRect();
            let l = e.pageY + .5 * s
              , c = t.selectedTop + t.height - s - a.y;
            const d = () => {
                const e = window.getSelection();
                if (!e.rangeCount)
                    return;
                const t = e.getRangeAt(0).getClientRects();
                if (!t.length)
                    return;
                return {
                    firstRect: t[0],
                    lastRect: t[t.length - 1]
                }
            }
            ;
            if (t.height < 1.5 * s) {
                n.containerStyleLeft = e.clientX;
                const r = t.x + t.selectedWidth;
                e.clientX > r ? n.containerStyleLeft = t.selectedRight > o ? r : r - o : e.clientX - t.x < i && e.clientX < t.x && (n.containerStyleLeft = t.selectedLeft > o ? t.x : t.x + o)
            } else if (l > c) {
                const t = d();
                t && t.lastRect ? n.containerStyleLeft = t.lastRect.right : n.containerStyleLeft = e.clientX
            } else if (l < c) {
                n.containerStyleTop = t.y - t.height - r - 5;
                const o = d();
                o && o.firstRect ? n.containerStyleLeft = o.firstRect.x : n.containerStyleLeft = e.clientX
            }
        } else if (2 === s) {
            n.containerStyleLeft = t.x + t.selectedWidth - i;
            let e = parseInt(window.getComputedStyle(window.getSelection().anchorNode.parentElement, null).getPropertyValue("font-size"));
            parseInt(t.height / 2) > e && (n.containerStyleTop = t.y - t.height + e + 2)
        }
        const a = window.innerWidth || document.documentElement.innerWidth
          , l = window.scrollHeight || document.documentElement.scrollHeight;
        return n.containerStyleLeft + o > a && (n.containerStyleLeft = n.containerStyleLeft - o),
        (n.containerStyleTop + r > l || n.containerStyleTop < 0) && (n.containerStyleTop = t.y - r),
        n
    }
    class SI {
        static HTML_TAG_NAME = "deepl-inline-trigger";
        static createElement = (e=document) => {
            const t = e.createElement(SI.HTML_TAG_NAME)
              , n = new SI(t);
            return t.createDOM = n.createDOM,
            t.cleanupDOM = n.cleanupDOM,
            t.addChangeEvents = n.addChangeEvents,
            t.removeChangeEvents = n.removeChangeEvents,
            t.repositionContainer = n.repositionContainer,
            t.cachedReposition = n.cachedReposition,
            t
        }
        ;
        constructor(e) {
            this.domElement = e,
            this.domElement.shadow = this.domElement.attachShadow({
                mode: "open"
            }),
            this.domElement.shadowContainer = document.createElement("div"),
            this.domElement.container = document.createElement("div"),
            this.domElement.mainComponent,
            this.domElement.cachedMouseEvent;
            const t = document.createElement("link");
            t.setAttribute("rel", "stylesheet"),
            t.setAttribute("href", chrome.runtime.getURL("build/content.css")),
            this.domElement.shadow.appendChild(t),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer),
            this.domElement.shadowRoot.addEventListener("mouseup", (e => {
                e.stopPropagation(),
                e.stopImmediatePropagation()
            }
            )),
            this.domElement.shadowRoot.addEventListener("click", (e => {
                e.stopPropagation(),
                e.stopImmediatePropagation()
            }
            )),
            this.domElement.shadowRoot.addEventListener("mousedown", (e => {
                e.stopPropagation(),
                e.stopImmediatePropagation()
            }
            ))
        }
        createDOM = async (e, t) => {
            this.domElement.shadowContainer && this.domElement.shadowContainer.childElementCount > 0 && this.domElement.cleanupDOM(),
            this.domElement.repositionContainer(t),
            this.domElement.shadowContainer.appendChild(this.domElement.container);
            const n = await Bx();
            this.domElement.mainComponent = new bI({
                target: this.domElement.container,
                props: {
                    websiteSettings: e,
                    enableAdvancedTriggerIcon: n
                }
            }),
            this.domElement.addChangeEvents(),
            this.domElement.cachedMouseEvent = t
        }
        ;
        repositionContainer = e => {
            if (window.getSelection() && !window.getSelection().toString())
                return void this.domElement.cleanupDOM();
            const {deepl_inline_ui: t} = P
              , n = t.z_index - 500
              , o = pT();
            let i = `position: absolute; top: 0px; left: 0px; width: 100%; z-index: ${n}; visibility: initial !important;`
              , r = `position: absolute; z-index: ${n};`;
            this.domElement.shadowContainer.style.cssText = i,
            this.domElement.container.style.cssText = r;
            const s = TI(e, o);
            this.domElement.container.style.top = `${parseInt(s.containerStyleTop)}px`,
            this.domElement.container.style.left = `${parseInt(s.containerStyleLeft)}px`
        }
        ;
        cachedReposition = () => this.domElement.repositionContainer(this.domElement.cachedMouseEvent);
        addChangeEvents = () => {
            window.addEventListener("scroll", this.domElement.cachedReposition),
            window.addEventListener("resize", this.domElement.cachedReposition)
        }
        ;
        removeChangeEvents = () => {
            window.removeEventListener("scroll", this.domElement.cachedReposition),
            window.removeEventListener("resize", this.domElement.cachedReposition)
        }
        ;
        cleanupDOM = () => {
            this.domElement.container.remove(),
            this.domElement.shadowContainer.remove(),
            this.domElement.shadowContainer = document.createElement("div"),
            this.domElement.container = document.createElement("div"),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer),
            this.domElement.mainComponent && this.domElement.mainComponent.$destroy(),
            this.domElement.removeChangeEvents()
        }
    }
    const xI = {
        TRANSLATE: "translate",
        WRITE: "write"
    }
      , $I = xI
      , CI = async e => {
        const t = gt();
        let n, o = e.ownerDocument, i = i_(e).getSelection();
        n = t ? i && i.anchorNode && "#text" == i.anchorNode.nodeName && "Range" == i.type && e.contains(i.anchorNode) : i && i.baseNode && "#text" == i.baseNode.nodeName && "Range" == i.type && (e.contains(i.baseNode) || function(e, t) {
            return "IFRAME" === e.nodeName.toUpperCase() && a_(e) === t.ownerDocument
        }(e, i.baseNode)),
        n || (e.focus(),
        await d_(e)),
        i = i_(e).getSelection();
        const {domElements: r, strings: s, container: a} = function({thisDocument: e, selection: t}) {
            let n;
            t.getRangeAt ? n = t.getRangeAt(0) : (n = e.createRange(),
            n.setStart(t.anchorNode, t.anchorOffset),
            n.setEnd(t.focusNode, t.focusOffset));
            const o = n.cloneContents()
              , i = document.createElement("div");
            i.appendChild(o),
            i.style.display = "block",
            i.style.position = "fixed",
            i.style.height = "0px",
            i.style.width = "0px",
            i.style.top = "-500px",
            i.style.left = "-500px",
            i.style.overflow = "hidden",
            document.body.appendChild(i);
            const {domElements: r, strings: s} = _T(i);
            return {
                domElements: r,
                strings: s,
                container: i
            }
        }({
            thisDocument: o,
            selection: i
        });
        return {
            domElements: r,
            strings: s,
            container: a,
            isSubtextSelected: n
        }
    }
    ;
    const kI = e => {
        const {domElements: t, strings: n, cloneContainer: o} = function(e) {
            const t = e.cloneNode(!0)
              , n = document.createElement("div");
            n.appendChild(t),
            n.style.display = "none",
            document.body.appendChild(n);
            const {domElements: o, strings: i} = _T(n);
            return {
                domElements: o,
                strings: i,
                cloneContainer: n
            }
        }(e);
        return {
            domElements: t,
            strings: n,
            cloneContainer: o
        }
    }
    ;
    const II = new DOMParser
      , LI = (e, t) => {
        const n = document.createElement(t)
          , o = Array.from(e.attributes)
          , i = e.tagName;
        for (; e.firstChild; )
            n.appendChild(e.firstChild);
        return e.parentNode?.replaceChild(n, e),
        {
            tagName: i.toLowerCase(),
            attributes: o
        }
    }
      , AI = e => {
        const t = []
          , n = new Map;
        for (let o = 0; o < e.length; ++o) {
            const i = e[o]
              , r = II.parseFromString(i, "text/html")
              , s = Array.from(r.querySelectorAll("body *:not(head):not(html)"));
            for (let e of s) {
                const t = `a${n.size + 1}`
                  , o = LI(e, t);
                n.set(t, o)
            }
            const a = r.body.innerHTML;
            t.push(a)
        }
        return {
            map: n,
            simplifiedHtml: t
        }
    }
      , RI = (e, t) => {
        const n = II.parseFromString(t, "text/html")
          , o = Array.from(n.querySelectorAll("body *:not(head):not(html)"));
        for (const t of o) {
            const n = e.get(t.tagName.toLowerCase());
            if (!n)
                continue;
            const o = document.createElement(n.tagName);
            for (const e of n.attributes)
                o.setAttribute(e.name, e.value);
            for (; t.firstChild; )
                o.appendChild(t.firstChild);
            t.parentNode?.replaceChild(o, t)
        }
        return n.body.innerHTML
    }
    ;
    async function MI(e, t, n) {
        !function() {
            const e = window.getSelection();
            return e.toString() === e.focusNode.textContent
        }() ? await oT(e, t, n) : await f_(e, t)
    }
    var OI = Object.freeze({
        __proto__: null,
        split: async function(e, t) {
            const n = await CI(e);
            t && (n.strings = n.domElements.map((e => e.innerText)));
            const o = n.strings.map((e => ({
                text: e
            })));
            return {
                textConfig: n,
                requests: o
            }
        },
        reassemble: function(e, t) {
            yT({
                strings: t[0]?.texts,
                domElements: e.domElements
            });
            const n = new Map;
            let o = 0
              , i = 0;
            for (const t of e.container.children)
                1 === t.children.length && "BR" === t.children[0].nodeName ? i++ : (n.set(o, i),
                o++);
            const r = {
                text: t[0]?.texts ? t[0]?.texts.map(( (e, t) => {
                    const o = n.get(t + 1) ?? 0;
                    return e + "\n".repeat(o)
                }
                )).join("\n") : "",
                html: e.container.innerHTML
            };
            return e.container.remove(),
            r
        },
        injectContent: async function(e, t, n) {
            await MI(e, t, n)
        }
    });
    var NI = Object.freeze({
        __proto__: null,
        injectContent: async function(e, t, n) {
            await MI(e, t, n)
        }
    });
    function DI(e) {
        return e.includes("web.whatsapp.com") ? OI : e.includes("facebook.com") ? NI : void 0
    }
    async function PI(e, n) {
        const {isWriteRequest: o, targetLang: i, nicheIntegration: r, sourceLang: s, isHtml: a, clearInnerHTML: l, removeFormatting: c} = {
            isWriteRequest: !1,
            targetLang: null,
            nicheIntegration: null,
            sourceLang: null,
            isHtml: null,
            clearInnerHTML: null,
            removeFormatting: !1,
            ...n
        };
        let d, u = {}, p = [];
        const m = !tT(e)
          , g = DI(window.location.host);
        if (g?.split) {
            const t = await g.split(e, c);
            u = t.textConfig,
            p = t.requests
        } else if (m)
            u = await CI(e),
            c && (u.strings = u.domElements.map((e => e.innerText))),
            p = u.strings.map((e => ({
                text: e
            })));
        else {
            const t = e.value;
            nT(e) && (u.isSubtextSelected = !0),
            d = u.isSubtextSelected ? t.substring(e.selectionStart, e.selectionEnd) : t,
            p.push({
                text: d
            })
        }
        if (0 === p.length)
            return;
        let h, f;
        if (s)
            h = s;
        else
            try {
                h = document.documentElement.lang
            } catch (e) {
                console.error(e)
            }
        const _ = AI(p.map((e => e.text)));
        f = o ? await t({
            action: "dlRequestImproveWriting",
            payload: {
                requests: _.simplifiedHtml.map((e => ({
                    text: e
                }))),
                domainName: window.location.hostname,
                websiteLanguage: h,
                sourceLang: s,
                ...a && {
                    isHtml: !0
                },
                nicheIntegration: r
            }
        }) : await t({
            action: "dlRequestInputTranslation",
            payload: {
                requests: _.simplifiedHtml.map((e => ({
                    text: e
                }))),
                domainName: window.location.hostname,
                websiteLanguage: h,
                targetLang: i,
                platformBehavior: r
            }
        }),
        f = f.map((e => ({
            ...e,
            text: RI(_.map, e.text),
            texts: e.texts.map((e => RI(_.map, e)))
        })));
        let v = {
            text: "",
            html: ""
        };
        g?.reassemble ? v = g.reassemble(u, f) : m ? (yT({
            strings: f[0]?.texts,
            domElements: u.domElements
        }),
        v.text = u.container.innerText,
        v.html = vt(u.container.innerHTML),
        u.container.remove()) : (v.text = f[0].text,
        v.html = f[0].text),
        m && !u.isSubtextSelected && T_(e),
        l && !u.isSubtextSelected && (e.innerHTML = ""),
        await oT(e, v, u.isSubtextSelected)
    }
    async function UI(e, n) {
        let o, i = {}, r = [];
        if (!tT(e))
            i = await CI(e),
            r = i.strings.map((e => e));
        else {
            const t = e.value;
            nT(e) && (i.isSubtextSelected = !0),
            o = i.isSubtextSelected ? t.substring(e.selectionStart, e.selectionEnd) : t,
            r.push(o)
        }
        return await t({
            action: "dlSplitTextRequest",
            payload: {
                texts: r,
                mode: n
            }
        })
    }
    async function BI(e) {
        const {element: n, mode: o, targetLang: i, style: r, formality: s, writeLang: a} = e;
        let l, c = {}, d = [];
        const u = !tT(n);
        if (u)
            c = await CI(n),
            d = c.strings.map((e => e));
        else {
            const e = n.value;
            nT(n) && (c.isSubtextSelected = !0),
            l = c.isSubtextSelected ? e.substring(n.selectionStart, n.selectionEnd) : e,
            d.push(l)
        }
        const p = AI(d);
        let m = await t({
            action: "dlRequestAlternatives",
            payload: {
                texts: p.simplifiedHtml,
                mode: o,
                targetLang: i,
                style: r,
                formality: s,
                domainName: window.location.hostname,
                writeLang: a
            }
        });
        if (u) {
            const e = m.alternativeComponents.map((e => {
                const t = e.map((e => RI(p.map, e)));
                return yT({
                    strings: t,
                    domElements: c.domElements
                }),
                {
                    text: c.container.innerText,
                    html: vt(c.container.innerHTML)
                }
            }
            ));
            m = {
                ...m,
                processedText: RI(p.map, m.processedText.processedText),
                alternatives: e.map((e => e.text)),
                alternativesHtml: e.map((e => e.html))
            },
            c.container.remove()
        } else
            m = {
                ...m,
                processedText: RI(p.map, m.processedText.processedText),
                alternatives: m.alternatives.map((e => RI(p.map, e)))
            };
        return m
    }
    async function WI(e, t, n) {
        const o = !tT(t)
          , i = {
            text: "",
            html: ""
        }
          , r = DI(window.location.host);
        r?.injectContent ? (i.text = e,
        i.html = n) : o ? (i.text = e,
        i.html = n,
        T_(t)) : (i.text = e,
        i.html = e),
        r?.injectContent ? await r.injectContent(t, i, !0) : await oT(t, i, !0)
    }
    function FI(e) {
        let t, n, o, i, r;
        return n = new B_({
            props: {
                items: e[1],
                selectedOption: e[2],
                alignRight: !1,
                dataQaButton: "deepl-formality-selection-button",
                dataQaList: "deepl-formality-selection-list",
                variant: e[0],
                autoHeight: !0
            }
        }),
        n.$on("valueselected", e[3]),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment)
            },
            m(s, a) {
                Qg(s, t, a),
                cf(n, t, null),
                o = !0,
                i || (r = sh(t, "mousedown", lh(ah(e[5]))),
                i = !0)
            },
            p(e, [t]) {
                const o = {};
                2 & t && (o.items = e[1]),
                4 & t && (o.selectedOption = e[2]),
                1 & t && (o.variant = e[0]),
                n.$set(o)
            },
            i(e) {
                o || (Jh(n.$$.fragment, e),
                o = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                o = !1
            },
            d(e) {
                e && Jg(t),
                df(n),
                i = !1,
                r()
            }
        }
    }
    function zI(e, n, o) {
        let i, r;
        const s = Ih();
        let {value: a} = n
          , {variant: l} = n;
        return e.$$set = e => {
            "value"in e && o(4, a = e.value),
            "variant"in e && o(0, l = e.variant)
        }
        ,
        e.$$.update = () => {
            18 & e.$$.dirty && o(2, r = a ? i.find((e => e.value === a)) : i.find((e => e.value === Ze)))
        }
        ,
        o(1, i = [{
            value: Ze,
            label: chrome.i18n.getMessage("ui_formality_automatic"),
            selectedOptionLabel: chrome.i18n.getMessage("ui_formality_automatic")
        }, {
            value: Xe,
            label: chrome.i18n.getMessage("ui_formality_formal"),
            selectedOptionLabel: chrome.i18n.getMessage("ui_formality_formal")
        }, {
            value: Qe,
            label: chrome.i18n.getMessage("ui_formality_informal"),
            selectedOptionLabel: chrome.i18n.getMessage("ui_formality_informal")
        }]),
        [l, i, r, function(e) {
            e.detail.selectedOption.value !== a && (s("selection", e.detail),
            Promise.allSettled([t({
                action: "dlTrackFormalitySelected",
                payload: {
                    formality: e.detail.selectedOption.value
                }
            })]))
        }
        , a, function(t) {
            Rh.call(this, e, t)
        }
        ]
    }
    class HI extends pf {
        constructor(e) {
            super(),
            uf(this, e, zI, FI, Ag, {
                value: 4,
                variant: 0
            })
        }
    }
    function jI(e, t, n) {
        const o = e.slice();
        return o[11] = t[n],
        o
    }
    function GI(e, t, n) {
        const o = e.slice();
        return o[14] = t[n],
        o
    }
    function qI(e) {
        let t, n, o;
        function i() {
            return e[8](e[14])
        }
        return {
            c() {
                t = th("button"),
                t.textContent = `${chrome.i18n.getMessage(`writing_style_${e[14]}`)}`,
                ch(t, "class", "svelte-i0wtba"),
                fh(t, "active", e[14] === e[0])
            },
            m(e, r) {
                Qg(e, t, r),
                n || (o = sh(t, "click", i),
                n = !0)
            },
            p(n, o) {
                e = n,
                1 & o && fh(t, "active", e[14] === e[0])
            },
            d(e) {
                e && Jg(t),
                n = !1,
                o()
            }
        }
    }
    function VI(e) {
        let t, n, o;
        function i() {
            return e[9](e[11])
        }
        return {
            c() {
                t = th("button"),
                t.textContent = `${chrome.i18n.getMessage(`writing_tone_${e[11]}`)}`,
                ch(t, "class", "svelte-i0wtba"),
                fh(t, "active", e[11] === e[1])
            },
            m(e, r) {
                Qg(e, t, r),
                n || (o = sh(t, "click", i),
                n = !0)
            },
            p(n, o) {
                e = n,
                2 & o && fh(t, "active", e[11] === e[1])
            },
            d(e) {
                e && Jg(t),
                n = !1,
                o()
            }
        }
    }
    function YI(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h, f, _, v, y, w, b, E = sf(et), T = [];
        for (let t = 0; t < E.length; t += 1)
            T[t] = qI(GI(e, E, t));
        let S = sf(tt)
          , x = [];
        for (let t = 0; t < S.length; t += 1)
            x[t] = VI(jI(e, S, t));
        return {
            c() {
                t = th("div"),
                n = th("div"),
                o = th("div"),
                o.textContent = `${chrome.i18n.getMessage("write_style_options_headline_style")}`,
                i = ih(),
                r = th("div");
                for (let e = 0; e < T.length; e += 1)
                    T[e].c();
                s = ih(),
                a = th("div"),
                a.textContent = `${chrome.i18n.getMessage("write_style_options_description_style")}`,
                l = ih(),
                c = th("div"),
                d = th("div"),
                d.textContent = `${chrome.i18n.getMessage("write_style_options_headline_tone")}`,
                u = ih(),
                p = th("div");
                for (let e = 0; e < x.length; e += 1)
                    x[e].c();
                m = ih(),
                g = th("div"),
                g.textContent = `${chrome.i18n.getMessage("write_style_options_description_tone")}`,
                h = ih(),
                f = th("div"),
                _ = th("button"),
                _.textContent = `${chrome.i18n.getMessage("write_style_options_cta_reset")}`,
                v = ih(),
                y = th("button"),
                y.textContent = `${chrome.i18n.getMessage("write_style_options_cta_apply")}`,
                ch(o, "class", "title svelte-i0wtba"),
                ch(r, "class", "toggles svelte-i0wtba"),
                ch(a, "class", "explanation svelte-i0wtba"),
                ch(n, "class", "writing-style svelte-i0wtba"),
                ch(d, "class", "title svelte-i0wtba"),
                ch(p, "class", "toggles svelte-i0wtba"),
                ch(g, "class", "explanation svelte-i0wtba"),
                ch(c, "class", "tone svelte-i0wtba"),
                ch(_, "class", "reset svelte-i0wtba"),
                ch(y, "class", "apply svelte-i0wtba"),
                fh(y, "enabled", e[0] || e[1]),
                ch(f, "class", "actions svelte-i0wtba"),
                ch(t, "class", "container svelte-i0wtba")
            },
            m(E, S) {
                Qg(E, t, S),
                Kg(t, n),
                Kg(n, o),
                Kg(n, i),
                Kg(n, r);
                for (let e = 0; e < T.length; e += 1)
                    T[e] && T[e].m(r, null);
                Kg(n, s),
                Kg(n, a),
                Kg(t, l),
                Kg(t, c),
                Kg(c, d),
                Kg(c, u),
                Kg(c, p);
                for (let e = 0; e < x.length; e += 1)
                    x[e] && x[e].m(p, null);
                Kg(c, m),
                Kg(c, g),
                Kg(t, h),
                Kg(t, f),
                Kg(f, _),
                Kg(f, v),
                Kg(f, y),
                w || (b = [sh(_, "click", e[5]), sh(y, "click", e[4])],
                w = !0)
            },
            p(e, [t]) {
                if (5 & t) {
                    let n;
                    for (E = sf(et),
                    n = 0; n < E.length; n += 1) {
                        const o = GI(e, E, n);
                        T[n] ? T[n].p(o, t) : (T[n] = qI(o),
                        T[n].c(),
                        T[n].m(r, null))
                    }
                    for (; n < T.length; n += 1)
                        T[n].d(1);
                    T.length = E.length
                }
                if (10 & t) {
                    let n;
                    for (S = sf(tt),
                    n = 0; n < S.length; n += 1) {
                        const o = jI(e, S, n);
                        x[n] ? x[n].p(o, t) : (x[n] = VI(o),
                        x[n].c(),
                        x[n].m(p, null))
                    }
                    for (; n < x.length; n += 1)
                        x[n].d(1);
                    x.length = S.length
                }
                3 & t && fh(y, "enabled", e[0] || e[1])
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                eh(T, e),
                eh(x, e),
                w = !1,
                Ig(b)
            }
        }
    }
    function KI(e, n, o) {
        const i = Ih();
        let {writingStyle: r} = n
          , {tone: s} = n
          , a = r
          , l = s;
        function c(e) {
            o(1, l = void 0),
            o(0, a = e);
            try {
                t({
                    action: "dlTrackWriteTextStylesChanged",
                    payload: {
                        style: a || void 0
                    }
                })
            } catch (e) {
                console.error(e)
            }
        }
        function d(e) {
            o(0, a = void 0),
            o(1, l = e);
            try {
                t({
                    action: "dlTrackWriteTextTonesChanged",
                    payload: {
                        tone: l || void 0
                    }
                })
            } catch (e) {
                console.error(e)
            }
        }
        return e.$$set = e => {
            "writingStyle"in e && o(6, r = e.writingStyle),
            "tone"in e && o(7, s = e.tone)
        }
        ,
        [a, l, c, d, function() {
            o(6, r = a),
            o(7, s = l);
            try {
                t({
                    action: "dlTrackWriteTextStylesApplied",
                    payload: {
                        style: r || s || void 0
                    }
                })
            } catch (e) {
                console.error(e)
            }
            i("apply")
        }
        , function() {
            o(1, l = void 0),
            o(0, a = void 0),
            o(7, s = void 0),
            o(6, r = void 0),
            i("reset")
        }
        , r, s, e => c(e), e => d(e)]
    }
    class ZI extends pf {
        constructor(e) {
            super(),
            uf(this, e, KI, YI, Ag, {
                writingStyle: 6,
                tone: 7
            })
        }
    }
    function XI(e) {
        let t, n, o, i, r, s;
        return {
            c() {
                t = th("div"),
                n = th("div"),
                o = th("div"),
                o.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M11.25 11.25L11.2915 11.2293C11.8646 10.9427 12.5099 11.4603 12.3545 12.082L11.6455 14.918C11.4901 15.5397 12.1354 16.0573 12.7085 15.7707L12.75 15.75M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12ZM12 8.25H12.0075V8.2575H12V8.25Z" stroke="#0177A9" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',
                i = ih(),
                r = th("div"),
                s = th("p"),
                s.textContent = `${chrome.i18n.getMessage("write_not_supported_language_message")}`,
                ch(o, "class", "icon svelte-16948va"),
                ch(s, "class", "svelte-16948va"),
                ch(r, "class", "text svelte-16948va"),
                ch(n, "class", "message svelte-16948va"),
                ch(t, "class", "container svelte-16948va")
            },
            m(e, a) {
                Qg(e, t, a),
                Kg(t, n),
                Kg(n, o),
                Kg(n, i),
                Kg(n, r),
                Kg(r, s)
            },
            p: xg,
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    class QI extends pf {
        constructor(e) {
            super(),
            uf(this, e, null, XI, Ag, {})
        }
    }
    function JI(e) {
        let t, n;
        return {
            c() {
                t = nh("svg"),
                n = nh("path"),
                ch(n, "d", "M19 10C19 14.9706 14.9706 19 10 19M19 10C19 5.02944 14.9706 1 10 1M19 10H1M10 19C5.02944 19 1 14.9706 1 10M10 19C11.6569 19 13 14.9706 13 10C13 5.02944 11.6569 1 10 1M10 19C8.34315 19 7 14.9706 7 10C7 5.02944 8.34315 1 10 1M1 10C1 5.02944 5.02944 1 10 1"),
                ch(n, "stroke", e[0]),
                ch(n, "stroke-width", "1.5"),
                ch(n, "stroke-linecap", "round"),
                ch(n, "stroke-linejoin", "round"),
                ch(t, "width", "20"),
                ch(t, "height", "20"),
                ch(t, "viewBox", "0 0 20 20"),
                ch(t, "fill", "none"),
                ch(t, "xmlns", "http://www.w3.org/2000/svg")
            },
            m(e, o) {
                Qg(e, t, o),
                Kg(t, n)
            },
            p(e, [t]) {
                1 & t && ch(n, "stroke", e[0])
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function eL(e, t, n) {
        let {isActive: o} = t
          , {isDisabled: i} = t
          , r = "#242B34";
        return e.$$set = e => {
            "isActive"in e && n(1, o = e.isActive),
            "isDisabled"in e && n(2, i = e.isDisabled)
        }
        ,
        e.$$.update = () => {
            6 & e.$$.dirty && n(0, r = i ? "#848F9B" : o ? "white" : "#242B34")
        }
        ,
        [r, o, i]
    }
    class tL extends pf {
        constructor(e) {
            super(),
            uf(this, e, eL, JI, Ag, {
                isActive: 1,
                isDisabled: 2
            })
        }
    }
    function nL(e) {
        let t, n;
        return {
            c() {
                t = nh("svg"),
                n = nh("path"),
                ch(n, "d", "M13.2322 3.23223L16.7677 6.76777M14.7322 1.73223C15.7085 0.755922 17.2914 0.755922 18.2677 1.73223C19.244 2.70854 19.244 4.29146 18.2677 5.26777L4.5 19.0355H1V15.4644L14.7322 1.73223Z"),
                ch(n, "stroke", e[2]),
                ch(n, "stroke-width", "1.5"),
                ch(n, "stroke-linecap", "round"),
                ch(n, "stroke-linejoin", "round"),
                ch(t, "width", e[0]),
                ch(t, "height", e[1]),
                ch(t, "viewBox", "0 0 20 20"),
                ch(t, "fill", "none"),
                ch(t, "xmlns", "http://www.w3.org/2000/svg")
            },
            m(e, o) {
                Qg(e, t, o),
                Kg(t, n)
            },
            p(e, [o]) {
                4 & o && ch(n, "stroke", e[2]),
                1 & o && ch(t, "width", e[0]),
                2 & o && ch(t, "height", e[1])
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function oL(e, t, n) {
        let {isActive: o} = t
          , {isDisabled: i} = t
          , r = "#242B34"
          , {width: s="20"} = t
          , {height: a="20"} = t;
        return e.$$set = e => {
            "isActive"in e && n(3, o = e.isActive),
            "isDisabled"in e && n(4, i = e.isDisabled),
            "width"in e && n(0, s = e.width),
            "height"in e && n(1, a = e.height)
        }
        ,
        e.$$.update = () => {
            24 & e.$$.dirty && n(2, r = i ? "#848F9B" : o ? "white" : "#242B34")
        }
        ,
        [s, a, r, o, i]
    }
    class iL extends pf {
        constructor(e) {
            super(),
            uf(this, e, oL, nL, Ag, {
                isActive: 3,
                isDisabled: 4,
                width: 0,
                height: 1
            })
        }
    }
    function rL(e) {
        let t, n;
        return {
            c() {
                t = nh("svg"),
                n = nh("path"),
                ch(n, "fill-rule", "evenodd"),
                ch(n, "clip-rule", "evenodd"),
                ch(n, "d", "M7.66109 0.236324C7.85709 0.0735691 8.1429 0.0735693 8.33891 0.236324C10.2777 1.84618 12.7315 2.85723 15.4166 2.98576C15.658 2.99732 15.8641 3.17164 15.8957 3.41119C15.9645 3.93104 16 4.4614 16 5.00004C16 10.1625 12.7401 14.5635 8.16655 16.257C8.05931 16.2967 7.94102 16.2967 7.83378 16.257C3.26004 14.5636 0 10.1625 0 4.99992C0 4.46132 0.0354836 3.93101 0.10424 3.41119C0.135926 3.17165 0.342016 2.99732 0.583373 2.98576C3.2685 2.85723 5.72231 1.84618 7.66109 0.236324ZM11.8566 6.19088C12.1002 5.8559 12.0261 5.38683 11.6911 5.1432C11.3561 4.89958 10.8871 4.97364 10.6434 5.30863L7.15969 10.0988L5.28033 8.21943C4.98744 7.92653 4.51256 7.92653 4.21967 8.21943C3.92678 8.51232 3.92678 8.98719 4.21967 9.28009L6.71967 11.7801C6.87477 11.9352 7.08999 12.0146 7.30867 11.9975C7.52734 11.9803 7.72754 11.8683 7.85655 11.6909L11.8566 6.19088Z"),
                ch(n, "fill", "#007E5E"),
                ch(t, "width", "16"),
                ch(t, "height", "17"),
                ch(t, "viewBox", "0 0 16 17"),
                ch(t, "fill", "none"),
                ch(t, "xmlns", "http://www.w3.org/2000/svg")
            },
            m(e, o) {
                Qg(e, t, o),
                Kg(t, n)
            },
            d(e) {
                e && Jg(t)
            }
        }
    }
    function sL(e) {
        let t, n;
        return {
            c() {
                t = nh("svg"),
                n = nh("path"),
                ch(n, "fill-rule", "evenodd"),
                ch(n, "clip-rule", "evenodd"),
                ch(n, "d", "M7.66109 0.236324C7.85709 0.0735691 8.1429 0.0735693 8.33891 0.236324C10.2777 1.84618 12.7315 2.85723 15.4166 2.98576C15.658 2.99732 15.8641 3.17164 15.8957 3.41119C15.9645 3.93104 16 4.4614 16 5.00004C16 10.1625 12.7401 14.5635 8.16655 16.257C8.05931 16.2967 7.94102 16.2967 7.83378 16.257C3.26004 14.5636 0 10.1625 0 4.99992C0 4.46132 0.0354836 3.93101 0.10424 3.41119C0.135926 3.17165 0.342016 2.99732 0.583373 2.98576C3.2685 2.85723 5.72231 1.84618 7.66109 0.236324ZM11.8566 6.19088C12.1002 5.8559 12.0261 5.38683 11.6911 5.1432C11.3561 4.89958 10.8871 4.97364 10.6434 5.30863L7.15969 10.0988L5.28033 8.21943C4.98744 7.92653 4.51256 7.92653 4.21967 8.21943C3.92678 8.51232 3.92678 8.98719 4.21967 9.28009L6.71967 11.7801C6.87477 11.9352 7.08999 12.0146 7.30867 11.9975C7.52734 11.9803 7.72754 11.8683 7.85655 11.6909L11.8566 6.19088Z"),
                ch(n, "fill", "white"),
                ch(t, "width", "16"),
                ch(t, "height", "17"),
                ch(t, "viewBox", "0 0 16 17"),
                ch(t, "fill", "none"),
                ch(t, "xmlns", "http://www.w3.org/2000/svg")
            },
            m(e, o) {
                Qg(e, t, o),
                Kg(t, n)
            },
            d(e) {
                e && Jg(t)
            }
        }
    }
    function aL(e) {
        let t;
        function n(e, t) {
            return e[0] ? sL : rL
        }
        let o = n(e)
          , i = o(e);
        return {
            c() {
                i.c(),
                t = rh()
            },
            m(e, n) {
                i.m(e, n),
                Qg(e, t, n)
            },
            p(e, [r]) {
                o !== (o = n(e)) && (i.d(1),
                i = o(e),
                i && (i.c(),
                i.m(t.parentNode, t)))
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                i.d(e)
            }
        }
    }
    function lL(e, t, n) {
        let {isActive: o} = t;
        return e.$$set = e => {
            "isActive"in e && n(0, o = e.isActive)
        }
        ,
        [o]
    }
    class cL extends pf {
        constructor(e) {
            super(),
            uf(this, e, lL, aL, Ag, {
                isActive: 0
            })
        }
    }
    function dL(e, t, n) {
        const o = e.slice();
        return o[50] = t[n],
        o[52] = n,
        o
    }
    function uL(e) {
        let t, n;
        return t = new cL({
            props: {
                isActive: e[7] === $I.TRANSLATE
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                128 & n[0] && (o.isActive = e[7] === $I.TRANSLATE),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function pL(e) {
        let t, n, o, i, r, s, a, l, c = chrome.i18n.getMessage("input_selection_tab_button_translate") + "", d = it(e[6], Ee.TRANSLATOR);
        n = new tL({
            props: {
                isActive: e[7] === $I.TRANSLATE,
                isDisabled: e[19]
            }
        });
        let u = d && uL(e);
        return {
            c() {
                t = th("button"),
                lf(n.$$.fragment),
                o = ih(),
                i = oh(c),
                r = ih(),
                u && u.c(),
                ch(t, "class", "svelte-1o1n7yg"),
                fh(t, "isActive", e[7] === $I.TRANSLATE),
                fh(t, "isDisabled", e[19])
            },
            m(c, d) {
                Qg(c, t, d),
                cf(n, t, null),
                Kg(t, o),
                Kg(t, i),
                Kg(t, r),
                u && u.m(t, null),
                s = !0,
                a || (l = sh(t, "click", e[37]),
                a = !0)
            },
            p(e, o) {
                const i = {};
                128 & o[0] && (i.isActive = e[7] === $I.TRANSLATE),
                524288 & o[0] && (i.isDisabled = e[19]),
                n.$set(i),
                64 & o[0] && (d = it(e[6], Ee.TRANSLATOR)),
                d ? u ? (u.p(e, o),
                64 & o[0] && Jh(u, 1)) : (u = uL(e),
                u.c(),
                Jh(u, 1),
                u.m(t, null)) : u && (Xh(),
                ef(u, 1, 1, ( () => {
                    u = null
                }
                )),
                Qh()),
                (!s || 128 & o[0]) && fh(t, "isActive", e[7] === $I.TRANSLATE),
                (!s || 524288 & o[0]) && fh(t, "isDisabled", e[19])
            },
            i(e) {
                s || (Jh(n.$$.fragment, e),
                Jh(u),
                s = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                ef(u),
                s = !1
            },
            d(e) {
                e && Jg(t),
                df(n),
                u && u.d(),
                a = !1,
                l()
            }
        }
    }
    function mL(e) {
        let t, n;
        return t = new cL({
            props: {
                isActive: e[7] === $I.WRITE
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                128 & n[0] && (o.isActive = e[7] === $I.WRITE),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function gL(e) {
        let t, n, o, i, r, s, a, l, c = chrome.i18n.getMessage("input_selection_tab_button_write") + "", d = it(e[6], Ee.WRITE);
        n = new iL({
            props: {
                isActive: e[7] === $I.WRITE,
                isDisabled: e[18]
            }
        });
        let u = d && mL(e);
        return {
            c() {
                t = th("button"),
                lf(n.$$.fragment),
                o = ih(),
                i = oh(c),
                r = ih(),
                u && u.c(),
                ch(t, "class", "svelte-1o1n7yg"),
                fh(t, "isActive", e[7] === $I.WRITE),
                fh(t, "isDisabled", e[18])
            },
            m(c, d) {
                Qg(c, t, d),
                cf(n, t, null),
                Kg(t, o),
                Kg(t, i),
                Kg(t, r),
                u && u.m(t, null),
                s = !0,
                a || (l = sh(t, "click", e[38]),
                a = !0)
            },
            p(e, o) {
                const i = {};
                128 & o[0] && (i.isActive = e[7] === $I.WRITE),
                262144 & o[0] && (i.isDisabled = e[18]),
                n.$set(i),
                64 & o[0] && (d = it(e[6], Ee.WRITE)),
                d ? u ? (u.p(e, o),
                64 & o[0] && Jh(u, 1)) : (u = mL(e),
                u.c(),
                Jh(u, 1),
                u.m(t, null)) : u && (Xh(),
                ef(u, 1, 1, ( () => {
                    u = null
                }
                )),
                Qh()),
                (!s || 128 & o[0]) && fh(t, "isActive", e[7] === $I.WRITE),
                (!s || 262144 & o[0]) && fh(t, "isDisabled", e[18])
            },
            i(e) {
                s || (Jh(n.$$.fragment, e),
                Jh(u),
                s = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                ef(u),
                s = !1
            },
            d(e) {
                e && Jg(t),
                df(n),
                u && u.d(),
                a = !1,
                l()
            }
        }
    }
    function hL(e) {
        let t, n, o = e[17] && !e[2] && _L(e);
        return {
            c() {
                o && o.c(),
                t = rh()
            },
            m(e, i) {
                o && o.m(e, i),
                Qg(e, t, i),
                n = !0
            },
            p(e, n) {
                e[17] && !e[2] ? o ? (o.p(e, n),
                131076 & n[0] && Jh(o, 1)) : (o = _L(e),
                o.c(),
                Jh(o, 1),
                o.m(t.parentNode, t)) : o && (Xh(),
                ef(o, 1, 1, ( () => {
                    o = null
                }
                )),
                Qh())
            },
            i(e) {
                n || (Jh(o),
                n = !0)
            },
            o(e) {
                ef(o),
                n = !1
            },
            d(e) {
                e && Jg(t),
                o && o.d(e)
            }
        }
    }
    function fL(e) {
        let t, n, o, i, r = e[21] && it(e[6], Ee.TRANSLATOR);
        n = new ob({
            props: {
                value: e[1],
                fontSize: "sm",
                variant: "input-selection-result"
            }
        }),
        n.$on("selection", e[41]);
        let s = r && yL(e);
        return {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                o = ih(),
                s && s.c(),
                ch(t, "class", "translate-options svelte-1o1n7yg")
            },
            m(e, r) {
                Qg(e, t, r),
                cf(n, t, null),
                Kg(t, o),
                s && s.m(t, null),
                i = !0
            },
            p(e, o) {
                const i = {};
                2 & o[0] && (i.value = e[1]),
                n.$set(i),
                2097216 & o[0] && (r = e[21] && it(e[6], Ee.TRANSLATOR)),
                r ? s ? (s.p(e, o),
                2097216 & o[0] && Jh(s, 1)) : (s = yL(e),
                s.c(),
                Jh(s, 1),
                s.m(t, null)) : s && (Xh(),
                ef(s, 1, 1, ( () => {
                    s = null
                }
                )),
                Qh())
            },
            i(e) {
                i || (Jh(n.$$.fragment, e),
                Jh(s),
                i = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                ef(s),
                i = !1
            },
            d(e) {
                e && Jg(t),
                df(n),
                s && s.d()
            }
        }
    }
    function _L(e) {
        let t, n, o, i;
        n = new ob({
            props: {
                onlyShowWriteEnabledLanguages: !0,
                showChooseLanguageOption: !e[16],
                value: e[16],
                fontSize: "sm",
                variant: "input-selection-result",
                autoHeight: !0
            }
        }),
        n.$on("selection", e[42]);
        let r = e[20] && vL(e);
        return {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                o = ih(),
                r && r.c(),
                ch(t, "class", "write-options svelte-1o1n7yg")
            },
            m(e, s) {
                Qg(e, t, s),
                cf(n, t, null),
                Kg(t, o),
                r && r.m(t, null),
                i = !0
            },
            p(e, o) {
                const i = {};
                65536 & o[0] && (i.showChooseLanguageOption = !e[16]),
                65536 & o[0] && (i.value = e[16]),
                n.$set(i),
                e[20] ? r ? r.p(e, o) : (r = vL(e),
                r.c(),
                r.m(t, null)) : r && (r.d(1),
                r = null)
            },
            i(e) {
                i || (Jh(n.$$.fragment, e),
                i = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                i = !1
            },
            d(e) {
                e && Jg(t),
                df(n),
                r && r.d()
            }
        }
    }
    function vL(e) {
        let t, n, o;
        return {
            c() {
                t = th("button"),
                t.textContent = `${chrome.i18n.getMessage("write_style_options_button_label")}`,
                ch(t, "class", "style-switch svelte-1o1n7yg"),
                fh(t, "open", e[11])
            },
            m(i, r) {
                Qg(i, t, r),
                n || (o = sh(t, "click", e[43]),
                n = !0)
            },
            p(e, n) {
                2048 & n[0] && fh(t, "open", e[11])
            },
            d(e) {
                e && Jg(t),
                n = !1,
                o()
            }
        }
    }
    function yL(e) {
        let t, n;
        return t = new L_({
            props: {
                tooltip: chrome.i18n.getMessage("input_selection_alternatives_tone_tooltip"),
                $$slots: {
                    default: [wL]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                256 & n[0] | 4194304 & n[1] && (o.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function wL(e) {
        let t, n;
        return t = new HI({
            props: {
                value: e[8],
                variant: "input-selection-result"
            }
        }),
        t.$on("selection", e[24]),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                256 & n[0] && (o.value = e[8]),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function bL(e) {
        let t, n, o, i, r;
        const s = [xL, SL, TL]
          , a = [];
        function l(e, t) {
            return e[12] ? 0 : e[7] !== $I.WRITE || e[17] ? e[0] && e[0].length > 0 ? 2 : -1 : 1
        }
        return ~(n = l(e)) && (o = a[n] = s[n](e)),
        {
            c() {
                t = th("div"),
                o && o.c(),
                ch(t, "style", i = `height: ${e[15] ? e[15] + "px" : "auto"}; max-height: 300px; width: 100%; overflow-y: auto`)
            },
            m(e, o) {
                Qg(e, t, o),
                ~n && a[n].m(t, null),
                r = !0
            },
            p(e, c) {
                let d = n;
                n = l(e),
                n === d ? ~n && a[n].p(e, c) : (o && (Xh(),
                ef(a[d], 1, 1, ( () => {
                    a[d] = null
                }
                )),
                Qh()),
                ~n ? (o = a[n],
                o ? o.p(e, c) : (o = a[n] = s[n](e),
                o.c()),
                Jh(o, 1),
                o.m(t, null)) : o = null),
                (!r || 32768 & c[0] && i !== (i = `height: ${e[15] ? e[15] + "px" : "auto"}; max-height: 300px; width: 100%; overflow-y: auto`)) && ch(t, "style", i)
            },
            i(e) {
                r || (Jh(o),
                r = !0)
            },
            o(e) {
                ef(o),
                r = !1
            },
            d(e) {
                e && Jg(t),
                ~n && a[n].d()
            }
        }
    }
    function EL(e) {
        let t, n, o;
        return n = new Xy({
            props: {
                error: e[2]
            }
        }),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                ch(t, "class", "error-container svelte-1o1n7yg")
            },
            m(e, i) {
                Qg(e, t, i),
                cf(n, t, null),
                o = !0
            },
            p(e, t) {
                const o = {};
                4 & t[0] && (o.error = e[2]),
                n.$set(o)
            },
            i(e) {
                o || (Jh(n.$$.fragment, e),
                o = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                o = !1
            },
            d(e) {
                e && Jg(t),
                df(n)
            }
        }
    }
    function TL(e) {
        let t, n, o, i;
        const r = [CL, $L]
          , s = [];
        function a(e, t) {
            return e[11] ? 0 : 1
        }
        return n = a(e),
        o = s[n] = r[n](e),
        {
            c() {
                t = th("div"),
                o.c(),
                ch(t, "class", "alternatives-container svelte-1o1n7yg")
            },
            m(o, r) {
                Qg(o, t, r),
                s[n].m(t, null),
                e[48](t),
                i = !0
            },
            p(e, i) {
                let l = n;
                n = a(e),
                n === l ? s[n].p(e, i) : (Xh(),
                ef(s[l], 1, 1, ( () => {
                    s[l] = null
                }
                )),
                Qh(),
                o = s[n],
                o ? o.p(e, i) : (o = s[n] = r[n](e),
                o.c()),
                Jh(o, 1),
                o.m(t, null))
            },
            i(e) {
                i || (Jh(o),
                i = !0)
            },
            o(e) {
                ef(o),
                i = !1
            },
            d(o) {
                o && Jg(t),
                s[n].d(),
                e[48](null)
            }
        }
    }
    function SL(e) {
        let t, n, o;
        return n = new QI({}),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                ch(t, "class", "write-support svelte-1o1n7yg")
            },
            m(e, i) {
                Qg(e, t, i),
                cf(n, t, null),
                o = !0
            },
            p: xg,
            i(e) {
                o || (Jh(n.$$.fragment, e),
                o = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                o = !1
            },
            d(e) {
                e && Jg(t),
                df(n)
            }
        }
    }
    function xL(e) {
        let t, n, o, i;
        return n = new CT({}),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                ch(t, "style", o = `height: ${e[15] ? e[15] + "px" : "auto"}; max-height: 300px;`),
                ch(t, "class", "loading-spinner svelte-1o1n7yg")
            },
            m(e, o) {
                Qg(e, t, o),
                cf(n, t, null),
                i = !0
            },
            p(e, n) {
                (!i || 32768 & n[0] && o !== (o = `height: ${e[15] ? e[15] + "px" : "auto"}; max-height: 300px;`)) && ch(t, "style", o)
            },
            i(e) {
                i || (Jh(n.$$.fragment, e),
                i = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                i = !1
            },
            d(e) {
                e && Jg(t),
                df(n)
            }
        }
    }
    function $L(e) {
        let t, n, o, i, r = sf(e[13]), s = [];
        for (let t = 0; t < r.length; t += 1)
            s[t] = kL(dL(e, r, t));
        let a = e[0].length > 3 && !e[4] && IL(e);
        return {
            c() {
                t = th("div"),
                n = th("div"),
                n.textContent = `${chrome.i18n.getMessage("input_selection_alternatives_label")}`,
                o = ih();
                for (let e = 0; e < s.length; e += 1)
                    s[e].c();
                i = ih(),
                a && a.c(),
                ch(n, "class", "alternative headline svelte-1o1n7yg"),
                ch(t, "class", "alternatives svelte-1o1n7yg")
            },
            m(e, r) {
                Qg(e, t, r),
                Kg(t, n),
                Kg(t, o);
                for (let e = 0; e < s.length; e += 1)
                    s[e] && s[e].m(t, null);
                Kg(t, i),
                a && a.m(t, null)
            },
            p(e, n) {
                if (67117056 & n[0]) {
                    let o;
                    for (r = sf(e[13]),
                    o = 0; o < r.length; o += 1) {
                        const a = dL(e, r, o);
                        s[o] ? s[o].p(a, n) : (s[o] = kL(a),
                        s[o].c(),
                        s[o].m(t, i))
                    }
                    for (; o < s.length; o += 1)
                        s[o].d(1);
                    s.length = r.length
                }
                e[0].length > 3 && !e[4] ? a ? a.p(e, n) : (a = IL(e),
                a.c(),
                a.m(t, null)) : a && (a.d(1),
                a = null)
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                eh(s, e),
                a && a.d()
            }
        }
    }
    function CL(e) {
        let t, n, o, i, r, s;
        function a(t) {
            e[44](t)
        }
        function l(t) {
            e[45](t)
        }
        let c = {};
        return void 0 !== e[9] && (c.writingStyle = e[9]),
        void 0 !== e[10] && (c.tone = e[10]),
        n = new ZI({
            props: c
        }),
        Oh.push(( () => af(n, "writingStyle", a))),
        Oh.push(( () => af(n, "tone", l))),
        n.$on("apply", e[25]),
        n.$on("reset", e[25]),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment)
            },
            m(e, o) {
                Qg(e, t, o),
                cf(n, t, null),
                s = !0
            },
            p(e, t) {
                const r = {};
                !o && 512 & t[0] && (o = !0,
                r.writingStyle = e[9],
                Fh(( () => o = !1))),
                !i && 1024 & t[0] && (i = !0,
                r.tone = e[10],
                Fh(( () => i = !1))),
                n.$set(r)
            },
            i(e) {
                s || (Jh(n.$$.fragment, e),
                e && (r || Wh(( () => {
                    r = nf(t, Kf, {
                        y: -5,
                        duration: 500
                    }),
                    r.start()
                }
                ))),
                s = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                s = !1
            },
            d(e) {
                e && Jg(t),
                df(n)
            }
        }
    }
    function kL(e) {
        let t, n, o, i, r = e[50] + "";
        function s() {
            return e[46](e[50], e[52])
        }
        return {
            c() {
                t = th("div"),
                n = oh(r),
                ch(t, "class", "alternative svelte-1o1n7yg"),
                ch(t, "data-qa", "selection-result-view-alternative")
            },
            m(e, r) {
                Qg(e, t, r),
                Kg(t, n),
                o || (i = sh(t, "click", s),
                o = !0)
            },
            p(t, o) {
                e = t,
                8192 & o[0] && r !== (r = e[50] + "") && dh(n, r)
            },
            d(e) {
                e && Jg(t),
                o = !1,
                i()
            }
        }
    }
    function IL(e) {
        let t, n, o, i;
        return {
            c() {
                t = th("div"),
                n = th("span"),
                n.textContent = `${chrome.i18n.getMessage("input_selection_alternatives_show_more")}`,
                ch(t, "class", "alternative show-more svelte-1o1n7yg")
            },
            m(r, s) {
                Qg(r, t, s),
                Kg(t, n),
                o || (i = sh(t, "click", e[47]),
                o = !0)
            },
            p: xg,
            d(e) {
                e && Jg(t),
                o = !1,
                i()
            }
        }
    }
    function LL(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h, f, _, v, y, w, b, E, T, S, x, $;
        l = new L_({
            props: {
                isEnabled: e[19],
                tooltip: chrome.i18n.getMessage("contact_admin_info_translate_disabled"),
                $$slots: {
                    default: [pL]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        d = new L_({
            props: {
                isEnabled: e[18],
                tooltip: chrome.i18n.getMessage("contact_admin_info_translate_disabled"),
                $$slots: {
                    default: [gL]
                },
                $$scope: {
                    ctx: e
                }
            }
        });
        const C = [fL, hL]
          , k = [];
        function I(e, t) {
            return e[7] === $I.TRANSLATE ? 0 : e[7] === $I.WRITE ? 1 : -1
        }
        ~(v = I(e)) && (y = k[v] = C[v](e));
        const L = [EL, bL]
          , A = [];
        function R(e, t) {
            return e[2] ? 0 : 1
        }
        return b = R(e),
        E = A[b] = L[b](e),
        {
            c() {
                t = th("div"),
                n = th("div"),
                o = th("div"),
                i = th("button"),
                r = ih(),
                s = th("div"),
                a = th("div"),
                lf(l.$$.fragment),
                c = ih(),
                lf(d.$$.fragment),
                u = ih(),
                p = th("div"),
                m = th("button"),
                g = ih(),
                h = th("button"),
                f = ih(),
                _ = th("div"),
                y && y.c(),
                w = ih(),
                E.c(),
                ch(i, "class", "dl-logo svelte-1o1n7yg"),
                ch(i, "aria-label", chrome.i18n.getMessage("deepl_logo")),
                ch(a, "class", "selector svelte-1o1n7yg"),
                ch(s, "class", "selector-container svelte-1o1n7yg"),
                ch(o, "class", "tab-container svelte-1o1n7yg"),
                ch(m, "type", "button"),
                ch(m, "class", "dl-settings-icon svelte-1o1n7yg"),
                ch(h, "type", "button"),
                ch(h, "class", "dl-close-icon svelte-1o1n7yg"),
                ch(p, "class", "action-container svelte-1o1n7yg"),
                ch(n, "class", "header svelte-1o1n7yg"),
                ch(_, "class", "ai-options svelte-1o1n7yg"),
                ph(_, "min-height", "37px"),
                ch(t, "style", e[5]),
                ch(t, "class", "container svelte-1o1n7yg"),
                ch(t, "data-qa", "selection-result-view")
            },
            m(y, E) {
                Qg(y, t, E),
                Kg(t, n),
                Kg(n, o),
                Kg(o, i),
                Kg(o, r),
                Kg(o, s),
                Kg(s, a),
                cf(l, a, null),
                Kg(a, c),
                cf(d, a, null),
                Kg(n, u),
                Kg(n, p),
                Kg(p, m),
                Kg(p, g),
                Kg(p, h),
                Kg(t, f),
                Kg(t, _),
                ~v && k[v].m(_, null),
                Kg(t, w),
                A[b].m(t, null),
                S = !0,
                x || ($ = [sh(m, "click", e[39]), sh(h, "click", e[40]), sh(t, "mousedown", lh(ah(e[36])))],
                x = !0)
            },
            p(e, n) {
                const o = {};
                524288 & n[0] && (o.isEnabled = e[19]),
                524480 & n[0] | 4194304 & n[1] && (o.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                l.$set(o);
                const i = {};
                262144 & n[0] && (i.isEnabled = e[18]),
                262336 & n[0] | 4194304 & n[1] && (i.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                d.$set(i);
                let r = v;
                v = I(e),
                v === r ? ~v && k[v].p(e, n) : (y && (Xh(),
                ef(k[r], 1, 1, ( () => {
                    k[r] = null
                }
                )),
                Qh()),
                ~v ? (y = k[v],
                y ? y.p(e, n) : (y = k[v] = C[v](e),
                y.c()),
                Jh(y, 1),
                y.m(_, null)) : y = null);
                let s = b;
                b = R(e),
                b === s ? A[b].p(e, n) : (Xh(),
                ef(A[s], 1, 1, ( () => {
                    A[s] = null
                }
                )),
                Qh(),
                E = A[b],
                E ? E.p(e, n) : (E = A[b] = L[b](e),
                E.c()),
                Jh(E, 1),
                E.m(t, null)),
                (!S || 32 & n[0]) && ch(t, "style", e[5])
            },
            i(e) {
                S || (Jh(l.$$.fragment, e),
                Jh(d.$$.fragment, e),
                Jh(y),
                Jh(E),
                e && Wh(( () => {
                    S && (T || (T = rf(t, Zf, {}, !0)),
                    T.run(1))
                }
                )),
                S = !0)
            },
            o(e) {
                ef(l.$$.fragment, e),
                ef(d.$$.fragment, e),
                ef(y),
                ef(E),
                e && (T || (T = rf(t, Zf, {}, !1)),
                T.run(0)),
                S = !1
            },
            d(e) {
                e && Jg(t),
                df(l),
                df(d),
                ~v && k[v].d(),
                A[b].d(),
                e && T && T.end(),
                x = !1,
                Ig($)
            }
        }
    }
    function AL(e, n, o) {
        let i, r, s, l, c, d;
        const u = Ah("deepl_settings");
        Mg(e, u, (e => o(6, d = e)));
        let p, m, g, h, f, _, v, {element: y} = n, {detectedLanguage: w} = n, {isMoreThanOneSentence: b} = n, {alternatives: E} = n, {alternativesHtml: T} = n, {error: S} = n, {mode: x} = n, {close: $} = n, {initialTargetLang: C} = n, {mostSpace: k} = n, I = s ? $I.WRITE : x, L = !1, A = !1, R = 0, M = Gt(w) ? Ht(w) : void 0;
        function O(e) {
            e === $I.TRANSLATE && s || e === $I.WRITE && r || (o(11, L = !1),
            o(7, I = e),
            N())
        }
        async function N() {
            if (I === $I.TRANSLATE && s)
                return;
            if (I === $I.WRITE && r)
                return;
            let e, t = C;
            try {
                if (!w) {
                    const e = await UI(y);
                    o(30, w = e.detected_source_language),
                    o(31, b = e.sentences.length > 1)
                }
            } catch (e) {
                return void o(2, S = e)
            }
            if (I === $I.WRITE) {
                if (!l)
                    return;
                e = m || g,
                t = w,
                M && (t = M)
            }
            o(12, A = !0),
            o(2, S = null);
            const n = {
                element: y,
                mode: I,
                targetLang: t,
                style: e,
                writeLang: M,
                ...I === $I.TRANSLATE && {
                    formality: p
                }
            };
            try {
                let e = await BI(n);
                o(0, E = e.alternatives),
                o(32, T = e.alternativesHtml)
            } catch (e) {
                o(2, S = e)
            }
            o(12, A = !1)
        }
        async function D(e, n) {
            T && T.length > 0 ? WI(e, y, T[n]) : WI(e, y);
            try {
                t({
                    action: "dlTrackAlternativeSelected",
                    payload: {
                        numberOfAlternatives: E.length,
                        selectedAlternative: n + 1,
                        sourceLang: w,
                        targetLang: C,
                        contentProcessingMode: x,
                        alternativesSegmentation: Kt(e) ? Ve.WORD : Ve.SENTENCE
                    }
                })
            } catch (e) {
                console.error(e)
            }
        }
        function P(e) {
            o(1, C = e),
            N()
        }
        function U(e) {
            o(16, M = e),
            N()
        }
        function B() {
            t({
                action: "dlOpenInternalPage",
                payload: {
                    destination: kT.settings_page
                }
            })
        }
        var W;
        W = () => {
            if (L)
                o(15, R = 0);
            else if (v) {
                const e = v.offsetHeight;
                e > R && o(15, R = e)
            }
        }
        ,
        $h().$$.after_update.push(W);
        return e.$$set = e => {
            "element"in e && o(33, y = e.element),
            "detectedLanguage"in e && o(30, w = e.detectedLanguage),
            "isMoreThanOneSentence"in e && o(31, b = e.isMoreThanOneSentence),
            "alternatives"in e && o(0, E = e.alternatives),
            "alternativesHtml"in e && o(32, T = e.alternativesHtml),
            "error"in e && o(2, S = e.error),
            "mode"in e && o(34, x = e.mode),
            "close"in e && o(3, $ = e.close),
            "initialTargetLang"in e && o(1, C = e.initialTargetLang),
            "mostSpace"in e && o(35, k = e.mostSpace)
        }
        ,
        e.$$.update = () => {
            2 & e.$$.dirty[0] && o(21, i = qt(C)),
            64 & e.$$.dirty[0] && o(18, r = st(d, Ee.WRITE)),
            64 & e.$$.dirty[0] && o(19, s = st(d, Ee.TRANSLATOR)),
            32 & e.$$.dirty[0] | 16 & e.$$.dirty[1] && (o(5, _ = ""),
            "top" === k.vertical ? o(5, _ = "bottom: 35px;") : o(5, _ = "top: 5px;"),
            "left" === k.horizontal && o(5, _ = `${_} right: -32px;`),
            o(5, _ = `${_} max-height: ${k.verticalSpaceLeft}px;`)),
            17 & e.$$.dirty[0] && E && (E.length <= 3 && o(13, h = [...E]),
            o(13, h = f ? [...E] : E.slice(0, 3))),
            1073741824 & e.$$.dirty[0] && o(17, l = w && Gt(w)),
            1073741824 & e.$$.dirty[0] && o(20, c = w && a.includes(w.substring(0, 2).toUpperCase()))
        }
        ,
        [E, C, S, $, f, _, d, I, p, m, g, L, A, h, v, R, M, l, r, s, c, i, u, O, function(e) {
            const t = e.detail.selectedOption.value;
            o(8, p = t),
            I === $I.TRANSLATE && N()
        }
        , async function() {
            o(11, L = !1),
            await N()
        }
        , D, P, U, B, w, b, T, y, x, k, function(t) {
            Rh.call(this, e, t)
        }
        , () => O($I.TRANSLATE), () => O($I.WRITE), () => B(), () => $(), e => {
            P(e.detail.selectedOption.value)
        }
        , e => {
            U(e.detail.selectedOption.value)
        }
        , () => o(11, L = !L), function(e) {
            m = e,
            o(9, m)
        }
        , function(e) {
            g = e,
            o(10, g)
        }
        , (e, t) => D(e, t), () => o(4, f = !f), function(e) {
            Oh[e ? "unshift" : "push"](( () => {
                v = e,
                o(14, v)
            }
            ))
        }
        ]
    }
    class RL extends pf {
        constructor(e) {
            super(),
            uf(this, e, AL, LL, Ag, {
                element: 33,
                detectedLanguage: 30,
                isMoreThanOneSentence: 31,
                alternatives: 0,
                alternativesHtml: 32,
                error: 2,
                mode: 34,
                close: 3,
                initialTargetLang: 1,
                mostSpace: 35
            }, null, [-1, -1])
        }
    }
    function ML(e) {
        let t, n, o, i, r, s;
        const a = [NL, OL]
          , l = [];
        function c(e, t) {
            return e[2] ? 0 : 1
        }
        n = c(e),
        o = l[n] = a[n](e);
        let d = e[7] && PL(e);
        return {
            c() {
                t = th("div"),
                o.c(),
                i = ih(),
                r = th("div"),
                d && d.c(),
                ch(t, "class", "icon-container svelte-1695l6u"),
                ch(t, "dir", Vt()),
                ch(t, "data-qa", "input-selection-trigger"),
                ch(r, "class", "popup svelte-1695l6u")
            },
            m(o, a) {
                Qg(o, t, a),
                l[n].m(t, null),
                e[20](t),
                Qg(o, i, a),
                Qg(o, r, a),
                d && d.m(r, null),
                s = !0
            },
            p(e, i) {
                let s = n;
                n = c(e),
                n === s ? l[n].p(e, i) : (Xh(),
                ef(l[s], 1, 1, ( () => {
                    l[s] = null
                }
                )),
                Qh(),
                o = l[n],
                o ? o.p(e, i) : (o = l[n] = a[n](e),
                o.c()),
                Jh(o, 1),
                o.m(t, null)),
                e[7] ? d ? (d.p(e, i),
                128 & i && Jh(d, 1)) : (d = PL(e),
                d.c(),
                Jh(d, 1),
                d.m(r, null)) : d && (Xh(),
                ef(d, 1, 1, ( () => {
                    d = null
                }
                )),
                Qh())
            },
            i(e) {
                s || (Jh(o),
                Jh(d),
                s = !0)
            },
            o(e) {
                ef(o),
                ef(d),
                s = !1
            },
            d(o) {
                o && (Jg(t),
                Jg(i),
                Jg(r)),
                l[n].d(),
                e[20](null),
                d && d.d()
            }
        }
    }
    function OL(e) {
        let t, n;
        return t = new L_({
            props: {
                tooltip: chrome.i18n.getMessage("input_selection_see_alternatives_icon_trigger"),
                showProShield: it(e[3], Ee.WRITE),
                $$slots: {
                    default: [DL]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                8 & n && (o.showProShield = it(e[3], Ee.WRITE)),
                2097152 & n && (o.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function NL(e) {
        let t, n;
        return t = new CT({
            props: {
                small: !0
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p: xg,
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function DL(e) {
        let t, n, o;
        return {
            c() {
                t = th("div"),
                ch(t, "class", "dl-logo svelte-1695l6u")
            },
            m(i, r) {
                Qg(i, t, r),
                n || (o = [sh(t, "click", lh(ah(e[14]))), sh(t, "mouseup", lh(ah(e[18]))), sh(t, "mousedown", lh(ah(e[19])))],
                n = !0)
            },
            p: xg,
            d(e) {
                e && Jg(t),
                n = !1,
                Ig(o)
            }
        }
    }
    function PL(e) {
        let t, n;
        return t = new RL({
            props: {
                element: e[0],
                detectedLanguage: e[5],
                isMoreThanOneSentence: e[6],
                mode: e[8],
                alternatives: e[9],
                alternativesHtml: e[10],
                mostSpace: e[4],
                error: e[12],
                close: e[15],
                initialTargetLang: e[11]
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                1 & n && (o.element = e[0]),
                32 & n && (o.detectedLanguage = e[5]),
                64 & n && (o.isMoreThanOneSentence = e[6]),
                256 & n && (o.mode = e[8]),
                512 & n && (o.alternatives = e[9]),
                1024 & n && (o.alternativesHtml = e[10]),
                16 & n && (o.mostSpace = e[4]),
                4096 & n && (o.error = e[12]),
                2048 & n && (o.initialTargetLang = e[11]),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function UL(e) {
        let t, n, o = !e[13] && ML(e);
        return {
            c() {
                o && o.c(),
                t = rh()
            },
            m(e, i) {
                o && o.m(e, i),
                Qg(e, t, i),
                n = !0
            },
            p(e, [n]) {
                e[13] ? o && (Xh(),
                ef(o, 1, 1, ( () => {
                    o = null
                }
                )),
                Qh()) : o ? (o.p(e, n),
                8192 & n && Jh(o, 1)) : (o = ML(e),
                o.c(),
                Jh(o, 1),
                o.m(t.parentNode, t))
            },
            i(e) {
                n || (Jh(o),
                n = !0)
            },
            o(e) {
                ef(o),
                n = !1
            },
            d(e) {
                e && Jg(t),
                o && o.d(e)
            }
        }
    }
    function BL(e, n, o) {
        let i, r, s, a;
        Mg(e, hf, (e => o(3, a = e))),
        Lh("deepl_settings", hf),
        Lh("text_direction", Vt());
        let l, c, d, u, p, m, g, {element: h} = n, f = {
            vertical: "bottom",
            horizontal: "right"
        }, _ = !1, v = $I.TRANSLATE, y = "EN-GB";
        return e.$$set = e => {
            "element"in e && o(0, h = e.element)
        }
        ,
        e.$$.update = () => {
            6 & e.$$.dirty && !m && l && o(4, f = function(e) {
                if (!e)
                    return void console.error("No element provided");
                const t = e.getBoundingClientRect()
                  , n = window.innerWidth
                  , o = window.innerHeight
                  , i = {
                    top: t.top,
                    right: n - t.right,
                    bottom: o - t.bottom,
                    left: t.left
                };
                return {
                    vertical: i.top > i.bottom ? "top" : "bottom",
                    horizontal: i.left > i.right ? "left" : "right",
                    verticalSpaceLeft: i.top > i.bottom ? i.top : i.bottom
                }
            }(l)),
            8 & e.$$.dirty && o(17, i = st(a, Ee.WRITE)),
            8 & e.$$.dirty && o(16, r = st(a, Ee.TRANSLATOR)),
            196616 & e.$$.dirty && o(13, s = !a.enableInputTranslation || aT(window.location.host, window.location.href) || a.blacklistDomainsForWriting.includes(window.location.host) || r && i)
        }
        ,
        [h, l, m, a, f, c, d, _, v, u, p, y, g, s, async function() {
            try {
                t({
                    action: "dlTrackSeeAlternativesClicked"
                })
            } catch (e) {
                console.error(e)
            }
            if (!_) {
                o(2, m = !0);
                try {
                    const e = await UI(h, r ? $I.WRITE : $I.TRANSLATE);
                    o(5, c = e.detected_source_language),
                    o(6, d = e.sentences.length > 1),
                    o(11, y = a.targetLanguageUserInput ? a.targetLanguageUserInput : "EN-GB"),
                    o(8, v = y.substring(0, 2).toUpperCase() === c.substring(0, 2).toUpperCase() ? $I.WRITE : $I.TRANSLATE),
                    r ? o(8, v = $I.WRITE) : i && o(8, v = $I.TRANSLATE);
                    const t = {
                        element: h,
                        mode: v,
                        targetLang: y,
                        ...r && {
                            writeLang: c
                        }
                    }
                      , n = await BI(t);
                    o(9, u = n.alternatives),
                    o(10, p = n.alternativesHtml)
                } catch (e) {
                    o(12, g = e)
                }
                o(2, m = !1)
            }
            o(7, _ = !_)
        }
        , function() {
            o(7, _ = !1)
        }
        , r, i, function(t) {
            Rh.call(this, e, t)
        }
        , function(t) {
            Rh.call(this, e, t)
        }
        , function(e) {
            Oh[e ? "unshift" : "push"](( () => {
                l = e,
                o(1, l)
            }
            ))
        }
        ]
    }
    class WL extends pf {
        constructor(e) {
            super(),
            uf(this, e, BL, UL, Ag, {
                element: 0
            })
        }
    }
    class FL {
        static HTML_TAG_NAME = "deepl-input-selection-trigger";
        static createElement = (e=document) => {
            const t = e.createElement(FL.HTML_TAG_NAME)
              , n = new FL(t);
            return t.createDOM = n.createDOM,
            t.cleanupDOM = n.cleanupDOM,
            t.addChangeEvents = n.addChangeEvents,
            t.removeChangeEvents = n.removeChangeEvents,
            t.repositionContainer = n.repositionContainer,
            t.cachedReposition = n.cachedReposition,
            t
        }
        ;
        constructor(e) {
            this.domElement = e,
            this.domElement.shadow = this.domElement.attachShadow({
                mode: "open"
            }),
            this.domElement.shadowContainer = document.createElement("div"),
            this.domElement.container = document.createElement("div"),
            this.domElement.mainComponent,
            this.domElement.cachedMouseEvent,
            this.domElement.cachedElement = null;
            const t = document.createElement("link");
            t.setAttribute("rel", "stylesheet"),
            t.setAttribute("href", chrome.runtime.getURL("build/content.css")),
            this.domElement.shadow.appendChild(t),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer),
            this.domElement.shadowRoot.addEventListener("mouseup", (e => {
                e.stopPropagation(),
                e.stopImmediatePropagation()
            }
            )),
            this.domElement.shadowRoot.addEventListener("click", (e => {
                e.stopPropagation(),
                e.stopImmediatePropagation()
            }
            )),
            this.domElement.shadowRoot.addEventListener("mousedown", (e => {
                e.stopPropagation(),
                e.stopImmediatePropagation()
            }
            ))
        }
        createDOM = async (e, t) => {
            if (this.domElement.shadowContainer && this.domElement.shadowContainer.childElementCount > 0 && this.domElement.cleanupDOM(),
            this.domElement.cachedElement = e,
            this.domElement.repositionContainer(t, e),
            this.domElement.shadowContainer.appendChild(this.domElement.container),
            await Ux()) {
                hn() && console.log("ITA_INPUT_ENABLED_INLINE_TRIGGER"),
                Hw.update({
                    inputElement: e
                });
                const t = await Bx();
                this.domElement.mainComponent = new bI({
                    target: this.domElement.container,
                    props: {
                        isInput: !0,
                        enableAdvancedTriggerIcon: t
                    }
                })
            } else
                hn() && console.log("ITA_INPUT_ENABLED_INPUT_SELECTION_TRIGGER"),
                this.domElement.mainComponent = new WL({
                    target: this.domElement.container,
                    props: {
                        element: e
                    }
                });
            this.domElement.addChangeEvents(),
            this.domElement.cachedMouseEvent = t
        }
        ;
        repositionContainer = (e, t) => {
            if (window.getSelection() && !window.getSelection().toString())
                return void this.domElement.cleanupDOM();
            const {deepl_inline_ui: n} = P
              , o = n.z_index + 500;
            let i;
            i = "TEXTAREA" === t.tagName ? hT(t) : pT();
            let r = `position: absolute; top: 0px; left: 0px; width: 100%; z-index: ${o}`
              , s = `position: absolute; z-index: ${o};`;
            this.domElement.shadowContainer.style.cssText = r,
            this.domElement.container.style.cssText = s;
            const a = TI(e, i);
            this.domElement.container.style.top = `${parseInt(a.containerStyleTop)}px`,
            this.domElement.container.style.left = `${parseInt(a.containerStyleLeft)}px`
        }
        ;
        cachedReposition = () => this.domElement.repositionContainer(this.domElement.cachedMouseEvent, this.domElement.cachedElement);
        addChangeEvents = () => {
            window.addEventListener("scroll", this.domElement.cachedReposition),
            window.addEventListener("resize", this.domElement.cachedReposition)
        }
        ;
        removeChangeEvents = () => {
            window.removeEventListener("scroll", this.domElement.cachedReposition),
            window.removeEventListener("resize", this.domElement.cachedReposition)
        }
        ;
        cleanupDOM = () => {
            this.domElement.container.remove(),
            this.domElement.shadowContainer.remove(),
            this.domElement.shadowContainer = document.createElement("div"),
            this.domElement.container = document.createElement("div"),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer),
            this.domElement.mainComponent && this.domElement.mainComponent.$destroy(),
            this.domElement.removeChangeEvents()
        }
    }
    function zL(e) {
        let t, n, o, i = vt(e[1]) + "";
        return {
            c() {
                t = th("div"),
                ch(t, "class", "container svelte-1dicgbw")
            },
            m(r, s) {
                Qg(r, t, s),
                t.innerHTML = i,
                n || (o = sh(t, "click", e[0]),
                n = !0)
            },
            p: xg,
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                n = !1,
                o()
            }
        }
    }
    function HL(e) {
        return [function() {
            t({
                action: "dlExternalURLRedirect",
                payload: {
                    destination: kv
                }
            }),
            t({
                action: "dlTrackUiAction",
                payload: {
                    uiAction: z
                }
            })
        }
        , chrome.i18n.getMessage("notification_keyboard_shortcut_hint", `<span style="color: #006494; text-decoration: underline;">${chrome.i18n.getMessage("notification_keyboard_shortcut_hint_placeholder")}</span>`)]
    }
    class jL extends pf {
        constructor(e) {
            super(),
            uf(this, e, HL, zL, Ag, {})
        }
    }
    function GL(e) {
        let t, n, o, i = vt(e[0]) + "";
        return {
            c() {
                t = th("div"),
                ch(t, "class", "container svelte-1dicgbw"),
                ch(t, "data-qa", "deepl-notification-open-settings-page-writing-link")
            },
            m(r, s) {
                Qg(r, t, s),
                t.innerHTML = i,
                n || (o = sh(t, "click", e[1]),
                n = !0)
            },
            p(e, [n]) {
                1 & n && i !== (i = vt(e[0]) + "") && (t.innerHTML = i)
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                n = !1,
                o()
            }
        }
    }
    function qL(e, n, o) {
        let {options: i} = n
          , r = i?.settingsPageURL ? i?.settingsPageURL : kT.settings_page;
        let s = ""
          , a = i?.currentDomain ? i.currentDomain : "";
        switch (i.saveAction) {
        case V.disableEverywhere:
            s = chrome.i18n.getMessage("notification_input_translation_disabled_everywhere", `<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_input_translation_link_to_settings_placeholder")}</span>`);
            break;
        case V.disablePerSite:
            s = chrome.i18n.getMessage("notification_input_translation_disabled_per_site", [a, `<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_input_translation_link_to_settings_placeholder")}</span>`])
        }
        return e.$$set = e => {
            "options"in e && o(2, i = e.options)
        }
        ,
        [s, function() {
            t({
                action: "dlOpenInternalPage",
                payload: {
                    destination: r
                }
            })
        }
        , i]
    }
    class VL extends pf {
        constructor(e) {
            super(),
            uf(this, e, qL, GL, Ag, {
                options: 2
            })
        }
    }
    function YL(e) {
        let t, n, o, i = vt(e[0]) + "";
        return {
            c() {
                t = th("div"),
                ch(t, "class", "container svelte-1dicgbw"),
                ch(t, "data-qa", "deepl-notification-open-settings-page-reading-link")
            },
            m(r, s) {
                Qg(r, t, s),
                t.innerHTML = i,
                n || (o = sh(t, "click", e[1]),
                n = !0)
            },
            p(e, [n]) {
                1 & n && i !== (i = vt(e[0]) + "") && (t.innerHTML = i)
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                n = !1,
                o()
            }
        }
    }
    function KL(e, n, o) {
        let {options: i} = n
          , r = i?.settingsPageURL ? i?.settingsPageURL : kT.settings_page;
        let s = ""
          , a = i?.currentDomain ? i.currentDomain : "";
        switch (i.saveAction) {
        case V.disableEverywhere:
            s = chrome.i18n.getMessage("notification_inline_translation_disabled_everywhere", `<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_inline_translation_link_to_settings_placeholder")}</span>`);
            break;
        case V.disablePerSite:
            s = chrome.i18n.getMessage("notification_inline_translation_disabled_per_site", [a, `<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_inline_translation_link_to_settings_placeholder")}</span>`])
        }
        return e.$$set = e => {
            "options"in e && o(2, i = e.options)
        }
        ,
        [s, function() {
            t({
                action: "dlOpenInternalPage",
                payload: {
                    destination: r
                }
            })
        }
        , i]
    }
    class ZL extends pf {
        constructor(e) {
            super(),
            uf(this, e, KL, YL, Ag, {
                options: 2
            })
        }
    }
    function XL(e) {
        let t, n, o;
        return {
            c() {
                t = th("div"),
                t.textContent = `${chrome.i18n.getMessage("ui_notification_fpt_hide")}`,
                ch(t, "class", "container svelte-1dicgbw"),
                ch(t, "data-qa", "deepl-notification-open-settings-page-reading-link")
            },
            m(i, r) {
                Qg(i, t, r),
                n || (o = sh(t, "click", e[0]),
                n = !0)
            },
            p: xg,
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                n = !1,
                o()
            }
        }
    }
    function QL(e) {
        return [function() {
            t({
                action: "dlOpenInternalPage",
                payload: {
                    destination: kT.settings_page
                }
            })
        }
        ]
    }
    class JL extends pf {
        constructor(e) {
            super(),
            uf(this, e, QL, XL, Ag, {})
        }
    }
    function eA(e) {
        let t;
        return {
            c() {
                t = th("div"),
                t.textContent = `${chrome.i18n.getMessage("onboarding_account_successfully_created")}`,
                ch(t, "class", "dl-account-created svelte-nuwktw")
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    class tA extends pf {
        constructor(e) {
            super(),
            uf(this, e, null, eA, Ag, {})
        }
    }
    function nA(e) {
        let t;
        return {
            c() {
                t = th("div"),
                t.textContent = `${chrome.i18n.getMessage("onboarding_successful_login_notification")}`,
                ch(t, "class", "dl-account-created svelte-nuwktw")
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    class oA extends pf {
        constructor(e) {
            super(),
            uf(this, e, null, nA, Ag, {})
        }
    }
    function iA(e) {
        let t, n, o, i;
        return {
            c() {
                t = th("div"),
                n = th("span"),
                n.textContent = `${chrome.i18n.getMessage("ui_gslides_unsaved_asset_warning_main")}`,
                o = ih(),
                i = th("span"),
                i.textContent = `${chrome.i18n.getMessage("ui_gslides_unsaved_asset_warning_explanation")}`,
                ch(n, "class", "main-text svelte-18of7gm"),
                ch(t, "class", "dl-notification-gslides-prevent-asset-loss")
            },
            m(e, r) {
                Qg(e, t, r),
                Kg(t, n),
                Kg(t, o),
                Kg(t, i)
            },
            p: xg,
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    class rA extends pf {
        constructor(e) {
            super(),
            uf(this, e, null, iA, Ag, {})
        }
    }
    function sA(e) {
        let t, n, o, i, r, s, a, l, c;
        return {
            c() {
                t = th("div"),
                n = th("div"),
                n.textContent = `${chrome.i18n.getMessage("notification_ads_ms_office_headline")}`,
                o = ih(),
                i = th("div"),
                i.textContent = `${chrome.i18n.getMessage("notification_ads_ms_office_text")}`,
                r = ih(),
                s = th("div"),
                a = th("div"),
                a.textContent = `${chrome.i18n.getMessage("notification_ads_ms_office_learn_more")}`,
                ch(n, "class", "dl-ads-for-addins_headline svelte-drhmpk"),
                ch(i, "class", "dl-ads-for-addins_text"),
                ch(a, "class", "dl-ads-for-addins_button svelte-drhmpk"),
                ch(s, "class", "dl-ads-for-addins_wrapper svelte-drhmpk"),
                ch(t, "class", "dl-ads-for-addins svelte-drhmpk")
            },
            m(d, u) {
                Qg(d, t, u),
                Kg(t, n),
                Kg(t, o),
                Kg(t, i),
                Kg(t, r),
                Kg(t, s),
                Kg(s, a),
                l || (c = sh(s, "click", e[0]),
                l = !0)
            },
            p: xg,
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                l = !1,
                c()
            }
        }
    }
    function aA(e) {
        return [ () => {
            t({
                action: "dlExternalURLRedirect",
                payload: {
                    destination: Bv,
                    utmContent: "msaddin_ads_notification"
                }
            }),
            t({
                action: "dlTrackClicksOnAdsButton"
            })
        }
        ]
    }
    class lA extends pf {
        constructor(e) {
            super(),
            uf(this, e, aA, sA, Ag, {})
        }
    }
    function cA(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h, f = e[4] == B.warning_theme && dA();
        var _ = e[5];
        function v(e, t) {
            return {
                props: {
                    options: e[1]
                }
            }
        }
        return _ && (l = yh(_, v(e))),
        {
            c() {
                t = th("div"),
                n = th("div"),
                o = th("button"),
                r = ih(),
                s = th("div"),
                f && f.c(),
                a = ih(),
                l && lf(l.$$.fragment),
                ch(o, "class", i = "dl-close-icon " + e[4] + " svelte-np3z9s"),
                ch(n, "class", "header"),
                ch(n, "notificationtheme", e[4]),
                ch(s, "class", c = "body " + e[4] + " svelte-np3z9s"),
                ch(t, "class", d = "container " + e[4] + " svelte-np3z9s"),
                ch(t, "dir", Vt()),
                fh(t, "success", e[0] === U.accountSuccessfullyCreated || e[0] === U.successfullyLoggedIn)
            },
            m(i, c) {
                Qg(i, t, c),
                Kg(t, n),
                Kg(n, o),
                Kg(t, r),
                Kg(t, s),
                f && f.m(s, null),
                Kg(s, a),
                l && cf(l, s, null),
                m = !0,
                g || (h = sh(o, "click", (function() {
                    Lg(e[2]) && e[2].apply(this, arguments)
                }
                )),
                g = !0)
            },
            p(r, u) {
                if (e = r,
                (!m || 16 & u && i !== (i = "dl-close-icon " + e[4] + " svelte-np3z9s")) && ch(o, "class", i),
                (!m || 16 & u) && ch(n, "notificationtheme", e[4]),
                e[4] == B.warning_theme ? f || (f = dA(),
                f.c(),
                f.m(s, a)) : f && (f.d(1),
                f = null),
                32 & u && _ !== (_ = e[5])) {
                    if (l) {
                        Xh();
                        const e = l;
                        ef(e.$$.fragment, 1, 0, ( () => {
                            df(e, 1)
                        }
                        )),
                        Qh()
                    }
                    _ ? (l = yh(_, v(e)),
                    lf(l.$$.fragment),
                    Jh(l.$$.fragment, 1),
                    cf(l, s, null)) : l = null
                } else if (_) {
                    const t = {};
                    2 & u && (t.options = e[1]),
                    l.$set(t)
                }
                (!m || 16 & u && c !== (c = "body " + e[4] + " svelte-np3z9s")) && ch(s, "class", c),
                (!m || 16 & u && d !== (d = "container " + e[4] + " svelte-np3z9s")) && ch(t, "class", d),
                (!m || 17 & u) && fh(t, "success", e[0] === U.accountSuccessfullyCreated || e[0] === U.successfullyLoggedIn)
            },
            i(e) {
                m || (l && Jh(l.$$.fragment, e),
                Wh(( () => {
                    m && (p && p.end(1),
                    u = nf(t, Kf, {
                        x: 100,
                        duration: 1e3
                    }),
                    u.start())
                }
                )),
                m = !0)
            },
            o(e) {
                l && ef(l.$$.fragment, e),
                u && u.invalidate(),
                p = of(t, Kf, {
                    x: 100,
                    duration: 1e3
                }),
                m = !1
            },
            d(e) {
                e && Jg(t),
                f && f.d(),
                l && df(l),
                e && p && p.end(),
                g = !1,
                h()
            }
        }
    }
    function dA(e) {
        let t;
        return {
            c() {
                t = th("div"),
                t.innerHTML = '<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 6V10M10 14H10.01M19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10Z" stroke="#ECBA82" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',
                ch(t, "class", "icon-container")
            },
            m(e, n) {
                Qg(e, t, n)
            },
            d(e) {
                e && Jg(t)
            }
        }
    }
    function uA(e) {
        let t, n, o = e[3] && cA(e);
        return {
            c() {
                o && o.c(),
                t = rh()
            },
            m(e, i) {
                o && o.m(e, i),
                Qg(e, t, i),
                n = !0
            },
            p(e, [n]) {
                e[3] ? o ? (o.p(e, n),
                8 & n && Jh(o, 1)) : (o = cA(e),
                o.c(),
                Jh(o, 1),
                o.m(t.parentNode, t)) : o && (Xh(),
                ef(o, 1, 1, ( () => {
                    o = null
                }
                )),
                Qh())
            },
            i(e) {
                n || (Jh(o),
                n = !0)
            },
            o(e) {
                ef(o),
                n = !1
            },
            d(e) {
                e && Jg(t),
                o && o.d(e)
            }
        }
    }
    function pA(e, t, n) {
        let o, i;
        Lh("text_direction", Vt());
        let {type: r} = t
          , {options: s} = t
          , {close: a} = t
          , l = !1;
        const c = {
            [U.hintKeyboardShortcut]: jL,
            [U.inputTranslation]: VL,
            [U.inlineTranslation]: ZL,
            [U.fullPageTranslation]: JL,
            [U.accountSuccessfullyCreated]: tA,
            [U.successfullyLoggedIn]: oA,
            [U.glidesPreventAssetLoss]: rA,
            [U.showAdsForMSAddins]: lA
        };
        return Ch(( () => {
            setTimeout(( () => n(3, l = !0)), 100),
            setTimeout(( () => n(3, l = !1)), 10100),
            setTimeout(( () => a()), 11100)
        }
        )),
        e.$$set = e => {
            "type"in e && n(0, r = e.type),
            "options"in e && n(1, s = e.options),
            "close"in e && n(2, a = e.close)
        }
        ,
        e.$$.update = () => {
            1 & e.$$.dirty && n(5, o = c[r]),
            2 & e.$$.dirty && n(4, i = B[s?.theme] ? B[s?.theme] : "")
        }
        ,
        [r, s, a, l, i, o]
    }
    class mA extends pf {
        constructor(e) {
            super(),
            uf(this, e, pA, uA, Ag, {
                type: 0,
                options: 1,
                close: 2
            })
        }
    }
    class gA {
        static HTML_TAG_NAME = "deepl-notification";
        static createElement = (e=document) => {
            const t = e.createElement(gA.HTML_TAG_NAME)
              , n = new gA(t);
            return t.createDOM = n.createDOM,
            t.cleanupDOM = n.cleanupDOM,
            t
        }
        ;
        constructor(e) {
            this.domElement = e,
            this.domElement.shadow = this.domElement.attachShadow({
                mode: "open"
            }),
            this.domElement.shadowContainer = document.createElement("div"),
            this.domElement.mainComponent;
            const t = document.createElement("link");
            t.setAttribute("rel", "stylesheet"),
            t.setAttribute("href", chrome.runtime.getURL("build/content.css")),
            this.domElement.shadow.appendChild(t),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer),
            this.domElement.shadowContainer.addEventListener("click", (e => {
                e.stopPropagation(),
                e.stopImmediatePropagation()
            }
            ))
        }
        createDOM = (e, t) => {
            const n = "rtl" === Vt() ? "left" : "right";
            this.domElement.shadowContainer.style.cssText = `position: fixed; top: 20px; ${n}: 20px; z-index: ${P.deepl_inline_ui.z_index}`,
            this.domElement.mainComponent = new mA({
                target: this.domElement.shadowContainer,
                props: {
                    type: e,
                    options: t,
                    close: this.cleanupDOM
                }
            })
        }
        ;
        cleanupDOM = () => {
            this.domElement.shadowContainer.remove(),
            this.domElement.mainComponent && this.domElement.mainComponent.$destroy(),
            this.domElement.remove()
        }
    }
    function hA(e) {
        let t, n, o, i;
        return {
            c() {
                t = th("div"),
                n = th("div"),
                ch(n, "class", "close-button svelte-2cst7"),
                ch(t, "class", "close-button-container svelte-2cst7")
            },
            m(r, s) {
                Qg(r, t, s),
                Kg(t, n),
                o || (i = sh(n, "click", (function() {
                    Lg(e[0]) && e[0].apply(this, arguments)
                }
                )),
                o = !0)
            },
            p(t, n) {
                e = t
            },
            d(e) {
                e && Jg(t),
                o = !1,
                i()
            }
        }
    }
    function fA(e) {
        let t, n, o, i, r, s = e[0] && hA(e);
        const a = e[2].default
          , l = Og(a, e, e[1], null);
        return {
            c() {
                s && s.c(),
                t = ih(),
                n = th("div"),
                o = th("div"),
                i = ih(),
                l && l.c(),
                ch(o, "class", "logo svelte-2cst7"),
                ch(n, "class", "body svelte-2cst7")
            },
            m(e, a) {
                s && s.m(e, a),
                Qg(e, t, a),
                Qg(e, n, a),
                Kg(n, o),
                Kg(n, i),
                l && l.m(n, null),
                r = !0
            },
            p(e, [n]) {
                e[0] ? s ? s.p(e, n) : (s = hA(e),
                s.c(),
                s.m(t.parentNode, t)) : s && (s.d(1),
                s = null),
                l && l.p && (!r || 2 & n) && Pg(l, a, e, e[1], r ? Dg(a, e[1], n, null) : Ug(e[1]), null)
            },
            i(e) {
                r || (Jh(l, e),
                r = !0)
            },
            o(e) {
                ef(l, e),
                r = !1
            },
            d(e) {
                e && (Jg(t),
                Jg(n)),
                s && s.d(e),
                l && l.d(e)
            }
        }
    }
    function _A(e, t, n) {
        let {$$slots: o={}, $$scope: i} = t
          , {onClose: r} = t;
        return e.$$set = e => {
            "onClose"in e && n(0, r = e.onClose),
            "$$scope"in e && n(1, i = e.$$scope)
        }
        ,
        [r, i, o]
    }
    class vA extends pf {
        constructor(e) {
            super(),
            uf(this, e, _A, fA, Ag, {
                onClose: 0
            })
        }
    }
    function yA(e) {
        let t, n;
        return {
            c() {
                t = th("div"),
                n = oh(e[0]),
                ch(t, "class", "info-msg svelte-17qaccl")
            },
            m(e, o) {
                Qg(e, t, o),
                Kg(t, n)
            },
            p(e, [t]) {
                1 & t && dh(n, e[0])
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function wA(e, t, n) {
        let {message: o} = t;
        return e.$$set = e => {
            "message"in e && n(0, o = e.message)
        }
        ,
        [o]
    }
    class bA extends pf {
        constructor(e) {
            super(),
            uf(this, e, wA, yA, Ag, {
                message: 0
            })
        }
    }
    function EA(e) {
        let t, n, o, i, r;
        const s = e[7].default
          , a = Og(s, e, e[6], null);
        return {
            c() {
                t = th("button"),
                a && a.c(),
                ch(t, "type", "button"),
                ch(t, "class", n = Bg(e[0]) + " svelte-zka2e2"),
                t.disabled = e[1],
                ch(t, "id", e[5]),
                ch(t, "data-qa", e[4]),
                fh(t, "disabled", e[1]),
                fh(t, "font-size-sm", "sm" === e[2]),
                fh(t, "padding-x-md", "md" === e[3]),
                fh(t, "padding-x-none", "none" === e[3])
            },
            m(n, s) {
                Qg(n, t, s),
                a && a.m(t, null),
                o = !0,
                i || (r = [sh(t, "click", e[8]), sh(t, "mousedown", lh(ah(e[9])))],
                i = !0)
            },
            p(e, [i]) {
                a && a.p && (!o || 64 & i) && Pg(a, s, e, e[6], o ? Dg(s, e[6], i, null) : Ug(e[6]), null),
                (!o || 1 & i && n !== (n = Bg(e[0]) + " svelte-zka2e2")) && ch(t, "class", n),
                (!o || 2 & i) && (t.disabled = e[1]),
                (!o || 32 & i) && ch(t, "id", e[5]),
                (!o || 16 & i) && ch(t, "data-qa", e[4]),
                (!o || 3 & i) && fh(t, "disabled", e[1]),
                (!o || 5 & i) && fh(t, "font-size-sm", "sm" === e[2]),
                (!o || 9 & i) && fh(t, "padding-x-md", "md" === e[3]),
                (!o || 9 & i) && fh(t, "padding-x-none", "none" === e[3])
            },
            i(e) {
                o || (Jh(a, e),
                o = !0)
            },
            o(e) {
                ef(a, e),
                o = !1
            },
            d(e) {
                e && Jg(t),
                a && a.d(e),
                i = !1,
                Ig(r)
            }
        }
    }
    function TA(e, t, n) {
        let {$$slots: o={}, $$scope: i} = t
          , {className: r="button-primary"} = t
          , {disabled: s=!1} = t
          , {fontSize: a="default"} = t
          , {paddingX: l} = t
          , {dataQa: c="dl-button"} = t
          , {id: d=""} = t;
        return e.$$set = e => {
            "className"in e && n(0, r = e.className),
            "disabled"in e && n(1, s = e.disabled),
            "fontSize"in e && n(2, a = e.fontSize),
            "paddingX"in e && n(3, l = e.paddingX),
            "dataQa"in e && n(4, c = e.dataQa),
            "id"in e && n(5, d = e.id),
            "$$scope"in e && n(6, i = e.$$scope)
        }
        ,
        [r, s, a, l, c, d, i, o, function(t) {
            Rh.call(this, e, t)
        }
        , function(t) {
            Rh.call(this, e, t)
        }
        ]
    }
    class SA extends pf {
        constructor(e) {
            super(),
            uf(this, e, TA, EA, Ag, {
                className: 0,
                disabled: 1,
                fontSize: 2,
                paddingX: 3,
                dataQa: 4,
                id: 5
            })
        }
    }
    function xA(e) {
        let t, n = chrome.i18n.getMessage("ui_fpt_hide_cancel") + "";
        return {
            c() {
                t = oh(n)
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function $A(e) {
        let t, n = chrome.i18n.getMessage("ui_fpt_hide_confirm") + "";
        return {
            c() {
                t = oh(n)
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function CA(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h, f, _, v, y, w, b, E, T, S, x, $, C, k, I, L, A, R, M;
        return C = new SA({
            props: {
                className: "button-link",
                paddingX: "none",
                $$slots: {
                    default: [xA]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        C.$on("click", (function() {
            Lg(e[0]) && e[0].apply(this, arguments)
        }
        )),
        I = new SA({
            props: {
                className: "button-primary",
                $$slots: {
                    default: [$A]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        I.$on("click", e[4]),
        A = function(e) {
            let t;
            return {
                p(...n) {
                    t = n,
                    t.forEach((t => e.push(t)))
                },
                r() {
                    t.forEach((t => e.splice(e.indexOf(t), 1)))
                }
            }
        }(e[7][0]),
        {
            c() {
                t = th("div"),
                n = th("p"),
                n.textContent = `${chrome.i18n.getMessage("ui_fpt_hide_heading")}`,
                o = ih(),
                i = th("div"),
                r = th("div"),
                s = th("label"),
                a = th("span"),
                l = th("input"),
                c = ih(),
                d = th("span"),
                d.textContent = `${chrome.i18n.getMessage("ui_fpt_hide_option_domain")}`,
                u = ih(),
                p = th("div"),
                m = th("label"),
                g = th("span"),
                h = th("input"),
                f = ih(),
                _ = th("span"),
                _.textContent = `${chrome.i18n.getMessage("ui_fpt_hide_option_lang")}`,
                v = ih(),
                y = th("div"),
                w = th("label"),
                b = th("span"),
                E = th("input"),
                T = ih(),
                S = th("span"),
                S.textContent = `${chrome.i18n.getMessage("ui_fpt_hide_option_fpt")}`,
                x = ih(),
                $ = th("div"),
                lf(C.$$.fragment),
                k = ih(),
                lf(I.$$.fragment),
                ch(n, "class", "font-bold svelte-1vpv55x"),
                ch(l, "id", "option-website"),
                ch(l, "name", "option"),
                ch(l, "type", "radio"),
                l.__value = "website",
                uh(l, l.__value),
                ch(l, "class", "svelte-1vpv55x"),
                ch(d, "class", "label svelte-1vpv55x"),
                ch(s, "for", "option-website"),
                ch(s, "class", "svelte-1vpv55x"),
                ch(r, "class", "option svelte-1vpv55x"),
                ch(h, "id", "option-lang"),
                ch(h, "type", "radio"),
                ch(h, "name", "option"),
                h.__value = "lang",
                uh(h, h.__value),
                ch(h, "class", "svelte-1vpv55x"),
                ch(_, "class", "label svelte-1vpv55x"),
                ch(m, "for", "option-lang"),
                ch(m, "class", "svelte-1vpv55x"),
                ch(p, "class", "option svelte-1vpv55x"),
                ch(E, "id", "option-fpt"),
                ch(E, "type", "radio"),
                ch(E, "name", "option"),
                E.__value = "fpt",
                uh(E, E.__value),
                ch(E, "class", "svelte-1vpv55x"),
                ch(S, "class", "label svelte-1vpv55x"),
                ch(w, "for", "option-fpt"),
                ch(w, "class", "svelte-1vpv55x"),
                ch(y, "class", "option svelte-1vpv55x"),
                ch(i, "class", "cancel-container svelte-1vpv55x"),
                ch(t, "class", "cancel-translation-body svelte-1vpv55x"),
                ch($, "class", "cancel-translation-footer svelte-1vpv55x"),
                A.p(l, h, E)
            },
            m(A, O) {
                Qg(A, t, O),
                Kg(t, n),
                Kg(t, o),
                Kg(t, i),
                Kg(i, r),
                Kg(r, s),
                Kg(s, a),
                Kg(a, l),
                l.checked = l.__value === e[1],
                Kg(s, c),
                Kg(s, d),
                Kg(i, u),
                Kg(i, p),
                Kg(p, m),
                Kg(m, g),
                Kg(g, h),
                h.checked = h.__value === e[1],
                Kg(m, f),
                Kg(m, _),
                Kg(i, v),
                Kg(i, y),
                Kg(y, w),
                Kg(w, b),
                Kg(b, E),
                E.checked = E.__value === e[1],
                Kg(w, T),
                Kg(w, S),
                Qg(A, x, O),
                Qg(A, $, O),
                cf(C, $, null),
                Kg($, k),
                cf(I, $, null),
                L = !0,
                R || (M = [sh(l, "change", e[6]), sh(h, "change", e[8]), sh(E, "change", e[9])],
                R = !0)
            },
            p(t, [n]) {
                e = t,
                2 & n && (l.checked = l.__value === e[1]),
                2 & n && (h.checked = h.__value === e[1]),
                2 & n && (E.checked = E.__value === e[1]);
                const o = {};
                65536 & n && (o.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                C.$set(o);
                const i = {};
                65536 & n && (i.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                I.$set(i)
            },
            i(e) {
                L || (Jh(C.$$.fragment, e),
                Jh(I.$$.fragment, e),
                L = !0)
            },
            o(e) {
                ef(C.$$.fragment, e),
                ef(I.$$.fragment, e),
                L = !1
            },
            d(e) {
                e && (Jg(t),
                Jg(x),
                Jg($)),
                df(C),
                df(I),
                A.r(),
                R = !1,
                Ig(M)
            }
        }
    }
    function kA(e, n, o) {
        let i, r;
        const s = Ah("deepl_settings");
        Mg(e, s, (e => o(11, r = e)));
        const a = Ah("deepl_website_settings");
        Mg(e, a, (e => o(10, i = e)));
        let {onClose: l} = n
          , {onCancel: c} = n
          , u = "fpt";
        return e.$$set = e => {
            "onClose"in e && o(5, l = e.onClose),
            "onCancel"in e && o(0, c = e.onCancel)
        }
        ,
        [c, u, s, a, () => {
            const e = {
                hideOption: void 0,
                sourceLang: i.websiteLanguage,
                domainName: i.hostname,
                uiLocation: mx(W.fptHideModal)
            };
            switch (u) {
            case "website":
                Wg(s, r.blacklistDomains = [...r.blacklistDomains, i.hostname], r),
                e.hideOption = k;
                break;
            case "lang":
                n = i.websiteLanguage,
                o = d,
                "EN" === n ? (Wg(s, r.languagesForTranslation = {
                    ...r.languagesForTranslation,
                    "EN-GB": o
                }, r),
                Wg(s, r.languagesForTranslation = {
                    ...r.languagesForTranslation,
                    "EN-US": o
                }, r)) : "PT" === n ? (Wg(s, r.languagesForTranslation = {
                    ...r.languagesForTranslation,
                    "PT-PT": o
                }, r),
                Wg(s, r.languagesForTranslation = {
                    ...r.languagesForTranslation,
                    "PT-BR": o
                }, r)) : "ZH" === n ? (Wg(s, r.languagesForTranslation = {
                    ...r.languagesForTranslation,
                    "ZH-CN": o
                }, r),
                Wg(s, r.languagesForTranslation = {
                    ...r.languagesForTranslation,
                    "ZH-HANT": o
                }, r)) : Wg(s, r.languagesForTranslation = {
                    ...r.languagesForTranslation,
                    [n]: o
                }, r),
                e.hideOption = I;
                break;
            default:
                e.hideOption = L,
                s.set({
                    enableFullPageTranslation: !1
                })
            }
            var n, o;
            t({
                action: "dlSendNotification",
                payload: {
                    type: U.fullPageTranslation,
                    options: {
                        theme: B.green_theme
                    }
                }
            }),
            t({
                action: "dlTrackFptHide",
                payload: e
            }),
            l()
        }
        , l, function() {
            u = this.__value,
            o(1, u)
        }
        , [[]], function() {
            u = this.__value,
            o(1, u)
        }
        , function() {
            u = this.__value,
            o(1, u)
        }
        ]
    }
    class IA extends pf {
        constructor(e) {
            super(),
            uf(this, e, kA, CA, Ag, {
                onClose: 5,
                onCancel: 0
            })
        }
    }
    function LA(e, t, n) {
        const o = e.slice();
        return o[17] = t[n],
        o
    }
    function AA(e, t, n) {
        const o = e.slice();
        return o[17] = t[n],
        o
    }
    function RA(e, t, n) {
        const o = e.slice();
        return o[17] = t[n],
        o
    }
    function MA(e, t, n) {
        const o = e.slice();
        return o[17] = t[n],
        o
    }
    function OA(e, t, n) {
        const o = e.slice();
        return o[17] = t[n],
        o
    }
    function NA(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p = chrome.i18n.getMessage("ui_fpt_hide_checkbox") + "";
        t = new vA({
            props: {
                onClose: e[0],
                $$slots: {
                    default: [GA]
                },
                $$scope: {
                    ctx: e
                }
            }
        });
        let m = e[6] && qA(e);
        return {
            c() {
                lf(t.$$.fragment),
                n = ih(),
                m && m.c(),
                o = ih(),
                i = th("div"),
                r = th("label"),
                s = th("input"),
                a = ih(),
                l = oh(p),
                ch(s, "type", "checkbox"),
                s.disabled = e[6],
                ch(s, "class", "svelte-6tzge"),
                ch(r, "class", "svelte-6tzge"),
                ch(i, "class", "footer svelte-6tzge"),
                fh(i, "hasError", e[6])
            },
            m(p, g) {
                cf(t, p, g),
                Qg(p, n, g),
                m && m.m(p, g),
                Qg(p, o, g),
                Qg(p, i, g),
                Kg(i, r),
                Kg(r, s),
                Kg(r, a),
                Kg(r, l),
                c = !0,
                d || (u = sh(r, "click", e[15]),
                d = !0)
            },
            p(e, n) {
                const r = {};
                1 & n && (r.onClose = e[0]),
                268435476 & n && (r.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                t.$set(r),
                e[6] ? m ? (m.p(e, n),
                64 & n && Jh(m, 1)) : (m = qA(e),
                m.c(),
                Jh(m, 1),
                m.m(o.parentNode, o)) : m && (Xh(),
                ef(m, 1, 1, ( () => {
                    m = null
                }
                )),
                Qh()),
                (!c || 64 & n) && (s.disabled = e[6]),
                (!c || 64 & n) && fh(i, "hasError", e[6])
            },
            i(e) {
                c || (Jh(t.$$.fragment, e),
                Jh(m),
                c = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                ef(m),
                c = !1
            },
            d(e) {
                e && (Jg(n),
                Jg(o),
                Jg(i)),
                df(t, e),
                m && m.d(e),
                d = !1,
                u()
            }
        }
    }
    function DA(e) {
        let t, n, o, i;
        return t = new vA({
            props: {
                onClose: e[0]
            }
        }),
        o = new IA({
            props: {
                onClose: e[0],
                onCancel: e[13]
            }
        }),
        {
            c() {
                lf(t.$$.fragment),
                n = ih(),
                lf(o.$$.fragment)
            },
            m(e, r) {
                cf(t, e, r),
                Qg(e, n, r),
                cf(o, e, r),
                i = !0
            },
            p(e, n) {
                const i = {};
                1 & n && (i.onClose = e[0]),
                t.$set(i);
                const r = {};
                1 & n && (r.onClose = e[0]),
                8 & n && (r.onCancel = e[13]),
                o.$set(r)
            },
            i(e) {
                i || (Jh(t.$$.fragment, e),
                Jh(o.$$.fragment, e),
                i = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                ef(o.$$.fragment, e),
                i = !1
            },
            d(e) {
                e && Jg(n),
                df(t, e),
                df(o, e)
            }
        }
    }
    function PA(e) {
        let t, n;
        return t = new vA({
            props: {
                $$slots: {
                    default: [cR]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                268435510 & n && (o.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function UA(e) {
        let t, n;
        return t = new vA({
            props: {
                $$slots: {
                    default: [gR]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                268435472 & n && (o.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function BA(e) {
        let t, n;
        return t = new vA({
            props: {
                $$slots: {
                    default: [hR]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                268435456 & n && (o.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function WA(e) {
        let t, n;
        return t = new vA({
            props: {
                $$slots: {
                    default: [fR]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                268435456 & n && (o.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function FA(e) {
        let t, n;
        return t = new vA({
            props: {
                $$slots: {
                    default: [_R]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                268435456 & n && (o.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function zA(e) {
        let t, n;
        return t = new vA({
            props: {
                $$slots: {
                    default: [vR]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                268435456 & n && (o.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function HA(e) {
        let t, n;
        return t = new vA({
            props: {
                $$slots: {
                    default: [yR]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                268435456 & n && (o.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function jA(e) {
        let t;
        return {
            c() {
                t = th("span"),
                t.textContent = `${chrome.i18n.getMessage("ui_fpt_translate_button")}`,
                ch(t, "class", "svelte-6tzge")
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function GA(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p;
        return l = new ob({
            props: {
                value: e[2].selectedTargetLanguage,
                variant: "alternate",
                alignRight: !1
            }
        }),
        l.$on("selection", e[14]),
        u = new SA({
            props: {
                className: "btn-primary",
                paddingX: "md",
                dataQa: "dl-button-translate-page",
                $$slots: {
                    default: [jA]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        u.$on("click", e[10]),
        {
            c() {
                t = th("div"),
                n = th("div"),
                o = oh(e[4]),
                i = ih(),
                r = th("div"),
                s = ih(),
                a = th("div"),
                lf(l.$$.fragment),
                c = ih(),
                d = th("div"),
                lf(u.$$.fragment),
                ch(n, "class", "website-lang svelte-6tzge"),
                ch(r, "class", "translate-to-arrow svelte-6tzge"),
                ch(a, "class", "language-switch svelte-6tzge"),
                ch(t, "class", "language-selection svelte-6tzge"),
                ch(t, "dir", Vt()),
                ch(d, "class", "translate-button svelte-6tzge")
            },
            m(e, m) {
                Qg(e, t, m),
                Kg(t, n),
                Kg(n, o),
                Kg(t, i),
                Kg(t, r),
                Kg(t, s),
                Kg(t, a),
                cf(l, a, null),
                Qg(e, c, m),
                Qg(e, d, m),
                cf(u, d, null),
                p = !0
            },
            p(e, t) {
                (!p || 16 & t) && dh(o, e[4]);
                const n = {};
                4 & t && (n.value = e[2].selectedTargetLanguage),
                l.$set(n);
                const i = {};
                268435456 & t && (i.$$scope = {
                    dirty: t,
                    ctx: e
                }),
                u.$set(i)
            },
            i(e) {
                p || (Jh(l.$$.fragment, e),
                Jh(u.$$.fragment, e),
                p = !0)
            },
            o(e) {
                ef(l.$$.fragment, e),
                ef(u.$$.fragment, e),
                p = !1
            },
            d(e) {
                e && (Jg(t),
                Jg(c),
                Jg(d)),
                df(l),
                df(u)
            }
        }
    }
    function qA(e) {
        let t, n, o;
        return n = new Xy({
            props: {
                error: e[1].error
            }
        }),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                ch(t, "class", "error-container svelte-6tzge")
            },
            m(e, i) {
                Qg(e, t, i),
                cf(n, t, null),
                o = !0
            },
            p(e, t) {
                const o = {};
                2 & t && (o.error = e[1].error),
                n.$set(o)
            },
            i(e) {
                o || (Jh(n.$$.fragment, e),
                o = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                o = !1
            },
            d(e) {
                e && Jg(t),
                df(n)
            }
        }
    }
    function VA(e) {
        let t, n = sf(Jf(chrome.i18n.getMessage("ui_notice_no_translate_language", e[4]), ["strong"])), o = [];
        for (let t = 0; t < n.length; t += 1)
            o[t] = XA(AA(e, n, t));
        return {
            c() {
                for (let e = 0; e < o.length; e += 1)
                    o[e].c();
                t = rh()
            },
            m(e, n) {
                for (let t = 0; t < o.length; t += 1)
                    o[t] && o[t].m(e, n);
                Qg(e, t, n)
            },
            p(e, i) {
                if (16 & i) {
                    let r;
                    for (n = sf(Jf(chrome.i18n.getMessage("ui_notice_no_translate_language", e[4]), ["strong"])),
                    r = 0; r < n.length; r += 1) {
                        const s = AA(e, n, r);
                        o[r] ? o[r].p(s, i) : (o[r] = XA(s),
                        o[r].c(),
                        o[r].m(t.parentNode, t))
                    }
                    for (; r < o.length; r += 1)
                        o[r].d(1);
                    o.length = n.length
                }
            },
            d(e) {
                e && Jg(t),
                eh(o, e)
            }
        }
    }
    function YA(e) {
        let t;
        function n(e, t) {
            return e[5] ? JA : QA
        }
        let o = n(e)
          , i = o(e);
        return {
            c() {
                i.c(),
                t = rh()
            },
            m(e, n) {
                i.m(e, n),
                Qg(e, t, n)
            },
            p(e, r) {
                o === (o = n(e)) && i ? i.p(e, r) : (i.d(1),
                i = o(e),
                i && (i.c(),
                i.m(t.parentNode, t)))
            },
            d(e) {
                e && Jg(t),
                i.d(e)
            }
        }
    }
    function KA(e) {
        let t, n = e[17].text + "";
        return {
            c() {
                t = oh(n)
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p(e, o) {
                16 & o && n !== (n = e[17].text + "") && dh(t, n)
            },
            d(e) {
                e && Jg(t)
            }
        }
    }
    function ZA(e) {
        let t, n, o = e[17].text + "";
        return {
            c() {
                t = th("strong"),
                n = oh(o),
                ch(t, "class", "svelte-6tzge")
            },
            m(e, o) {
                Qg(e, t, o),
                Kg(t, n)
            },
            p(e, t) {
                16 & t && o !== (o = e[17].text + "") && dh(n, o)
            },
            d(e) {
                e && Jg(t)
            }
        }
    }
    function XA(e) {
        let t;
        function n(e, t) {
            return "strong" === e[17].block ? ZA : KA
        }
        let o = n(e)
          , i = o(e);
        return {
            c() {
                i.c(),
                t = rh()
            },
            m(e, n) {
                i.m(e, n),
                Qg(e, t, n)
            },
            p(e, r) {
                o === (o = n(e)) && i ? i.p(e, r) : (i.d(1),
                i = o(e),
                i && (i.c(),
                i.m(t.parentNode, t)))
            },
            d(e) {
                e && Jg(t),
                i.d(e)
            }
        }
    }
    function QA(e) {
        let t, n = sf(Jf(chrome.i18n.getMessage("ui_notice_no_translate_website", e[1].hostname), ["strong"])), o = [];
        for (let t = 0; t < n.length; t += 1)
            o[t] = nR(RA(e, n, t));
        return {
            c() {
                for (let e = 0; e < o.length; e += 1)
                    o[e].c();
                t = rh()
            },
            m(e, n) {
                for (let t = 0; t < o.length; t += 1)
                    o[t] && o[t].m(e, n);
                Qg(e, t, n)
            },
            p(e, i) {
                if (2 & i) {
                    let r;
                    for (n = sf(Jf(chrome.i18n.getMessage("ui_notice_no_translate_website", e[1].hostname), ["strong"])),
                    r = 0; r < n.length; r += 1) {
                        const s = RA(e, n, r);
                        o[r] ? o[r].p(s, i) : (o[r] = nR(s),
                        o[r].c(),
                        o[r].m(t.parentNode, t))
                    }
                    for (; r < o.length; r += 1)
                        o[r].d(1);
                    o.length = n.length
                }
            },
            d(e) {
                e && Jg(t),
                eh(o, e)
            }
        }
    }
    function JA(e) {
        let t, n = sf(Jf(chrome.i18n.getMessage("ui_notice_no_translate_website_and_language", [e[1].hostname, e[4]]), ["strong"])), o = [];
        for (let t = 0; t < n.length; t += 1)
            o[t] = rR(MA(e, n, t));
        return {
            c() {
                for (let e = 0; e < o.length; e += 1)
                    o[e].c();
                t = rh()
            },
            m(e, n) {
                for (let t = 0; t < o.length; t += 1)
                    o[t] && o[t].m(e, n);
                Qg(e, t, n)
            },
            p(e, i) {
                if (18 & i) {
                    let r;
                    for (n = sf(Jf(chrome.i18n.getMessage("ui_notice_no_translate_website_and_language", [e[1].hostname, e[4]]), ["strong"])),
                    r = 0; r < n.length; r += 1) {
                        const s = MA(e, n, r);
                        o[r] ? o[r].p(s, i) : (o[r] = rR(s),
                        o[r].c(),
                        o[r].m(t.parentNode, t))
                    }
                    for (; r < o.length; r += 1)
                        o[r].d(1);
                    o.length = n.length
                }
            },
            d(e) {
                e && Jg(t),
                eh(o, e)
            }
        }
    }
    function eR(e) {
        let t, n = e[17].text + "";
        return {
            c() {
                t = oh(n)
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p(e, o) {
                2 & o && n !== (n = e[17].text + "") && dh(t, n)
            },
            d(e) {
                e && Jg(t)
            }
        }
    }
    function tR(e) {
        let t, n, o = e[17].text + "";
        return {
            c() {
                t = th("strong"),
                n = oh(o),
                ch(t, "class", "svelte-6tzge")
            },
            m(e, o) {
                Qg(e, t, o),
                Kg(t, n)
            },
            p(e, t) {
                2 & t && o !== (o = e[17].text + "") && dh(n, o)
            },
            d(e) {
                e && Jg(t)
            }
        }
    }
    function nR(e) {
        let t;
        function n(e, t) {
            return "strong" === e[17].block ? tR : eR
        }
        let o = n(e)
          , i = o(e);
        return {
            c() {
                i.c(),
                t = rh()
            },
            m(e, n) {
                i.m(e, n),
                Qg(e, t, n)
            },
            p(e, r) {
                o === (o = n(e)) && i ? i.p(e, r) : (i.d(1),
                i = o(e),
                i && (i.c(),
                i.m(t.parentNode, t)))
            },
            d(e) {
                e && Jg(t),
                i.d(e)
            }
        }
    }
    function oR(e) {
        let t, n = e[17].text + "";
        return {
            c() {
                t = oh(n)
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p(e, o) {
                18 & o && n !== (n = e[17].text + "") && dh(t, n)
            },
            d(e) {
                e && Jg(t)
            }
        }
    }
    function iR(e) {
        let t, n, o = e[17].text + "";
        return {
            c() {
                t = th("strong"),
                n = oh(o),
                ch(t, "class", "svelte-6tzge")
            },
            m(e, o) {
                Qg(e, t, o),
                Kg(t, n)
            },
            p(e, t) {
                18 & t && o !== (o = e[17].text + "") && dh(n, o)
            },
            d(e) {
                e && Jg(t)
            }
        }
    }
    function rR(e) {
        let t;
        function n(e, t) {
            return "strong" === e[17].block ? iR : oR
        }
        let o = n(e)
          , i = o(e);
        return {
            c() {
                i.c(),
                t = rh()
            },
            m(e, n) {
                i.m(e, n),
                Qg(e, t, n)
            },
            p(e, r) {
                o === (o = n(e)) && i ? i.p(e, r) : (i.d(1),
                i = o(e),
                i && (i.c(),
                i.m(t.parentNode, t)))
            },
            d(e) {
                e && Jg(t),
                i.d(e)
            }
        }
    }
    function sR(e) {
        let t, n = e[17].text + "";
        return {
            c() {
                t = oh(n)
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function aR(e) {
        let t, n, o;
        return {
            c() {
                t = th("span"),
                t.textContent = `${e[17].text}`,
                ch(t, "class", "link svelte-6tzge")
            },
            m(i, r) {
                Qg(i, t, r),
                n || (o = sh(t, "click", e[9]),
                n = !0)
            },
            p: xg,
            d(e) {
                e && Jg(t),
                n = !1,
                o()
            }
        }
    }
    function lR(e) {
        let t;
        let n = function(e, t) {
            return "settingsLink" === e[17].block ? aR : sR
        }(e)
          , o = n(e);
        return {
            c() {
                o.c(),
                t = rh()
            },
            m(e, n) {
                o.m(e, n),
                Qg(e, t, n)
            },
            p(e, t) {
                o.p(e, t)
            },
            d(e) {
                e && Jg(t),
                o.d(e)
            }
        }
    }
    function cR(e) {
        let t, n, o, i, r;
        function s(e, t) {
            return 6 & t && (o = null),
            null == o && (o = !!e[2].blacklistDomains.includes(e[1].hostname)),
            o ? YA : e[5] ? VA : void 0
        }
        let a = s(e, -1)
          , l = a && a(e)
          , c = sf(Jf(chrome.i18n.getMessage("ui_notice_no_translate_change_option"), ["settingsLink"]))
          , d = [];
        for (let t = 0; t < c.length; t += 1)
            d[t] = lR(LA(e, c, t));
        return {
            c() {
                t = th("div"),
                n = th("p"),
                l && l.c(),
                i = ih(),
                r = th("p");
                for (let e = 0; e < d.length; e += 1)
                    d[e].c();
                ch(n, "class", "svelte-6tzge"),
                ch(r, "class", "svelte-6tzge")
            },
            m(e, o) {
                Qg(e, t, o),
                Kg(t, n),
                l && l.m(n, null),
                Kg(t, i),
                Kg(t, r);
                for (let e = 0; e < d.length; e += 1)
                    d[e] && d[e].m(r, null)
            },
            p(e, t) {
                if (a === (a = s(e, t)) && l ? l.p(e, t) : (l && l.d(1),
                l = a && a(e),
                l && (l.c(),
                l.m(n, null))),
                512 & t) {
                    let n;
                    for (c = sf(Jf(chrome.i18n.getMessage("ui_notice_no_translate_change_option"), ["settingsLink"])),
                    n = 0; n < c.length; n += 1) {
                        const o = LA(e, c, n);
                        d[n] ? d[n].p(o, t) : (d[n] = lR(o),
                        d[n].c(),
                        d[n].m(r, null))
                    }
                    for (; n < d.length; n += 1)
                        d[n].d(1);
                    d.length = c.length
                }
            },
            d(e) {
                e && Jg(t),
                l && l.d(),
                eh(d, e)
            }
        }
    }
    function dR(e) {
        let t, n = e[17].text + "";
        return {
            c() {
                t = oh(n)
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p(e, o) {
                16 & o && n !== (n = e[17].text + "") && dh(t, n)
            },
            d(e) {
                e && Jg(t)
            }
        }
    }
    function uR(e) {
        let t, n, o = e[17].text + "";
        return {
            c() {
                t = th("strong"),
                n = oh(o),
                ch(t, "class", "svelte-6tzge")
            },
            m(e, o) {
                Qg(e, t, o),
                Kg(t, n)
            },
            p(e, t) {
                16 & t && o !== (o = e[17].text + "") && dh(n, o)
            },
            d(e) {
                e && Jg(t)
            }
        }
    }
    function pR(e) {
        let t;
        function n(e, t) {
            return "strong" === e[17].block ? uR : dR
        }
        let o = n(e)
          , i = o(e);
        return {
            c() {
                i.c(),
                t = rh()
            },
            m(e, n) {
                i.m(e, n),
                Qg(e, t, n)
            },
            p(e, r) {
                o === (o = n(e)) && i ? i.p(e, r) : (i.d(1),
                i = o(e),
                i && (i.c(),
                i.m(t.parentNode, t)))
            },
            d(e) {
                e && Jg(t),
                i.d(e)
            }
        }
    }
    function mR(e) {
        let t, n = chrome.i18n.getMessage("full_page_translation_show_original") + "";
        return {
            c() {
                t = oh(n)
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function gR(e) {
        let t, n, o, i, r, s, a = sf(Jf(chrome.i18n.getMessage("ui_translated_automatically", e[4]), ["strong"])), l = [];
        for (let t = 0; t < a.length; t += 1)
            l[t] = pR(OA(e, a, t));
        return r = new SA({
            props: {
                className: "button-reload",
                $$slots: {
                    default: [mR]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        r.$on("click", e[11]),
        {
            c() {
                t = th("div"),
                n = th("p");
                for (let e = 0; e < l.length; e += 1)
                    l[e].c();
                o = ih(),
                i = th("p"),
                lf(r.$$.fragment),
                ch(n, "class", "mb-none svelte-6tzge"),
                ch(i, "class", "svelte-6tzge")
            },
            m(e, a) {
                Qg(e, t, a),
                Kg(t, n);
                for (let e = 0; e < l.length; e += 1)
                    l[e] && l[e].m(n, null);
                Kg(t, o),
                Kg(t, i),
                cf(r, i, null),
                s = !0
            },
            p(e, t) {
                if (16 & t) {
                    let o;
                    for (a = sf(Jf(chrome.i18n.getMessage("ui_translated_automatically", e[4]), ["strong"])),
                    o = 0; o < a.length; o += 1) {
                        const i = OA(e, a, o);
                        l[o] ? l[o].p(i, t) : (l[o] = pR(i),
                        l[o].c(),
                        l[o].m(n, null))
                    }
                    for (; o < l.length; o += 1)
                        l[o].d(1);
                    l.length = a.length
                }
                const o = {};
                268435456 & t && (o.$$scope = {
                    dirty: t,
                    ctx: e
                }),
                r.$set(o)
            },
            i(e) {
                s || (Jh(r.$$.fragment, e),
                s = !0)
            },
            o(e) {
                ef(r.$$.fragment, e),
                s = !1
            },
            d(e) {
                e && Jg(t),
                eh(l, e),
                df(r)
            }
        }
    }
    function hR(e) {
        let t;
        return {
            c() {
                t = th("p"),
                t.textContent = `${chrome.i18n.getMessage("full_page_translation_ongoing_translation")}`,
                ch(t, "class", "translation-in-progress svelte-6tzge")
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function fR(e) {
        let t;
        return {
            c() {
                t = th("p"),
                t.textContent = `${chrome.i18n.getMessage("full_page_translation_auto_detect_lang")}`,
                ch(t, "class", "translation-in-progress svelte-6tzge")
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function _R(e) {
        let t, n;
        return t = new bA({
            props: {
                message: chrome.i18n.getMessage("full_page_translation_info_google_translate")
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p: xg,
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function vR(e) {
        let t, n;
        return t = new bA({
            props: {
                message: chrome.i18n.getMessage("full_page_translation_no_website_data")
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p: xg,
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function yR(e) {
        let t, n, o;
        return n = new CT({}),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                ch(t, "class", "translation-in-progress svelte-6tzge")
            },
            m(e, i) {
                Qg(e, t, i),
                cf(n, t, null),
                o = !0
            },
            p: xg,
            i(e) {
                o || (Jh(n.$$.fragment, e),
                o = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                o = !1
            },
            d(e) {
                e && Jg(t),
                df(n)
            }
        }
    }
    function wR(e) {
        let t, n, o, i, r, s;
        const a = [HA, zA, FA, WA, BA, UA, PA, DA, NA]
          , l = [];
        function c(e, t) {
            return 2 & t && (n = null),
            38 & t && (o = null),
            null == e[1] ? 0 : (null == n && (n = !(0 !== Object.keys(e[1]).length)),
            n ? 1 : e[1].isGoogleTranslatedActive ? 2 : e[1].translationState === u.ongoingAutoDetection ? 3 : e[1].translationState === u.ongoingTranslation ? 4 : e[1].translationState === u.isTranslationComplete ? 5 : (null == o && (o = !(!e[2].blacklistDomains.includes(e[1].hostname) && !e[5])),
            o ? 6 : e[3] ? 7 : e[1].websiteLanguage ? 8 : -1))
        }
        return ~(i = c(e, -1)) && (r = l[i] = a[i](e)),
        {
            c() {
                t = th("div"),
                r && r.c(),
                ch(t, "class", "full-page-translation svelte-6tzge")
            },
            m(e, n) {
                Qg(e, t, n),
                ~i && l[i].m(t, null),
                s = !0
            },
            p(e, [n]) {
                let o = i;
                i = c(e, n),
                i === o ? ~i && l[i].p(e, n) : (r && (Xh(),
                ef(l[o], 1, 1, ( () => {
                    l[o] = null
                }
                )),
                Qh()),
                ~i ? (r = l[i],
                r ? r.p(e, n) : (r = l[i] = a[i](e),
                r.c()),
                Jh(r, 1),
                r.m(t, null)) : r = null)
            },
            i(e) {
                s || (Jh(r),
                s = !0)
            },
            o(e) {
                ef(r),
                s = !1
            },
            d(e) {
                e && Jg(t),
                ~i && l[i].d()
            }
        }
    }
    function bR(e, n, o) {
        let i, r, s, a;
        const l = Ah("deepl_settings");
        Mg(e, l, (e => o(2, a = e)));
        const c = Ah("deepl_website_settings");
        Mg(e, c, (e => o(1, s = e)));
        let p = x
          , {onClose: m} = n;
        let g, h, f = !1;
        return e.$$set = e => {
            "onClose"in e && o(0, m = e.onClose)
        }
        ,
        e.$$.update = () => {
            2 & e.$$.dirty && o(6, i = s && s.error),
            6 & e.$$.dirty && o(5, r = jt(s.websiteLanguage, a.languagesForTranslation, d)),
            2 & e.$$.dirty && s && (s.isSupportedLanguage ? o(4, g = chrome.i18n.getMessage(`supported_languages_${s.websiteLanguage}`)) : o(4, g = chrome.i18n.getMessage("supported_languages_EN"))),
            4098 & e.$$.dirty && s && s.hostname && s.hostname !== h && (o(12, h = s.hostname),
            t({
                action: "dlTrackExtensionOpenedEvent",
                payload: {
                    domainName: h,
                    extensionContext: p
                }
            }))
        }
        ,
        [m, s, a, f, g, r, i, l, c, function() {
            t({
                action: "dlOpenInternalPage",
                payload: {
                    destination: kT.settings_page
                }
            })
        }
        , function() {
            0 == a.isTargetLanguageConfirmed && l.set({
                isTargetLanguageConfirmed: !0
            }),
            EB(s.websiteLanguage, v)
        }
        , () => {
            c.update({
                translationState: u.showOriginal
            })
        }
        , h, () => {
            o(3, f = !1)
        }
        , e => l.set({
            selectedTargetLanguage: e.detail.selectedOption.value,
            isTargetLanguageConfirmed: !0,
            regionalVariant: e.detail.selectedOption.regionalVariant
        }), () => {
            i || o(3, f = !f)
        }
        ]
    }
    class ER extends pf {
        constructor(e) {
            super(),
            uf(this, e, bR, wR, Ag, {
                onClose: 0
            })
        }
    }
    function TR(e) {
        let t, n, o;
        return n = new ER({
            props: {
                onClose: e[0]
            }
        }),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                ch(t, "class", "app-popup svelte-1x9ra34"),
                ch(t, "style", `z-index: ${e[2].z_index}`),
                ch(t, "dir", Vt())
            },
            m(e, i) {
                Qg(e, t, i),
                cf(n, t, null),
                o = !0
            },
            p(e, t) {
                const o = {};
                1 & t && (o.onClose = e[0]),
                n.$set(o)
            },
            i(e) {
                o || (Jh(n.$$.fragment, e),
                o = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                o = !1
            },
            d(e) {
                e && Jg(t),
                df(n)
            }
        }
    }
    function SR(e) {
        let t, n, o = e[3]() && e[1] && e[1].isValidUrlForPopup, i = o && TR(e);
        return {
            c() {
                i && i.c(),
                t = rh()
            },
            m(e, o) {
                i && i.m(e, o),
                Qg(e, t, o),
                n = !0
            },
            p(e, [n]) {
                2 & n && (o = e[3]() && e[1] && e[1].isValidUrlForPopup),
                o ? i ? (i.p(e, n),
                2 & n && Jh(i, 1)) : (i = TR(e),
                i.c(),
                Jh(i, 1),
                i.m(t.parentNode, t)) : i && (Xh(),
                ef(i, 1, 1, ( () => {
                    i = null
                }
                )),
                Qh())
            },
            i(e) {
                n || (Jh(i),
                n = !0)
            },
            o(e) {
                ef(i),
                n = !1
            },
            d(e) {
                e && Jg(t),
                i && i.d(e)
            }
        }
    }
    function xR(e, t, n) {
        let o, i;
        Mg(e, hf, (e => n(4, o = e))),
        Mg(e, Hw, (e => n(1, i = e))),
        Lh("deepl_settings", hf),
        Lh("deepl_website_settings", Hw),
        Lh("text_direction", Vt());
        let {onClose: r} = t;
        const {deepl_inline_ui: s} = P;
        return e.$$set = e => {
            "onClose"in e && n(0, r = e.onClose)
        }
        ,
        [r, i, s, function() {
            return it(o, Ee.TRANSLATOR)
        }
        ]
    }
    class $R extends pf {
        constructor(e) {
            super(),
            uf(this, e, xR, SR, Ag, {
                onClose: 0
            })
        }
    }
    class CR {
        static HTML_TAG_NAME = "deepl-page-load-popup";
        static createElement = (e=document) => {
            const t = e.createElement(CR.HTML_TAG_NAME)
              , n = new CR(t);
            return t.createDOM = n.createDOM,
            t.cleanupDOM = n.cleanupDOM,
            t
        }
        ;
        constructor(e) {
            this.domElement = e,
            this.domElement.shadow = this.domElement.attachShadow({
                mode: "open"
            }),
            this.domElement.shadowContainer = document.createElement("div"),
            this.domElement.mainComponent;
            const t = document.createElement("link");
            t.setAttribute("rel", "stylesheet"),
            t.setAttribute("href", chrome.runtime.getURL("build/content.css")),
            this.domElement.shadow.appendChild(t),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer),
            this.domElement.shadowContainer.addEventListener("click", (e => {
                e.stopPropagation(),
                e.stopImmediatePropagation()
            }
            ))
        }
        createDOM = () => {
            this.domElement.mainComponent = new $R({
                target: this.domElement.shadowContainer,
                props: {
                    onClose: this.cleanupDOM
                }
            })
        }
        ;
        cleanupDOM = () => {
            this.domElement.shadowContainer.remove(),
            this.domElement.mainComponent && this.domElement.mainComponent.$destroy()
        }
    }
    function kR(e) {
        let t, n, o, i;
        return {
            c() {
                t = th("button"),
                n = th("span"),
                ch(n, "class", "svelte-19tdlik"),
                ch(t, "aria-label", e[3] ? chrome.i18n.getMessage("toggle_off") : chrome.i18n.getMessage("toggle_on")),
                ch(t, "class", "switch svelte-19tdlik"),
                ch(t, "data-testid", "deepl-switch"),
                ch(t, "data-qa", e[2]),
                fh(t, "checked", e[0]),
                fh(t, "disabled", e[1])
            },
            m(r, s) {
                Qg(r, t, s),
                Kg(t, n),
                o || (i = sh(t, "click", e[3]),
                o = !0)
            },
            p(e, [n]) {
                4 & n && ch(t, "data-qa", e[2]),
                1 & n && fh(t, "checked", e[0]),
                2 & n && fh(t, "disabled", e[1])
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                o = !1,
                i()
            }
        }
    }
    function IR(e, t, n) {
        let {checked: o=!1} = t
          , {disabled: i=!1} = t
          , {qaRoot: r="dl-switch"} = t;
        const s = Ih();
        return e.$$set = e => {
            "checked"in e && n(0, o = e.checked),
            "disabled"in e && n(1, i = e.disabled),
            "qaRoot"in e && n(2, r = e.qaRoot)
        }
        ,
        [o, i, r, function() {
            i || s("change", {
                checked: !o
            })
        }
        ]
    }
    class LR extends pf {
        constructor(e) {
            super(),
            uf(this, e, IR, kR, Ag, {
                checked: 0,
                disabled: 1,
                qaRoot: 2
            })
        }
    }
    function AR(e) {
        let t, n, o, i, r, s, a, l, c, d, u = e[1] && RR();
        return a = new LR({
            props: {
                checked: e[3].isGDocsEnabled
            }
        }),
        a.$on("change", e[8]),
        {
            c() {
                t = th("div"),
                u && u.c(),
                n = ih(),
                o = th("div"),
                i = th("div"),
                i.textContent = `${chrome.i18n.getMessage("ui_gdocs_setting_switch")}`,
                r = ih(),
                s = th("div"),
                lf(a.$$.fragment),
                ch(i, "class", "legend"),
                ch(s, "class", "switch svelte-8jz3zx"),
                ch(o, "class", "turn-on-off-panel svelte-8jz3zx"),
                ch(t, "class", "dl-gdocs-top-icon-modal svelte-8jz3zx"),
                ph(t, "left", e[2] + "px"),
                ch(t, "dir", Vt())
            },
            m(p, m) {
                Qg(p, t, m),
                u && u.m(t, null),
                Kg(t, n),
                Kg(t, o),
                Kg(o, i),
                Kg(o, r),
                Kg(o, s),
                cf(a, s, null),
                l = !0,
                c || (d = [Fg(S_.call(null, t, {
                    isShadow: !0
                })), sh(t, "click_outside", e[9])],
                c = !0)
            },
            p(e, o) {
                e[1] ? u ? u.p(e, o) : (u = RR(),
                u.c(),
                u.m(t, n)) : u && (u.d(1),
                u = null);
                const i = {};
                8 & o && (i.checked = e[3].isGDocsEnabled),
                a.$set(i),
                (!l || 4 & o) && ph(t, "left", e[2] + "px")
            },
            i(e) {
                l || (Jh(a.$$.fragment, e),
                l = !0)
            },
            o(e) {
                ef(a.$$.fragment, e),
                l = !1
            },
            d(e) {
                e && Jg(t),
                u && u.d(),
                df(a),
                c = !1,
                Ig(d)
            }
        }
    }
    function RR(e) {
        let t, n, o, i, r, s, a, l, c, d, u = chrome.i18n.getMessage("ui_gdocs_welcome_usp1") + "", p = chrome.i18n.getMessage("ui_gdocs_welcome_usp2") + "", m = chrome.i18n.getMessage("ui_gdocs_welcome_usp3") + "";
        return {
            c() {
                t = th("div"),
                n = th("div"),
                o = th("p"),
                o.textContent = `${chrome.i18n.getMessage("ui_gdocs_welcome_title")}`,
                i = ih(),
                r = th("div"),
                s = th("div"),
                a = ih(),
                l = th("div"),
                c = ih(),
                d = th("div"),
                ch(o, "class", "svelte-8jz3zx"),
                ch(n, "class", "header svelte-8jz3zx"),
                ch(s, "class", "ups-item svelte-8jz3zx"),
                ch(l, "class", "ups-item svelte-8jz3zx"),
                ch(d, "class", "ups-item svelte-8jz3zx"),
                ch(r, "class", "ups-list"),
                ch(t, "class", "onboarding svelte-8jz3zx")
            },
            m(e, g) {
                Qg(e, t, g),
                Kg(t, n),
                Kg(n, o),
                Kg(t, i),
                Kg(t, r),
                Kg(r, s),
                s.innerHTML = u,
                Kg(r, a),
                Kg(r, l),
                l.innerHTML = p,
                Kg(r, c),
                Kg(r, d),
                d.innerHTML = m
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function MR(e) {
        let t, n, o, i, r, s, a = e[0] && AR(e);
        return {
            c() {
                t = th("button"),
                n = ih(),
                a && a.c(),
                o = rh(),
                ch(t, "class", "dl-gdocs-top-icon svelte-8jz3zx"),
                ph(t, "left", e[2] + "px"),
                fh(t, "onboarding-pending", !e[3].isGDocsOnboardingShown)
            },
            m(l, c) {
                Qg(l, t, c),
                Qg(l, n, c),
                a && a.m(l, c),
                Qg(l, o, c),
                i = !0,
                r || (s = sh(t, "click", e[7]),
                r = !0)
            },
            p(e, [n]) {
                (!i || 4 & n) && ph(t, "left", e[2] + "px"),
                (!i || 8 & n) && fh(t, "onboarding-pending", !e[3].isGDocsOnboardingShown),
                e[0] ? a ? (a.p(e, n),
                1 & n && Jh(a, 1)) : (a = AR(e),
                a.c(),
                Jh(a, 1),
                a.m(o.parentNode, o)) : a && (Xh(),
                ef(a, 1, 1, ( () => {
                    a = null
                }
                )),
                Qh())
            },
            i(e) {
                i || (Jh(a),
                i = !0)
            },
            o(e) {
                ef(a),
                i = !1
            },
            d(e) {
                e && (Jg(t),
                Jg(n),
                Jg(o)),
                a && a.d(e),
                r = !1,
                s()
            }
        }
    }
    function OR(e, n, o) {
        let i;
        const r = Ah("deepl_settings");
        Mg(e, r, (e => o(3, i = e)));
        let s, {registerTopToolbarIconCallbacks: a} = n, {clearTopToolbarIconCallbacks: l} = n, c = !1, d = !1;
        const u = () => {
            const e = document.querySelector("#titlebar-mode-indicator-container")
              , t = document.querySelector(".docs-titlebar-buttons #docs-presence-container")
              , n = null != document.querySelector(".docs-titlebar-buttons-rtl");
            if (e) {
                const t = e.getBoundingClientRect();
                o(2, s = n ? o(2, s = t.left + 40 - 32) : t.left - 40)
            } else if (t) {
                const e = t.getBoundingClientRect();
                o(2, s = n ? o(2, s = e.left + 40 - 32) : e.left - 40)
            }
        }
        ;
        Ch(( () => {
            u(),
            a({
                repositionTopToolbarIcon: u
            })
        }
        )),
        kh(( () => {
            l()
        }
        ));
        return e.$$set = e => {
            "registerTopToolbarIconCallbacks"in e && o(5, a = e.registerTopToolbarIconCallbacks),
            "clearTopToolbarIconCallbacks"in e && o(6, l = e.clearTopToolbarIconCallbacks)
        }
        ,
        e.$$.update = () => {
            3 & e.$$.dirty && c && d && t({
                action: "dlTrackOnboardingModalShown",
                payload: {
                    nicheIntegration: re.gdocs
                }
            })
        }
        ,
        [c, d, s, i, r, a, l, () => {
            o(0, c = !0),
            i.isGDocsOnboardingShown || (Wg(r, i.isGDocsOnboardingShown = !0, i),
            o(1, d = !0))
        }
        , e => Wg(r, i.isGDocsEnabled = e.detail.checked, i), () => {
            o(1, d = !1),
            o(0, c = !1)
        }
        ]
    }
    class NR extends pf {
        constructor(e) {
            super(),
            uf(this, e, OR, MR, Ag, {
                registerTopToolbarIconCallbacks: 5,
                clearTopToolbarIconCallbacks: 6
            })
        }
    }
    function DR(e) {
        let t, n, o, i, r, s, a, l, c, d, u;
        o = new L_({
            props: {
                tooltip: e[5],
                showProShield: it(e[1], Ee.TRANSLATOR),
                zIndex: "10000000000",
                $$slots: {
                    default: [PR]
                },
                $$scope: {
                    ctx: e
                }
            }
        });
        let p = e[4] && UR(e);
        return a = new L_({
            props: {
                tooltip: chrome.i18n.getMessage("ui_gdocs_turn_off"),
                zIndex: "10000000000",
                $$slots: {
                    default: [WR]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                t = th("div"),
                n = th("button"),
                lf(o.$$.fragment),
                i = ih(),
                p && p.c(),
                r = ih(),
                s = th("button"),
                lf(a.$$.fragment),
                ch(n, "class", "dl-icon-circle dl-icon svelte-1e1g158"),
                fh(n, "isTranslateDisabled", e[0]),
                ch(s, "class", "dl-icon-circle dl-on-off-icon svelte-1e1g158"),
                ch(s, "data-qa", "deepl-inline-translate-menu-icon"),
                ch(t, "class", "dl-gdocs-icon svelte-1e1g158"),
                ph(t, "top", e[6].top),
                ph(t, "left", e[6].left),
                ch(t, "dir", Vt()),
                fh(t, "has-deepl-write", e[4])
            },
            m(l, m) {
                Qg(l, t, m),
                Kg(t, n),
                cf(o, n, null),
                Kg(t, i),
                p && p.m(t, null),
                Kg(t, r),
                Kg(t, s),
                cf(a, s, null),
                c = !0,
                d || (u = [sh(n, "click", e[26]), sh(n, "mouseenter", e[27]), sh(s, "click", e[11]), sh(s, "mouseenter", e[30])],
                d = !0)
            },
            p(e, i) {
                const s = {};
                32 & i[0] && (s.tooltip = e[5]),
                2 & i[0] && (s.showProShield = it(e[1], Ee.TRANSLATOR)),
                4 & i[2] && (s.$$scope = {
                    dirty: i,
                    ctx: e
                }),
                o.$set(s),
                (!c || 1 & i[0]) && fh(n, "isTranslateDisabled", e[0]),
                e[4] ? p ? (p.p(e, i),
                16 & i[0] && Jh(p, 1)) : (p = UR(e),
                p.c(),
                Jh(p, 1),
                p.m(t, r)) : p && (Xh(),
                ef(p, 1, 1, ( () => {
                    p = null
                }
                )),
                Qh());
                const l = {};
                4 & i[2] && (l.$$scope = {
                    dirty: i,
                    ctx: e
                }),
                a.$set(l),
                (!c || 64 & i[0]) && ph(t, "top", e[6].top),
                (!c || 64 & i[0]) && ph(t, "left", e[6].left),
                (!c || 16 & i[0]) && fh(t, "has-deepl-write", e[4])
            },
            i(e) {
                c || (Jh(o.$$.fragment, e),
                Jh(p),
                Jh(a.$$.fragment, e),
                l || Wh(( () => {
                    l = nf(t, Yf, {
                        x: -5,
                        duration: 300
                    }),
                    l.start()
                }
                )),
                c = !0)
            },
            o(e) {
                ef(o.$$.fragment, e),
                ef(p),
                ef(a.$$.fragment, e),
                c = !1
            },
            d(e) {
                e && Jg(t),
                df(o),
                p && p.d(),
                df(a),
                d = !1,
                Ig(u)
            }
        }
    }
    function PR(e) {
        let t;
        return {
            c() {
                t = th("span"),
                ch(t, "class", "svelte-1e1g158")
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function UR(e) {
        let t, n, o, i, r;
        return n = new L_({
            props: {
                tooltip: chrome.i18n.getMessage("ui_gdocs_deepl_write"),
                showProShield: it(e[1], Ee.WRITE),
                zIndex: "10000000000",
                $$slots: {
                    default: [BR]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                t = th("button"),
                lf(n.$$.fragment),
                ch(t, "class", "dl-icon-circle dl-write-icon svelte-1e1g158")
            },
            m(s, a) {
                Qg(s, t, a),
                cf(n, t, null),
                o = !0,
                i || (r = [sh(t, "click", e[28]), sh(t, "mouseenter", e[29])],
                i = !0)
            },
            p(e, t) {
                const o = {};
                2 & t[0] && (o.showProShield = it(e[1], Ee.WRITE)),
                4 & t[2] && (o.$$scope = {
                    dirty: t,
                    ctx: e
                }),
                n.$set(o)
            },
            i(e) {
                o || (Jh(n.$$.fragment, e),
                o = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                o = !1
            },
            d(e) {
                e && Jg(t),
                df(n),
                i = !1,
                Ig(r)
            }
        }
    }
    function BR(e) {
        let t;
        return {
            c() {
                t = th("span"),
                ch(t, "class", "svelte-1e1g158")
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function WR(e) {
        let t;
        return {
            c() {
                t = th("span"),
                ch(t, "class", "svelte-1e1g158")
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function FR(e) {
        let t, n, o, i;
        t = new NR({
            props: {
                registerTopToolbarIconCallbacks: e[12],
                clearTopToolbarIconCallbacks: e[13]
            }
        });
        let r = e[7] && !e[2] && !e[3] && DR(e);
        return {
            c() {
                lf(t.$$.fragment),
                n = ih(),
                r && r.c(),
                o = rh()
            },
            m(e, s) {
                cf(t, e, s),
                Qg(e, n, s),
                r && r.m(e, s),
                Qg(e, o, s),
                i = !0
            },
            p(e, t) {
                !e[7] || e[2] || e[3] ? r && (Xh(),
                ef(r, 1, 1, ( () => {
                    r = null
                }
                )),
                Qh()) : r ? (r.p(e, t),
                140 & t[0] && Jh(r, 1)) : (r = DR(e),
                r.c(),
                Jh(r, 1),
                r.m(o.parentNode, o))
            },
            i(e) {
                i || (Jh(t.$$.fragment, e),
                Jh(r),
                i = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                ef(r),
                i = !1
            },
            d(e) {
                e && (Jg(n),
                Jg(o)),
                df(t, e),
                r && r.d(e)
            }
        }
    }
    function zR(e, n, o) {
        let i, r, s;
        Mg(e, hf, (e => o(1, s = e))),
        Lh("deepl_settings", hf),
        Lh("deepl_website_settings", Hw),
        Lh("text_direction", Vt());
        let a, l, c, d, u, p, m, g, h, {replaceData: f} = n, {contentProcessBuildingBlocks: _} = n, {deeplWriteTrackingData: v={
            lang: "",
            sourceLength: 0,
            targetLength: 0,
            nicheIntegration: re.gdocs,
            error: ""
        }} = n, y = !0, w = !1, b = "", E = "", T = !1, S = "", x = {
            top: 0,
            left: 0
        };
        async function $(e, n, o) {
            if ("dlTriggerTranslationShortcut" === e.action)
                k(),
                t({
                    action: "dlTrackUseOfShortcut",
                    payload: {
                        shortcutType: F,
                        location: W.inlineTranslationTriggerIcon,
                        nicheIntegration: re.gdocs
                    }
                }),
                o();
            return !0
        }
        const C = e => {
            p = le.translate,
            e && (m = e),
            bt()
        }
          , k = () => {
            r || C(s.selectedTargetLanguage)
        }
          , I = () => {
            p = le.write,
            bt()
        }
          , L = () => {
            const {shouldBeOutOfViewport: e, newPosition: {left: t, top: n}} = St();
            e !== w && o(3, w = e),
            o(6, x.left = `${Math.round(t)}px`, x),
            o(6, x.top = `${Math.round(n)}px`, x)
        }
        ;
        function A(e) {
            t({
                action: "dlTrackIconHover",
                payload: {
                    uiLocation: e,
                    domainName: window.location.host,
                    nicheIntegration: re.gdocs
                }
            })
        }
        const R = () => {
            a = setInterval(( () => {
                const e = Et()
                  , n = !e.text;
                !n && y && L(),
                n && !y && ( () => {
                    if (!s.isInlineHighlighterShown) {
                        hf.set({
                            isInlineHighlighterShown: !0
                        });
                        try {
                            t({
                                action: "dltrackCloseInlineHighlighter",
                                payload: {
                                    trigger: ie.outside_click
                                }
                            })
                        } catch (e) {
                            console.error(e)
                        }
                    }
                }
                )(),
                o(2, y = n),
                b !== e.text && o(24, b = e.text)
            }
            ), 300)
        }
          , M = () => {
            const e = document.querySelector("#docs-instant-bubble");
            c = new MutationObserver(( () => {
                L()
            }
            ));
            return c.observe(e, {
                attributes: !0,
                childList: !1,
                characterData: !1
            }),
            () => c.unobserve()
        }
          , O = async e => {
            if (p && ("ClipboardEvent" === e.constructor.name || e.constructor.toString().includes("ClipboardEvent"))) {
                switch (p) {
                case le.translate:
                    xB({
                        event: e,
                        targetLang: m
                    });
                    break;
                case le.write:
                    $B({
                        event: e,
                        lang: E
                    })
                }
                p = void 0
            }
        }
          , N = () => {
            R(),
            ( () => {
                const e = document.querySelector("#kix-appview");
                l = new MutationObserver(( () => {
                    document.querySelector("#docs-instant-bubble") && (L(),
                    M())
                }
                )),
                l.observe(e, {
                    attributes: !1,
                    childList: !0,
                    characterData: !1
                })
            }
            )(),
            ( () => {
                const e = new ResizeObserver(( () => {
                    L(),
                    g && g()
                }
                ));
                e.observe(document.body)
            }
            )(),
            document.querySelector("#kix-appview .kix-appview-editor").addEventListener("scroll", L),
            ( () => {
                const {editable: e} = wt();
                e.addEventListener("copy", O)
            }
            )(),
            ( () => {
                const e = document.querySelector("#docs-presence-container");
                d = new ResizeObserver(( () => {
                    g && g()
                }
                )),
                d.observe(e)
            }
            )(),
            ( () => {
                const e = document.querySelector("#docs-titlebar");
                u = new ResizeObserver(( () => {
                    g && g()
                }
                )),
                u.observe(e)
            }
            )()
        }
          , D = () => {
            l && l.disconnect(),
            c && c.disconnect(),
            a && clearInterval(a),
            document.querySelector("#kix-appview .kix-appview-editor").removeEventListener("scroll", L),
            ( () => {
                const {editable: e} = wt();
                e.removeEventListener("copy", O)
            }
            )(),
            d && d.disconnect(),
            u && u.disconnect()
        }
        ;
        Ch(( () => {
            N(),
            chrome.runtime.onMessage.addListener($),
            t({
                action: "dlCheckCommandShortcuts"
            }).then((e => o(25, S = e ? e.filter((e => e.name == F))[0].shortcut : "")))
        }
        )),
        kh(( () => {
            D()
        }
        ));
        return e.$$set = e => {
            "replaceData"in e && o(15, f = e.replaceData),
            "contentProcessBuildingBlocks"in e && o(14, _ = e.contentProcessBuildingBlocks),
            "deeplWriteTrackingData"in e && o(16, v = e.deeplWriteTrackingData)
        }
        ,
        e.$$.update = () => {
            if (2 & e.$$.dirty[0] && o(7, i = s && s.isGDocsEnabled),
            2 & e.$$.dirty[0] && o(0, r = st(s, Ee.TRANSLATOR)),
            16777216 & e.$$.dirty[0] && (async e => {
                const t = await Wt(e);
                E = t,
                o(4, T = Gt(E) && !st(s, Ee.WRITE))
            }
            )(b),
            33554433 & e.$$.dirty[0])
                if (r)
                    o(5, h = chrome.i18n.getMessage("contact_admin_info_translate_disabled"));
                else {
                    let e = chrome.i18n.getMessage("ui_gdocs_translate_tooltip_2");
                    o(5, h = S ? `${e} (${S})` : e)
                }
        }
        ,
        [r, s, y, w, T, h, x, i, k, I, A, () => {
            hf.set({
                isGDocsEnabled: !1
            }),
            t({
                action: "dlTrackCustomizationEnabledEvent",
                payload: {
                    nicheIntegration: re.gdocs,
                    uiLocation: W.inlineTranslationTriggerIcon,
                    customizationEnabled: !1
                }
            })
        }
        , e => {
            g = e.repositionTopToolbarIcon
        }
        , () => {
            g = void 0
        }
        , _, f, v, e => {
            o(14, _ = e)
        }
        , () => _, () => {
            f && Ot(f)
        }
        , C, () => {
            zB({
                eventType: xe,
                ...v
            })
        }
        , () => {
            zB({
                eventType: $e,
                ...v
            })
        }
        , e => {
            switch (e) {
            case De:
                zB({
                    eventType: Ce,
                    ...v
                });
                break;
            case Pe:
                t({
                    action: "dlTrackGDocsMaxCharExceededTryProClicked",
                    payload: {
                        sourceLang: v.lang,
                        targetLang: v.lang,
                        sourceLength: v.sourceLength
                    }
                })
            }
        }
        , b, S, () => r ? null : k(), () => A(W.inlineTranslationTriggerIcon), () => I(), () => A(W.deeplWriteIcon), () => A(W.inlineTranslationSettingsIcon)]
    }
    class HR extends pf {
        constructor(e) {
            super(),
            uf(this, e, zR, FR, Ag, {
                replaceData: 15,
                contentProcessBuildingBlocks: 14,
                deeplWriteTrackingData: 16,
                setContentProcessBuildingBlocks: 17,
                getContentProcessBuildingBlocks: 18,
                applyReplacement: 19,
                requestTranslation: 20,
                trackDeeplWriteInsertCopy: 21,
                trackDeeplWriteDiscardCopy: 22,
                trackMaxCharExceeded: 23
            }, null, [-1, -1, -1])
        }
        get setContentProcessBuildingBlocks() {
            return this.$$.ctx[17]
        }
        get getContentProcessBuildingBlocks() {
            return this.$$.ctx[18]
        }
        get applyReplacement() {
            return this.$$.ctx[19]
        }
        get requestTranslation() {
            return this.$$.ctx[20]
        }
        get trackDeeplWriteInsertCopy() {
            return this.$$.ctx[21]
        }
        get trackDeeplWriteDiscardCopy() {
            return this.$$.ctx[22]
        }
        get trackMaxCharExceeded() {
            return this.$$.ctx[23]
        }
    }
    class jR {
        static HTML_TAG_NAME = "deepl-gdocs-icon";
        static createElement = (e=document) => {
            const t = e.createElement(jR.HTML_TAG_NAME)
              , n = new jR(t);
            return t.createDOM = n.createDOM,
            t.cleanupDOM = n.cleanupDOM,
            t.setReplaceData = n.setReplaceData,
            t.applyReplacement = n.applyReplacement,
            t.requestNewTranslation = n.requestNewTranslation,
            t.setDeeplWriteTrackingData = n.setDeeplWriteTrackingData,
            t.trackDeeplWriteInsertCopy = n.trackDeeplWriteInsertCopy,
            t.trackDeeplWriteDiscardCopy = n.trackDeeplWriteDiscardCopy,
            t.trackMaxCharExceeded = n.trackMaxCharExceeded,
            t.setContentProcessBuildingBlocks = n.setContentProcessBuildingBlocks,
            t.getContentProcessBuildingBlocks = n.getContentProcessBuildingBlocks,
            t
        }
        ;
        constructor(e) {
            this.domElement = e,
            this.domElement.shadow = this.domElement.attachShadow({
                mode: "open"
            }),
            this.domElement.shadowContainer = document.createElement("div"),
            this.domElement.mainComponent;
            const t = document.createElement("link");
            t.setAttribute("rel", "stylesheet"),
            t.setAttribute("href", chrome.runtime.getURL("build/content.css")),
            this.domElement.shadow.appendChild(t),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer),
            this.domElement.shadowRoot.addEventListener("mouseup", (e => {
                e.stopPropagation(),
                e.stopImmediatePropagation()
            }
            )),
            this.domElement.shadowRoot.addEventListener("mousedown", (e => {
                e.stopPropagation(),
                e.stopImmediatePropagation()
            }
            ))
        }
        createDOM = () => {
            this.domElement.mainComponent = new HR({
                target: this.domElement.shadowContainer,
                props: {
                    onClose: this.domElement.cleanupDOM
                }
            })
        }
        ;
        setReplaceData = e => {
            this.domElement.mainComponent.$$set({
                replaceData: e
            })
        }
        ;
        setDeeplWriteTrackingData = e => {
            this.domElement.mainComponent.$$set({
                deeplWriteTrackingData: e
            })
        }
        ;
        trackDeeplWriteInsertCopy = () => this.domElement.mainComponent.trackDeeplWriteInsertCopy();
        trackDeeplWriteDiscardCopy = () => this.domElement.mainComponent.trackDeeplWriteDiscardCopy();
        trackMaxCharExceeded = e => this.domElement.mainComponent.trackMaxCharExceeded(e);
        applyReplacement = () => {
            this.domElement.mainComponent.applyReplacement()
        }
        ;
        requestNewTranslation = e => {
            this.domElement.mainComponent.requestTranslation(e)
        }
        ;
        setContentProcessBuildingBlocks = e => this.domElement.mainComponent.setContentProcessBuildingBlocks(e);
        getContentProcessBuildingBlocks = () => this.domElement.mainComponent.getContentProcessBuildingBlocks();
        cleanupDOM = () => {
            this.domElement.shadowContainer.remove(),
            this.domElement.mainComponent && this.domElement.mainComponent.$destroy()
        }
    }
    function GR(e) {
        let t, n;
        return t = new o$({
            props: {
                size: 16,
                marginStart: 8,
                alternateColor: "white"
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function qR(e) {
        let t, n, o, i, r, s, a = chrome.i18n.getMessage("ui_gslides_translate_cta") + "", l = it(e[4], Ee.TRANSLATOR), c = l && GR();
        return {
            c() {
                t = th("button"),
                n = oh(a),
                o = ih(),
                c && c.c(),
                ch(t, "class", "action-button svelte-c2z0h2"),
                t.disabled = e[5]
            },
            m(a, l) {
                Qg(a, t, l),
                Kg(t, n),
                Kg(t, o),
                c && c.m(t, null),
                i = !0,
                r || (s = sh(t, "click", (function() {
                    Lg(e[0]) && e[0].apply(this, arguments)
                }
                )),
                r = !0)
            },
            p(n, o) {
                e = n,
                16 & o && (l = it(e[4], Ee.TRANSLATOR)),
                l ? c ? 16 & o && Jh(c, 1) : (c = GR(),
                c.c(),
                Jh(c, 1),
                c.m(t, null)) : c && (Xh(),
                ef(c, 1, 1, ( () => {
                    c = null
                }
                )),
                Qh()),
                (!i || 32 & o) && (t.disabled = e[5])
            },
            i(e) {
                i || (Jh(c),
                i = !0)
            },
            o(e) {
                ef(c),
                i = !1
            },
            d(e) {
                e && Jg(t),
                c && c.d(),
                r = !1,
                s()
            }
        }
    }
    function VR(e) {
        let t, n;
        return t = new o$({
            props: {
                size: 16,
                marginStart: 8,
                alternateColor: "white"
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function YR(e) {
        let t, n, o, i, r, s, a, l = chrome.i18n.getMessage("ui_gslides_write_cta") + "", c = it(e[4], Ee.TRANSLATOR), d = c && VR();
        return {
            c() {
                t = th("button"),
                n = oh(l),
                o = ih(),
                d && d.c(),
                ch(t, "class", "action-button svelte-c2z0h2"),
                t.disabled = i = !Gt(e[3]) || st(e[4], Ee.WRITE)
            },
            m(i, l) {
                Qg(i, t, l),
                Kg(t, n),
                Kg(t, o),
                d && d.m(t, null),
                r = !0,
                s || (a = sh(t, "click", (function() {
                    Lg(e[1]) && e[1].apply(this, arguments)
                }
                )),
                s = !0)
            },
            p(n, o) {
                e = n,
                16 & o && (c = it(e[4], Ee.TRANSLATOR)),
                c ? d ? 16 & o && Jh(d, 1) : (d = VR(),
                d.c(),
                Jh(d, 1),
                d.m(t, null)) : d && (Xh(),
                ef(d, 1, 1, ( () => {
                    d = null
                }
                )),
                Qh()),
                (!r || 24 & o && i !== (i = !Gt(e[3]) || st(e[4], Ee.WRITE))) && (t.disabled = i)
            },
            i(e) {
                r || (Jh(d),
                r = !0)
            },
            o(e) {
                ef(d),
                r = !1
            },
            d(e) {
                e && Jg(t),
                d && d.d(),
                s = !1,
                a()
            }
        }
    }
    function KR(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h, f, _;
        return s = new ob({
            props: {
                disabled: e[2],
                websiteSettings: e[7],
                value: e[3],
                showSortCode: !1,
                showRegionalVariants: !1,
                extraPadding: !0
            }
        }),
        s.$on("selection", e[11]),
        u = new ob({
            props: {
                disabled: e[2],
                websiteSettings: e[7],
                value: e[4].selectedTargetLanguage,
                extraPadding: !0
            }
        }),
        u.$on("selection", e[12]),
        m = new L_({
            props: {
                tooltip: chrome.i18n.getMessage("contact_admin_info_translate_disabled"),
                isEnabled: e[5],
                zIndex: "10000000000",
                multiline: !0,
                $$slots: {
                    default: [qR]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        f = new L_({
            props: {
                tooltip: st(e[4], Ee.WRITE) ? chrome.i18n.getMessage("input_translation_tooltip_improve_disabled_by_admin") : chrome.i18n.getMessage("input_translation_tooltip_improve_supported_lang"),
                zIndex: "10000000000",
                multiline: !0,
                $$slots: {
                    default: [YR]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                t = th("div"),
                n = th("div"),
                o = th("p"),
                o.textContent = `${chrome.i18n.getMessage("ui_gslides_translate_from")}`,
                i = ih(),
                r = th("div"),
                lf(s.$$.fragment),
                a = ih(),
                l = th("p"),
                l.textContent = `${chrome.i18n.getMessage("ui_gslides_translate_into")}`,
                c = ih(),
                d = th("div"),
                lf(u.$$.fragment),
                p = ih(),
                lf(m.$$.fragment),
                g = ih(),
                h = th("div"),
                lf(f.$$.fragment),
                ch(o, "class", "svelte-c2z0h2"),
                ch(r, "class", "dropdown svelte-c2z0h2"),
                ch(l, "class", "svelte-c2z0h2"),
                ch(d, "class", "dropdown svelte-c2z0h2"),
                ch(n, "class", "translate-container svelte-c2z0h2"),
                ch(h, "class", "write-container svelte-c2z0h2"),
                ch(t, "class", "dl-gslides-toolbar svelte-c2z0h2")
            },
            m(e, v) {
                Qg(e, t, v),
                Kg(t, n),
                Kg(n, o),
                Kg(n, i),
                Kg(n, r),
                cf(s, r, null),
                Kg(n, a),
                Kg(n, l),
                Kg(n, c),
                Kg(n, d),
                cf(u, d, null),
                Kg(n, p),
                cf(m, n, null),
                Kg(t, g),
                Kg(t, h),
                cf(f, h, null),
                _ = !0
            },
            p(e, [t]) {
                const n = {};
                4 & t && (n.disabled = e[2]),
                8 & t && (n.value = e[3]),
                s.$set(n);
                const o = {};
                4 & t && (o.disabled = e[2]),
                16 & t && (o.value = e[4].selectedTargetLanguage),
                u.$set(o);
                const i = {};
                32 & t && (i.isEnabled = e[5]),
                8241 & t && (i.$$scope = {
                    dirty: t,
                    ctx: e
                }),
                m.$set(i);
                const r = {};
                16 & t && (r.tooltip = st(e[4], Ee.WRITE) ? chrome.i18n.getMessage("input_translation_tooltip_improve_disabled_by_admin") : chrome.i18n.getMessage("input_translation_tooltip_improve_supported_lang")),
                8218 & t && (r.$$scope = {
                    dirty: t,
                    ctx: e
                }),
                f.$set(r)
            },
            i(e) {
                _ || (Jh(s.$$.fragment, e),
                Jh(u.$$.fragment, e),
                Jh(m.$$.fragment, e),
                Jh(f.$$.fragment, e),
                _ = !0)
            },
            o(e) {
                ef(s.$$.fragment, e),
                ef(u.$$.fragment, e),
                ef(m.$$.fragment, e),
                ef(f.$$.fragment, e),
                _ = !1
            },
            d(e) {
                e && Jg(t),
                df(s),
                df(u),
                df(m),
                df(f)
            }
        }
    }
    function ZR(e, t, n) {
        let o, i;
        const r = Ah("deepl_settings");
        Mg(e, r, (e => n(4, i = e)));
        const s = Ah("deepl_website_settings");
        let {onTranslateSelection: a} = t
          , {onImproveSelection: l} = t
          , {isLoading: c} = t
          , {sourceLang: d} = t
          , {manualSourceLang: u} = t;
        const p = e => {
            n(10, u = e)
        }
          , m = e => {
            Wg(r, i.selectedTargetLanguage = e, i)
        }
        ;
        return e.$$set = e => {
            "onTranslateSelection"in e && n(0, a = e.onTranslateSelection),
            "onImproveSelection"in e && n(1, l = e.onImproveSelection),
            "isLoading"in e && n(2, c = e.isLoading),
            "sourceLang"in e && n(3, d = e.sourceLang),
            "manualSourceLang"in e && n(10, u = e.manualSourceLang)
        }
        ,
        e.$$.update = () => {
            16 & e.$$.dirty && n(5, o = st(i, Ee.TRANSLATOR))
        }
        ,
        [a, l, c, d, i, o, r, s, p, m, u, e => {
            p(e.detail.selectedOption.value)
        }
        , e => {
            m(e.detail.selectedOption.value)
        }
        ]
    }
    class XR extends pf {
        constructor(e) {
            super(),
            uf(this, e, ZR, KR, Ag, {
                onTranslateSelection: 0,
                onImproveSelection: 1,
                isLoading: 2,
                sourceLang: 3,
                manualSourceLang: 10
            })
        }
    }
    function QR(e) {
        let t, n, o, i, r, s, a;
        function l(t) {
            e[12](t)
        }
        let c = {
            onTranslateSelection: e[7],
            onImproveSelection: e[8],
            isLoading: e[4],
            sourceLang: e[1]
        };
        return void 0 !== e[0] && (c.manualSourceLang = e[0]),
        n = new XR({
            props: c
        }),
        Oh.push(( () => af(n, "manualSourceLang", l))),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                ch(t, "class", "dl-gslides-toolbar svelte-1esuwx"),
                ch(t, "dir", Vt())
            },
            m(o, i) {
                Qg(o, t, i),
                cf(n, t, null),
                r = !0,
                s || (a = [Fg(S_.call(null, t, {
                    isShadow: !0
                })), sh(t, "click_outside", e[13])],
                s = !0)
            },
            p(e, t) {
                const i = {};
                16 & t && (i.isLoading = e[4]),
                2 & t && (i.sourceLang = e[1]),
                !o && 1 & t && (o = !0,
                i.manualSourceLang = e[0],
                Fh(( () => o = !1))),
                n.$set(i)
            },
            i(e) {
                r || (Jh(n.$$.fragment, e),
                Wh(( () => {
                    r && (i || (i = rf(t, Yf, {}, !0)),
                    i.run(1))
                }
                )),
                r = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                i || (i = rf(t, Yf, {}, !1)),
                i.run(0),
                r = !1
            },
            d(e) {
                e && Jg(t),
                df(n),
                e && i && i.end(),
                s = !1,
                Ig(a)
            }
        }
    }
    function JR(e) {
        let t, n;
        return t = new CT({
            props: {
                small: !0
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function eM(e) {
        let t, n, o, i, r, s, a, l, c = e[3] && QR(e), d = e[4] && JR();
        return {
            c() {
                t = th("div"),
                c && c.c(),
                n = ih(),
                o = th("button"),
                d && d.c(),
                ch(o, "class", "dl-gslides-button svelte-1esuwx"),
                ch(o, "title", "Translate with DeepL"),
                fh(o, "is-loading", e[4]),
                ch(t, "class", "dl-gslides-icon svelte-1esuwx"),
                ch(t, "style", r = "bottom: " + e[2].bottom + "px; " + e[2].horizonalAlignment + ": " + e[2].horizonalOffset + "px;")
            },
            m(i, r) {
                Qg(i, t, r),
                c && c.m(t, null),
                Kg(t, n),
                Kg(t, o),
                d && d.m(o, null),
                s = !0,
                a || (l = sh(o, "click", e[6]),
                a = !0)
            },
            p(e, [i]) {
                e[3] ? c ? (c.p(e, i),
                8 & i && Jh(c, 1)) : (c = QR(e),
                c.c(),
                Jh(c, 1),
                c.m(t, n)) : c && (Xh(),
                ef(c, 1, 1, ( () => {
                    c = null
                }
                )),
                Qh()),
                e[4] ? d ? 16 & i && Jh(d, 1) : (d = JR(),
                d.c(),
                Jh(d, 1),
                d.m(o, null)) : d && (Xh(),
                ef(d, 1, 1, ( () => {
                    d = null
                }
                )),
                Qh()),
                (!s || 16 & i) && fh(o, "is-loading", e[4]),
                (!s || 4 & i && r !== (r = "bottom: " + e[2].bottom + "px; " + e[2].horizonalAlignment + ": " + e[2].horizonalOffset + "px;")) && ch(t, "style", r)
            },
            i(e) {
                s || (Jh(c),
                Jh(d),
                Wh(( () => {
                    s && (i || (i = rf(o, Yf, {}, !0)),
                    i.run(1))
                }
                )),
                s = !0)
            },
            o(e) {
                ef(c),
                ef(d),
                i || (i = rf(o, Yf, {}, !1)),
                i.run(0),
                s = !1
            },
            d(e) {
                e && Jg(t),
                c && c.d(),
                d && d.d(),
                e && i && i.end(),
                a = !1,
                l()
            }
        }
    }
    const tM = 16
      , nM = "application/x-vnd.google-docs-drawings-object+wrapped"
      , oM = "application/x-vnd.google-docs-document-slice-clip+wrapped";
    function iM(e, t, o) {
        let i;
        const r = Ah("deepl_settings");
        Mg(e, r, (e => o(15, i = e)));
        let s, {registerActionIconCallbacks: a} = t, {clearActionIconCallbacks: l} = t, {sourceLang: c} = t, {manualSourceLang: d} = t, {charLimitError: u} = t, p = {
            bottom: 0,
            right: 0
        }, m = !1, g = !1, h = [];
        const f = () => {
            const e = document.querySelector("#canvas-container")
              , t = Vt()
              , n = "ltr" === t ? "right" : "left";
            if (e) {
                const i = e.getBoundingClientRect();
                let r = tM;
                r = "ltr" === t ? i.right > window.innerWidth ? 0 : window.innerWidth - i.right : i.left < 0 ? 0 : i.left;
                const s = i.bottom > window.innerHeight ? 16 : window.innerHeight - i.bottom;
                o(2, p = {
                    bottom: s + tM,
                    horizonalOffset: r + tM,
                    horizonalAlignment: n
                })
            } else
                o(2, p = {
                    bottom: tM,
                    horizonalOffset: tM,
                    horizonalAlignment: n
                })
        }
          , _ = async (e, t) => {
            try {
                let r = e.clipboardData.getData(nM)
                  , a = e.clipboardData.getData(oM);
                if (r) {
                    if ((e => {
                        let t = e.getData("application/x-vnd.google-docs-image-clip+wrapped");
                        if (!t)
                            return !1;
                        const n = JSON.parse(t)
                          , o = JSON.parse(n.data).image_urls
                          , i = Object.keys(o);
                        let r = !1;
                        for (const e of i)
                            if (e.includes("PLACEHOLDER_") && !h.includes(e)) {
                                h.push(e),
                                r = !0;
                                break
                            }
                        return r
                    }
                    )(e.clipboardData))
                        return void n(U.glidesPreventAssetLoss, {
                            theme: B.warning_theme
                        });
                    o(4, g = !0);
                    const s = await (async (e, t) => {
                        const n = JSON.parse(e)
                          , o = JSON.parse(n.data)
                          , r = o.unresolved
                          , {entities: s, sentencesToTranslate: a} = Jt(r)
                          , l = await CB({
                            targetLang: i.selectedTargetLanguage,
                            sourceLang: c,
                            sentences: a,
                            mode: t
                        })
                          , d = [];
                        for (let e = 0; e < s.length; e++)
                            en({
                                entity: s[e],
                                translatedSentences: l,
                                modifiersToDelete: d
                            });
                        return o.unresolved = o.unresolved.filter((e => !d.includes(e))),
                        n.data = JSON.stringify(o),
                        JSON.stringify(n)
                    }
                    )(r, t);
                    b_("keydown", document.querySelector("svg > g > g[pointer-events=visiblePainted]")),
                    v(s),
                    o(4, g = !1)
                } else if (a) {
                    o(4, g = !0);
                    const n = await (async (e, t) => await kB({
                        event: e,
                        sourceLang: c,
                        targetLang: i.selectedTargetLanguage,
                        mode: t
                    }))(e, t);
                    b_("keydown", document.querySelector("svg > g > g[pointer-events=visiblePainted]")),
                    y(n),
                    o(4, g = !1)
                } else
                    await Qt(),
                    s = t,
                    o(3, m = !1),
                    bt()
            } catch (e) {
                console.log("errororr slidews", e),
                e.name === Of ? o(9, u = qe.ANONYMOUS) : e.name === Mf ? o(9, u = qe.FREE) : e.name === Df ? o(9, u = Df) : e.name === Pf && o(9, u = Pf),
                console.error(e),
                o(4, g = !1)
            }
        }
          , v = e => {
            const {editable: t} = wt();
            let n;
            if (gt())
                n = new ClipboardEvent("paste",{
                    dataType: nM,
                    data: e
                });
            else {
                const t = new DataTransfer;
                t.setData(nM, e),
                n = new ClipboardEvent("paste",{
                    bubbles: !0,
                    clipboardData: t
                })
            }
            t.dispatchEvent(n)
        }
          , y = e => {
            const {editable: t} = wt();
            let n;
            if (gt())
                n = new ClipboardEvent("paste",{
                    dataType: oM,
                    data: e
                });
            else {
                const t = new DataTransfer;
                t.setData(oM, e),
                n = new ClipboardEvent("paste",{
                    bubbles: !0,
                    clipboardData: t
                })
            }
            t.dispatchEvent(n)
        }
        ;
        Ch(( () => {
            setTimeout(( () => {
                const {editable: e} = wt();
                e.addEventListener("copy", (e => {
                    if (s) {
                        const t = s;
                        s = void 0,
                        _(e, t)
                    }
                }
                ))
            }
            ), 2e3),
            a({
                repositionActionIcon: f
            })
        }
        )),
        kh(( () => {
            l()
        }
        ));
        return e.$$set = e => {
            "registerActionIconCallbacks"in e && o(10, a = e.registerActionIconCallbacks),
            "clearActionIconCallbacks"in e && o(11, l = e.clearActionIconCallbacks),
            "sourceLang"in e && o(1, c = e.sourceLang),
            "manualSourceLang"in e && o(0, d = e.manualSourceLang),
            "charLimitError"in e && o(9, u = e.charLimitError)
        }
        ,
        [d, c, p, m, g, r, () => {
            o(3, m = !m)
        }
        , () => {
            s = le.translate,
            o(3, m = !1),
            bt()
        }
        , () => {
            s = le.write,
            o(3, m = !1),
            bt()
        }
        , u, a, l, function(e) {
            d = e,
            o(0, d)
        }
        , () => {
            o(3, m = !1)
        }
        ]
    }
    class rM extends pf {
        constructor(e) {
            super(),
            uf(this, e, iM, eM, Ag, {
                registerActionIconCallbacks: 10,
                clearActionIconCallbacks: 11,
                sourceLang: 1,
                manualSourceLang: 0,
                charLimitError: 9
            })
        }
    }
    function sM(e) {
        let t, n, o, i, r, s, a, l, c, d, u = e[1] && aM();
        return a = new LR({
            props: {
                checked: e[3].isGSlidesEnabled
            }
        }),
        a.$on("change", e[8]),
        {
            c() {
                t = th("div"),
                u && u.c(),
                n = ih(),
                o = th("div"),
                i = th("div"),
                i.textContent = `${chrome.i18n.getMessage("ui_gslides_toggle_customization")}`,
                r = ih(),
                s = th("div"),
                lf(a.$$.fragment),
                ch(i, "class", "legend"),
                ch(s, "class", "switch svelte-19uh4k2"),
                ch(o, "class", "turn-on-off-panel svelte-19uh4k2"),
                ch(t, "class", "dl-gslides-top-icon-modal svelte-19uh4k2"),
                ph(t, "left", e[2] + "px"),
                ch(t, "dir", Vt())
            },
            m(p, m) {
                Qg(p, t, m),
                u && u.m(t, null),
                Kg(t, n),
                Kg(t, o),
                Kg(o, i),
                Kg(o, r),
                Kg(o, s),
                cf(a, s, null),
                l = !0,
                c || (d = [Fg(S_.call(null, t, {
                    isShadow: !0
                })), sh(t, "click_outside", e[9])],
                c = !0)
            },
            p(e, o) {
                e[1] ? u ? u.p(e, o) : (u = aM(),
                u.c(),
                u.m(t, n)) : u && (u.d(1),
                u = null);
                const i = {};
                8 & o && (i.checked = e[3].isGSlidesEnabled),
                a.$set(i),
                (!l || 4 & o) && ph(t, "left", e[2] + "px")
            },
            i(e) {
                l || (Jh(a.$$.fragment, e),
                l = !0)
            },
            o(e) {
                ef(a.$$.fragment, e),
                l = !1
            },
            d(e) {
                e && Jg(t),
                u && u.d(),
                df(a),
                c = !1,
                Ig(d)
            }
        }
    }
    function aM(e) {
        let t, n, o, i, r, s, a, l, c, d;
        return {
            c() {
                t = th("div"),
                n = th("div"),
                o = th("p"),
                o.textContent = `${chrome.i18n.getMessage("ui_gslides_onboarding_title")}`,
                i = ih(),
                r = th("div"),
                r.textContent = `${chrome.i18n.getMessage("ui_gslides_onboarding_label_beta")}`,
                s = ih(),
                a = th("div"),
                l = th("div"),
                l.textContent = `${chrome.i18n.getMessage("ui_gslides_onboarding_ups_1")}`,
                c = ih(),
                d = th("div"),
                d.textContent = `${chrome.i18n.getMessage("ui_gslides_onboarding_ups_2")}`,
                ch(o, "class", "svelte-19uh4k2"),
                ch(r, "class", "beta-label svelte-19uh4k2"),
                ch(n, "class", "header svelte-19uh4k2"),
                ch(l, "class", "ups-item svelte-19uh4k2"),
                ch(d, "class", "ups-item svelte-19uh4k2"),
                ch(a, "class", "ups-list"),
                ch(t, "class", "onboarding svelte-19uh4k2")
            },
            m(e, u) {
                Qg(e, t, u),
                Kg(t, n),
                Kg(n, o),
                Kg(n, i),
                Kg(n, r),
                Kg(t, s),
                Kg(t, a),
                Kg(a, l),
                Kg(a, c),
                Kg(a, d)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function lM(e) {
        let t, n, o, i, r, s, a = e[0] && sM(e);
        return {
            c() {
                t = th("button"),
                n = ih(),
                a && a.c(),
                o = rh(),
                ch(t, "class", "dl-gslides-top-icon svelte-19uh4k2"),
                ph(t, "left", e[2] + "px"),
                fh(t, "onboarding-pending", !e[3].isGSlidesOnboardingShown)
            },
            m(l, c) {
                Qg(l, t, c),
                Qg(l, n, c),
                a && a.m(l, c),
                Qg(l, o, c),
                i = !0,
                r || (s = sh(t, "click", e[7]),
                r = !0)
            },
            p(e, [n]) {
                (!i || 4 & n) && ph(t, "left", e[2] + "px"),
                (!i || 8 & n) && fh(t, "onboarding-pending", !e[3].isGSlidesOnboardingShown),
                e[0] ? a ? (a.p(e, n),
                1 & n && Jh(a, 1)) : (a = sM(e),
                a.c(),
                Jh(a, 1),
                a.m(o.parentNode, o)) : a && (Xh(),
                ef(a, 1, 1, ( () => {
                    a = null
                }
                )),
                Qh())
            },
            i(e) {
                i || (Jh(a),
                i = !0)
            },
            o(e) {
                ef(a),
                i = !1
            },
            d(e) {
                e && (Jg(t),
                Jg(n),
                Jg(o)),
                a && a.d(e),
                r = !1,
                s()
            }
        }
    }
    function cM(e, n, o) {
        let i;
        const r = Ah("deepl_settings");
        Mg(e, r, (e => o(3, i = e)));
        let s, {registerTopIconCallbacks: a} = n, {clearTopIconCallbacks: l} = n, c = !1, d = !1;
        const u = () => {
            const e = document.querySelector(".docs-titlebar-buttons #docs-presence-container")
              , t = null != document.querySelector(".docs-titlebar-buttons-rtl");
            if (e) {
                const n = e.getBoundingClientRect();
                o(2, s = t ? o(2, s = n.left + 40 - 32) : n.left - 40)
            }
        }
        ;
        Ch(( () => {
            u(),
            a({
                repositionTopIcon: u
            })
        }
        )),
        kh(( () => {
            l()
        }
        ));
        return e.$$set = e => {
            "registerTopIconCallbacks"in e && o(5, a = e.registerTopIconCallbacks),
            "clearTopIconCallbacks"in e && o(6, l = e.clearTopIconCallbacks)
        }
        ,
        e.$$.update = () => {
            3 & e.$$.dirty && c && d && t({
                action: "dlTrackOnboardingModalShown",
                payload: {
                    nicheIntegration: re.gslides
                }
            })
        }
        ,
        [c, d, s, i, r, a, l, () => {
            o(0, c = !0),
            i.isGSlidesOnboardingShown || (Wg(r, i.isGSlidesOnboardingShown = !0, i),
            o(1, d = !0))
        }
        , e => Wg(r, i.isGSlidesEnabled = e.detail.checked, i), () => {
            o(1, d = !1),
            o(0, c = !1)
        }
        ]
    }
    class dM extends pf {
        constructor(e) {
            super(),
            uf(this, e, cM, lM, Ag, {
                registerTopIconCallbacks: 5,
                clearTopIconCallbacks: 6
            })
        }
    }
    function uM(e) {
        let t, n, o, i, r;
        function s(e, t) {
            return e[0] === qe.FREE ? gM : e[0] === qe.ANONYMOUS ? mM : void 0
        }
        let a = s(e)
          , l = a && a(e);
        return {
            c() {
                t = th("button"),
                n = ih(),
                l && l.c(),
                o = rh(),
                ch(t, "class", "close-button svelte-8x6yh8")
            },
            m(s, a) {
                Qg(s, t, a),
                Qg(s, n, a),
                l && l.m(s, a),
                Qg(s, o, a),
                i || (r = sh(t, "click", (function() {
                    Lg(e[1]) && e[1].apply(this, arguments)
                }
                )),
                i = !0)
            },
            p(t, n) {
                a === (a = s(e = t)) && l ? l.p(e, n) : (l && l.d(1),
                l = a && a(e),
                l && (l.c(),
                l.m(o.parentNode, o)))
            },
            i: xg,
            o: xg,
            d(e) {
                e && (Jg(t),
                Jg(n),
                Jg(o)),
                l && l.d(e),
                i = !1,
                r()
            }
        }
    }
    function pM(e) {
        let t, n;
        return t = new Xy({
            props: {
                error: {
                    error: e[0]
                },
                close: e[1],
                config: {
                    nicheIntegration: re.gslides
                }
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                1 & n && (o.error = {
                    error: e[0]
                }),
                2 & n && (o.close = e[1]),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function mM(e) {
        let t, n, o, i, r, s, a, l, c, d;
        return {
            c() {
                t = th("h2"),
                t.textContent = `${chrome.i18n.getMessage("ui_gslides_limit_reached_anonymous_title")}`,
                n = ih(),
                o = th("p"),
                o.textContent = `${chrome.i18n.getMessage("ui_gslides_limit_reached_anonymous_content")}`,
                i = ih(),
                r = th("div"),
                s = th("button"),
                s.textContent = `${chrome.i18n.getMessage("ui_gslides_limit_reached_anonymous_cta_login")}`,
                a = ih(),
                l = th("button"),
                l.textContent = `${chrome.i18n.getMessage("ui_gslides_limit_reached_anonymous_cta_signup")}`,
                ch(t, "class", "svelte-8x6yh8"),
                ch(o, "class", "svelte-8x6yh8"),
                ch(s, "class", "btn-secondary svelte-8x6yh8"),
                ch(l, "class", "btn-primary svelte-8x6yh8"),
                ch(r, "class", "buttons-row svelte-8x6yh8")
            },
            m(u, p) {
                Qg(u, t, p),
                Qg(u, n, p),
                Qg(u, o, p),
                Qg(u, i, p),
                Qg(u, r, p),
                Kg(r, s),
                Kg(r, a),
                Kg(r, l),
                c || (d = [sh(s, "click", e[4]), sh(l, "click", e[3])],
                c = !0)
            },
            p: xg,
            d(e) {
                e && (Jg(t),
                Jg(n),
                Jg(o),
                Jg(i),
                Jg(r)),
                c = !1,
                Ig(d)
            }
        }
    }
    function gM(e) {
        let t, n, o, i, r, s, a, l;
        return {
            c() {
                t = th("h2"),
                t.textContent = `${chrome.i18n.getMessage("ui_gslides_limit_reached_logged_in_title")}`,
                n = ih(),
                o = th("p"),
                o.textContent = `${chrome.i18n.getMessage("ui_gslides_limit_reached_logged_in_content")}`,
                i = ih(),
                r = th("div"),
                s = th("button"),
                s.textContent = `${chrome.i18n.getMessage("ui_gslides_limit_reached_logged_in_cta")}`,
                ch(t, "class", "svelte-8x6yh8"),
                ch(o, "class", "svelte-8x6yh8"),
                ch(s, "class", "btn-primary svelte-8x6yh8"),
                ch(r, "class", "buttons-row svelte-8x6yh8")
            },
            m(c, d) {
                Qg(c, t, d),
                Qg(c, n, d),
                Qg(c, o, d),
                Qg(c, i, d),
                Qg(c, r, d),
                Kg(r, s),
                a || (l = sh(s, "click", e[3]),
                a = !0)
            },
            p: xg,
            d(e) {
                e && (Jg(t),
                Jg(n),
                Jg(o),
                Jg(i),
                Jg(r)),
                a = !1,
                l()
            }
        }
    }
    function hM(e) {
        let t, n, o, i, r, s, a;
        const l = [pM, uM]
          , c = [];
        function d(e, t) {
            return e[2] ? 0 : 1
        }
        return o = d(e),
        i = c[o] = l[o](e),
        {
            c() {
                t = th("div"),
                n = th("div"),
                i.c(),
                ch(n, "class", "dl-char-limit-error-container svelte-8x6yh8"),
                fh(n, "is-translator-limit", !e[2]),
                ch(t, "class", "dl-char-limit-error-overlay svelte-8x6yh8")
            },
            m(i, l) {
                Qg(i, t, l),
                Kg(t, n),
                c[o].m(n, null),
                r = !0,
                s || (a = [Fg(S_.call(null, n, {
                    isShadow: !0
                })), sh(n, "click_outside", (function() {
                    Lg(e[1]) && e[1].apply(this, arguments)
                }
                ))],
                s = !0)
            },
            p(t, [s]) {
                let a = o;
                o = d(e = t),
                o === a ? c[o].p(e, s) : (Xh(),
                ef(c[a], 1, 1, ( () => {
                    c[a] = null
                }
                )),
                Qh(),
                i = c[o],
                i ? i.p(e, s) : (i = c[o] = l[o](e),
                i.c()),
                Jh(i, 1),
                i.m(n, null)),
                (!r || 4 & s) && fh(n, "is-translator-limit", !e[2])
            },
            i(e) {
                r || (Jh(i),
                r = !0)
            },
            o(e) {
                ef(i),
                r = !1
            },
            d(e) {
                e && Jg(t),
                c[o].d(),
                s = !1,
                Ig(a)
            }
        }
    }
    function fM(e, n, o) {
        let i, {charLimitError: r} = n, {closeModal: s} = n;
        let a = !1;
        return e.$$set = e => {
            "charLimitError"in e && o(0, r = e.charLimitError),
            "closeModal"in e && o(1, s = e.closeModal)
        }
        ,
        e.$$.update = () => {
            1 & e.$$.dirty && o(2, i = r === Df || r === Pf)
        }
        ,
        [r, s, i, () => {
            t({
                action: "dlExternalURLRedirect",
                payload: {
                    destination: Tv,
                    utmContent: "gslides_customization"
                }
            }),
            s()
        }
        , () => {
            a || (t({
                action: "dlTrackUILocationClicked",
                payload: W.gslidesCharLimitLogin
            }),
            a = !0,
            t({
                action: "dlRequestLogin"
            }).then(( () => {
                a = !1,
                s()
            }
            )).catch(( () => {
                a = !1
            }
            )))
        }
        ]
    }
    class _M extends pf {
        constructor(e) {
            super(),
            uf(this, e, fM, hM, Ag, {
                charLimitError: 0,
                closeModal: 1
            })
        }
    }
    function vM(e) {
        let t, n;
        return t = new _M({
            props: {
                charLimitError: e[2],
                closeModal: e[10]
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                4 & n && (o.charLimitError = e[2]),
                4 & n && (o.closeModal = e[10]),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function yM(e) {
        let t, n, o, i;
        function r(t) {
            e[11](t)
        }
        function s(t) {
            e[12](t)
        }
        let a = {
            registerActionIconCallbacks: e[7],
            clearActionIconCallbacks: e[8],
            sourceLang: e[3]
        };
        return void 0 !== e[0] && (a.manualSourceLang = e[0]),
        void 0 !== e[2] && (a.charLimitError = e[2]),
        t = new rM({
            props: a
        }),
        Oh.push(( () => af(t, "manualSourceLang", r))),
        Oh.push(( () => af(t, "charLimitError", s))),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, n) {
                cf(t, e, n),
                i = !0
            },
            p(e, i) {
                const r = {};
                8 & i && (r.sourceLang = e[3]),
                !n && 1 & i && (n = !0,
                r.manualSourceLang = e[0],
                Fh(( () => n = !1))),
                !o && 4 & i && (o = !0,
                r.charLimitError = e[2],
                Fh(( () => o = !1))),
                t.$set(r)
            },
            i(e) {
                i || (Jh(t.$$.fragment, e),
                i = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                i = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function wM(e) {
        let t, n, o, i, r;
        t = new dM({
            props: {
                registerTopIconCallbacks: e[5],
                clearTopIconCallbacks: e[6]
            }
        });
        let s = e[2] && vM(e)
          , a = e[4].isGSlidesEnabled && !e[1] && yM(e);
        return {
            c() {
                lf(t.$$.fragment),
                n = ih(),
                s && s.c(),
                o = ih(),
                a && a.c(),
                i = rh()
            },
            m(e, l) {
                cf(t, e, l),
                Qg(e, n, l),
                s && s.m(e, l),
                Qg(e, o, l),
                a && a.m(e, l),
                Qg(e, i, l),
                r = !0
            },
            p(e, [t]) {
                e[2] ? s ? (s.p(e, t),
                4 & t && Jh(s, 1)) : (s = vM(e),
                s.c(),
                Jh(s, 1),
                s.m(o.parentNode, o)) : s && (Xh(),
                ef(s, 1, 1, ( () => {
                    s = null
                }
                )),
                Qh()),
                e[4].isGSlidesEnabled && !e[1] ? a ? (a.p(e, t),
                18 & t && Jh(a, 1)) : (a = yM(e),
                a.c(),
                Jh(a, 1),
                a.m(i.parentNode, i)) : a && (Xh(),
                ef(a, 1, 1, ( () => {
                    a = null
                }
                )),
                Qh())
            },
            i(e) {
                r || (Jh(t.$$.fragment, e),
                Jh(s),
                Jh(a),
                r = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                ef(s),
                ef(a),
                r = !1
            },
            d(e) {
                e && (Jg(n),
                Jg(o),
                Jg(i)),
                df(t, e),
                s && s.d(e),
                a && a.d(e)
            }
        }
    }
    function bM(e, t, n) {
        let o, i, r, s, a, l, c;
        Mg(e, hf, (e => n(4, i = e))),
        Lh("deepl_settings", hf),
        Lh("deepl_website_settings", Hw),
        Lh("text_direction", Vt());
        let d, u, p = !0;
        const m = async e => {
            if ("dlChangeActiveTabStatus" === e.action)
                e.payload.isActive ? g() : h();
            return !0
        }
          , g = () => {
            r && clearInterval(r),
            r = setInterval(f, 800)
        }
          , h = () => {
            clearInterval(r)
        }
          , f = () => {
            s && s(),
            a && a(),
            c || _()
        }
          , _ = async () => {
            n(9, l = await Xt() || "EN-US")
        }
        ;
        Ch(( () => {
            g(),
            d = new MutationObserver(( () => {
                window.document.querySelector(".punch-full-screen-element") ? n(1, p = !0) : n(1, p = !1)
            }
            )),
            d.observe(window.document.body, {
                attributes: !0,
                childList: !0,
                subtree: !0
            }),
            x_(( () => d.disconnect())),
            chrome.runtime.onMessage.addListener(m)
        }
        )),
        kh(( () => {
            r && h(),
            chrome.runtime.onMessage.removeListener(m),
            d.disconnect()
        }
        ));
        return e.$$.update = () => {
            513 & e.$$.dirty && n(3, o = c || l)
        }
        ,
        [c, p, u, o, i, e => {
            s = e.repositionTopIcon
        }
        , () => {
            s = void 0
        }
        , e => {
            a = e.repositionActionIcon
        }
        , () => {
            a = void 0
        }
        , l, () => n(2, u = void 0), function(e) {
            c = e,
            n(0, c)
        }
        , function(e) {
            u = e,
            n(2, u)
        }
        ]
    }
    class EM extends pf {
        constructor(e) {
            super(),
            uf(this, e, bM, wM, Ag, {})
        }
    }
    class TM {
        static HTML_TAG_NAME = "deepl-gslides-controller";
        static createElement = (e=document) => {
            const t = e.createElement(TM.HTML_TAG_NAME)
              , n = new TM(t);
            return t.createDOM = n.createDOM,
            t.cleanupDOM = n.cleanupDOM,
            t
        }
        ;
        constructor(e) {
            this.domElement = e,
            this.domElement.shadow = this.domElement.attachShadow({
                mode: "open"
            }),
            this.domElement.shadowContainer = document.createElement("div"),
            this.mainComponent;
            const t = document.createElement("link");
            t.setAttribute("rel", "stylesheet"),
            t.setAttribute("href", chrome.runtime.getURL("build/content.css")),
            this.domElement.shadow.appendChild(t),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer),
            this.domElement.shadowRoot.addEventListener("mouseup", (e => {
                e.stopPropagation(),
                e.stopImmediatePropagation()
            }
            )),
            this.domElement.shadowRoot.addEventListener("mousedown", (e => {
                e.stopPropagation(),
                e.stopImmediatePropagation()
            }
            ))
        }
        createDOM = () => {
            this.domElement.mainComponent = new EM({
                target: this.domElement.shadowContainer,
                props: {
                    onClose: this.domElement.cleanupDOM
                }
            })
        }
        ;
        cleanupDOM = () => {
            this.domElement.shadowContainer.remove(),
            this.domElement.mainComponent && this.domElement.mainComponent.$destroy()
        }
    }
    function SM(e) {
        let t, n, o;
        return {
            c() {
                t = th("p"),
                t.innerHTML = '<strong class="svelte-xhv8yz">Help us improve DeepL for Arabic</strong>',
                n = ih(),
                o = th("p"),
                o.textContent = "Take 2 minutes to tell us what we can do better.",
                ch(t, "class", "svelte-xhv8yz"),
                ch(o, "class", "svelte-xhv8yz")
            },
            m(e, i) {
                Qg(e, t, i),
                Qg(e, n, i),
                Qg(e, o, i)
            },
            p: xg,
            d(e) {
                e && (Jg(t),
                Jg(n),
                Jg(o))
            }
        }
    }
    function xM(e) {
        let t;
        return {
            c() {
                t = th("p"),
                t.textContent = `${chrome.i18n.getMessage("segmentation_survey_copy")}`,
                ch(t, "class", "svelte-xhv8yz")
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function $M(e) {
        let t, n, o, i;
        return {
            c() {
                t = th("p"),
                n = th("strong"),
                n.textContent = `${chrome.i18n.getMessage("ui_gslides_feedback_title")}`,
                o = ih(),
                i = th("p"),
                i.textContent = `${chrome.i18n.getMessage("ui_gslides_feedback_content")}`,
                ch(n, "class", "svelte-xhv8yz"),
                ch(t, "class", "svelte-xhv8yz"),
                ch(i, "class", "svelte-xhv8yz")
            },
            m(e, r) {
                Qg(e, t, r),
                Kg(t, n),
                Qg(e, o, r),
                Qg(e, i, r)
            },
            p: xg,
            d(e) {
                e && (Jg(t),
                Jg(o),
                Jg(i))
            }
        }
    }
    function CM(e) {
        let t, n, o, i;
        return {
            c() {
                t = th("p"),
                n = th("strong"),
                n.textContent = `${chrome.i18n.getMessage("ui_toaster_gmail_feedback_title")}`,
                o = ih(),
                i = th("p"),
                i.textContent = `${chrome.i18n.getMessage("ui_toaster_gmail_feedback_content")}`,
                ch(n, "class", "svelte-xhv8yz"),
                ch(t, "class", "svelte-xhv8yz"),
                ch(i, "class", "svelte-xhv8yz")
            },
            m(e, r) {
                Qg(e, t, r),
                Kg(t, n),
                Qg(e, o, r),
                Qg(e, i, r)
            },
            p: xg,
            d(e) {
                e && (Jg(t),
                Jg(o),
                Jg(i))
            }
        }
    }
    function kM(e) {
        let t, n, o, i;
        return {
            c() {
                t = th("p"),
                n = th("strong"),
                n.textContent = `${chrome.i18n.getMessage("ui_toaster_feedback_form_line_1")}`,
                o = ih(),
                i = th("p"),
                i.textContent = `${chrome.i18n.getMessage("ui_toaster_feedback_form_line_2")}`,
                ch(n, "class", "svelte-xhv8yz"),
                ch(t, "class", "svelte-xhv8yz"),
                ch(i, "class", "svelte-xhv8yz")
            },
            m(e, r) {
                Qg(e, t, r),
                Kg(t, n),
                Qg(e, o, r),
                Qg(e, i, r)
            },
            p: xg,
            d(e) {
                e && (Jg(t),
                Jg(o),
                Jg(i))
            }
        }
    }
    function IM(e) {
        let t, n, o, i;
        return {
            c() {
                t = th("p"),
                n = th("strong"),
                n.textContent = `${chrome.i18n.getMessage("ui_toaster_write_a_review_line_1")}`,
                o = ih(),
                i = th("p"),
                i.textContent = `${e[3].writeAReview.lineTwo}`,
                ch(n, "class", "svelte-xhv8yz"),
                ch(t, "class", "svelte-xhv8yz"),
                ch(i, "class", "svelte-xhv8yz")
            },
            m(e, r) {
                Qg(e, t, r),
                Kg(t, n),
                Qg(e, o, r),
                Qg(e, i, r)
            },
            p: xg,
            d(e) {
                e && (Jg(t),
                Jg(o),
                Jg(i))
            }
        }
    }
    function LM(e) {
        let t, n, o, i;
        return {
            c() {
                t = th("p"),
                t.textContent = `${e[3].howWasYourExperience.lineOne}`,
                n = ih(),
                o = th("p"),
                i = th("strong"),
                i.textContent = `${e[3].howWasYourExperience.lineTwo}`,
                ch(t, "class", "svelte-xhv8yz"),
                ch(i, "class", "svelte-xhv8yz"),
                ch(o, "class", "svelte-xhv8yz")
            },
            m(e, r) {
                Qg(e, t, r),
                Qg(e, n, r),
                Qg(e, o, r),
                Kg(o, i)
            },
            p: xg,
            d(e) {
                e && (Jg(t),
                Jg(n),
                Jg(o))
            }
        }
    }
    function AM(e) {
        let t, n, o;
        return {
            c() {
                t = th("button"),
                t.innerHTML = "<span>Start survey</span>",
                ch(t, "class", "svelte-xhv8yz")
            },
            m(i, r) {
                Qg(i, t, r),
                n || (o = sh(t, "click", e[10]),
                n = !0)
            },
            p: xg,
            d(e) {
                e && Jg(t),
                n = !1,
                o()
            }
        }
    }
    function RM(e) {
        let t, n, o, i;
        return {
            c() {
                t = th("button"),
                n = th("span"),
                n.textContent = `${chrome.i18n.getMessage("segmentation_survey_button")}`,
                ch(t, "class", "svelte-xhv8yz")
            },
            m(r, s) {
                Qg(r, t, s),
                Kg(t, n),
                o || (i = sh(t, "click", e[9]),
                o = !0)
            },
            p: xg,
            d(e) {
                e && Jg(t),
                o = !1,
                i()
            }
        }
    }
    function MM(e) {
        let t, n, o, i;
        return {
            c() {
                t = th("button"),
                n = th("span"),
                n.textContent = `${chrome.i18n.getMessage("ui_gslides_feedback_cta")}`,
                ch(t, "class", "svelte-xhv8yz")
            },
            m(r, s) {
                Qg(r, t, s),
                Kg(t, n),
                o || (i = sh(t, "click", e[8]),
                o = !0)
            },
            p: xg,
            d(e) {
                e && Jg(t),
                o = !1,
                i()
            }
        }
    }
    function OM(e) {
        let t, n, o, i;
        return {
            c() {
                t = th("button"),
                n = th("span"),
                n.textContent = `${chrome.i18n.getMessage("ui_toaster_gmail_feedback_button")}`,
                ch(t, "class", "svelte-xhv8yz")
            },
            m(r, s) {
                Qg(r, t, s),
                Kg(t, n),
                o || (i = sh(t, "click", e[7]),
                o = !0)
            },
            p: xg,
            d(e) {
                e && Jg(t),
                o = !1,
                i()
            }
        }
    }
    function NM(e) {
        let t, n, o, i;
        return {
            c() {
                t = th("button"),
                n = th("span"),
                n.textContent = `${chrome.i18n.getMessage("ui_toaster_write_a_review_cta")}`,
                ch(t, "class", "svelte-xhv8yz")
            },
            m(r, s) {
                Qg(r, t, s),
                Kg(t, n),
                o || (i = sh(t, "click", e[6]),
                o = !0)
            },
            p: xg,
            d(e) {
                e && Jg(t),
                o = !1,
                i()
            }
        }
    }
    function DM(e) {
        let t, n, o, i, r, s, a, l, c, d, u;
        return {
            c() {
                t = th("button"),
                n = th("i"),
                o = ih(),
                i = th("span"),
                i.textContent = `${chrome.i18n.getMessage("ui_toaster_how_was_your_experience_bad")}`,
                r = ih(),
                s = th("button"),
                a = th("i"),
                l = ih(),
                c = th("span"),
                c.textContent = `${chrome.i18n.getMessage("ui_toaster_how_was_your_experience_good")}`,
                ch(n, "class", "icon-bad svelte-xhv8yz"),
                ch(t, "class", "svelte-xhv8yz"),
                ch(a, "class", "icon-good svelte-xhv8yz"),
                ch(s, "class", "svelte-xhv8yz")
            },
            m(p, m) {
                Qg(p, t, m),
                Kg(t, n),
                Kg(t, o),
                Kg(t, i),
                Qg(p, r, m),
                Qg(p, s, m),
                Kg(s, a),
                Kg(s, l),
                Kg(s, c),
                d || (u = [sh(t, "click", e[4]), sh(s, "click", e[5])],
                d = !0)
            },
            p: xg,
            d(e) {
                e && (Jg(t),
                Jg(r),
                Jg(s)),
                d = !1,
                Ig(u)
            }
        }
    }
    function PM(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m;
        function g(e, t) {
            return e[0] === oe.initial ? LM : e[0] === oe.review ? IM : e[0] === oe.feedback ? kM : e[0] === oe.gmail ? CM : e[0] === oe.gslides ? $M : e[0] === oe.customer_segmentation ? xM : e[0] === oe.arabic_survey ? SM : void 0
        }
        let h = g(e)
          , f = h && h(e)
          , _ = e[2] && function(e) {
            let t;
            function n(e, t) {
                return e[0] === oe.initial ? DM : e[0] === oe.review ? NM : e[0] === oe.gmail ? OM : e[0] === oe.gslides ? MM : e[0] === oe.customer_segmentation ? RM : e[0] === oe.arabic_survey ? AM : void 0
            }
            let o = n(e)
              , i = o && o(e);
            return {
                c() {
                    t = th("div"),
                    i && i.c(),
                    ch(t, "class", "buttons svelte-xhv8yz")
                },
                m(e, n) {
                    Qg(e, t, n),
                    i && i.m(t, null)
                },
                p(e, r) {
                    o === (o = n(e)) && i ? i.p(e, r) : (i && i.d(1),
                    i = o && o(e),
                    i && (i.c(),
                    i.m(t, null)))
                },
                d(e) {
                    e && Jg(t),
                    i && i.d()
                }
            }
        }(e);
        return {
            c() {
                t = th("div"),
                n = th("div"),
                o = th("div"),
                i = ih(),
                r = th("div"),
                s = th("button"),
                a = ih(),
                f && f.c(),
                l = ih(),
                _ && _.c(),
                ch(o, "class", "logo svelte-xhv8yz"),
                ch(s, "class", "close-icon svelte-xhv8yz"),
                fh(s, "rtl", !e[11] && "rtl" === Vt()),
                ch(r, "class", "content svelte-xhv8yz"),
                ch(n, "class", "body svelte-xhv8yz"),
                ch(t, "class", "container svelte-xhv8yz"),
                ch(t, "dir", e[11] ? "ltr" : Vt())
            },
            m(c, d) {
                Qg(c, t, d),
                Kg(t, n),
                Kg(n, o),
                Kg(n, i),
                Kg(n, r),
                Kg(r, s),
                Kg(r, a),
                f && f.m(r, null),
                Kg(t, l),
                _ && _.m(t, null),
                u = !0,
                p || (m = sh(s, "click", (function() {
                    Lg(e[1]) && e[1].apply(this, arguments)
                }
                )),
                p = !0)
            },
            p(t, [n]) {
                h === (h = g(e = t)) && f ? f.p(e, n) : (f && f.d(1),
                f = h && h(e),
                f && (f.c(),
                f.m(r, null))),
                e[2] && _.p(e, n)
            },
            i(e) {
                u || (Wh(( () => {
                    u && (d && d.end(1),
                    c = nf(t, Kf, {
                        x: 100,
                        duration: 1e3
                    }),
                    c.start())
                }
                )),
                u = !0)
            },
            o(e) {
                c && c.invalidate(),
                d = of(t, Kf, {
                    x: 100,
                    duration: 1e3
                }),
                u = !1
            },
            d(e) {
                e && Jg(t),
                f && f.d(),
                _ && _.d(),
                e && d && d.end(),
                p = !1,
                m()
            }
        }
    }
    function UM(e, n, o) {
        let i;
        Mg(e, hf, (e => o(12, i = e))),
        Lh("deepl_settings", hf),
        Lh("deepl_website_settings", Hw),
        Lh("text_direction", Vt());
        let {onClose: r} = n
          , {reviewStage: s=oe.initial} = n;
        const a = [oe.initial, oe.review, oe.gmail, oe.gslides, oe.customer_segmentation, oe.arabic_survey].includes(s);
        let l = ( () => {
            let e;
            if (gt())
                e = {
                    howWasYourExperience: {
                        lineOne: "ui_toaster_how_was_your_experience_line_1_firefox",
                        lineTwo: "ui_toaster_how_was_your_experience_line_2_firefox"
                    },
                    writeAReview: {
                        lineTwo: "ui_toaster_write_a_review_line_2_firefox"
                    }
                };
            else {
                if (mt().browser === ct.edge)
                    e = {
                        howWasYourExperience: {
                            lineOne: "ui_toaster_how_was_your_experience_line_1_edge",
                            lineTwo: "ui_toaster_how_was_your_experience_line_2_edge"
                        },
                        writeAReview: {
                            lineTwo: "ui_toaster_write_a_review_line_2_edge"
                        }
                    };
                else
                    e = {
                        howWasYourExperience: {
                            lineOne: "ui_toaster_how_was_your_experience_line_1",
                            lineTwo: "ui_toaster_how_was_your_experience_line_2"
                        },
                        writeAReview: {
                            lineTwo: "ui_toaster_write_a_review_line_2"
                        }
                    }
            }
            return {
                howWasYourExperience: {
                    lineOne: chrome.i18n.getMessage(e.howWasYourExperience.lineOne),
                    lineTwo: chrome.i18n.getMessage(e.howWasYourExperience.lineTwo)
                },
                writeAReview: {
                    lineTwo: chrome.i18n.getMessage(e.writeAReview.lineTwo)
                }
            }
        }
        )();
        const c = s == oe.arabic_survey;
        return e.$$set = e => {
            "onClose"in e && o(1, r = e.onClose),
            "reviewStage"in e && o(0, s = e.reviewStage)
        }
        ,
        [s, r, a, l, function() {
            hf.set({
                shouldDisplayFeedbackPopup: !0
            }),
            t({
                action: "dlExternalURLRedirect",
                payload: {
                    destination: gt() ? Nv : bv
                }
            }),
            r()
        }
        , function() {
            o(0, s = oe.review)
        }
        , function() {
            let e = Iv;
            if (chrome.runtime.id === J.edge)
                e = Lv;
            else if (gt())
                e = Mv;
            else {
                if (mt().browser === ct.edge)
                    e = Lv;
                else
                    e = Iv
            }
            t({
                action: "dlExternalURLRedirect",
                payload: {
                    destination: e
                }
            }),
            r()
        }
        , function() {
            t({
                action: "dlTrackUILocationClicked",
                payload: W.gmailFeedbackSurvey
            }),
            t({
                action: "dlExternalURLRedirect",
                payload: {
                    destination: Av
                }
            }),
            r()
        }
        , function() {
            t({
                action: "dlTrackUILocationClicked",
                payload: W.gslidesFeedbackSurvey
            }),
            t({
                action: "dlExternalURLRedirect",
                payload: {
                    destination: Rv
                }
            }),
            r()
        }
        , function() {
            (e => !(!it(e, Ee.TRANSLATOR) && !it(e, Ee.WRITE)))(i) ? t({
                action: "dlExternalURLRedirect",
                payload: {
                    destination: Pv
                }
            }) : t({
                action: "dlExternalURLRedirect",
                payload: {
                    destination: Dv
                }
            }),
            r()
        }
        , function() {
            t({
                action: "dlExternalURLRedirect",
                payload: {
                    destination: Uv
                }
            })
        }
        , c]
    }
    class BM extends pf {
        constructor(e) {
            super(),
            uf(this, e, UM, PM, Ag, {
                onClose: 1,
                reviewStage: 0
            })
        }
    }
    class WM {
        static HTML_TAG_NAME = "deepl-ask-for-review-popup";
        static createElement = (e=document) => {
            const t = e.createElement(WM.HTML_TAG_NAME)
              , n = new WM(t);
            return t.createDOM = n.createDOM,
            t.cleanupDOM = n.cleanupDOM,
            t
        }
        ;
        constructor(e) {
            this.domElement = e,
            this.domElement.shadow = this.domElement.attachShadow({
                mode: "open"
            }),
            this.domElement.shadowContainer = document.createElement("div"),
            this.domElement.mainComponent;
            const t = document.createElement("link");
            t.setAttribute("rel", "stylesheet"),
            t.setAttribute("href", chrome.runtime.getURL("build/content.css")),
            this.domElement.shadow.appendChild(t),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer),
            this.domElement.shadowContainer.addEventListener("click", (e => {
                e.stopPropagation(),
                e.stopImmediatePropagation()
            }
            ))
        }
        createDOM = ({reviewStage: e}) => {
            const t = "rtl" === Vt() ? "left" : "right";
            this.domElement.shadowContainer.style.cssText = `position: fixed; bottom: 32px; ${t}: 32px; z-index: ${P.deepl_inline_ui.z_index}`,
            this.domElement.mainComponent = new BM({
                target: this.domElement.shadowContainer,
                props: {
                    onClose: this.cleanupDOM,
                    reviewStage: e
                }
            })
        }
        ;
        cleanupDOM = () => {
            this.domElement.shadowContainer.remove(),
            this.domElement.mainComponent && this.domElement.mainComponent.$destroy()
        }
    }
    function FM(e) {
        let t, n;
        return t = new Ak({
            props: {
                headsupText: chrome.i18n.getMessage("review_advanced_mode_onboarding_title"),
                informationText: chrome.i18n.getMessage("review_advanced_mode_onboarding_text"),
                position: e[0],
                onClose: e[1]
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, [n]) {
                const o = {};
                1 & n && (o.position = e[0]),
                2 & n && (o.onClose = e[1]),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function zM(e, t, n) {
        let {position: o} = t
          , {onClose: i=( () => {}
        )} = t;
        return e.$$set = e => {
            "position"in e && n(0, o = e.position),
            "onClose"in e && n(1, i = e.onClose)
        }
        ,
        [o, i]
    }
    class HM extends pf {
        constructor(e) {
            super(),
            uf(this, e, zM, FM, Ag, {
                position: 0,
                onClose: 1
            })
        }
    }
    function jM(e) {
        let t, n, o, i;
        n = new L_({
            props: {
                tooltip: !!e[10] && chrome.i18n.getMessage("contact_admin_info_translate_disabled"),
                "data-testid": "translate-service-disabled-tooltip",
                $$slots: {
                    default: [qM]
                },
                $$scope: {
                    ctx: e
                }
            }
        });
        let r = e[5] && VM(e);
        return {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                o = ih(),
                r && r.c(),
                ch(t, "class", "tabs-container svelte-oq1fds")
            },
            m(e, s) {
                Qg(e, t, s),
                cf(n, t, null),
                Kg(t, o),
                r && r.m(t, null),
                i = !0
            },
            p(e, o) {
                const i = {};
                1024 & o && (i.tooltip = !!e[10] && chrome.i18n.getMessage("contact_admin_info_translate_disabled")),
                1049670 & o && (i.$$scope = {
                    dirty: o,
                    ctx: e
                }),
                n.$set(i),
                e[5] ? r ? (r.p(e, o),
                32 & o && Jh(r, 1)) : (r = VM(e),
                r.c(),
                Jh(r, 1),
                r.m(t, null)) : r && (Xh(),
                ef(r, 1, 1, ( () => {
                    r = null
                }
                )),
                Qh())
            },
            i(e) {
                i || (Jh(n.$$.fragment, e),
                Jh(r),
                i = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                ef(r),
                i = !1
            },
            d(e) {
                e && Jg(t),
                df(n),
                r && r.d()
            }
        }
    }
    function GM(e) {
        let t, n;
        return t = new o$({
            props: {
                size: 24,
                translator: !0,
                dataTestId: "translate-pro-shield"
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function qM(e) {
        let t, n, o, i, r, s, a, l, c, d = it(e[6], Ee.TRANSLATOR), u = d && GM();
        return {
            c() {
                t = th("button"),
                n = th("div"),
                o = ih(),
                i = th("span"),
                i.textContent = `${chrome.i18n.getMessage("layout_tab_translator")}`,
                r = ih(),
                u && u.c(),
                ch(n, "class", "dl-translate-icon icon-size svelte-oq1fds"),
                t.disabled = e[10],
                ch(t, "class", s = Bg("tab " + (e[1] === le.translate ? "active" : "")) + " svelte-oq1fds")
            },
            m(s, d) {
                Qg(s, t, d),
                Kg(t, n),
                Kg(t, o),
                Kg(t, i),
                Kg(t, r),
                u && u.m(t, null),
                a = !0,
                l || (c = sh(t, "click", e[15]),
                l = !0)
            },
            p(e, n) {
                64 & n && (d = it(e[6], Ee.TRANSLATOR)),
                d ? u ? 64 & n && Jh(u, 1) : (u = GM(),
                u.c(),
                Jh(u, 1),
                u.m(t, null)) : u && (Xh(),
                ef(u, 1, 1, ( () => {
                    u = null
                }
                )),
                Qh()),
                (!a || 1024 & n) && (t.disabled = e[10]),
                (!a || 2 & n && s !== (s = Bg("tab " + (e[1] === le.translate ? "active" : "")) + " svelte-oq1fds")) && ch(t, "class", s)
            },
            i(e) {
                a || (Jh(u),
                a = !0)
            },
            o(e) {
                ef(u),
                a = !1
            },
            d(e) {
                e && Jg(t),
                u && u.d(),
                l = !1,
                c()
            }
        }
    }
    function VM(e) {
        let t, n;
        return t = new L_({
            props: {
                tooltip: !!e[9] && chrome.i18n.getMessage("contact_admin_info_write_disabled"),
                "data-testid": "write-service-disabled-tooltip",
                $$slots: {
                    default: [KM]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                512 & n && (o.tooltip = !!e[9] && chrome.i18n.getMessage("contact_admin_info_write_disabled")),
                1049158 & n && (o.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function YM(e) {
        let t, n;
        return t = new o$({
            props: {
                size: 24,
                write: !0,
                dataTestId: "write-pro-shield"
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function KM(e) {
        let t, n, o, i, r, s, a, l, c, d = it(e[6], Ee.WRITE), u = d && YM();
        return {
            c() {
                t = th("button"),
                n = th("div"),
                o = ih(),
                i = th("span"),
                i.textContent = `${chrome.i18n.getMessage("layout_tab_write")}`,
                r = ih(),
                u && u.c(),
                ch(n, "class", "dl-write-icon icon-size svelte-oq1fds"),
                t.disabled = e[9],
                ch(t, "class", s = Bg("tab " + (e[1] === le.write ? "active" : "")) + " svelte-oq1fds")
            },
            m(s, d) {
                Qg(s, t, d),
                Kg(t, n),
                Kg(t, o),
                Kg(t, i),
                Kg(t, r),
                u && u.m(t, null),
                a = !0,
                l || (c = sh(t, "click", e[16]),
                l = !0)
            },
            p(e, n) {
                64 & n && (d = it(e[6], Ee.WRITE)),
                d ? u ? 64 & n && Jh(u, 1) : (u = YM(),
                u.c(),
                Jh(u, 1),
                u.m(t, null)) : u && (Xh(),
                ef(u, 1, 1, ( () => {
                    u = null
                }
                )),
                Qh()),
                (!a || 512 & n) && (t.disabled = e[9]),
                (!a || 2 & n && s !== (s = Bg("tab " + (e[1] === le.write ? "active" : "")) + " svelte-oq1fds")) && ch(t, "class", s)
            },
            i(e) {
                a || (Jh(u),
                a = !0)
            },
            o(e) {
                ef(u),
                a = !1
            },
            d(e) {
                e && Jg(t),
                u && u.d(),
                l = !1,
                c()
            }
        }
    }
    function ZM(e) {
        let t, n, o, i;
        return n = new HM({
            props: {
                position: e[8],
                onClose: e[13]
            }
        }),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                ch(t, "data-testid", "headsup-popup-notification"),
                ch(t, "class", "headsup-container svelte-oq1fds"),
                fh(t, "top", "TOP" === e[8]),
                fh(t, "bottom", "BOTTOM" === e[8]),
                fh(t, "top-left", "TOP_LEFT" === e[8]),
                fh(t, "bottom-left", "BOTTOM_LEFT" === e[8])
            },
            m(o, r) {
                Qg(o, t, r),
                cf(n, t, null),
                e[17](t),
                i = !0
            },
            p(e, o) {
                const r = {};
                256 & o && (r.position = e[8]),
                n.$set(r),
                (!i || 256 & o) && fh(t, "top", "TOP" === e[8]),
                (!i || 256 & o) && fh(t, "bottom", "BOTTOM" === e[8]),
                (!i || 256 & o) && fh(t, "top-left", "TOP_LEFT" === e[8]),
                (!i || 256 & o) && fh(t, "bottom-left", "BOTTOM_LEFT" === e[8])
            },
            i(e) {
                i || (Jh(n.$$.fragment, e),
                o && o.end(1),
                i = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                e && (o = of(t, Kf, {
                    x: 100,
                    duration: 1e3
                })),
                i = !1
            },
            d(i) {
                i && Jg(t),
                df(n),
                e[17](null),
                i && o && o.end()
            }
        }
    }
    function XM(e) {
        let t, n, o;
        return {
            c() {
                t = th("button"),
                ch(t, "class", "dl-settings-icon svelte-oq1fds")
            },
            m(i, r) {
                Qg(i, t, r),
                n || (o = sh(t, "click", e[12]),
                n = !0)
            },
            p: xg,
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                n = !1,
                o()
            }
        }
    }
    function QM(e) {
        let t, n;
        return t = new L_({
            props: {
                tooltip: chrome.i18n.getMessage("review_advanced_mode_disable_advanced_window_tooltip"),
                $$slots: {
                    default: [JM]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                1048576 & n && (o.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function JM(e) {
        let t, n, o;
        return {
            c() {
                t = th("button"),
                ch(t, "class", "dl-settings-icon svelte-oq1fds")
            },
            m(i, r) {
                Qg(i, t, r),
                n || (o = sh(t, "click", e[12]),
                n = !0)
            },
            p: xg,
            d(e) {
                e && Jg(t),
                n = !1,
                o()
            }
        }
    }
    function eO(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h = e[3] && jM(e), f = e[4] && void 0 !== e[8] && ZM(e);
        const _ = [QM, XM]
          , v = [];
        function y(e, t) {
            return e[4] ? 0 : 1
        }
        return l = y(e),
        c = v[l] = _[l](e),
        {
            c() {
                t = th("div"),
                n = th("button"),
                o = ih(),
                h && h.c(),
                i = ih(),
                r = th("div"),
                s = th("div"),
                f && f.c(),
                a = ih(),
                c.c(),
                d = ih(),
                u = th("button"),
                ch(n, "class", "dl-logo svelte-oq1fds"),
                ch(n, "aria-label", chrome.i18n.getMessage("deepl_logo")),
                ch(s, "class", "settings-container svelte-oq1fds"),
                ch(u, "class", "dl-close-icon svelte-oq1fds"),
                ch(r, "class", "dl-actions svelte-oq1fds"),
                ch(t, "class", "dl-review-header svelte-oq1fds")
            },
            m(c, _) {
                Qg(c, t, _),
                Kg(t, n),
                Kg(t, o),
                h && h.m(t, null),
                Kg(t, i),
                Kg(t, r),
                Kg(r, s),
                f && f.m(s, null),
                Kg(s, a),
                v[l].m(s, null),
                Kg(r, d),
                Kg(r, u),
                p = !0,
                m || (g = [sh(n, "click", e[11]), sh(u, "click", (function() {
                    Lg(e[0]) && e[0].apply(this, arguments)
                }
                ))],
                m = !0)
            },
            p(n, [o]) {
                (e = n)[3] ? h ? (h.p(e, o),
                8 & o && Jh(h, 1)) : (h = jM(e),
                h.c(),
                Jh(h, 1),
                h.m(t, i)) : h && (Xh(),
                ef(h, 1, 1, ( () => {
                    h = null
                }
                )),
                Qh()),
                e[4] && void 0 !== e[8] ? f ? (f.p(e, o),
                272 & o && Jh(f, 1)) : (f = ZM(e),
                f.c(),
                Jh(f, 1),
                f.m(s, a)) : f && (Xh(),
                ef(f, 1, 1, ( () => {
                    f = null
                }
                )),
                Qh());
                let r = l;
                l = y(e),
                l === r ? v[l].p(e, o) : (Xh(),
                ef(v[r], 1, 1, ( () => {
                    v[r] = null
                }
                )),
                Qh(),
                c = v[l],
                c ? c.p(e, o) : (c = v[l] = _[l](e),
                c.c()),
                Jh(c, 1),
                c.m(s, null))
            },
            i(e) {
                p || (Jh(h),
                Jh(f),
                Jh(c),
                p = !0)
            },
            o(e) {
                ef(h),
                ef(f),
                ef(c),
                p = !1
            },
            d(e) {
                e && Jg(t),
                h && h.d(),
                f && f.d(),
                v[l].d(),
                m = !1,
                Ig(g)
            }
        }
    }
    function tO(e, n, o) {
        let i, r, s;
        Mg(e, hf, (e => o(6, s = e)));
        let a, {closeWindow: l=( () => {}
        )} = n, {extensionContext: c=0} = n, {textProcessingMode: d=le.translate} = n, {onChangeTextProcessingMode: u=(e => {}
        )} = n, {showTranslateWriteTabs: p=!0} = n, {isInput: m=!1} = n, {isItaWriteEnabled: g=!1} = n;
        const h = () => {
            if (s.hasITAPopupHideRemarkBeenShown)
                return;
            if (!a)
                return Nk;
            const e = a.getBoundingClientRect();
            return Fk(e)
        }
          , f = () => {
            m && !s.hasITAPopupHideRemarkBeenShown && hf.set({
                hasITAPopupHideRemarkBeenShown: !0
            }),
            o(8, v = void 0)
        }
        ;
        let _, v = h();
        Ch(( () => {
            a && (o(8, v = h()),
            _ = A_(a, ( () => o(8, v = h()))))
        }
        )),
        kh(( () => {
            _?.(),
            f()
        }
        ));
        return e.$$set = e => {
            "closeWindow"in e && o(0, l = e.closeWindow),
            "extensionContext"in e && o(14, c = e.extensionContext),
            "textProcessingMode"in e && o(1, d = e.textProcessingMode),
            "onChangeTextProcessingMode"in e && o(2, u = e.onChangeTextProcessingMode),
            "showTranslateWriteTabs"in e && o(3, p = e.showTranslateWriteTabs),
            "isInput"in e && o(4, m = e.isInput),
            "isItaWriteEnabled"in e && o(5, g = e.isItaWriteEnabled)
        }
        ,
        e.$$.update = () => {
            2 & e.$$.dirty && Hw.update({
                textProcessingMode: d
            }),
            64 & e.$$.dirty && o(10, i = st(s, Ee.TRANSLATOR)),
            64 & e.$$.dirty && o(9, r = st(s, Ee.WRITE))
        }
        ,
        [l, d, u, p, m, g, s, a, v, r, i, function() {
            t({
                action: "dlTrackLogoClickedEvent",
                payload: {
                    extensionContext: c
                }
            }),
            t({
                action: "dlExternalURLRedirect",
                payload: {
                    destination: d === le.write ? Cv : $v,
                    utmContent: "review_window_logo"
                }
            })
        }
        , function() {
            t({
                action: "dlOpenInternalPage",
                payload: {
                    destination: d === le.write ? kT.settings_writing : kT.settings_reading
                }
            })
        }
        , f, c, () => u(le.translate), () => u(le.write), function(e) {
            Oh[e ? "unshift" : "push"](( () => {
                a = e,
                o(7, a)
            }
            ))
        }
        ]
    }
    class nO extends pf {
        constructor(e) {
            super(),
            uf(this, e, tO, eO, Ag, {
                closeWindow: 0,
                extensionContext: 14,
                textProcessingMode: 1,
                onChangeTextProcessingMode: 2,
                showTranslateWriteTabs: 3,
                isInput: 4,
                isItaWriteEnabled: 5
            })
        }
    }
    const oO = {
        ITA_REQUEST_TRANSLATION: "ITA_REQUEST_TRANSLATION",
        ITA_CLOSE_TRANSLATION_SESSION: "ITA_CLOSE_TRANSLATION_SESSION",
        ITA_REQUEST_WRITE: "ITA_REQUEST_WRITE",
        ITA_WRITE_UPDATE_SOURCE_TEXT: "ITA_WRITE_UPDATE_SOURCE_TEXT",
        ITA_RESTORE_TRANSLATE_SESSION: "ITA_RESTORE_TRANSLATE_SESSION",
        ITA_TRANSLATE_SOURCE_LANGUAGE: "ITA_TRANSLATE_SOURCE_LANGUAGE",
        ITA_TRANSLATE_SOURCE_LANGUAGE_IS_AUTO_DETECTED: "ITA_TRANSLATE_SOURCE_LANGUAGE_IS_AUTO_DETECTED",
        ITA_TARGET_TEXT_FIELD: "ITA_TARGET_TEXT_FIELD",
        ITA_WRITE_TARGET_TEXT_FIELD: "ITA_WRITE_TARGET_TEXT_FIELD",
        ITA_UPDATE_FORMALITY: "ITA_UPDATE_FORMALITY",
        ERROR: "ERROR",
        ITA_DOCUMENT_STATE: "ITA_DOCUMENT_STATE",
        ITA_WRITE_DOCUMENT_STATE: "ITA_WRITE_DOCUMENT_STATE",
        ITA_WRITE_UPDATE_REQUESTED_LANGUAGE: "ITA_WRITE_UPDATE_REQUESTED_LANGUAGE",
        ITA_WRITE_UPDATE_STYLE_VARIANT: "ITA_WRITE_UPDATE_STYLE_VARIANT",
        ITA_RESTORE_WRITE_SESSION: "ITA_RESTORE_WRITE_SESSION",
        ITA_RATE_LIMITED: "ITA_RATE_LIMITED",
        ITA_WRITE_SOURCE_LANGUAGE: "ITA_WRITE_SOURCE_LANGUAGE",
        ITA_WRITE_SOURCE_LANGUAGE_IS_AUTO_DETECTED: "ITA_WRITE_SOURCE_LANGUAGE_IS_AUTO_DETECTED",
        ITA_CLOSE_WRITE_SESSION: "ITA_CLOSE_WRITE_SESSION",
        ITA_TRANSLATE_SOURCE_LANGUAGE_IS_UNSUPPORTED: "ITA_TRANSLATE_SOURCE_LANGUAGE_IS_UNSUPPORTED",
        ITA_WRITE_SOURCE_LANGUAGE_IS_UNSUPPORTED: "ITA_WRITE_SOURCE_LANGUAGE_IS_UNSUPPORTED",
        ITA_TRANSLATE_GENERIC_ERROR: "ITA_TRANSLATE_GENERIC_ERROR",
        ITA_WRITE_GENERIC_ERROR: "ITA_WRITE_GENERIC_ERROR",
        WRITE: {
            REQUEST: {
                ITA_SELECT_ALTERNATIVE: "ITA_SELECT_WRITE_ALTERNATIVE"
            },
            REPLY: {
                ITA_BACKEND_IDLE: "ITA_BACKEND_WRITE_IDLE",
                ITA_TARGET_TEXT_FIELD_PROVIDED_AUTOMATIC_TEXT_UNIT_ALTERNATIVES_ANNOTATIONS: "ITA_TRANSLATE_TARGET_TEXT_FIELD_PROVIDED_AUTOMATIC_TEXT_UNIT_ALTERNATIVES_ANNOTATIONS"
            }
        },
        TRANSLATE: {
            REQUEST: {
                ITA_UPDATE_TARGET_LANGUAGE: "ITA_UPDATE_TARGET_LANGUAGE",
                ITA_SELECT_ALTERNATIVE: "ITA_SELECT_TRANSLATE_ALTERNATIVE",
                ITA_UPDATE_SOURCE_LANGUAGE: "ITA_UPDATE_SOURCE_LANGUAGE"
            },
            REPLY: {
                ITA_BACKEND_IDLE: "ITA_BACKEND_TRANSLATE_IDLE",
                ITA_TARGET_TEXT_FIELD_PROVIDED_AUTOMATIC_TEXT_UNIT_ALTERNATIVES_ANNOTATIONS: "ITA_WRITE_TARGET_TEXT_FIELD_PROVIDED_AUTOMATIC_TEXT_UNIT_ALTERNATIVES_ANNOTATIONS",
                ITA_TARGET_LANGUAGE: "ITA_TARGET_LANGUAGE"
            }
        }
    };
    function iO(e) {
        Hw.update({
            translationState: u.none,
            error: e
        })
    }
    let rO;
    const sO = () => clearTimeout(rO);
    function aO(e) {
        Hw.update({
            translationState: u.none,
            itaRateLimitWarning: {
                error: e
            }
        }),
        sO(),
        rO = window.setTimeout(( () => {
            Hw.update({
                itaRateLimitWarning: void 0
            })
        }
        ), 15e3)
    }
    const lO = async t => {
        await oT(e.websiteData.inputElement, {
            html: t,
            text: t
        }, nT(e.websiteData.inputElement))
    }
      , cO = () => {
        sO(),
        Hw.update({
            itaRateLimitWarning: void 0
        }),
        MO({
            type: oO.ITA_CLOSE_TRANSLATION_SESSION
        }),
        MO({
            type: oO.ITA_CLOSE_WRITE_SESSION
        })
    }
      , dO = async (n, o=!1, i=le.translate) => {
        if (window.getSelection()?.toString()) {
            const r = window.getSelection()?.toString();
            if (o && !(await Ix(["useAdvancedWindowModeForInlineFunctionality"])).useAdvancedWindowModeForInlineFunctionality) {
                const n = i === le.translate ? (async n => {
                    const o = (await Ix(["selectedTargetLanguage"])).selectedTargetLanguage
                      , i = await t({
                        action: "dlRequestInputTranslation",
                        payload: {
                            requests: [{
                                text: n
                            }],
                            domainName: window.location.hostname,
                            websiteLanguage: e.websiteData.websiteLanguage,
                            targetLang: o
                        }
                    });
                    i[0]?.text && await lO(i[0]?.text)
                }
                )(r) : (async n => {
                    const o = await t({
                        action: "dlRequestImproveWriting",
                        payload: {
                            requests: [{
                                text: n
                            }],
                            domainName: window.location.hostname,
                            websiteLanguage: e.websiteData.websiteLanguage,
                            sourceLang: e.websiteData.itaWriteSourceLanguage
                        }
                    });
                    o[0]?.text && await lO(o[0]?.text)
                }
                )(r);
                return void await n
            }
            if (document.getElementsByTagName("deepl-review-translate-write-window").length || RP({
                websiteData: Hw,
                onRemove: cO,
                isInput: o,
                textProcessingMode: i
            }),
            i !== le.translate)
                return Hw.update({
                    improvedSnippet: "",
                    writeState: m,
                    error: null,
                    providedWriteAlternatives: [],
                    writeStyle: null
                }),
                MO({
                    type: oO.ITA_REQUEST_WRITE,
                    payload: {
                        sourceText: r,
                        domainName: window.location.hostname
                    }
                });
            Hw.update({
                translationState: u.ongoingTranslation,
                translatedSnippet: "",
                snippetDetectedSourceLang: "",
                translatedDOMSnippet: "",
                originalSnippet: r,
                itaTranslateSourceLanguage: "",
                itaTranslateSourceLanguageIsAutoDetected: null,
                itaDocumentState: null,
                error: null,
                providedTranslateAlternatives: []
            }),
            MO({
                type: oO.ITA_REQUEST_TRANSLATION,
                payload: {
                    sourceText: r,
                    targetLanguage: n,
                    domainName: window.location.hostname,
                    trigger: o ? y : f,
                    websiteLanguage: e.websiteData.websiteLanguage
                }
            })
        }
    }
      , uO = e => null == e
      , pO = () => {
        uO(e.websiteData.translatedSnippet) || Hw.update({
            translationState: u.none
        })
    }
      , mO = () => {
        uO(e.websiteData.improvedSnippet) || Hw.update({
            writeState: p
        })
    }
      , gO = e => {
        e && Hw.update({
            translationState: u.none,
            translatedSnippet: e,
            error: null
        })
    }
      , hO = e => {
        e && Hw.update({
            writeState: p,
            improvedSnippet: e,
            error: null
        })
    }
      , fO = e => {
        e && Hw.update({
            itaTranslateSourceLanguage: e.toUpperCase()
        })
    }
      , _O = e => {
        e && Hw.update({
            itaTranslateTargetLanguage: e.toUpperCase()
        })
    }
      , vO = e => {
        e && Hw.update({
            itaWriteSourceLanguage: e
        })
    }
      , yO = e => {
        Hw.update({
            itaTranslateSourceLanguageIsAutoDetected: e
        })
    }
      , wO = e => {
        Hw.update({
            itaWriteSourceLanguageIsAutoDetected: e
        })
    }
      , bO = e => {
        e && Hw.update({
            itaDocumentState: e
        })
    }
      , EO = e => {
        e && Hw.update({
            itaWriteDocumentState: e
        })
    }
    ;
    function TO(t) {
        e.websiteData.itaDocumentState && t.postMessage({
            type: oO.ITA_RESTORE_TRANSLATE_SESSION,
            payload: {
                itaDocumentState: e.websiteData.itaDocumentState,
                domainName: window.location.host
            }
        }),
        e.websiteData.itaWriteDocumentState && t.postMessage({
            type: oO.ITA_RESTORE_WRITE_SESSION,
            payload: {
                itaWriteDocumentState: e.websiteData.itaWriteDocumentState,
                domainName: window.location.host
            }
        })
    }
    const SO = e => {
        Hw.update({
            isTranslateSourceLanguageUnsupported: e
        })
    }
      , xO = e => {
        Hw.update({
            isWriteSourceLanguageUnsupported: e
        })
    }
      , $O = () => {
        Hw.update({
            error: {
                error: V_.TRANSLATE_GENERIC_ERROR
            }
        })
    }
      , CO = () => {
        Hw.update({
            error: {
                error: V_.WRITE_GENERIC_ERROR
            }
        })
    }
      , kO = e => {
        Hw.update({
            providedWriteAlternatives: e
        })
    }
      , IO = e => {
        Hw.update({
            providedTranslateAlternatives: e
        })
    }
    ;
    function LO(t, n, o) {
        switch (t.action) {
        case "dlTranslate":
            t.sourceLang && EB(t.sourceLang, v),
            o();
            break;
        case "dlShowOriginal":
            Hw.update({
                translationState: u.showOriginal
            }),
            o();
            break;
        case "dlDefaultPopUpMounting":
            e.websiteData.translationState === u.none && NP(),
            BP(),
            o();
            break;
        case "dlTabChanged":
            setTimeout(( () => {
                MB()
            }
            ), 500),
            o();
            break;
        case "dlTranslateInline":
            MB().then((async () => {
                await Dx() ? dO(t.targetLang) : wB(t)
            }
            )),
            o();
            break;
        case "dlImproveInline":
            MB().then(( () => dO(t.targetLang, !1, le.write))),
            o();
            break;
        case "dlTranslateInput":
            MB().then((async () => {
                dO(t.targetLang, !0)
            }
            )),
            o();
            break;
        case "dlImproveInput":
            MB().then(( () => dO(t.targetLang, !0, le.write))),
            o();
            break;
        case "dlTranslateSelectionRightClick":
            MB().then(( () => bB(t.payload))),
            o();
            break;
        case "dlGetWebsiteData":
            MB().then(( () => o(e.websiteData)));
            break;
        case "dlShowNotification":
            tU(t.payload.type, t.payload.options),
            o();
            break;
        case "dlErrorVisibility":
            BB(t.payload.state),
            o();
            break;
        case "dlShowAskForAReviewPopup":
            nU(oe.initial),
            o();
            break;
        case "dlShowCustomerSegmentationSurvey":
            nU(oe.customer_segmentation),
            o();
            break;
        case "dlShowArabicSurveyPopup":
            nU(oe.arabic_survey),
            o();
            break;
        case "dlShowAlert":
            HB(t.payload),
            o();
            break;
        case "dlShowGmailFeedbackPopup":
            nU(oe.gmail),
            o();
            break;
        case "dlShowSlidesFeedbackPopup":
            nU(oe.gslides),
            o();
            break;
        case "ping":
            o({
                status: "active"
            })
        }
        return !0
    }
    let AO;
    function RO(e) {
        e.onMessage.addListener(OO),
        AO = e
    }
    function MO(e) {
        AO && (hn() && console.log(`Sending message to background port:\n type: ${e.type}, payload: ${JSON.stringify(e.payload)}`),
        AO.postMessage(e))
    }
    function OO(e) {
        switch (hn() && console.log(`Received message from background port - type: ${e.type}`),
        e.type) {
        case oO.ITA_TARGET_TEXT_FIELD:
            gO(e.payload.targetText);
            break;
        case oO.ITA_WRITE_TARGET_TEXT_FIELD:
            hO(e.payload.targetText);
            break;
        case oO.ITA_TRANSLATE_SOURCE_LANGUAGE:
            fO(e.payload.language);
            break;
        case oO.ITA_TRANSLATE_SOURCE_LANGUAGE_IS_AUTO_DETECTED:
            yO(e.payload.isAutoDetected);
            break;
        case oO.ERROR:
            iO(e.payload);
            break;
        case oO.ITA_DOCUMENT_STATE:
            bO(e.payload.itaDocumentState);
            break;
        case oO.ITA_WRITE_DOCUMENT_STATE:
            EO(e.payload.itaDocumentState);
            break;
        case oO.ITA_RATE_LIMITED:
            aO(e.payload.warning);
            break;
        case oO.ITA_WRITE_SOURCE_LANGUAGE:
            vO(e.payload.language);
            break;
        case oO.ITA_WRITE_SOURCE_LANGUAGE_IS_AUTO_DETECTED:
            wO(e.payload.isAutoDetected);
            break;
        case oO.ITA_TRANSLATE_SOURCE_LANGUAGE_IS_UNSUPPORTED:
            SO(e.payload.isUnsupported);
            break;
        case oO.ITA_WRITE_SOURCE_LANGUAGE_IS_UNSUPPORTED:
            xO(e.payload.isUnsupported);
            break;
        case oO.ITA_TRANSLATE_GENERIC_ERROR:
            $O();
            break;
        case oO.ITA_WRITE_GENERIC_ERROR:
            CO();
            break;
        case oO.TRANSLATE.REPLY.ITA_BACKEND_IDLE:
            pO();
            break;
        case oO.WRITE.REPLY.ITA_BACKEND_IDLE:
            mO();
            break;
        case oO.TRANSLATE.REPLY.ITA_TARGET_TEXT_FIELD_PROVIDED_AUTOMATIC_TEXT_UNIT_ALTERNATIVES_ANNOTATIONS:
            IO(e.payload.providedAlternatives);
            break;
        case oO.TRANSLATE.REPLY.ITA_TARGET_LANGUAGE:
            _O(e.payload.language);
            break;
        case oO.WRITE.REPLY.ITA_TARGET_TEXT_FIELD_PROVIDED_AUTOMATIC_TEXT_UNIT_ALTERNATIVES_ANNOTATIONS:
            hn() && console.log("ITA_WRITE_TARGET_TEXT_ALTERNATIVES", e.payload.providedAlternatives),
            kO(e.payload.providedAlternatives);
            break;
        default:
            hn() && console.log(`Unrecognised message type:\n ${e.type}, payload: ${JSON.stringify(e.payload)}`)
        }
    }
    function NO(e, t, n) {
        const o = e.slice();
        return o[18] = t[n],
        o
    }
    function DO(e) {
        let t, n, o = vt(e[1]) + "";
        return {
            c() {
                t = th("div"),
                n = th("div"),
                ch(t, "class", "dictionary-error svelte-td4g2g"),
                fh(t, "display-dictionary-error", e[5])
            },
            m(e, i) {
                Qg(e, t, i),
                Kg(t, n),
                n.innerHTML = o
            },
            p(e, i) {
                2 & i && o !== (o = vt(e[1]) + "") && (n.innerHTML = o),
                32 & i && fh(t, "display-dictionary-error", e[5])
            },
            d(e) {
                e && Jg(t)
            }
        }
    }
    function PO(e) {
        let t, n, o = sf(e[6]), i = [];
        for (let t = 0; t < o.length; t += 1)
            i[t] = UO(NO(e, o, t));
        return {
            c() {
                t = th("div"),
                n = th("div");
                for (let e = 0; e < i.length; e += 1)
                    i[e].c();
                ch(n, "class", "alternatives-list svelte-td4g2g"),
                ch(t, "class", "alternatives-container svelte-td4g2g")
            },
            m(e, o) {
                Qg(e, t, o),
                Kg(t, n);
                for (let e = 0; e < i.length; e += 1)
                    i[e] && i[e].m(n, null)
            },
            p(e, t) {
                if (8256 & t) {
                    let r;
                    for (o = sf(e[6]),
                    r = 0; r < o.length; r += 1) {
                        const s = NO(e, o, r);
                        i[r] ? i[r].p(s, t) : (i[r] = UO(s),
                        i[r].c(),
                        i[r].m(n, null))
                    }
                    for (; r < i.length; r += 1)
                        i[r].d(1);
                    i.length = o.length
                }
            },
            d(e) {
                e && Jg(t),
                eh(i, e)
            }
        }
    }
    function UO(e) {
        let t, n, o, i, r, s = vt(e[18].text) + "";
        function a() {
            return e[16](e[18])
        }
        function l(...t) {
            return e[17](e[18], ...t)
        }
        return {
            c() {
                t = th("div"),
                n = new vh(!1),
                o = ih(),
                n.a = o,
                ch(t, "class", "alternative svelte-td4g2g"),
                ch(t, "tabindex", "0"),
                ch(t, "role", "button")
            },
            m(e, c) {
                Qg(e, t, c),
                n.m(s, t),
                Kg(t, o),
                i || (r = [sh(t, "click", a), sh(t, "keydown", l)],
                i = !0)
            },
            p(t, o) {
                e = t,
                64 & o && s !== (s = vt(e[18].text) + "") && n.p(s)
            },
            d(e) {
                e && Jg(t),
                i = !1,
                Ig(r)
            }
        }
    }
    function BO(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h, f, _, v, y = chrome.i18n.getMessage("ui_alternatives_title") + "", w = chrome.i18n.getMessage("ui_inline_translation_dictionary") + "", b = e[1] && DO(e), E = e[4] && PO(e);
        return h = new $C({
            props: {
                originalSnippet: e[2].originalSnippet,
                sourceLanguage: e[2].itaTranslateSourceLanguage,
                targetLanguage: e[7].selectedTargetLanguage,
                websiteLanguage: e[2].websiteLanguage,
                showDictionary: e[3],
                setDictionaryLauncherState: e[11],
                resetDictionary: e[10]
            }
        }),
        {
            c() {
                t = th("div"),
                n = th("div"),
                o = th("div"),
                i = th("button"),
                r = oh(y),
                a = ih(),
                l = th("div"),
                c = th("button"),
                d = oh(w),
                p = ih(),
                b && b.c(),
                m = ih(),
                E && E.c(),
                g = ih(),
                lf(h.$$.fragment),
                i.disabled = s = !e[6] || !e[6].length,
                ch(i, "class", "svelte-td4g2g"),
                ch(o, "class", "tab svelte-td4g2g"),
                ch(c, "class", "dl-dictionary svelte-td4g2g"),
                c.disabled = u = !e[0],
                ch(l, "class", "tab svelte-td4g2g"),
                ch(n, "class", "tabs-container svelte-td4g2g"),
                ch(t, "class", "dl-review-footer svelte-td4g2g")
            },
            m(s, u) {
                Qg(s, t, u),
                Kg(t, n),
                Kg(n, o),
                Kg(o, i),
                Kg(i, r),
                Kg(n, a),
                Kg(n, l),
                Kg(l, c),
                Kg(c, d),
                Kg(l, p),
                b && b.m(l, null),
                Kg(t, m),
                E && E.m(t, null),
                Kg(t, g),
                cf(h, t, null),
                f = !0,
                _ || (v = [sh(i, "click", e[9]), sh(c, "click", e[14]), sh(c, "mouseenter", e[8]), sh(c, "mouseleave", e[15])],
                _ = !0)
            },
            p(e, [n]) {
                (!f || 64 & n && s !== (s = !e[6] || !e[6].length)) && (i.disabled = s),
                (!f || 1 & n && u !== (u = !e[0])) && (c.disabled = u),
                e[1] ? b ? b.p(e, n) : (b = DO(e),
                b.c(),
                b.m(l, null)) : b && (b.d(1),
                b = null),
                e[4] ? E ? E.p(e, n) : (E = PO(e),
                E.c(),
                E.m(t, g)) : E && (E.d(1),
                E = null);
                const o = {};
                4 & n && (o.originalSnippet = e[2].originalSnippet),
                4 & n && (o.sourceLanguage = e[2].itaTranslateSourceLanguage),
                128 & n && (o.targetLanguage = e[7].selectedTargetLanguage),
                4 & n && (o.websiteLanguage = e[2].websiteLanguage),
                8 & n && (o.showDictionary = e[3]),
                h.$set(o)
            },
            i(e) {
                f || (Jh(h.$$.fragment, e),
                f = !0)
            },
            o(e) {
                ef(h.$$.fragment, e),
                f = !1
            },
            d(e) {
                e && Jg(t),
                b && b.d(),
                E && E.d(),
                df(h),
                _ = !1,
                Ig(v)
            }
        }
    }
    function WO(e, n, o) {
        let i, r, s;
        Mg(e, Hw, (e => o(2, r = e))),
        Mg(e, hf, (e => o(7, s = e)));
        let {enableDictionaryButton: a=!1} = n
          , {dictionaryButtonError: l=""} = n
          , c = !1
          , d = !1
          , u = !1;
        function p() {
            a && o(3, c = !c)
        }
        function m(e) {
            MO({
                type: r.textProcessingMode === le.write ? oO.WRITE.REQUEST.ITA_SELECT_ALTERNATIVE : oO.TRANSLATE.REQUEST.ITA_SELECT_ALTERNATIVE,
                payload: {
                    alternative: e
                }
            }),
            Promise.allSettled([t({
                action: "dlTrackAlternativeSelected",
                payload: {
                    numberOfAlternatives: i.length,
                    selectedAlternative: e.index + 1,
                    sourceLang: r.itaTranslateSourceLanguage,
                    targetLang: s.selectedTargetLanguage,
                    contentProcessingMode: r.textProcessingMode,
                    alternativesSegmentation: Kt(e) ? Ve.WORD : Ve.SENTENCE
                }
            })]),
            o(4, d = !1)
        }
        return e.$$set = e => {
            "enableDictionaryButton"in e && o(0, a = e.enableDictionaryButton),
            "dictionaryButtonError"in e && o(1, l = e.dictionaryButtonError)
        }
        ,
        e.$$.update = () => {
            4 & e.$$.dirty && o(6, i = (r.textProcessingMode === le.write ? r.providedWriteAlternatives : r.providedTranslateAlternatives) ?? [])
        }
        ,
        [a, l, r, c, d, u, i, s, function() {
            if (o(5, u = !0),
            !a)
                try {
                    t({
                        action: "dlTrackDisabledDictionaryHover",
                        payload: {}
                    })
                } catch (e) {
                    console.log(e)
                }
        }
        , async function() {
            c && p(),
            o(4, d = !d),
            d && await t({
                action: "dlRequestAlternatives",
                payload: {
                    texts: r.originalSnippet,
                    mode: r.textProcessingMode,
                    targetLang: s.selectedTargetLanguage,
                    style: r.writeStyle,
                    formality: r.formality,
                    domainName: window.location.hostname,
                    writeLang: r.itaWriteSourceLanguage
                }
            })
        }
        , function() {
            o(3, c = !1)
        }
        , function(e) {
            o(1, l = e.dictionaryButtonError),
            o(0, a = e.enableDictionaryButton)
        }
        , p, m, () => {
            o(4, d = !1),
            p()
        }
        , () => {
            o(5, u = !1)
        }
        , e => {
            m(e)
        }
        , (e, t) => {
            "Enter" === t.key && m(e)
        }
        ]
    }
    class FO extends pf {
        constructor(e) {
            super(),
            uf(this, e, WO, BO, Ag, {
                enableDictionaryButton: 0,
                dictionaryButtonError: 1
            })
        }
    }
    function zO(e) {
        let t, n, o = e[2], i = HO();
        return {
            c() {
                i.c(),
                t = rh()
            },
            m(e, o) {
                i.m(e, o),
                Qg(e, t, o),
                n = !0
            },
            p(e, n) {
                4 & n && Ag(o, o = e[2]) ? (Xh(),
                ef(i, 1, 1, xg),
                Qh(),
                i = HO(),
                i.c(),
                Jh(i, 1),
                i.m(t.parentNode, t)) : i.p(e, n)
            },
            i(e) {
                n || (Jh(i),
                n = !0)
            },
            o(e) {
                ef(i),
                n = !1
            },
            d(e) {
                e && Jg(t),
                i.d(e)
            }
        }
    }
    function HO(e) {
        let t, n;
        return t = new FO({
            props: {
                enableDictionaryButton: qO,
                dictionaryButtonError: GO
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p: xg,
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function jO(e) {
        let t, n, o, i, r, s;
        n = new nO({
            props: {
                closeWindow: e[0],
                extensionContext: e[1],
                textProcessingMode: e[2],
                onChangeTextProcessingMode: e[3],
                isInput: e[5],
                showTranslateWriteTabs: !e[4],
                isItaWriteEnabled: e[6]
            }
        });
        const a = e[9].default
          , l = Og(a, e, e[8], null);
        let c = !e[4] && zO(e);
        return {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                o = ih(),
                i = th("div"),
                l && l.c(),
                r = ih(),
                c && c.c(),
                ch(i, "class", "dl-content svelte-jwy61a"),
                ch(t, "class", "dl-layout svelte-jwy61a"),
                ch(t, "translate", "no"),
                ch(t, "dir", e[7])
            },
            m(e, a) {
                Qg(e, t, a),
                cf(n, t, null),
                Kg(t, o),
                Kg(t, i),
                l && l.m(i, null),
                Kg(t, r),
                c && c.m(t, null),
                s = !0
            },
            p(e, [o]) {
                const i = {};
                1 & o && (i.closeWindow = e[0]),
                2 & o && (i.extensionContext = e[1]),
                4 & o && (i.textProcessingMode = e[2]),
                8 & o && (i.onChangeTextProcessingMode = e[3]),
                32 & o && (i.isInput = e[5]),
                16 & o && (i.showTranslateWriteTabs = !e[4]),
                64 & o && (i.isItaWriteEnabled = e[6]),
                n.$set(i),
                l && l.p && (!s || 256 & o) && Pg(l, a, e, e[8], s ? Dg(a, e[8], o, null) : Ug(e[8]), null),
                e[4] ? c && (Xh(),
                ef(c, 1, 1, ( () => {
                    c = null
                }
                )),
                Qh()) : c ? (c.p(e, o),
                16 & o && Jh(c, 1)) : (c = zO(e),
                c.c(),
                Jh(c, 1),
                c.m(t, null))
            },
            i(e) {
                s || (Jh(n.$$.fragment, e),
                Jh(l, e),
                Jh(c),
                s = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                ef(l, e),
                ef(c),
                s = !1
            },
            d(e) {
                e && Jg(t),
                df(n),
                l && l.d(e),
                c && c.d()
            }
        }
    }
    let GO = ""
      , qO = !1;
    function VO(e, t, n) {
        let {$$slots: o={}, $$scope: i} = t;
        const r = Ah("text_direction");
        let {closeWindow: s=( () => {}
        )} = t
          , {extensionContext: a} = t
          , {textProcessingMode: l=le.translate} = t
          , {onChangeTextProcessingMode: c} = t
          , {error: d} = t
          , {isInput: u=!1} = t
          , p = !1;
        return Ch((async () => {
            n(6, p = await Px())
        }
        )),
        e.$$set = e => {
            "closeWindow"in e && n(0, s = e.closeWindow),
            "extensionContext"in e && n(1, a = e.extensionContext),
            "textProcessingMode"in e && n(2, l = e.textProcessingMode),
            "onChangeTextProcessingMode"in e && n(3, c = e.onChangeTextProcessingMode),
            "error"in e && n(4, d = e.error),
            "isInput"in e && n(5, u = e.isInput),
            "$$scope"in e && n(8, i = e.$$scope)
        }
        ,
        [s, a, l, c, d, u, p, r, i, o]
    }
    class YO extends pf {
        constructor(e) {
            super(),
            uf(this, e, VO, jO, Ag, {
                closeWindow: 0,
                extensionContext: 1,
                textProcessingMode: 2,
                onChangeTextProcessingMode: 3,
                error: 4,
                isInput: 5
            })
        }
    }
    function KO(e) {
        let t, n;
        return t = new ob({
            props: {
                languages: e[1],
                value: e[0].isTranslateSourceLanguageUnsupported ? e[2].unavailableLanguage : e[0].itaTranslateSourceLanguage,
                websiteSettings: Hw,
                customClass: "dropdown__wrapper--header",
                fontSize: "sm",
                autoHeight: !1,
                dataQaButton: "deepl-source-language-selection"
            }
        }),
        t.$on("selection", e[4]),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                2 & n && (o.languages = e[1]),
                1 & n && (o.value = e[0].isTranslateSourceLanguageUnsupported ? e[2].unavailableLanguage : e[0].itaTranslateSourceLanguage),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function ZO(e) {
        let t, n, o, i;
        return o = new ob({
            props: {
                value: e[0].itaTranslateTargetLanguage,
                websiteSettings: Hw,
                customClass: "dropdown__wrapper--header",
                fontSize: "sm",
                autoHeight: !1,
                dataQaButton: "deepl-target-language-selection"
            }
        }),
        o.$on("selection", e[3]),
        {
            c() {
                t = th("div"),
                t.innerHTML = '<svg width="33" height="32" viewBox="0 0 33 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-9lrbr1"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.5 15C9.5 14.5858 9.83579 14.25 10.25 14.25L20.8879 14.25L16.7302 10.2906C16.4316 10.0035 16.4223 9.52875 16.7094 9.23017C16.9965 8.93159 17.4713 8.92228 17.7698 9.20937L23.2698 14.4594C23.4169 14.6008 23.5 14.796 23.5 15C23.5 15.204 23.4169 15.3992 23.2698 15.5406L17.7698 20.7906C17.4713 21.0777 16.9965 21.0684 16.7094 20.7698C16.4223 20.4713 16.4316 19.9965 16.7302 19.7094L20.8879 15.75L10.25 15.75C9.83579 15.75 9.5 15.4142 9.5 15Z" fill="#848F9B"></path></svg>',
                n = ih(),
                lf(o.$$.fragment),
                ch(t, "class", "arrow-icon svelte-9lrbr1")
            },
            m(e, r) {
                Qg(e, t, r),
                Qg(e, n, r),
                cf(o, e, r),
                i = !0
            },
            p(e, t) {
                const n = {};
                1 & t && (n.value = e[0].itaTranslateTargetLanguage),
                o.$set(n)
            },
            i(e) {
                i || (Jh(o.$$.fragment, e),
                i = !0)
            },
            o(e) {
                ef(o.$$.fragment, e),
                i = !1
            },
            d(e) {
                e && (Jg(t),
                Jg(n)),
                df(o, e)
            }
        }
    }
    function XO(e) {
        let t, n, o, i = e[0].itaTranslateSourceLanguage && KO(e), r = e[0].itaTranslateTargetLanguage && ZO(e);
        return {
            c() {
                t = th("div"),
                i && i.c(),
                n = ih(),
                r && r.c(),
                ch(t, "class", "language-selector-container svelte-9lrbr1")
            },
            m(e, s) {
                Qg(e, t, s),
                i && i.m(t, null),
                Kg(t, n),
                r && r.m(t, null),
                o = !0
            },
            p(e, [o]) {
                e[0].itaTranslateSourceLanguage ? i ? (i.p(e, o),
                1 & o && Jh(i, 1)) : (i = KO(e),
                i.c(),
                Jh(i, 1),
                i.m(t, n)) : i && (Xh(),
                ef(i, 1, 1, ( () => {
                    i = null
                }
                )),
                Qh()),
                e[0].itaTranslateTargetLanguage ? r ? (r.p(e, o),
                1 & o && Jh(r, 1)) : (r = ZO(e),
                r.c(),
                Jh(r, 1),
                r.m(t, null)) : r && (Xh(),
                ef(r, 1, 1, ( () => {
                    r = null
                }
                )),
                Qh())
            },
            i(e) {
                o || (Jh(i),
                Jh(r),
                o = !0)
            },
            o(e) {
                ef(i),
                ef(r),
                o = !1
            },
            d(e) {
                e && Jg(t),
                i && i.d(),
                r && r.d()
            }
        }
    }
    function QO(e, t, n) {
        let o, i;
        Mg(e, Hw, (e => n(0, i = e)));
        const r = {
            unavailableLanguage: "unavailable_language"
        };
        let {settings: s} = t
          , {isInput: a=!1} = t;
        const l = zt()
          , c = {
            label: chrome.i18n.getMessage("ui_inline_translation_source_language_unavailable"),
            selectedOptionLabel: chrome.i18n.getMessage("ui_inline_translation_source_language_unavailable"),
            value: r.unavailableLanguage
        };
        return e.$$set = e => {
            "settings"in e && n(5, s = e.settings),
            "isInput"in e && n(6, a = e.isInput)
        }
        ,
        e.$$.update = () => {
            1 & e.$$.dirty && n(1, o = ( (e, t, n) => {
                const o = [...l];
                if (e)
                    o.unshift(c);
                else if (t) {
                    const e = o.findIndex((e => e.value === n))
                      , t = {
                        ...o[e]
                    }
                      , i = chrome.i18n.getMessage("ui_inline_translation_source_language_detected");
                    t.label = `${t.label} ${i}`,
                    t.selectedOptionLabel = `${t.selectedOptionLabel} ${i}`,
                    o[e] = t
                }
                return o
            }
            )(i.isTranslateSourceLanguageUnsupported, i.itaTranslateSourceLanguageIsAutoDetected, i.itaTranslateSourceLanguage))
        }
        ,
        [i, o, r, async function(e) {
            const t = e.detail.selectedOption;
            a ? await s.set({
                targetLanguageUserInput: t.value
            }) : await s.set({
                selectedTargetLanguage: t.value,
                isTargetLanguageConfirmed: !0,
                regionalVariant: t.regionalVariant || ""
            }),
            Hw.update({
                translationState: u.ongoingTranslation
            }),
            MO({
                type: oO.TRANSLATE.REQUEST.ITA_UPDATE_TARGET_LANGUAGE,
                payload: {
                    language: t.value
                }
            })
        }
        , e => {
            e.detail.selectedOption.value !== i.itaTranslateSourceLanguage && e.detail.selectedOption.value !== r.unavailableLanguage && MO({
                type: oO.TRANSLATE.REQUEST.ITA_UPDATE_SOURCE_LANGUAGE,
                payload: {
                    language: e.detail.selectedOption.value
                }
            })
        }
        , s, a]
    }
    class JO extends pf {
        constructor(e) {
            super(),
            uf(this, e, QO, XO, Ag, {
                settings: 5,
                isInput: 6
            })
        }
    }
    function eN(e) {
        let t, n, o, i;
        return {
            c() {
                t = th("button"),
                n = th("div"),
                ch(n, "class", "glossary-icon svelte-q1f4m0"),
                ch(t, "class", "glossary-button svelte-q1f4m0"),
                ch(t, "aria-label", chrome.i18n.getMessage("glossary_label"))
            },
            m(r, s) {
                Qg(r, t, s),
                Kg(t, n),
                o || (i = sh(t, "click", e[0]),
                o = !0)
            },
            p: xg,
            d(e) {
                e && Jg(t),
                o = !1,
                i()
            }
        }
    }
    function tN(e) {
        let t, n, o;
        return n = new L_({
            props: {
                tooltip: chrome.i18n.getMessage("glossary_label"),
                zIndex: "10000000000",
                isEnabled: !0,
                $$slots: {
                    default: [eN]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                ch(t, "class", "customisations-toolbar svelte-q1f4m0")
            },
            m(e, i) {
                Qg(e, t, i),
                cf(n, t, null),
                o = !0
            },
            p(e, [t]) {
                const o = {};
                2 & t && (o.$$scope = {
                    dirty: t,
                    ctx: e
                }),
                n.$set(o)
            },
            i(e) {
                o || (Jh(n.$$.fragment, e),
                o = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                o = !1
            },
            d(e) {
                e && Jg(t),
                df(n)
            }
        }
    }
    function nN(e) {
        return [function() {
            t({
                action: "dlOpenInternalPage",
                payload: {
                    destination: kT.settings_glossary
                }
            })
        }
        ]
    }
    class oN extends pf {
        constructor(e) {
            super(),
            uf(this, e, nN, tN, Ag, {})
        }
    }
    function iN(e, t, n) {
        const o = e.slice();
        return o[32] = t[n],
        o[34] = n,
        o
    }
    function rN(e) {
        let t;
        let n = function(e, t) {
            return e[15]() ? aN : sN
        }(e)
          , o = n(e);
        return {
            c() {
                o.c(),
                t = rh()
            },
            m(e, n) {
                o.m(e, n),
                Qg(e, t, n)
            },
            p(e, t) {
                o.p(e, t)
            },
            i(e) {
                Jh(o)
            },
            o: xg,
            d(e) {
                e && Jg(t),
                o.d(e)
            }
        }
    }
    function sN(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h, f, _;
        return {
            c() {
                t = th("ul"),
                n = th("li"),
                o = th("span"),
                o.textContent = `${chrome.i18n.getMessage("ui_formality_formal")}`,
                i = ih(),
                r = th("span"),
                r.textContent = `${chrome.i18n.getMessage("login_translate_pages_pro_badge")}`,
                s = ih(),
                a = th("li"),
                l = th("span"),
                l.textContent = `${chrome.i18n.getMessage("ui_formality_informal")}`,
                c = ih(),
                d = th("span"),
                d.textContent = `${chrome.i18n.getMessage("login_translate_pages_pro_badge")}`,
                u = ih(),
                p = th("li"),
                p.textContent = `${chrome.i18n.getMessage("ui_formality_automatic")}`,
                m = ih(),
                g = th("li"),
                h = th("button"),
                h.textContent = `${chrome.i18n.getMessage("link_try_deepl")}`,
                ch(r, "class", "pro-label svelte-mfqqj4"),
                ch(n, "disabled", ""),
                ch(n, "class", "svelte-mfqqj4"),
                ch(d, "class", "pro-label svelte-mfqqj4"),
                ch(a, "disabled", ""),
                ch(a, "class", "svelte-mfqqj4"),
                ch(p, "class", "selected svelte-mfqqj4"),
                ch(h, "class", "svelte-mfqqj4"),
                ch(g, "class", "svelte-mfqqj4"),
                ch(t, "id", "dropdown_list"),
                ch(t, "class", "alternate-dropdown-list svelte-mfqqj4"),
                ch(t, "role", "listbox"),
                ch(t, "aria-labelledby", "dropdown_option"),
                ch(t, "tabindex", "-1"),
                fh(t, "pro-dropdown", !0)
            },
            m(v, y) {
                Qg(v, t, y),
                Kg(t, n),
                Kg(n, o),
                Kg(n, i),
                Kg(n, r),
                Kg(t, s),
                Kg(t, a),
                Kg(a, l),
                Kg(a, c),
                Kg(a, d),
                Kg(t, u),
                Kg(t, p),
                Kg(t, m),
                Kg(t, g),
                Kg(g, h),
                f || (_ = sh(h, "click", e[16]),
                f = !0)
            },
            p: xg,
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                f = !1,
                _()
            }
        }
    }
    function aN(e) {
        let t, n, o = sf(e[10]), i = [];
        for (let t = 0; t < o.length; t += 1)
            i[t] = lN(iN(e, o, t));
        return {
            c() {
                t = th("ul");
                for (let e = 0; e < i.length; e += 1)
                    i[e].c();
                ch(t, "id", "dropdown_list"),
                ch(t, "class", "alternate-dropdown-list svelte-mfqqj4"),
                ch(t, "role", "listbox"),
                ch(t, "aria-labelledby", "dropdown_option"),
                ch(t, "tabindex", "-1"),
                ch(t, "style", `height: ${e[12].height}; top: ${e[12].top};`),
                ch(t, "data-qa", e[2])
            },
            m(n, o) {
                Qg(n, t, o);
                for (let e = 0; e < i.length; e += 1)
                    i[e] && i[e].m(t, null);
                e[24](t)
            },
            p(e, n) {
                if (1161 & n[0]) {
                    let r;
                    for (o = sf(e[10]),
                    r = 0; r < o.length; r += 1) {
                        const s = iN(e, o, r);
                        i[r] ? i[r].p(s, n) : (i[r] = lN(s),
                        i[r].c(),
                        i[r].m(t, null))
                    }
                    for (; r < i.length; r += 1)
                        i[r].d(1);
                    i.length = o.length
                }
                4 & n[0] && ch(t, "data-qa", e[2])
            },
            i(e) {
                n || Wh(( () => {
                    n = nf(t, Kf, {
                        y: -5,
                        duration: 500
                    }),
                    n.start()
                }
                ))
            },
            o: xg,
            d(n) {
                n && Jg(t),
                eh(i, n),
                e[24](null)
            }
        }
    }
    function lN(e) {
        let t, n, o, i, r, s, a = e[32].label + "";
        function l() {
            return e[23](e[32])
        }
        return {
            c() {
                t = th("li"),
                n = oh(a),
                o = ih(),
                ch(t, "role", "option"),
                ch(t, "data-option-value", e[32].value),
                ch(t, "aria-selected", i = e[3] === e[32]),
                ch(t, "class", "svelte-mfqqj4"),
                fh(t, "selected", e[3] === e[32]),
                fh(t, "keyboardSelected", e[34] === e[7])
            },
            m(i, a) {
                Qg(i, t, a),
                Kg(t, n),
                Kg(t, o),
                r || (s = [sh(t, "click", l), sh(t, "mousedown", lh(ah(e[20])))],
                r = !0)
            },
            p(n, o) {
                e = n,
                8 & o[0] && i !== (i = e[3] === e[32]) && ch(t, "aria-selected", i),
                1032 & o[0] && fh(t, "selected", e[3] === e[32]),
                128 & o[0] && fh(t, "keyboardSelected", e[34] === e[7])
            },
            d(e) {
                e && Jg(t),
                r = !1,
                Ig(s)
            }
        }
    }
    function cN(e) {
        let t, n, o, i, r, s, a = e[0] && rN(e);
        return {
            c() {
                t = th("div"),
                n = th("button"),
                o = oh(e[5]),
                i = ih(),
                a && a.c(),
                ch(n, "aria-haspopup", "listbox"),
                ch(n, "id", "dropdown_button"),
                ch(n, "aria-labelledby", "dropdown_option dropdown_button"),
                ch(n, "aria-expanded", e[0]),
                ch(n, "data-qa", e[1]),
                ch(n, "class", "dropdown-label svelte-mfqqj4"),
                ch(t, "class", "dropdown__wrapper svelte-mfqqj4"),
                ch(t, "style", e[9])
            },
            m(l, c) {
                Qg(l, t, c),
                Kg(t, n),
                Kg(n, o),
                e[22](n),
                Kg(t, i),
                a && a.m(t, null),
                e[26](t),
                r || (s = [sh(n, "click", e[13]), sh(n, "mousedown", lh(ah(e[21]))), sh(n, "keydown", e[14]), Fg(S_.call(null, t, {
                    isShadow: !0
                })), sh(t, "click_outside", e[25])],
                r = !0)
            },
            p(e, i) {
                32 & i[0] && dh(o, e[5]),
                1 & i[0] && ch(n, "aria-expanded", e[0]),
                2 & i[0] && ch(n, "data-qa", e[1]),
                e[0] ? a ? (a.p(e, i),
                1 & i[0] && Jh(a, 1)) : (a = rN(e),
                a.c(),
                Jh(a, 1),
                a.m(t, null)) : a && (a.d(1),
                a = null),
                512 & i[0] && ch(t, "style", e[9])
            },
            i(e) {
                Jh(a)
            },
            o: xg,
            d(n) {
                n && Jg(t),
                e[22](null),
                a && a.d(),
                e[26](null),
                r = !1,
                Ig(s)
            }
        }
    }
    function dN(e, n, o) {
        let i, {isOpen: r=!1} = n, {dataQaButton: s="dl-dropdown-button"} = n, {dataQaList: a="dl-dropdown-list"} = n, {handleSelect: l} = n;
        const c = [{
            value: Xe,
            label: chrome.i18n.getMessage("ui_formality_formal"),
            selectedOptionLabel: chrome.i18n.getMessage("ui_formality_formal")
        }, {
            value: Qe,
            label: chrome.i18n.getMessage("ui_formality_informal"),
            selectedOptionLabel: chrome.i18n.getMessage("ui_formality_informal")
        }, {
            value: Je,
            label: chrome.i18n.getMessage("ui_formality_automatic"),
            selectedOptionLabel: chrome.i18n.getMessage("ui_formality_automatic")
        }];
        let d = c.find((e => e.value === Je));
        const u = Ah("deepl_settings");
        Mg(e, u, (e => o(29, i = e)));
        let p, m, g, h, f, _ = 0, v = d, y = -1, w = "visibility: hidden; opacity:0; height:0;";
        Ch(( () => {
            setTimeout(( () => {
                o(9, w = "")
            }
            ), 100),
            h = A_(g, ( ({clientWidth: e}) => {
                o(18, _ = e)
            }
            ))
        }
        )),
        kh(( () => {
            h && h()
        }
        ));
        return e.$$set = e => {
            "isOpen"in e && o(0, r = e.isOpen),
            "dataQaButton"in e && o(1, s = e.dataQaButton),
            "dataQaList"in e && o(2, a = e.dataQaList),
            "handleSelect"in e && o(17, l = e.handleSelect)
        }
        ,
        e.$$.update = () => {
            917512 & e.$$.dirty[0] && (d && v?.value !== d?.value && (o(19, v = d),
            l({
                selectedOption: d
            }),
            t({
                action: "dlTrackFormalitySelected",
                payload: {
                    formality: d.value
                }
            })),
            _ && (Math.abs(p.getBoundingClientRect().top),
            Math.abs(window.innerHeight - p.getBoundingClientRect().bottom))),
            8 & e.$$.dirty[0] && d && o(5, m = `${d.selectedOptionLabel}`)
        }
        ,
        [r, s, a, d, p, m, g, y, f, w, c, u, {}, function() {
            o(0, r = !r),
            function() {
                let e = p.getRootNode().querySelector("ul li[aria-selected=true]");
                setTimeout(( () => {
                    e?.scrollIntoView({
                        block: "nearest"
                    })
                }
                ), 0)
            }()
        }
        , function(e) {
            if (!r)
                return;
            if ("ArrowUp" === e.key && y > 0)
                o(7, y -= 1);
            else if ("ArrowDown" === e.key && y < c.length - 1)
                o(7, y += 1);
            else if ("Enter" === e.key && -1 !== y) {
                const t = c[y];
                o(0, r = !1),
                o(3, d = t),
                o(7, y = -1),
                e.preventDefault(),
                e.stopPropagation()
            } else {
                if ("Escape" !== e.key)
                    return;
                o(0, r = !1),
                o(7, y = -1)
            }
            const t = c[y];
            var n = f.querySelector(`[data-option-value="${t.value}"]`).offsetTop - f.offsetTop;
            f.scrollTo({
                top: n,
                behavior: "smooth"
            })
        }
        , function() {
            return it(i, Ee.TRANSLATOR)
        }
        , function() {
            const e = Tv;
            t({
                action: "dlTrackUILocationClicked",
                payload: W.inlineTranslationTriggerIcon
            }),
            t({
                action: "dlExternalURLRedirect",
                payload: {
                    destination: e,
                    utmContent: "inline_translator"
                }
            })
        }
        , l, _, v, function(t) {
            Rh.call(this, e, t)
        }
        , function(t) {
            Rh.call(this, e, t)
        }
        , function(e) {
            Oh[e ? "unshift" : "push"](( () => {
                p = e,
                o(4, p)
            }
            ))
        }
        , e => {
            o(0, r = !1),
            o(3, d = e),
            o(7, y = -1)
        }
        , function(e) {
            Oh[e ? "unshift" : "push"](( () => {
                f = e,
                o(8, f)
            }
            ))
        }
        , () => {
            o(0, r = !1)
        }
        , function(e) {
            Oh[e ? "unshift" : "push"](( () => {
                g = e,
                o(6, g)
            }
            ))
        }
        ]
    }
    class uN extends pf {
        constructor(e) {
            super(),
            uf(this, e, dN, cN, Ag, {
                isOpen: 0,
                dataQaButton: 1,
                dataQaList: 2,
                handleSelect: 17
            }, null, [-1, -1])
        }
    }
    function pN(e) {
        let t, n, o, i, r;
        return n = new uN({
            props: {
                dataQaButton: "deepl-formality-selection-button",
                dataQaList: "deepl-formality-selection-list",
                handleSelect: e[0]
            }
        }),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                ch(t, "role", "button"),
                ch(t, "tabindex", "-1")
            },
            m(s, a) {
                Qg(s, t, a),
                cf(n, t, null),
                o = !0,
                i || (r = sh(t, "mousedown", lh(ah(e[1]))),
                i = !0)
            },
            p: xg,
            i(e) {
                o || (Jh(n.$$.fragment, e),
                o = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                o = !1
            },
            d(e) {
                e && Jg(t),
                df(n),
                i = !1,
                r()
            }
        }
    }
    function mN(e) {
        return [function({selectedOption: e}) {
            hf.set({
                formality: e.value
            }),
            MO({
                type: oO.ITA_UPDATE_FORMALITY,
                payload: {
                    formality: e.value
                }
            })
        }
        , function(t) {
            Rh.call(this, e, t)
        }
        ]
    }
    class gN extends pf {
        constructor(e) {
            super(),
            uf(this, e, mN, pN, Ag, {})
        }
    }
    function hN(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h, f, _;
        n = new JO({
            props: {
                settings: e[0],
                isInput: e[2]
            }
        });
        let v = e[4] && _N();
        s = new oN({});
        const y = [yN, vN]
          , w = [];
        function b(e, t) {
            return e[5].isTranslateSourceLanguageUnsupported ? 0 : 1
        }
        c = b(e),
        d = w[c] = y[c](e);
        let E = !e[5].isTranslateSourceLanguageUnsupported && wN(e)
          , T = e[5].itaRateLimitWarning && EN(e);
        return {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                o = ih(),
                i = th("div"),
                v && v.c(),
                r = ih(),
                lf(s.$$.fragment),
                a = ih(),
                l = th("div"),
                d.c(),
                p = ih(),
                E && E.c(),
                m = ih(),
                T && T.c(),
                g = rh(),
                ch(i, "class", "translate-toolbar-buttons svelte-mpctqd"),
                ch(t, "class", "translate-toolbar-container svelte-mpctqd"),
                ch(l, "class", "result-frame svelte-mpctqd"),
                ch(l, "dir", u = Vt(e[3].selectedTargetLanguage))
            },
            m(d, u) {
                Qg(d, t, u),
                cf(n, t, null),
                Kg(t, o),
                Kg(t, i),
                v && v.m(i, null),
                Kg(i, r),
                cf(s, i, null),
                Qg(d, a, u),
                Qg(d, l, u),
                w[c].m(l, null),
                Qg(d, p, u),
                E && E.m(d, u),
                Qg(d, m, u),
                T && T.m(d, u),
                Qg(d, g, u),
                h = !0,
                f || (_ = sh(l, "mousedown", ah(e[8])),
                f = !0)
            },
            p(e, t) {
                const o = {};
                1 & t && (o.settings = e[0]),
                4 & t && (o.isInput = e[2]),
                n.$set(o),
                e[4] ? v ? 16 & t && Jh(v, 1) : (v = _N(),
                v.c(),
                Jh(v, 1),
                v.m(i, r)) : v && (Xh(),
                ef(v, 1, 1, ( () => {
                    v = null
                }
                )),
                Qh());
                let s = c;
                c = b(e),
                c === s ? w[c].p(e, t) : (Xh(),
                ef(w[s], 1, 1, ( () => {
                    w[s] = null
                }
                )),
                Qh(),
                d = w[c],
                d ? d.p(e, t) : (d = w[c] = y[c](e),
                d.c()),
                Jh(d, 1),
                d.m(l, null)),
                (!h || 8 & t && u !== (u = Vt(e[3].selectedTargetLanguage))) && ch(l, "dir", u),
                e[5].isTranslateSourceLanguageUnsupported ? E && (Xh(),
                ef(E, 1, 1, ( () => {
                    E = null
                }
                )),
                Qh()) : E ? (E.p(e, t),
                32 & t && Jh(E, 1)) : (E = wN(e),
                E.c(),
                Jh(E, 1),
                E.m(m.parentNode, m)),
                e[5].itaRateLimitWarning ? T ? (T.p(e, t),
                32 & t && Jh(T, 1)) : (T = EN(e),
                T.c(),
                Jh(T, 1),
                T.m(g.parentNode, g)) : T && (Xh(),
                ef(T, 1, 1, ( () => {
                    T = null
                }
                )),
                Qh())
            },
            i(e) {
                h || (Jh(n.$$.fragment, e),
                Jh(v),
                Jh(s.$$.fragment, e),
                Jh(d),
                Jh(E),
                Jh(T),
                h = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                ef(v),
                ef(s.$$.fragment, e),
                ef(d),
                ef(E),
                ef(T),
                h = !1
            },
            d(e) {
                e && (Jg(t),
                Jg(a),
                Jg(l),
                Jg(p),
                Jg(m),
                Jg(g)),
                df(n),
                v && v.d(),
                df(s),
                w[c].d(),
                E && E.d(e),
                T && T.d(e),
                f = !1,
                _()
            }
        }
    }
    function fN(e) {
        let t, n, o;
        return n = new CT({}),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                ch(t, "class", "loading-spinner-container svelte-mpctqd")
            },
            m(e, i) {
                Qg(e, t, i),
                cf(n, t, null),
                o = !0
            },
            p: xg,
            i(e) {
                o || (Jh(n.$$.fragment, e),
                o = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                o = !1
            },
            d(e) {
                e && Jg(t),
                df(n)
            }
        }
    }
    function _N(e) {
        let t, n;
        return t = new gN({}),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function vN(e) {
        let t, n, o = F$(e[5].translatedSnippet) + "";
        return {
            c() {
                t = new vh(!1),
                n = rh(),
                t.a = n
            },
            m(e, i) {
                t.m(o, e, i),
                Qg(e, n, i)
            },
            p(e, n) {
                32 & n && o !== (o = F$(e[5].translatedSnippet) + "") && t.p(o)
            },
            i: xg,
            o: xg,
            d(e) {
                e && (Jg(n),
                t.d())
            }
        }
    }
    function yN(e) {
        let t, n;
        return t = new Xy({
            props: {
                error: {
                    error: V_.TRANSLATE_LANGUAGE_NOT_SUPPORTED
                }
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p: xg,
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function wN(e) {
        let t, n, o, i, r, s, a, l = e[2] && bN(e);
        return i = new eC({
            props: {
                sourceLang: e[5].websiteLanguage,
                targetLang: e[3].selectedTargetLanguage,
                sourceText: e[5].originalSnippet,
                targetText: e[5].translatedSnippet,
                platformBehaviour: e[1]
            }
        }),
        s = new G$({
            props: {
                targetLang: e[3].selectedTargetLanguage,
                text: e[5].translatedSnippet,
                platformBehaviour: e[1]
            }
        }),
        {
            c() {
                t = th("div"),
                l && l.c(),
                n = ih(),
                o = th("div"),
                lf(i.$$.fragment),
                r = ih(),
                lf(s.$$.fragment),
                ch(o, "class", "dl-options-container svelte-mpctqd"),
                ch(t, "class", "dl-btn-group svelte-mpctqd"),
                fh(t, "is-input", !e[2])
            },
            m(e, c) {
                Qg(e, t, c),
                l && l.m(t, null),
                Kg(t, n),
                Kg(t, o),
                cf(i, o, null),
                Kg(o, r),
                cf(s, o, null),
                a = !0
            },
            p(e, o) {
                e[2] ? l ? l.p(e, o) : (l = bN(e),
                l.c(),
                l.m(t, n)) : l && (l.d(1),
                l = null);
                const r = {};
                32 & o && (r.sourceLang = e[5].websiteLanguage),
                8 & o && (r.targetLang = e[3].selectedTargetLanguage),
                32 & o && (r.sourceText = e[5].originalSnippet),
                32 & o && (r.targetText = e[5].translatedSnippet),
                2 & o && (r.platformBehaviour = e[1]),
                i.$set(r);
                const c = {};
                8 & o && (c.targetLang = e[3].selectedTargetLanguage),
                32 & o && (c.text = e[5].translatedSnippet),
                2 & o && (c.platformBehaviour = e[1]),
                s.$set(c),
                (!a || 4 & o) && fh(t, "is-input", !e[2])
            },
            i(e) {
                a || (Jh(i.$$.fragment, e),
                Jh(s.$$.fragment, e),
                a = !0)
            },
            o(e) {
                ef(i.$$.fragment, e),
                ef(s.$$.fragment, e),
                a = !1
            },
            d(e) {
                e && Jg(t),
                l && l.d(),
                df(i),
                df(s)
            }
        }
    }
    function bN(e) {
        let t, n, o;
        return {
            c() {
                t = th("button"),
                t.textContent = `${chrome.i18n.getMessage("replace_in_field")}`,
                ch(t, "class", "svelte-mpctqd")
            },
            m(i, r) {
                Qg(i, t, r),
                n || (o = sh(t, "click", e[6]),
                n = !0)
            },
            p: xg,
            d(e) {
                e && Jg(t),
                n = !1,
                o()
            }
        }
    }
    function EN(e) {
        let t, n;
        return t = new Xy({
            props: {
                error: {
                    error: e[5].itaRateLimitWarning
                }
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                32 & n && (o.error = {
                    error: e[5].itaRateLimitWarning
                }),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function TN(e) {
        let t, n, o, i;
        const r = [fN, hN]
          , s = [];
        function a(e, t) {
            return null == e[5] || e[5].translationState === u.ongoingTranslation ? 0 : e[5].translatedSnippet ? 1 : -1
        }
        return ~(n = a(e)) && (o = s[n] = r[n](e)),
        {
            c() {
                t = th("div"),
                o && o.c()
            },
            m(e, o) {
                Qg(e, t, o),
                ~n && s[n].m(t, null),
                i = !0
            },
            p(e, [i]) {
                let l = n;
                n = a(e),
                n === l ? ~n && s[n].p(e, i) : (o && (Xh(),
                ef(s[l], 1, 1, ( () => {
                    s[l] = null
                }
                )),
                Qh()),
                ~n ? (o = s[n],
                o ? o.p(e, i) : (o = s[n] = r[n](e),
                o.c()),
                Jh(o, 1),
                o.m(t, null)) : o = null)
            },
            i(e) {
                i || (Jh(o),
                i = !0)
            },
            o(e) {
                ef(o),
                i = !1
            },
            d(e) {
                e && Jg(t),
                ~n && s[n].d()
            }
        }
    }
    function SN(e, t, n) {
        let o, i, r, s = xg, a = () => (s(),
        s = Rg(l, (e => n(3, i = e))),
        l);
        Mg(e, Hw, (e => n(5, r = e))),
        e.$$.on_destroy.push(( () => s()));
        let {settings: l} = t;
        a();
        let {platformBehaviour: c} = t
          , {isInput: d=!1} = t
          , {closeWindow: u} = t;
        return e.$$set = e => {
            "settings"in e && a(n(0, l = e.settings)),
            "platformBehaviour"in e && n(1, c = e.platformBehaviour),
            "isInput"in e && n(2, d = e.isInput),
            "closeWindow"in e && n(7, u = e.closeWindow)
        }
        ,
        e.$$.update = () => {
            8 & e.$$.dirty && n(4, o = qt(i.selectedTargetLanguage))
        }
        ,
        [l, c, d, i, o, r, () => {
            oT(r.inputElement, {
                html: r.translatedSnippet ?? "",
                text: r.translatedSnippet ?? ""
            }, !0),
            u()
        }
        , u, function(t) {
            Rh.call(this, e, t)
        }
        ]
    }
    class xN extends pf {
        constructor(e) {
            super(),
            uf(this, e, SN, TN, Ag, {
                settings: 0,
                platformBehaviour: 1,
                isInput: 2,
                closeWindow: 7
            })
        }
    }
    function $N(e) {
        let t, n;
        return t = new ob({
            props: {
                languages: e[1],
                value: e[0].isWriteSourceLanguageUnsupported ? e[2].unavailableLanguage : e[0].itaWriteSourceLanguage,
                websiteSettings: Hw,
                customClass: "dropdown__wrapper--header",
                fontSize: "sm",
                autoHeight: !1
            }
        }),
        t.$on("selection", e[3]),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                2 & n && (o.languages = e[1]),
                1 & n && (o.value = e[0].isWriteSourceLanguageUnsupported ? e[2].unavailableLanguage : e[0].itaWriteSourceLanguage),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function CN(e) {
        let t, n, o = e[0].itaWriteSourceLanguage && $N(e);
        return {
            c() {
                t = th("div"),
                o && o.c(),
                ch(t, "class", "language-selector-container svelte-tostmu")
            },
            m(e, i) {
                Qg(e, t, i),
                o && o.m(t, null),
                n = !0
            },
            p(e, [n]) {
                e[0].itaWriteSourceLanguage ? o ? (o.p(e, n),
                1 & n && Jh(o, 1)) : (o = $N(e),
                o.c(),
                Jh(o, 1),
                o.m(t, null)) : o && (Xh(),
                ef(o, 1, 1, ( () => {
                    o = null
                }
                )),
                Qh())
            },
            i(e) {
                n || (Jh(o),
                n = !0)
            },
            o(e) {
                ef(o),
                n = !1
            },
            d(e) {
                e && Jg(t),
                o && o.d()
            }
        }
    }
    function kN(e, t, n) {
        let o, r;
        Mg(e, Hw, (e => n(0, r = e)));
        const a = {
            unavailableLanguage: "unavailable_language"
        }
          , l = i.filter((e => s.includes(e.langCodeForIta))).map((e => {
            switch (e.langCode) {
            case "EN-US":
                return {
                    ...e,
                    langCode: "EN_US"
                };
            case "EN-GB":
                return {
                    ...e,
                    langCode: "EN_UK"
                };
            case "PT-BR":
                return {
                    ...e,
                    langCode: "PT_BR"
                };
            case "PT-PT":
                return {
                    ...e,
                    langCode: "PT"
                };
            default:
                return e
            }
        }
        )).map((e => ({
            value: e.langCodeForIta,
            label: chrome.i18n.getMessage(`supported_languages_${e.langCode}`),
            selectedOptionLabel: chrome.i18n.getMessage(`supported_languages_${e.langCode}`)
        }))).sort(( (e, t) => e.label.localeCompare(t.label, chrome.i18n.getUILanguage())))
          , c = {
            label: chrome.i18n.getMessage("ui_inline_translation_source_language_unavailable"),
            selectedOptionLabel: chrome.i18n.getMessage("ui_inline_translation_source_language_unavailable"),
            value: a.unavailableLanguage
        };
        return e.$$.update = () => {
            1 & e.$$.dirty && n(1, o = ( (e, t, n) => {
                const o = [...l];
                if (e)
                    o.unshift(c);
                else if (t) {
                    const e = o.findIndex((e => e.value === n))
                      , t = {
                        ...o[e]
                    }
                      , i = chrome.i18n.getMessage("ui_inline_translation_source_language_detected");
                    t.label = `${t.label} ${i}`,
                    t.selectedOptionLabel = `${t.selectedOptionLabel} ${i}`,
                    o[e] = t
                }
                return o
            }
            )(r.isWriteSourceLanguageUnsupported, r.itaWriteSourceLanguageIsAutoDetected, r.itaWriteSourceLanguage))
        }
        ,
        [r, o, a, e => {
            e.detail.selectedOption.value !== r.itaWriteSourceLanguage && e.detail.selectedOption.value !== a.unavailableLanguage && MO({
                type: oO.ITA_WRITE_UPDATE_REQUESTED_LANGUAGE,
                payload: {
                    language: e.detail.selectedOption.value
                }
            })
        }
        ]
    }
    class IN extends pf {
        constructor(e) {
            super(),
            uf(this, e, kN, CN, Ag, {})
        }
    }
    function LN(e) {
        let t, n, o, i, r, s, a, l, c;
        return {
            c() {
                t = th("div"),
                n = th("button"),
                n.textContent = `${chrome.i18n.getMessage("ui_inline_translation_listen_to_new")}`,
                o = ih(),
                i = th("button"),
                i.textContent = `${chrome.i18n.getMessage("ui_inline_translation_listen_to_original")}`,
                ch(n, "class", "list-entry svelte-o3etn3"),
                ch(n, "data-qa", "dl-toolbar-listener-button-target-lang"),
                fh(n, "dl-entry-notAvailable", !e[0]),
                ch(i, "class", "list-entry svelte-o3etn3"),
                ch(i, "data-qa", "dl-toolbar-listener-button-source-lang"),
                fh(i, "dl-entry-notAvailable", !e[0]),
                ch(t, "class", "listen-list svelte-o3etn3"),
                ch(t, "data-qa", "dl-toolbar-listener-element-langs")
            },
            m(r, s) {
                Qg(r, t, s),
                Kg(t, n),
                Kg(t, o),
                Kg(t, i),
                a = !0,
                l || (c = [sh(n, "click", e[5]), sh(i, "click", e[6])],
                l = !0)
            },
            p(e, [t]) {
                (!a || 1 & t) && fh(n, "dl-entry-notAvailable", !e[0]),
                (!a || 1 & t) && fh(i, "dl-entry-notAvailable", !e[0])
            },
            i(e) {
                a || (Wh(( () => {
                    a && (s && s.end(1),
                    r = nf(t, Kf, {
                        y: -5,
                        duration: 500
                    }),
                    r.start())
                }
                )),
                a = !0)
            },
            o(e) {
                r && r.invalidate(),
                s = of(t, Kf, {
                    y: -5,
                    duration: 500
                }),
                a = !1
            },
            d(e) {
                e && Jg(t),
                e && s && s.end(),
                l = !1,
                Ig(c)
            }
        }
    }
    function AN(e, t, n) {
        let {isRequestedLanguageAvailable: o} = t
          , {requestedLang: i} = t
          , {sourceText: r} = t
          , {improvedText: s} = t
          , {listen: a=( (e, t) => null)} = t;
        return e.$$set = e => {
            "isRequestedLanguageAvailable"in e && n(0, o = e.isRequestedLanguageAvailable),
            "requestedLang"in e && n(1, i = e.requestedLang),
            "sourceText"in e && n(2, r = e.sourceText),
            "improvedText"in e && n(3, s = e.improvedText),
            "listen"in e && n(4, a = e.listen)
        }
        ,
        [o, i, r, s, a, () => {
            a(s, i)
        }
        , () => {
            a(r, i)
        }
        ]
    }
    class RN extends pf {
        constructor(e) {
            super(),
            uf(this, e, AN, LN, Ag, {
                isRequestedLanguageAvailable: 0,
                requestedLang: 1,
                sourceText: 2,
                improvedText: 3,
                listen: 4
            })
        }
    }
    function MN(e) {
        let t, n, o, i, r;
        return n = new L_({
            props: {
                tooltip: e[6],
                zIndex: 300,
                $$slots: {
                    default: [NN]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                t = th("fragment"),
                lf(n.$$.fragment),
                ch(t, "role", "navigation")
            },
            m(s, a) {
                Qg(s, t, a),
                cf(n, t, null),
                o = !0,
                i || (r = [sh(t, "mouseover", e[9]), sh(t, "focus", e[9]), sh(t, "mouseleave", e[11])],
                i = !0)
            },
            p(e, t) {
                const o = {};
                64 & t && (o.tooltip = e[6]),
                65599 & t && (o.$$scope = {
                    dirty: t,
                    ctx: e
                }),
                n.$set(o)
            },
            i(e) {
                o || (Jh(n.$$.fragment, e),
                o = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                o = !1
            },
            d(e) {
                e && Jg(t),
                df(n),
                i = !1,
                Ig(r)
            }
        }
    }
    function ON(e) {
        let t, n;
        return t = new RN({
            props: {
                isRequestedLanguageAvailable: e[5],
                requestedLang: e[0],
                sourceText: e[1],
                improvedText: e[2],
                listen: e[7]
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                32 & n && (o.isRequestedLanguageAvailable = e[5]),
                1 & n && (o.requestedLang = e[0]),
                2 & n && (o.sourceText = e[1]),
                4 & n && (o.improvedText = e[2]),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function NN(e) {
        let t, n, o, i, r, s, a = e[4] && ON(e);
        return {
            c() {
                t = th("button"),
                t.innerHTML = '<span class="dl-icon dl-icon-listen svelte-17suwwx"></span>',
                n = ih(),
                a && a.c(),
                o = rh(),
                ch(t, "type", "button"),
                ch(t, "class", "dl-btn svelte-17suwwx"),
                ch(t, "data-qa", "dl-toolbar-listener-button"),
                fh(t, "dl-btn-active", e[3]),
                fh(t, "dl-btn-hovered", e[4])
            },
            m(l, c) {
                Qg(l, t, c),
                Qg(l, n, c),
                a && a.m(l, c),
                Qg(l, o, c),
                i = !0,
                r || (s = sh(t, "click", e[8]),
                r = !0)
            },
            p(e, n) {
                (!i || 8 & n) && fh(t, "dl-btn-active", e[3]),
                (!i || 16 & n) && fh(t, "dl-btn-hovered", e[4]),
                e[4] ? a ? (a.p(e, n),
                16 & n && Jh(a, 1)) : (a = ON(e),
                a.c(),
                Jh(a, 1),
                a.m(o.parentNode, o)) : a && (Xh(),
                ef(a, 1, 1, ( () => {
                    a = null
                }
                )),
                Qh())
            },
            i(e) {
                i || (Jh(a),
                i = !0)
            },
            o(e) {
                ef(a),
                i = !1
            },
            d(e) {
                e && (Jg(t),
                Jg(n),
                Jg(o)),
                a && a.d(e),
                r = !1,
                s()
            }
        }
    }
    function DN(e) {
        let t, n, o = e[5] && MN(e);
        return {
            c() {
                o && o.c(),
                t = rh()
            },
            m(e, i) {
                o && o.m(e, i),
                Qg(e, t, i),
                n = !0
            },
            p(e, [n]) {
                e[5] ? o ? (o.p(e, n),
                32 & n && Jh(o, 1)) : (o = MN(e),
                o.c(),
                Jh(o, 1),
                o.m(t.parentNode, t)) : o && (Xh(),
                ef(o, 1, 1, ( () => {
                    o = null
                }
                )),
                Qh())
            },
            i(e) {
                n || (Jh(o),
                n = !0)
            },
            o(e) {
                ef(o),
                n = !1
            },
            d(e) {
                e && Jg(t),
                o && o.d(e)
            }
        }
    }
    function PN(e, n, o) {
        let {platformBehaviour: i=re.default} = n
          , {requestedLang: r=""} = n
          , {sourceText: s=""} = n
          , {improvedText: a=""} = n
          , l = !1
          , c = !1
          , d = !1
          , u = !1;
        function p() {
            t({
                action: "dlStopSpeech"
            }),
            o(3, c = !1)
        }
        function m(e) {
            try {
                t({
                    action: "dlTrackInlineListen",
                    payload: e
                })
            } catch (e) {
                console.error(e)
            }
        }
        async function g(e, t, n) {
            if ("dlVoiceOverStopped" === e.action)
                o(3, c = !1),
                n();
            return !0
        }
        function h(e) {
            try {
                t({
                    action: "dlTrackVoiceOverStops",
                    payload: e
                })
            } catch (e) {
                console.error(e)
            }
        }
        chrome.runtime.onMessage.addListener(g),
        kh(( () => {
            p(),
            chrome.runtime.onMessage.removeListener(g),
            c && h({
                targetLang: r,
                targetLength: a.length,
                triggerType: R,
                nicheIntegration: i
            })
        }
        ));
        return e.$$set = e => {
            "platformBehaviour"in e && o(10, i = e.platformBehaviour),
            "requestedLang"in e && o(0, r = e.requestedLang),
            "sourceText"in e && o(1, s = e.sourceText),
            "improvedText"in e && o(2, a = e.improvedText)
        }
        ,
        e.$$.update = () => {
            25 & e.$$.dirty && (r && t({
                action: "dlGetSupportedVoices"
            }).then((e => {
                o(5, l = e.includes(["EN-US", "EN-GB"].includes(r) ? "EN" : ["PT-PT", "PT-BR"].includes(r) ? "PT" : ["ZH-CN", "ZH-HANT"].includes(r) ? "ZH" : r))
            }
            )),
            !d && c ? setTimeout(( () => {
                o(6, u = chrome.i18n.getMessage("ui_inline_translation_listen_stop"))
            }
            ), 1e3) : o(6, u = !1))
        }
        ,
        [r, s, a, c, d, l, u, async function(e, n) {
            c || (t({
                action: "dlTextToSpeech",
                payload: {
                    text: e,
                    lang: n
                }
            }),
            o(3, c = !0),
            o(4, d = !1),
            m({
                targetLang: n,
                targetLength: e.length,
                actionType: Z,
                nicheIntegration: i
            }))
        }
        , function() {
            c ? (p(),
            o(3, c = !1),
            h({
                targetLang: r,
                targetLength: a.length,
                triggerType: A,
                nicheIntegration: i
            }),
            m({
                targetLang: r,
                targetLength: a.length,
                actionType: X,
                nicheIntegration: i
            })) : o(4, d = !0)
        }
        , function() {
            c || o(4, d = !0)
        }
        , i, () => o(4, d = !1)]
    }
    class UN extends pf {
        constructor(e) {
            super(),
            uf(this, e, PN, DN, Ag, {
                platformBehaviour: 10,
                requestedLang: 0,
                sourceText: 1,
                improvedText: 2
            })
        }
    }
    function BN(e) {
        let t, n, o, i, r, s;
        function a(t) {
            e[6](t)
        }
        function l(t) {
            e[7](t)
        }
        let c = {};
        return void 0 !== e[0] && (c.writingStyle = e[0]),
        void 0 !== e[1] && (c.tone = e[1]),
        n = new ZI({
            props: c
        }),
        Oh.push(( () => af(n, "writingStyle", a))),
        Oh.push(( () => af(n, "tone", l))),
        n.$on("apply", e[3]),
        n.$on("reset", e[3]),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                ch(t, "class", "scoped svelte-2jkwvo")
            },
            m(e, o) {
                Qg(e, t, o),
                cf(n, t, null),
                s = !0
            },
            p(e, t) {
                const r = {};
                !o && 1 & t && (o = !0,
                r.writingStyle = e[0],
                Fh(( () => o = !1))),
                !i && 2 & t && (i = !0,
                r.tone = e[1],
                Fh(( () => i = !1))),
                n.$set(r)
            },
            i(e) {
                s || (Jh(n.$$.fragment, e),
                e && (r || Wh(( () => {
                    r = nf(t, Kf, {
                        y: -5,
                        duration: 500
                    }),
                    r.start()
                }
                ))),
                s = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                s = !1
            },
            d(e) {
                e && Jg(t),
                df(n)
            }
        }
    }
    function WN(e) {
        let t, n, o, i, r, s, a = e[2] && BN(e);
        return {
            c() {
                t = th("div"),
                n = th("button"),
                n.textContent = `${chrome.i18n.getMessage("write_style_options_button_label")}`,
                o = ih(),
                a && a.c(),
                ch(n, "class", "style-switch svelte-2jkwvo"),
                fh(n, "open", e[2]),
                fh(n, "active", e[0] || e[1]),
                ch(t, "role", "button"),
                ch(t, "tabindex", "-1")
            },
            m(l, c) {
                Qg(l, t, c),
                Kg(t, n),
                Kg(t, o),
                a && a.m(t, null),
                i = !0,
                r || (s = [sh(n, "click", e[5]), sh(t, "mousedown", lh(ah(e[4])))],
                r = !0)
            },
            p(e, [o]) {
                (!i || 4 & o) && fh(n, "open", e[2]),
                (!i || 3 & o) && fh(n, "active", e[0] || e[1]),
                e[2] ? a ? (a.p(e, o),
                4 & o && Jh(a, 1)) : (a = BN(e),
                a.c(),
                Jh(a, 1),
                a.m(t, null)) : a && (Xh(),
                ef(a, 1, 1, ( () => {
                    a = null
                }
                )),
                Qh())
            },
            i(e) {
                i || (Jh(a),
                i = !0)
            },
            o(e) {
                ef(a),
                i = !1
            },
            d(e) {
                e && Jg(t),
                a && a.d(),
                r = !1,
                Ig(s)
            }
        }
    }
    function FN(e, t, n) {
        let o, i, r = !1;
        return [o, i, r, function() {
            const e = o || i || null;
            Hw.update({
                writeState: m,
                writeStyle: e
            }),
            MO({
                type: oO.ITA_WRITE_UPDATE_STYLE_VARIANT,
                payload: {
                    styleVariant: e
                }
            }),
            n(2, r = !1)
        }
        , function(t) {
            Rh.call(this, e, t)
        }
        , () => n(2, r = !r), function(e) {
            o = e,
            n(0, o)
        }
        , function(e) {
            i = e,
            n(1, i)
        }
        ]
    }
    class zN extends pf {
        constructor(e) {
            super(),
            uf(this, e, FN, WN, Ag, {})
        }
    }
    function HN(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m, g;
        n = new IN({}),
        i = new zN({});
        const h = [qN, GN]
          , f = [];
        function _(e, t) {
            return e[2].isWriteSourceLanguageUnsupported ? 0 : 1
        }
        a = _(e),
        l = f[a] = h[a](e);
        let v = !e[2].isWriteSourceLanguageUnsupported && VN(e);
        return {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                o = ih(),
                lf(i.$$.fragment),
                r = ih(),
                s = th("div"),
                l.c(),
                d = ih(),
                v && v.c(),
                u = rh(),
                ch(t, "class", "write-toolbar-container svelte-1t6fc8d"),
                ch(s, "class", "result-frame svelte-1t6fc8d"),
                ch(s, "dir", c = Vt(e[2].itaWriteSourceLanguage))
            },
            m(l, c) {
                Qg(l, t, c),
                cf(n, t, null),
                Kg(t, o),
                cf(i, t, null),
                Qg(l, r, c),
                Qg(l, s, c),
                f[a].m(s, null),
                Qg(l, d, c),
                v && v.m(l, c),
                Qg(l, u, c),
                p = !0,
                m || (g = sh(s, "mousedown", ah(e[5])),
                m = !0)
            },
            p(e, t) {
                let n = a;
                a = _(e),
                a === n ? f[a].p(e, t) : (Xh(),
                ef(f[n], 1, 1, ( () => {
                    f[n] = null
                }
                )),
                Qh(),
                l = f[a],
                l ? l.p(e, t) : (l = f[a] = h[a](e),
                l.c()),
                Jh(l, 1),
                l.m(s, null)),
                (!p || 4 & t && c !== (c = Vt(e[2].itaWriteSourceLanguage))) && ch(s, "dir", c),
                e[2].isWriteSourceLanguageUnsupported ? v && (Xh(),
                ef(v, 1, 1, ( () => {
                    v = null
                }
                )),
                Qh()) : v ? (v.p(e, t),
                4 & t && Jh(v, 1)) : (v = VN(e),
                v.c(),
                Jh(v, 1),
                v.m(u.parentNode, u))
            },
            i(e) {
                p || (Jh(n.$$.fragment, e),
                Jh(i.$$.fragment, e),
                Jh(l),
                Jh(v),
                p = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                ef(i.$$.fragment, e),
                ef(l),
                ef(v),
                p = !1
            },
            d(e) {
                e && (Jg(t),
                Jg(r),
                Jg(s),
                Jg(d),
                Jg(u)),
                df(n),
                df(i),
                f[a].d(),
                v && v.d(e),
                m = !1,
                g()
            }
        }
    }
    function jN(e) {
        let t, n, o;
        return n = new CT({}),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                ch(t, "class", "loading-spinner-container svelte-1t6fc8d")
            },
            m(e, i) {
                Qg(e, t, i),
                cf(n, t, null),
                o = !0
            },
            p: xg,
            i(e) {
                o || (Jh(n.$$.fragment, e),
                o = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                o = !1
            },
            d(e) {
                e && Jg(t),
                df(n)
            }
        }
    }
    function GN(e) {
        let t, n, o = F$(e[2].improvedSnippet) + "";
        return {
            c() {
                t = new vh(!1),
                n = rh(),
                t.a = n
            },
            m(e, i) {
                t.m(o, e, i),
                Qg(e, n, i)
            },
            p(e, n) {
                4 & n && o !== (o = F$(e[2].improvedSnippet) + "") && t.p(o)
            },
            i: xg,
            o: xg,
            d(e) {
                e && (Jg(n),
                t.d())
            }
        }
    }
    function qN(e) {
        let t, n;
        return t = new Xy({
            props: {
                error: {
                    error: V_.WRITE_LANGUAGE_NOT_SUPPORTED
                }
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p: xg,
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function VN(e) {
        let t, n, o, i, r, s, a, l = e[1] && YN(e);
        return i = new UN({
            props: {
                requestedLang: e[2].itaWriteSourceLanguage,
                sourceText: e[2].originalSnippet,
                improvedText: e[2].improvedSnippet,
                platformBehaviour: e[0]
            }
        }),
        s = new G$({
            props: {
                targetLang: e[2].itaWriteSourceLanguage,
                text: e[2].improvedSnippet,
                platformBehaviour: e[0]
            }
        }),
        {
            c() {
                t = th("div"),
                l && l.c(),
                n = ih(),
                o = th("div"),
                lf(i.$$.fragment),
                r = ih(),
                lf(s.$$.fragment),
                ch(o, "class", "dl-options-container svelte-1t6fc8d"),
                ch(t, "class", "dl-btn-group svelte-1t6fc8d"),
                fh(t, "is-input", !e[1])
            },
            m(e, c) {
                Qg(e, t, c),
                l && l.m(t, null),
                Kg(t, n),
                Kg(t, o),
                cf(i, o, null),
                Kg(o, r),
                cf(s, o, null),
                a = !0
            },
            p(e, o) {
                e[1] ? l ? l.p(e, o) : (l = YN(e),
                l.c(),
                l.m(t, n)) : l && (l.d(1),
                l = null);
                const r = {};
                4 & o && (r.requestedLang = e[2].itaWriteSourceLanguage),
                4 & o && (r.sourceText = e[2].originalSnippet),
                4 & o && (r.improvedText = e[2].improvedSnippet),
                1 & o && (r.platformBehaviour = e[0]),
                i.$set(r);
                const c = {};
                4 & o && (c.targetLang = e[2].itaWriteSourceLanguage),
                4 & o && (c.text = e[2].improvedSnippet),
                1 & o && (c.platformBehaviour = e[0]),
                s.$set(c),
                (!a || 2 & o) && fh(t, "is-input", !e[1])
            },
            i(e) {
                a || (Jh(i.$$.fragment, e),
                Jh(s.$$.fragment, e),
                a = !0)
            },
            o(e) {
                ef(i.$$.fragment, e),
                ef(s.$$.fragment, e),
                a = !1
            },
            d(e) {
                e && Jg(t),
                l && l.d(),
                df(i),
                df(s)
            }
        }
    }
    function YN(e) {
        let t, n, o;
        return {
            c() {
                t = th("button"),
                t.textContent = `${chrome.i18n.getMessage("replace_in_field")}`,
                ch(t, "class", "svelte-1t6fc8d")
            },
            m(i, r) {
                Qg(i, t, r),
                n || (o = sh(t, "click", e[3]),
                n = !0)
            },
            p: xg,
            d(e) {
                e && Jg(t),
                n = !1,
                o()
            }
        }
    }
    function KN(e) {
        let t, n, o, i;
        const r = [jN, HN]
          , s = [];
        function a(e, t) {
            return null == e[2] || e[2].writeState === m ? 0 : e[2].improvedSnippet ? 1 : -1
        }
        return ~(n = a(e)) && (o = s[n] = r[n](e)),
        {
            c() {
                t = th("div"),
                o && o.c()
            },
            m(e, o) {
                Qg(e, t, o),
                ~n && s[n].m(t, null),
                i = !0
            },
            p(e, [i]) {
                let l = n;
                n = a(e),
                n === l ? ~n && s[n].p(e, i) : (o && (Xh(),
                ef(s[l], 1, 1, ( () => {
                    s[l] = null
                }
                )),
                Qh()),
                ~n ? (o = s[n],
                o ? o.p(e, i) : (o = s[n] = r[n](e),
                o.c()),
                Jh(o, 1),
                o.m(t, null)) : o = null)
            },
            i(e) {
                i || (Jh(o),
                i = !0)
            },
            o(e) {
                ef(o),
                i = !1
            },
            d(e) {
                e && Jg(t),
                ~n && s[n].d()
            }
        }
    }
    function ZN(e, t, n) {
        let o;
        Mg(e, Hw, (e => n(2, o = e)));
        let {platformBehaviour: i} = t
          , {isInput: r=!1} = t
          , {closeWindow: s} = t;
        return e.$$set = e => {
            "platformBehaviour"in e && n(0, i = e.platformBehaviour),
            "isInput"in e && n(1, r = e.isInput),
            "closeWindow"in e && n(4, s = e.closeWindow)
        }
        ,
        [i, r, o, () => {
            oT(o.inputElement, {
                html: o.improvedSnippet ?? "",
                text: o.improvedSnippet ?? ""
            }, !0),
            s()
        }
        , s, function(t) {
            Rh.call(this, e, t)
        }
        ]
    }
    class XN extends pf {
        constructor(e) {
            super(),
            uf(this, e, ZN, KN, Ag, {
                platformBehaviour: 0,
                isInput: 1,
                closeWindow: 4
            })
        }
    }
    function QN(e) {
        let t, n;
        return t = new XN({
            props: {
                platformBehaviour: e[2],
                isInput: e[3],
                closeWindow: e[6]
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                4 & n && (o.platformBehaviour = e[2]),
                8 & n && (o.isInput = e[3]),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function JN(e) {
        let t, n;
        return t = new xN({
            props: {
                settings: hf,
                platformBehaviour: e[2],
                isInput: e[3],
                closeWindow: e[6]
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                4 & n && (o.platformBehaviour = e[2]),
                8 & n && (o.isInput = e[3]),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function eD(e) {
        let t, n;
        return t = new Xy({
            props: {
                error: e[4].error
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                16 & n && (o.error = e[4].error),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function tD(e) {
        let t, n, o, i;
        const r = [eD, JN, QN]
          , s = [];
        function a(e, t) {
            return e[4].error ? 0 : e[0] === le.translate ? 1 : e[0] === le.write ? 2 : -1
        }
        return ~(n = a(e)) && (o = s[n] = r[n](e)),
        {
            c() {
                t = th("div"),
                o && o.c(),
                ch(t, "class", "tooltip-container svelte-1o980it"),
                ch(t, "data-qa", "deepl-tooltip-container"),
                fh(t, "error", e[4].error)
            },
            m(e, o) {
                Qg(e, t, o),
                ~n && s[n].m(t, null),
                i = !0
            },
            p(e, l) {
                let c = n;
                n = a(e),
                n === c ? ~n && s[n].p(e, l) : (o && (Xh(),
                ef(s[c], 1, 1, ( () => {
                    s[c] = null
                }
                )),
                Qh()),
                ~n ? (o = s[n],
                o ? o.p(e, l) : (o = s[n] = r[n](e),
                o.c()),
                Jh(o, 1),
                o.m(t, null)) : o = null),
                (!i || 16 & l) && fh(t, "error", e[4].error)
            },
            i(e) {
                i || (Jh(o),
                i = !0)
            },
            o(e) {
                ef(o),
                i = !1
            },
            d(e) {
                e && Jg(t),
                ~n && s[n].d()
            }
        }
    }
    function nD(e) {
        let t, n, o;
        return n = new YO({
            props: {
                closeWindow: e[6],
                extensionContext: e[5],
                textProcessingMode: e[0],
                isInput: e[3],
                onChangeTextProcessingMode: e[7],
                error: e[4].error,
                $$slots: {
                    default: [tD]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment)
            },
            m(e, i) {
                Qg(e, t, i),
                cf(n, t, null),
                o = !0
            },
            p(e, [t]) {
                const o = {};
                1 & t && (o.textProcessingMode = e[0]),
                8 & t && (o.isInput = e[3]),
                16 & t && (o.error = e[4].error),
                4125 & t && (o.$$scope = {
                    dirty: t,
                    ctx: e
                }),
                n.$set(o)
            },
            i(e) {
                o || (Jh(n.$$.fragment, e),
                o = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                o = !1
            },
            d(e) {
                e && Jg(t),
                df(n)
            }
        }
    }
    function oD(e, n, o) {
        let i, r = xg, s = () => (r(),
        r = Rg(l, (e => o(4, i = e))),
        l);
        e.$$.on_destroy.push(( () => r()));
        let {closeTooltip: a} = n
          , {websiteSettings: l} = n;
        s();
        let {platformBehaviour: c=re.default} = n
          , {isInput: d=!1} = n
          , {textProcessingMode: u} = n
          , {setPositioningStatus: p} = n
          , m = C;
        return e.$$set = e => {
            "closeTooltip"in e && o(8, a = e.closeTooltip),
            "websiteSettings"in e && s(o(1, l = e.websiteSettings)),
            "platformBehaviour"in e && o(2, c = e.platformBehaviour),
            "isInput"in e && o(3, d = e.isInput),
            "textProcessingMode"in e && o(0, u = e.textProcessingMode),
            "setPositioningStatus"in e && o(9, p = e.setPositioningStatus)
        }
        ,
        e.$$.update = () => {
            532 & e.$$.dirty && !i.translationState && c === re.default && p && (p(!0),
            setTimeout(( () => {
                p(!1)
            }
            ), 600))
        }
        ,
        [u, l, c, d, i, m, function() {
            t({
                action: "dlTrackUiAction",
                payload: {
                    uiAction: q,
                    nicheIntegration: c
                }
            }),
            a()
        }
        , e => {
            switch (e) {
            case le.translate:
                o(0, u = le.translate),
                t(d ? {
                    action: "dlTriggerTranslateInput"
                } : {
                    action: "dlTriggerTranslateInline"
                });
                break;
            case le.write:
                o(0, u = le.write),
                t(d ? {
                    action: "dlTriggerImproveInput"
                } : {
                    action: "dlTriggerImproveInline"
                });
                break;
            default:
                return
            }
        }
        , a, p]
    }
    class iD extends pf {
        constructor(e) {
            super(),
            uf(this, e, oD, nD, Ag, {
                closeTooltip: 8,
                websiteSettings: 1,
                platformBehaviour: 2,
                isInput: 3,
                textProcessingMode: 0,
                setPositioningStatus: 9
            })
        }
    }
    function rD(e) {
        let t, n, o, i, r, s, a, l;
        return r = new iD({
            props: {
                closeTooltip: e[0],
                websiteSettings: e[1],
                platformBehaviour: e[2],
                textProcessingMode: e[4],
                setPositioningStatus: e[8],
                isInput: e[3]
            }
        }),
        {
            c() {
                t = th("div"),
                n = th("div"),
                o = ih(),
                i = th("div"),
                lf(r.$$.fragment),
                ch(n, "class", "tooltip-drag-handle svelte-1t6zxdj"),
                ch(i, "class", "review-window-body svelte-1t6zxdj"),
                ch(t, "data-qa", "review-translate-write-window"),
                ch(t, "class", "review-window-wrapper svelte-1t6zxdj"),
                ch(t, "role", "dialog"),
                ch(t, "style", e[7]),
                ch(t, "draggable", e[6]),
                ch(t, "dir", Vt())
            },
            m(c, d) {
                Qg(c, t, d),
                Kg(t, n),
                Kg(t, o),
                Kg(t, i),
                cf(r, i, null),
                e[18](t),
                s = !0,
                a || (l = [sh(n, "mouseover", e[9]), sh(n, "mouseout", e[10]), Fg(S_.call(null, t, {
                    isShadow: !0
                })), sh(t, "click_outside", e[17]), sh(t, "dragstart", e[11])],
                a = !0)
            },
            p(e, [n]) {
                const o = {};
                1 & n && (o.closeTooltip = e[0]),
                2 & n && (o.websiteSettings = e[1]),
                4 & n && (o.platformBehaviour = e[2]),
                16 & n && (o.textProcessingMode = e[4]),
                8 & n && (o.isInput = e[3]),
                r.$set(o),
                (!s || 128 & n) && ch(t, "style", e[7]),
                (!s || 64 & n) && ch(t, "draggable", e[6])
            },
            i(e) {
                s || (Jh(r.$$.fragment, e),
                s = !0)
            },
            o(e) {
                ef(r.$$.fragment, e),
                s = !1
            },
            d(n) {
                n && Jg(t),
                df(r),
                e[18](null),
                a = !1,
                Ig(l)
            }
        }
    }
    function sD(e, t, n) {
        let o;
        Mg(e, hf, (e => n(16, o = e))),
        Lh("deepl_settings", hf),
        Lh("text_direction", Vt());
        let i, r, s, a, l, c, {closeWindow: d} = t, {websiteSettings: u} = t, {replaceElement: p} = t, {dragContainerTo: m} = t, {platformBehaviour: g=re.default} = t, {isInput: h=!1} = t, {textProcessingMode: f} = t, _ = !1, v = !1, y = "visibility: hidden; opacity:0; height:0;";
        let w = {
            x: 0,
            y: 0
        };
        function b(e) {
            let t = W$({
                dropEvent: e,
                document: document,
                dragConfig: {
                    dragOffset: w,
                    dragElementRect: l,
                    dragBarWidth: 16
                }
            });
            t && m(t)
        }
        Ch(( () => {
            n(15, c = o.isLoggedIn),
            setTimeout(( () => {
                n(7, y = "")
            }
            ), 100),
            document.addEventListener("dragover", U$),
            document.addEventListener("drop", b),
            a = A_(r, ( ({clientHeight: e}) => {
                n(14, s = e)
            }
            ))
        }
        )),
        kh(( () => {
            document.removeEventListener("dragover", U$),
            document.removeEventListener("drop", b),
            a && a()
        }
        ));
        return e.$$set = e => {
            "closeWindow"in e && n(0, d = e.closeWindow),
            "websiteSettings"in e && n(1, u = e.websiteSettings),
            "replaceElement"in e && n(12, p = e.replaceElement),
            "dragContainerTo"in e && n(13, m = e.dragContainerTo),
            "platformBehaviour"in e && n(2, g = e.platformBehaviour),
            "isInput"in e && n(3, h = e.isInput),
            "textProcessingMode"in e && n(4, f = e.textProcessingMode)
        }
        ,
        e.$$.update = () => {
            var t, n;
            98305 & e.$$.dirty && !1 === c && !0 === o.isLoggedIn && d(),
            65536 & e.$$.dirty && (t = o.inlineTranslateTooltipPosition,
            i = p(s, t)),
            16384 & e.$$.dirty && (n = s,
            i = v || g === re.gdocs ? p(n, o.inlineTranslateTooltipPosition) : i)
        }
        ,
        [d, u, g, h, f, r, _, y, e => {
            v = e
        }
        , function() {
            n(6, _ = !0)
        }
        , function() {
            n(6, _ = !1)
        }
        , function(e) {
            const t = B$(e, g);
            w = t.dragOffset,
            l = t.dragElementRect
        }
        , p, m, s, c, o, () => d(), function(e) {
            Oh[e ? "unshift" : "push"](( () => {
                r = e,
                n(5, r)
            }
            ))
        }
        ]
    }
    class aD extends pf {
        constructor(e) {
            super(),
            uf(this, e, sD, rD, Ag, {
                closeWindow: 0,
                websiteSettings: 1,
                replaceElement: 12,
                dragContainerTo: 13,
                platformBehaviour: 2,
                isInput: 3,
                textProcessingMode: 4
            })
        }
    }
    class lD {
        static HTML_TAG_NAME = "deepl-review-translate-write-window";
        static createElement = (e=document) => {
            const t = e.createElement(lD.HTML_TAG_NAME)
              , n = new lD(t);
            return t.createDOM = n.createDOM,
            t.cleanupDOM = n.cleanupDOM,
            t.dragContainerTo = n.dragContainerTo,
            t
        }
        ;
        #e = void 0;
        constructor(e) {
            this.domElement = e,
            this.domElement.platformBehaviour = re.default,
            this.domElement.shadow = this.domElement.attachShadow({
                mode: "open"
            }),
            this.domElement.shadowContainer = document.createElement("div"),
            this.domElement.container = document.createElement("div"),
            this.domElement.mainComponent,
            this.domElement.selectionRange;
            const t = document.createElement("link");
            t.setAttribute("rel", "stylesheet"),
            t.setAttribute("href", chrome.runtime.getURL("build/content.css")),
            this.domElement.shadow.appendChild(t),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer)
        }
        createDOM = (e, t, n, o=!1) => {
            const {deepl_inline_ui: i} = P;
            this.domElement.shadowContainer && this.domElement.shadowContainer.childElementCount > 0 && this.cleanupDOM(),
            this.domElement.platformBehaviour === re.default && (this.domElement.selectionRange = window.getSelection().getRangeAt(0));
            let r = e(this.domElement.selectionRange);
            this.domElement.shadowContainer.appendChild(this.domElement.container);
            let s = "visibility: initial !important; position: absolute; top: 0px; left: 0px; width: 100%; z-index: " + (i.z_index - 100)
              , a = `position: absolute; top: ${r.y}px; left: ${r.x - 200}px; z-index: ${i.z_index - 100};`;
            switch (this.domElement.platformBehaviour) {
            case re.gdocs:
                a += "top: 600px; left: 10px;";
                break;
            case re.default:
            default:
                a += ""
            }
            this.domElement.shadowContainer.style.cssText = s,
            this.domElement.container.style.cssText = a,
            this.domElement.mainComponent = new aD({
                target: this.domElement.container,
                props: {
                    closeWindow: t,
                    websiteSettings: n,
                    replaceElement: (t, n) => {
                        r = e(this.domElement.selectionRange);
                        const o = {
                            coords: r,
                            clientHeight: t,
                            TOOLTIP_WIDTH: 550,
                            TRIGGER_MENU_ICON_HEIGHT: 30,
                            style: this.domElement.container.style
                        };
                        let i = n;
                        const s = D$(o)
                          , [a,l] = P$(n)
                          , c = this.#e ?? {
                            x: 0,
                            y: 0
                        };
                        if (this.domElement.platformBehaviour === re.gdocs) {
                            for (const e of l)
                                if (N$(e, o)) {
                                    O$(e, o, c);
                                    break
                                }
                        } else
                            for (const e of a)
                                if (N$(e, o)) {
                                    i = "middle" !== e ? e : void 0,
                                    M$(e, o, c);
                                    break
                                }
                        return {
                            ...s,
                            current: i
                        }
                    }
                    ,
                    platformBehaviour: this.domElement.platformBehaviour,
                    textProcessingMode: this.domElement.textProcessingMode,
                    dragContainerTo: this.dragContainerTo,
                    isInput: o
                }
            })
        }
        ;
        dragContainerTo = e => {
            this.#e = {
                y: parseInt(this.domElement.container.style.top) - e.y + (this.#e?.y ?? 0),
                x: parseInt(this.domElement.container.style.left) - e.x + (this.#e?.x ?? 0)
            },
            this.domElement.container.style.top = `${e.y}px`,
            this.domElement.container.style.left = `${e.x}px`
        }
        ;
        cleanupDOM = () => {
            this.domElement.container.remove(),
            this.domElement.shadowContainer.remove(),
            this.domElement.shadowContainer = document.createElement("div"),
            this.domElement.container = document.createElement("div"),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer),
            this.domElement.mainComponent && this.domElement.mainComponent.$destroy()
        }
    }
    const cD = "deepl-writing-ui-added"
      , dD = 5e3;
    function uD(e) {
        let t, n, o, i, r, s, a, l;
        return {
            c() {
                t = nh("svg"),
                n = nh("g"),
                o = nh("path"),
                i = nh("path"),
                r = nh("path"),
                s = nh("defs"),
                a = nh("clipPath"),
                l = nh("rect"),
                ch(o, "d", "M1.85295 4.86015V12.4035C1.85295 12.7953 2.05334 13.1545 2.38029 13.3504L8.70832 17.1167C8.72427 17.1262 8.7404 17.1353 8.75668 17.1439L11.8727 19L11.8621 17.3672L11.8685 16.4605L11.8717 16.4747V16.1699C11.8717 15.9893 11.9613 15.8272 12.0993 15.7262L12.3015 15.6059L12.3991 15.5494L12.394 15.5508L16.091 13.3504C16.418 13.1545 16.6184 12.7953 16.6184 12.4035V4.86015C16.6184 4.46829 16.418 4.10909 16.091 3.91316L9.76299 0.146947C9.43604 -0.0489825 9.03527 -0.0489825 8.70832 0.146947L2.38029 3.92404C2.05334 4.11997 1.85295 4.47918 1.85295 4.86015Z"),
                ch(o, "fill", "#0F2B46"),
                ch(i, "d", "M6.68257 5.19787C7.10444 4.77336 7.77943 4.77336 8.2013 5.19787C8.50446 5.49621 8.60497 5.92588 8.50281 6.3113L11.4143 8.05411C11.4193 8.04902 11.4243 8.04396 11.4294 8.03894C11.8513 7.61442 12.5263 7.61442 12.9481 8.03894C13.4017 8.48522 13.4017 9.2254 12.9481 9.67168C12.5263 10.0962 11.8513 10.0962 11.4294 9.67168C11.111 9.35838 11.0162 8.90024 11.1448 8.50062L11.1341 8.50683L8.24372 6.78659C8.23005 6.80156 8.21591 6.81624 8.2013 6.83062C7.77943 7.25514 7.10444 7.25514 6.68257 6.83062C6.22906 6.38434 6.22906 5.64416 6.68257 5.19787Z"),
                ch(i, "fill", "white"),
                ch(r, "d", "M8.50819 11.5811L11.3455 9.88917L10.8182 9.58439L8.2574 11.1016C8.23971 11.0816 8.2212 11.062 8.20187 11.043C7.78 10.6185 7.10501 10.6185 6.68314 11.043C6.22963 11.4893 6.22963 12.2295 6.68314 12.6757C7.10501 13.1003 7.78 13.1003 8.20187 12.6757C8.50012 12.3822 8.60222 11.9616 8.50819 11.5811Z"),
                ch(r, "fill", "white"),
                ch(n, "clip-path", "url(#clip0)"),
                ch(l, "width", "18.5294"),
                ch(l, "height", "19"),
                ch(l, "fill", "white"),
                ch(l, "transform", "matrix(-1 0 0 1 18.5294 0)"),
                ch(a, "id", "clip0"),
                ch(t, "width", e[1]),
                ch(t, "height", e[0]),
                ch(t, "class", "deepl-logo-icon"),
                ch(t, "viewBox", "0 0 19 19"),
                ch(t, "fill", "none"),
                ch(t, "xmlns", "http://www.w3.org/2000/svg")
            },
            m(e, c) {
                Qg(e, t, c),
                Kg(t, n),
                Kg(n, o),
                Kg(n, i),
                Kg(n, r),
                Kg(t, s),
                Kg(s, a),
                Kg(a, l)
            },
            p(e, [n]) {
                2 & n && ch(t, "width", e[1]),
                1 & n && ch(t, "height", e[0])
            },
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function pD(e, t, n) {
        let {height: o="16px"} = t
          , {width: i="16px"} = t;
        return e.$$set = e => {
            "height"in e && n(0, o = e.height),
            "width"in e && n(1, i = e.width)
        }
        ,
        [o, i]
    }
    class mD extends pf {
        constructor(e) {
            super(),
            uf(this, e, pD, uD, Ag, {
                height: 0,
                width: 1
            })
        }
    }
    function gD(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m = chrome.i18n.getMessage("gmail_char_limit_logged_in_body") + "";
        return {
            c() {
                t = th("div"),
                n = ih(),
                o = th("div"),
                o.textContent = `${chrome.i18n.getMessage("gmail_char_limit_anon_title")}`,
                i = ih(),
                r = th("div"),
                s = ih(),
                a = th("div"),
                l = th("button"),
                l.textContent = `${chrome.i18n.getMessage("gmail_char_limit_anon_login_button")}`,
                c = ih(),
                d = th("button"),
                d.textContent = `${chrome.i18n.getMessage("gmail_char_limit_anon_sign_up_button")}`,
                ch(t, "class", "close-icon svelte-1pm9ytz"),
                ch(o, "class", "title svelte-1pm9ytz"),
                ch(r, "class", "body svelte-1pm9ytz"),
                ch(l, "class", "secondary svelte-1pm9ytz"),
                ch(d, "class", "primary svelte-1pm9ytz"),
                ch(a, "class", "footer svelte-1pm9ytz")
            },
            m(g, h) {
                Qg(g, t, h),
                Qg(g, n, h),
                Qg(g, o, h),
                Qg(g, i, h),
                Qg(g, r, h),
                r.innerHTML = m,
                Qg(g, s, h),
                Qg(g, a, h),
                Kg(a, l),
                Kg(a, c),
                Kg(a, d),
                u || (p = [sh(t, "click", e[3]), sh(l, "click", e[4]), sh(d, "click", e[5])],
                u = !0)
            },
            p: xg,
            i: xg,
            o: xg,
            d(e) {
                e && (Jg(t),
                Jg(n),
                Jg(o),
                Jg(i),
                Jg(r),
                Jg(s),
                Jg(a)),
                u = !1,
                Ig(p)
            }
        }
    }
    function hD(e) {
        let t, n, o, i, r, s, a, l, c, d, u = chrome.i18n.getMessage("gmail_char_limit_logged_in_body") + "";
        return {
            c() {
                t = th("div"),
                n = ih(),
                o = th("div"),
                o.textContent = `${chrome.i18n.getMessage("gmail_char_limit_logged_in_title")}`,
                i = ih(),
                r = th("div"),
                s = ih(),
                a = th("div"),
                l = th("button"),
                l.textContent = `${chrome.i18n.getMessage("gmail_char_limit_logged_in_cta_button")}`,
                ch(t, "class", "close-icon svelte-1pm9ytz"),
                ch(o, "class", "title svelte-1pm9ytz"),
                ch(r, "class", "body svelte-1pm9ytz"),
                ch(l, "class", "primary svelte-1pm9ytz"),
                ch(a, "class", "footer svelte-1pm9ytz")
            },
            m(p, m) {
                Qg(p, t, m),
                Qg(p, n, m),
                Qg(p, o, m),
                Qg(p, i, m),
                Qg(p, r, m),
                r.innerHTML = u,
                Qg(p, s, m),
                Qg(p, a, m),
                Kg(a, l),
                c || (d = [sh(t, "click", e[3]), sh(l, "click", e[5])],
                c = !0)
            },
            p: xg,
            i: xg,
            o: xg,
            d(e) {
                e && (Jg(t),
                Jg(n),
                Jg(o),
                Jg(i),
                Jg(r),
                Jg(s),
                Jg(a)),
                c = !1,
                Ig(d)
            }
        }
    }
    function fD(e) {
        let t, n;
        return t = new Xy({
            props: {
                error: {
                    error: e[0]
                },
                close: e[3],
                config: {
                    nicheIntegration: re.gmail
                }
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                1 & n && (o.error = {
                    error: e[0]
                }),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function _D(e) {
        let t, n, o, i, r, s;
        const a = [fD, hD, gD]
          , l = [];
        function c(e, t) {
            return e[2] ? 0 : e[1] ? 1 : 2
        }
        return n = c(e),
        o = l[n] = a[n](e),
        {
            c() {
                t = th("div"),
                o.c(),
                ch(t, "class", "dl-gmail-character-limit-popup svelte-1pm9ytz"),
                ch(t, "dir", Vt()),
                fh(t, "is-translator-limit", !e[2])
            },
            m(o, a) {
                Qg(o, t, a),
                l[n].m(t, null),
                i = !0,
                r || (s = [Fg(S_.call(null, t, {
                    isShadow: !0,
                    exceptions: [".deepl-gmail-message-container", ".deepl-gmail-write-toolbar"]
                })), sh(t, "click_outside", e[9])],
                r = !0)
            },
            p(e, [r]) {
                let s = n;
                n = c(e),
                n === s ? l[n].p(e, r) : (Xh(),
                ef(l[s], 1, 1, ( () => {
                    l[s] = null
                }
                )),
                Qh(),
                o = l[n],
                o ? o.p(e, r) : (o = l[n] = a[n](e),
                o.c()),
                Jh(o, 1),
                o.m(t, null)),
                (!i || 4 & r) && fh(t, "is-translator-limit", !e[2])
            },
            i(e) {
                i || (Jh(o),
                i = !0)
            },
            o(e) {
                ef(o),
                i = !1
            },
            d(e) {
                e && Jg(t),
                l[n].d(),
                r = !1,
                Ig(s)
            }
        }
    }
    function vD(e, n, o) {
        let i, r;
        Mg(e, hf, (e => o(8, r = e))),
        Lh("text_direction", Vt());
        let {onCloseCharLimitPopup: s} = n
          , {cleanUpDOM: a} = n
          , {limitType: l} = n
          , c = !1
          , d = !1;
        const u = () => {
            s && s(),
            a && a()
        }
        ;
        return e.$$set = e => {
            "onCloseCharLimitPopup"in e && o(6, s = e.onCloseCharLimitPopup),
            "cleanUpDOM"in e && o(7, a = e.cleanUpDOM),
            "limitType"in e && o(0, l = e.limitType)
        }
        ,
        e.$$.update = () => {
            1 & e.$$.dirty && o(2, i = l === Df || l === Pf),
            256 & e.$$.dirty && o(1, d = !0 === r.isLoggedIn)
        }
        ,
        [l, d, i, u, () => {
            c || (t({
                action: "dlTrackUILocationClicked",
                payload: W.gmailCharLimitLogin
            }),
            c = !0,
            t({
                action: "dlRequestLogin"
            }).then(( () => {
                c = !1,
                u()
            }
            )).catch(( () => {
                c = !1
            }
            )))
        }
        , () => {
            t({
                action: "dlExternalURLRedirect",
                payload: {
                    destination: Tv,
                    utmContent: "gmail_customization"
                }
            }),
            u()
        }
        , s, a, r, () => {
            u()
        }
        ]
    }
    class yD extends pf {
        constructor(e) {
            super(),
            uf(this, e, vD, _D, Ag, {
                onCloseCharLimitPopup: 6,
                cleanUpDOM: 7,
                limitType: 0
            })
        }
    }
    class wD {
        static HTML_TAG_NAME = "deepl-gmail-character-limit-popup";
        static createElement = (e=document) => {
            const t = e.createElement(wD.HTML_TAG_NAME)
              , n = new wD(t);
            return t.createDOM = n.createDOM,
            t.cleanupDOM = n.cleanupDOM,
            t
        }
        ;
        constructor(e) {
            this.domElement = e,
            this.domElement.shadow = this.domElement.attachShadow({
                mode: "open"
            }),
            this.domElement.shadowContainer = document.createElement("div"),
            this.domElement.container = document.createElement("div"),
            this.mainComponent;
            const t = document.createElement("link");
            t.setAttribute("rel", "stylesheet"),
            t.setAttribute("href", chrome.runtime.getURL("build/content.css")),
            this.domElement.shadow.appendChild(t),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer),
            this.domElement.shadowRoot.addEventListener("mouseup", (e => {
                e.stopPropagation(),
                e.stopImmediatePropagation()
            }
            )),
            this.domElement.shadowRoot.addEventListener("mousedown", (e => {
                e.stopPropagation(),
                e.stopImmediatePropagation()
            }
            ))
        }
        createDOM = ({onCloseCharLimitPopup: e, limitType: t}) => {
            this.mainComponent = new yD({
                target: this.domElement.shadowContainer,
                props: {
                    cleanUpDOM: this.domElement.cleanupDOM,
                    onCloseCharLimitPopup: e,
                    limitType: t
                }
            })
        }
        ;
        cleanupDOM = () => {
            this.domElement.shadowContainer.remove(),
            this.domElement.mainComponent && this.domElement.mainComponent.$destroy()
        }
    }
    function bD(e) {
        let t, n, o, i;
        const r = [SD, TD]
          , s = [];
        function a(e, t) {
            return e[9] ? 0 : 1
        }
        return n = a(e),
        o = s[n] = r[n](e),
        {
            c() {
                t = th("div"),
                o.c(),
                ch(t, "class", "dl-gmail-translate-toolbar svelte-eo75ae"),
                fh(t, "hasLoaded", e[4]),
                fh(t, "isExpanded", e[5])
            },
            m(e, o) {
                Qg(e, t, o),
                s[n].m(t, null),
                i = !0
            },
            p(e, l) {
                let c = n;
                n = a(e),
                n === c ? s[n].p(e, l) : (Xh(),
                ef(s[c], 1, 1, ( () => {
                    s[c] = null
                }
                )),
                Qh(),
                o = s[n],
                o ? o.p(e, l) : (o = s[n] = r[n](e),
                o.c()),
                Jh(o, 1),
                o.m(t, null)),
                (!i || 16 & l[0]) && fh(t, "hasLoaded", e[4]),
                (!i || 32 & l[0]) && fh(t, "isExpanded", e[5])
            },
            i(e) {
                i || (Jh(o),
                i = !0)
            },
            o(e) {
                ef(o),
                i = !1
            },
            d(e) {
                e && Jg(t),
                s[n].d()
            }
        }
    }
    function ED(e) {
        let t, n, o, i, r, s, a, l, c;
        return o = new L_({
            props: {
                tooltip: chrome.i18n.getMessage("gmail_compose_undo_icon"),
                zIndex: e[15].z_index,
                $$slots: {
                    default: [ID]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        s = new L_({
            props: {
                tooltip: chrome.i18n.getMessage("gmail_compose_accept_icon"),
                zIndex: e[15].z_index,
                $$slots: {
                    default: [LD]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                t = th("div"),
                n = th("div"),
                lf(o.$$.fragment),
                i = ih(),
                r = th("div"),
                lf(s.$$.fragment),
                ch(n, "class", "wrapper undo-wrapper svelte-eo75ae"),
                ch(r, "class", "wrapper accept-wrapper svelte-eo75ae"),
                ch(t, "class", "accept-changes svelte-eo75ae")
            },
            m(d, u) {
                Qg(d, t, u),
                Kg(t, n),
                cf(o, n, null),
                Kg(t, i),
                Kg(t, r),
                cf(s, r, null),
                a = !0,
                l || (c = [Fg(S_.call(null, t, {
                    isShadow: !0,
                    exceptions: [".deepl-gmail-message-container"]
                })), sh(t, "click_outside", e[18])],
                l = !0)
            },
            p(e, t) {
                const n = {};
                33554432 & t[1] && (n.$$scope = {
                    dirty: t,
                    ctx: e
                }),
                o.$set(n);
                const i = {};
                33554432 & t[1] && (i.$$scope = {
                    dirty: t,
                    ctx: e
                }),
                s.$set(i)
            },
            i(e) {
                a || (Jh(o.$$.fragment, e),
                Jh(s.$$.fragment, e),
                a = !0)
            },
            o(e) {
                ef(o.$$.fragment, e),
                ef(s.$$.fragment, e),
                a = !1
            },
            d(e) {
                e && Jg(t),
                df(o),
                df(s),
                l = !1,
                Ig(c)
            }
        }
    }
    function TD(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h, f, _, v, y, w, b;
        return r = new B_({
            props: {
                selectedOption: e[1],
                items: e[8],
                placeholder: "...",
                allowLabelHtml: !0
            }
        }),
        r.$on("valueselected", e[22]),
        p = new ob({
            props: {
                value: e[13] || e[2].targetLanguageUserInput,
                disabled: !1,
                fontSize: "sm"
            }
        }),
        p.$on("selection", e[23]),
        h = new L_({
            props: {
                isEnabled: e[14],
                tooltip: chrome.i18n.getMessage("contact_admin_info_translate_disabled"),
                zIndex: e[15].z_index,
                multiline: !0,
                $$slots: {
                    default: [$D]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        w = new L_({
            props: {
                isEnabled: !0,
                tooltip: st(e[2], Ee.WRITE) ? chrome.i18n.getMessage("input_translation_tooltip_improve_disabled_by_admin") : chrome.i18n.getMessage("input_translation_tooltip_improve_supported_lang"),
                zIndex: e[15].z_index,
                multiline: !0,
                $$slots: {
                    default: [kD]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                t = th("div"),
                n = th("div"),
                n.textContent = `${chrome.i18n.getMessage("gmail_compose_translate_from")}`,
                o = ih(),
                i = th("div"),
                lf(r.$$.fragment),
                s = ih(),
                a = th("div"),
                l = th("div"),
                l.textContent = `${chrome.i18n.getMessage("gmail_compose_translate_into")}`,
                c = ih(),
                d = th("div"),
                u = th("div"),
                lf(p.$$.fragment),
                m = ih(),
                g = th("div"),
                lf(h.$$.fragment),
                f = ih(),
                _ = th("div"),
                v = ih(),
                y = th("div"),
                lf(w.$$.fragment),
                ch(n, "class", "translation-label svelte-eo75ae"),
                ch(i, "class", "wrapper shortcode-wrapper svelte-eo75ae"),
                ch(t, "class", "translation-selection-wrapper svelte-eo75ae"),
                ch(l, "class", "translation-label svelte-eo75ae"),
                ch(u, "class", "dropdown"),
                ch(d, "class", "wrapper language-wrapper svelte-eo75ae"),
                ch(a, "class", "translation-selection-wrapper svelte-eo75ae"),
                ch(g, "class", "wrapper button-wrapper"),
                ch(_, "class", "divider svelte-eo75ae"),
                ch(y, "class", "wrapper button-wrapper")
            },
            m(e, E) {
                Qg(e, t, E),
                Kg(t, n),
                Kg(t, o),
                Kg(t, i),
                cf(r, i, null),
                Qg(e, s, E),
                Qg(e, a, E),
                Kg(a, l),
                Kg(a, c),
                Kg(a, d),
                Kg(d, u),
                cf(p, u, null),
                Qg(e, m, E),
                Qg(e, g, E),
                cf(h, g, null),
                Qg(e, f, E),
                Qg(e, _, E),
                Qg(e, v, E),
                Qg(e, y, E),
                cf(w, y, null),
                b = !0
            },
            p(e, t) {
                const n = {};
                2 & t[0] && (n.selectedOption = e[1]),
                256 & t[0] && (n.items = e[8]),
                r.$set(n);
                const o = {};
                8196 & t[0] && (o.value = e[13] || e[2].targetLanguageUserInput),
                p.$set(o);
                const i = {};
                16384 & t[0] && (i.isEnabled = e[14]),
                24644 & t[0] | 33554432 & t[1] && (i.$$scope = {
                    dirty: t,
                    ctx: e
                }),
                h.$set(i);
                const s = {};
                4 & t[0] && (s.tooltip = st(e[2], Ee.WRITE) ? chrome.i18n.getMessage("input_translation_tooltip_improve_disabled_by_admin") : chrome.i18n.getMessage("input_translation_tooltip_improve_supported_lang")),
                196 & t[0] | 33554432 & t[1] && (s.$$scope = {
                    dirty: t,
                    ctx: e
                }),
                w.$set(s)
            },
            i(e) {
                b || (Jh(r.$$.fragment, e),
                Jh(p.$$.fragment, e),
                Jh(h.$$.fragment, e),
                Jh(w.$$.fragment, e),
                b = !0)
            },
            o(e) {
                ef(r.$$.fragment, e),
                ef(p.$$.fragment, e),
                ef(h.$$.fragment, e),
                ef(w.$$.fragment, e),
                b = !1
            },
            d(e) {
                e && (Jg(t),
                Jg(s),
                Jg(a),
                Jg(m),
                Jg(g),
                Jg(f),
                Jg(_),
                Jg(v),
                Jg(y)),
                df(r),
                df(p),
                df(h),
                df(w)
            }
        }
    }
    function SD(e) {
        let t, n;
        return t = new CT({}),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p: xg,
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function xD(e) {
        let t, n;
        return t = new o$({
            props: {
                size: 16,
                marginStart: 8,
                alternateColor: "white"
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function $D(e) {
        let t, n, o, i, r, s, a, l = chrome.i18n.getMessage("gmail_compose_translate_button") + "", c = it(e[2], Ee.TRANSLATOR), d = c && xD();
        return {
            c() {
                t = th("button"),
                n = oh(l),
                o = ih(),
                d && d.c(),
                t.disabled = i = e[6] || !e[13] || e[14],
                ch(t, "class", "svelte-eo75ae"),
                fh(t, "isTranslating", e[6])
            },
            m(i, l) {
                Qg(i, t, l),
                Kg(t, n),
                Kg(t, o),
                d && d.m(t, null),
                r = !0,
                s || (a = sh(t, "mousedown", lh(ah(e[16]))),
                s = !0)
            },
            p(e, n) {
                4 & n[0] && (c = it(e[2], Ee.TRANSLATOR)),
                c ? d ? 4 & n[0] && Jh(d, 1) : (d = xD(),
                d.c(),
                Jh(d, 1),
                d.m(t, null)) : d && (Xh(),
                ef(d, 1, 1, ( () => {
                    d = null
                }
                )),
                Qh()),
                (!r || 24640 & n[0] && i !== (i = e[6] || !e[13] || e[14])) && (t.disabled = i),
                (!r || 64 & n[0]) && fh(t, "isTranslating", e[6])
            },
            i(e) {
                r || (Jh(d),
                r = !0)
            },
            o(e) {
                ef(d),
                r = !1
            },
            d(e) {
                e && Jg(t),
                d && d.d(),
                s = !1,
                a()
            }
        }
    }
    function CD(e) {
        let t, n;
        return t = new o$({
            props: {
                size: 16,
                marginStart: 8,
                alternateColor: "white"
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function kD(e) {
        let t, n, o, i, r, s, a, l = chrome.i18n.getMessage("gmail_compose_improve_button") + "", c = it(e[2], Ee.WRITE), d = c && CD();
        return {
            c() {
                t = th("button"),
                n = oh(l),
                o = ih(),
                d && d.c(),
                t.disabled = i = st(e[2], Ee.WRITE) || e[6] || !e[7],
                ch(t, "class", "svelte-eo75ae"),
                fh(t, "isTranslating", e[6])
            },
            m(i, l) {
                Qg(i, t, l),
                Kg(t, n),
                Kg(t, o),
                d && d.m(t, null),
                r = !0,
                s || (a = sh(t, "mousedown", lh(ah(e[17]))),
                s = !0)
            },
            p(e, n) {
                4 & n[0] && (c = it(e[2], Ee.WRITE)),
                c ? d ? 4 & n[0] && Jh(d, 1) : (d = CD(),
                d.c(),
                Jh(d, 1),
                d.m(t, null)) : d && (Xh(),
                ef(d, 1, 1, ( () => {
                    d = null
                }
                )),
                Qh()),
                (!r || 196 & n[0] && i !== (i = st(e[2], Ee.WRITE) || e[6] || !e[7])) && (t.disabled = i),
                (!r || 64 & n[0]) && fh(t, "isTranslating", e[6])
            },
            i(e) {
                r || (Jh(d),
                r = !0)
            },
            o(e) {
                ef(d),
                r = !1
            },
            d(e) {
                e && Jg(t),
                d && d.d(),
                s = !1,
                a()
            }
        }
    }
    function ID(e) {
        let t, n, o;
        return {
            c() {
                t = th("button"),
                t.innerHTML = '<svg height="32px" width="32px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 8.33398H10.8333C14.5152 8.33398 17.5 11.3188 17.5 15.0007V16.6673M2.5 8.33398L7.5 13.334M2.5 8.33398L7.5 3.33398" stroke="#727A83" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-eo75ae"></path></svg>',
                ch(t, "class", "confirm-button svelte-eo75ae")
            },
            m(i, r) {
                Qg(i, t, r),
                n || (o = sh(t, "click", lh(ah(e[19]))),
                n = !0)
            },
            p: xg,
            d(e) {
                e && Jg(t),
                n = !1,
                o()
            }
        }
    }
    function LD(e) {
        let t, n, o;
        return {
            c() {
                t = th("button"),
                t.innerHTML = '<svg width="24px" height="24px" class="checkmark" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 7L5 11L15 1" stroke="#727A83" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-eo75ae"></path></svg>',
                ch(t, "class", "confirm-button right svelte-eo75ae")
            },
            m(i, r) {
                Qg(i, t, r),
                n || (o = sh(t, "click", lh(ah(e[18]))),
                n = !0)
            },
            p: xg,
            d(e) {
                e && Jg(t),
                n = !1,
                o()
            }
        }
    }
    function AD(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p;
        const m = [ED, bD]
          , g = [];
        function h(e, t) {
            return e[3] ? 0 : 1
        }
        return o = h(e),
        i = g[o] = m[o](e),
        l = new mD({
            props: {
                height: "20px",
                width: "20px"
            }
        }),
        {
            c() {
                t = th("div"),
                n = th("div"),
                i.c(),
                r = ih(),
                s = th("div"),
                a = th("div"),
                lf(l.$$.fragment),
                ch(a, "class", "wrapper icon-wrapper svelte-eo75ae"),
                ch(s, "class", "dl-toolbar-closed svelte-eo75ae"),
                ch(n, "class", "dl-toolbar-positioner svelte-eo75ae"),
                ch(t, "class", "deepl-gmail-write-toolbar svelte-eo75ae"),
                ch(t, "style", c = `top: ${e[10]}px; left: ${e[11]}px`),
                ch(t, "dir", Vt())
            },
            m(i, c) {
                Qg(i, t, c),
                Kg(t, n),
                g[o].m(n, null),
                Kg(n, r),
                Kg(n, s),
                Kg(s, a),
                cf(l, a, null),
                d = !0,
                u || (p = [sh(a, "click", e[24]), sh(t, "click", lh(ah(e[25]))), Fg(S_.call(null, t, {
                    isShadow: !0,
                    exceptions: [".deepl-gmail-message-container"]
                })), sh(t, "click_outside", e[26])],
                u = !0)
            },
            p(e, s) {
                let a = o;
                o = h(e),
                o === a ? g[o].p(e, s) : (Xh(),
                ef(g[a], 1, 1, ( () => {
                    g[a] = null
                }
                )),
                Qh(),
                i = g[o],
                i ? i.p(e, s) : (i = g[o] = m[o](e),
                i.c()),
                Jh(i, 1),
                i.m(n, r)),
                (!d || 3072 & s[0] && c !== (c = `top: ${e[10]}px; left: ${e[11]}px`)) && ch(t, "style", c)
            },
            i(e) {
                d || (Jh(i),
                Jh(l.$$.fragment, e),
                d = !0)
            },
            o(e) {
                ef(i),
                ef(l.$$.fragment, e),
                d = !1
            },
            d(e) {
                e && Jg(t),
                g[o].d(),
                df(l),
                u = !1,
                Ig(p)
            }
        }
    }
    function RD(e, n, o) {
        let i, r;
        Mg(e, hf, (e => o(2, r = e))),
        Lh("text_direction", Vt());
        const {deepl_inline_ui: s} = P;
        let {messageContainer: a} = n
          , {updateLockStatus: l} = n
          , {subjectInput: c} = n;
        const d = "WRITE"
          , u = "TRANSLATE";
        let p, m, g, h, f, _, v, y, w, b, E, T, S, x, $ = null, C = !1, k = !1, I = !1, L = !1;
        Lh("deepl_settings", hf),
        Ch((async () => {
            a && (a.addEventListener("input", R),
            a.addEventListener("paste", R),
            a.classList.add("deepl-gmail-message-container"),
            A(),
            c && c.value && (_ = c.value)),
            o(8, h = uP()),
            o(13, x = r.targetLanguageUserInput),
            z(),
            G(),
            window.addEventListener("popstate", N)
        }
        )),
        kh(( () => {
            window.removeEventListener("popstate", N),
            a.removeEventListener("input", R),
            a.removeEventListener("paste", R),
            a.classList.remove("deepl-gmail-message-container"),
            H()
        }
        ));
        const A = async () => {
            const e = vt(a.innerHTML)
              , t = e.replace(/<[^>]+>/g, "");
            const n = await Wt(t);
            n.length && (e => {
                const t = h.find((t => t.value === e));
                t && o(1, $ = t)
            }
            )(n)
        }
          , R = () => {
            C && O(!1),
            M()
        }
          , M = () => {
            A()
        }
          , O = (e, t) => {
            if (!e)
                return o(3, C = !1),
                m = null,
                void (p = null);
            o(3, C = !0),
            m = t
        }
          , N = () => {
            document.querySelectorAll(wD.HTML_TAG_NAME).forEach((e => {
                e.cleanupDOM,
                e.remove()
            }
            ))
        }
          , D = (e, t=!0) => {
            for (; null !== e; ) {
                const n = e.getAttribute("role");
                if ("TABLE" === e.tagName && ("dialog" === n || "presentation" === n))
                    return t ? e.parentElement : e;
                e = e.parentElement
            }
            return null
        }
          , U = e => {
            const t = D(a);
            t && (v = wD.createElement(),
            v.createDOM({
                onCloseCharLimitPopup: N,
                limitType: e
            }),
            t.appendChild(v))
        }
          , B = () => {
            o(9, y = !0)
        }
          , W = () => {
            o(9, y = !1)
        }
          , F = e => {
            Hw.update({
                error: e.message ? e.message : e
            })
        }
          , z = () => {
            w = setInterval(j, 800)
        }
          , H = () => {
            clearInterval(w)
        }
          , j = () => {
            const e = JSON.stringify(a.getBoundingClientRect());
            e !== b && (b = e,
            G())
        }
          , G = () => {
            const e = Vt()
              , t = D(a)
              , n = t.getBoundingClientRect();
            if (!t || !n)
                return;
            const i = ( () => {
                const e = D(a)
                  , t = e.getBoundingClientRect();
                if (!e || !t)
                    return;
                return e.querySelector("[role=toolbar]")
            }
            )()
              , r = ( () => {
                const e = D(a)
                  , t = e.getBoundingClientRect();
                if (!e || !t)
                    return;
                const n = e.querySelector("[role='group']")
                  , o = n.querySelectorAll("[role='button']");
                if (!n || !o)
                    return;
                const i = Array.from(o);
                return i[i.length - 1]
            }
            )();
            if (i && 0 !== i.getBoundingClientRect().top) {
                const t = i.getBoundingClientRect();
                return r && r.getBoundingClientRect() ? (o(10, E = t.top - 10),
                void o(11, T = "ltr" === e ? r.getBoundingClientRect().right - 30 : r.getBoundingClientRect().right + 30)) : (o(10, E = t.top - 10),
                void o(11, T = "ltr" === e ? n.right - 45 : n.left + 45))
            }
            if (!r || !r.getBoundingClientRect())
                return;
            const s = r.getBoundingClientRect();
            o(10, E = s.top - 18),
            o(11, T = "ltr" === e ? s.right - 30 : s.right + 30)
        }
          , q = ({lang: e, sourceLength: t, targetLang: n, targetLength: o}) => {
            p = {
                lang: e,
                sourceLength: t,
                targetLang: n,
                targetLength: o,
                nicheIntegration: re.gmail
            }
        }
          , V = ({sourceLang: e, sourceLength: t, targetLang: n, targetLength: o}) => {
            p = {
                sourceLang: e,
                sourceLength: t,
                targetLang: n,
                targetLength: o,
                nicheIntegration: re.gmail
            }
        }
          , Y = e => {
            t({
                action: "dlTrackTranslateAcceptOrRevertEvent",
                payload: {
                    eventType: e ? Ae : Re,
                    acceptOrRevertMetadata: p
                }
            })
        }
          , K = e => {
            t({
                action: "dlTrackGmailCharLimitReached",
                payload: {
                    gmailActionType: fx(e)
                }
            })
        }
        ;
        return e.$$set = e => {
            "messageContainer"in e && o(20, a = e.messageContainer),
            "updateLockStatus"in e && o(0, l = e.updateLockStatus),
            "subjectInput"in e && o(21, c = e.subjectInput)
        }
        ,
        e.$$.update = () => {
            2 & e.$$.dirty[0] && o(8, h = uP($)),
            2 & e.$$.dirty[0] && $ && $.value && o(7, L = Gt($.value)),
            4 & e.$$.dirty[0] && o(14, i = st(r, Ee.TRANSLATOR))
        }
        ,
        [l, $, r, C, k, I, g, L, h, y, E, T, S, x, i, s, async () => {
            if (!a)
                return;
            f = vt(a.innerHTML);
            const e = c && c.value;
            e && (_ = c.value);
            const n = a.innerText
              , i = n.length > dD;
            if (!it(r, Ee.TRANSLATOR) && i)
                return U(),
                void K(Ue.COMPOSE_VIEW_TRANSLATE);
            B();
            const s = S ? S.value : $.value;
            try {
                if (await PI(a, {
                    targetLang: x,
                    nicheIntegration: re.gmail,
                    isHtml: !0,
                    clearInnerHTML: !0
                }),
                e) {
                    const e = await t({
                        action: "dlRequestInputTranslation",
                        payload: {
                            requests: [{
                                text: c.value
                            }],
                            domainName: window.location.hostname,
                            websiteLanguage: s,
                            targetLang: x,
                            skipDapReporting: !0
                        }
                    });
                    if (e[0]?.text) {
                        const t = e[0]?.text;
                        o(21, c.value = t, c)
                    }
                }
                o(6, g = !1),
                O(!0, u),
                W(),
                V({
                    sourceLang: s,
                    targetLang: x,
                    sourceLength: n.length,
                    targetLength: a.innerText.length
                })
            } catch (e) {
                F(e),
                W(),
                o(6, g = !1),
                O(!1)
            }
        }
        , async () => {
            if (!a)
                return;
            const e = c && c.value;
            f = vt(a.innerHTML),
            e && (_ = c.value);
            const n = a.innerText;
            o(6, g = !0),
            B();
            const i = $.value
              , r = "FR" === i || "ES" === i;
            try {
                if (await PI(a, {
                    isWriteRequest: !0,
                    sourceLang: i,
                    nicheIntegration: re.gmail,
                    isHtml: !0,
                    clearInnerHTML: !0,
                    removeFormatting: r
                }),
                e) {
                    const e = await t({
                        action: "dlRequestImproveWriting",
                        payload: {
                            requests: [{
                                text: c.value
                            }],
                            domainName: window.location.hostname,
                            websiteLanguage: i,
                            sourceLang: i,
                            skipDapReporting: !0
                        }
                    });
                    if (e[0]?.text) {
                        const t = e[0]?.text;
                        o(21, c.value = t, c)
                    }
                }
                q({
                    lang: i,
                    sourceLength: n.length,
                    targetLength: a.innerText.length
                }),
                o(6, g = !1),
                O(!0, d),
                W()
            } catch (e) {
                switch (e.error) {
                case Df:
                case Pf:
                    U(e.error),
                    K(Ue.COMPOSE_VIEW_IMPROVE);
                    break;
                default:
                    F(e)
                }
                o(6, g = !1),
                O(!1),
                W()
            }
        }
        , () => {
            m === u ? Y(!0) : zB({
                eventType: ke,
                ...p
            }),
            f = null,
            _ = null,
            O(!1),
            A(),
            o(5, I = !1)
        }
        , () => {
            m === u ? Y(!1) : zB({
                eventType: Ie,
                ...p
            }),
            o(20, a.innerHTML = vt(f), a),
            c && _ && o(21, c.value = _, c),
            A(),
            O(!1)
        }
        , a, c, e => {
            o(12, S = e.detail.selectedOption)
        }
        , async e => {
            o(13, x = e.detail.selectedOption.value)
        }
        , () => {
            l(!0),
            o(5, I = !I),
            o(4, k = !0)
        }
        , () => {
            l(!0)
        }
        , () => {
            l(!1),
            o(5, I = !1)
        }
        ]
    }
    class MD extends pf {
        constructor(e) {
            super(),
            uf(this, e, RD, AD, Ag, {
                messageContainer: 20,
                updateLockStatus: 0,
                subjectInput: 21
            }, null, [-1, -1])
        }
    }
    class OD {
        static HTML_TAG_NAME = "deepl-gmail-message-write-ui";
        static createElement = (e=document) => {
            const t = e.createElement(OD.HTML_TAG_NAME)
              , n = new OD(t);
            return t.createDOM = n.createDOM,
            t.cleanupDOM = n.cleanupDOM,
            t
        }
        ;
        constructor(e) {
            this.domElement = e,
            this.domElement.shadow = this.domElement.attachShadow({
                mode: "open"
            }),
            this.domElement.shadowContainer = document.createElement("div"),
            this.mainComponent;
            const t = document.createElement("link");
            t.setAttribute("rel", "stylesheet"),
            t.setAttribute("href", chrome.runtime.getURL("build/content.css")),
            this.domElement.shadow.appendChild(t),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer),
            this.domElement.shadowRoot.addEventListener("mouseup", (e => {
                e.stopPropagation(),
                e.stopImmediatePropagation()
            }
            )),
            this.domElement.shadowRoot.addEventListener("mousedown", (e => {
                e.stopPropagation(),
                e.stopImmediatePropagation()
            }
            ))
        }
        createDOM = ({container: e, subjectInput: t, updateLockStatus: n}) => {
            this.mainComponent = new MD({
                target: this.domElement.shadowContainer,
                props: {
                    messageContainer: e,
                    updateLockStatus: n,
                    subjectInput: t
                }
            })
        }
        ;
        cleanupDOM = () => {
            this.domElement.shadowContainer.remove(),
            this.domElement.mainComponent && this.domElement.mainComponent.$destroy()
        }
    }
    function ND(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h, f, _, v, y, w, b = e[3] && DD(), E = null != e[5] && PD(e);
        return c = new ob({
            props: {
                disabled: e[0],
                websiteSettings: Hw,
                value: e[1].selectedTargetLanguage,
                extraPadding: !0
            }
        }),
        c.$on("selection", e[16]),
        p = new L_({
            props: {
                tooltip: chrome.i18n.getMessage("gmail_reading_translate_button"),
                multiline: !1,
                zIndex: 3,
                isEnabled: e[8] < zD,
                $$slots: {
                    default: [UD]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        h = new L_({
            props: {
                tooltip: chrome.i18n.getMessage("gmail_reading_view_original_button"),
                multiline: !1,
                zIndex: 3,
                $$slots: {
                    default: [BD]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        v = new L_({
            props: {
                tooltip: chrome.i18n.getMessage("gmail_reading_forward_button"),
                multiline: !1,
                zIndex: 2,
                isEnabled: e[8] < zD,
                $$slots: {
                    default: [WD]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                t = th("div"),
                n = th("div"),
                o = th("span"),
                i = ih(),
                b && b.c(),
                r = ih(),
                s = th("div"),
                E && E.c(),
                a = ih(),
                l = th("div"),
                lf(c.$$.fragment),
                d = ih(),
                u = th("div"),
                lf(p.$$.fragment),
                m = ih(),
                g = th("div"),
                lf(h.$$.fragment),
                f = ih(),
                _ = th("div"),
                lf(v.$$.fragment),
                ch(o, "class", "deepl-logo svelte-1lme20r"),
                ch(s, "class", "language-selection-wrapper svelte-1lme20r"),
                ch(l, "class", "language-selection-wrapper svelte-1lme20r"),
                ch(n, "class", "left-side svelte-1lme20r"),
                ch(_, "class", "right-side svelte-1lme20r"),
                ch(t, "class", "dl-gmail-email-toolbar svelte-1lme20r"),
                ch(t, "dir", Vt()),
                Wh(( () => e[17].call(t))),
                fh(t, "smallMode", e[8] < zD)
            },
            m(T, S) {
                Qg(T, t, S),
                Kg(t, n),
                Kg(n, o),
                Kg(n, i),
                b && b.m(n, null),
                Kg(n, r),
                Kg(n, s),
                E && E.m(s, null),
                Kg(n, a),
                Kg(n, l),
                cf(c, l, null),
                Kg(n, d),
                Kg(n, u),
                cf(p, u, null),
                Kg(n, m),
                Kg(n, g),
                cf(h, g, null),
                Kg(t, f),
                Kg(t, _),
                cf(v, _, null),
                y = function(e, t) {
                    "static" === getComputedStyle(e).position && (e.style.position = "relative");
                    const n = th("iframe");
                    n.setAttribute("style", "display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),
                    n.setAttribute("aria-hidden", "true"),
                    n.tabIndex = -1;
                    const o = hh();
                    let i;
                    return o ? (n.src = "data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",
                    i = sh(window, "message", (e => {
                        e.source === n.contentWindow && t()
                    }
                    ))) : (n.src = "about:blank",
                    n.onload = () => {
                        i = sh(n.contentWindow, "resize", t),
                        t()
                    }
                    ),
                    Kg(e, n),
                    () => {
                        (o || i && n.contentWindow) && i(),
                        Jg(n)
                    }
                }(t, e[17].bind(t)),
                w = !0
            },
            p(e, o) {
                e[3] ? b ? 8 & o[0] && Jh(b, 1) : (b = DD(),
                b.c(),
                Jh(b, 1),
                b.m(n, r)) : b && (Xh(),
                ef(b, 1, 1, ( () => {
                    b = null
                }
                )),
                Qh()),
                null != e[5] ? E ? (E.p(e, o),
                32 & o[0] && Jh(E, 1)) : (E = PD(e),
                E.c(),
                Jh(E, 1),
                E.m(s, null)) : E && (Xh(),
                ef(E, 1, 1, ( () => {
                    E = null
                }
                )),
                Qh());
                const i = {};
                1 & o[0] && (i.disabled = e[0]),
                2 & o[0] && (i.value = e[1].selectedTargetLanguage),
                c.$set(i);
                const a = {};
                256 & o[0] && (a.isEnabled = e[8] < zD),
                1 & o[0] | 8 & o[1] && (a.$$scope = {
                    dirty: o,
                    ctx: e
                }),
                p.$set(a);
                const l = {};
                4 & o[0] | 8 & o[1] && (l.$$scope = {
                    dirty: o,
                    ctx: e
                }),
                h.$set(l);
                const d = {};
                256 & o[0] && (d.isEnabled = e[8] < zD),
                4 & o[0] | 8 & o[1] && (d.$$scope = {
                    dirty: o,
                    ctx: e
                }),
                v.$set(d),
                (!w || 256 & o[0]) && fh(t, "smallMode", e[8] < zD)
            },
            i(e) {
                w || (Jh(b),
                Jh(E),
                Jh(c.$$.fragment, e),
                Jh(p.$$.fragment, e),
                Jh(h.$$.fragment, e),
                Jh(v.$$.fragment, e),
                w = !0)
            },
            o(e) {
                ef(b),
                ef(E),
                ef(c.$$.fragment, e),
                ef(p.$$.fragment, e),
                ef(h.$$.fragment, e),
                ef(v.$$.fragment, e),
                w = !1
            },
            d(e) {
                e && Jg(t),
                b && b.d(),
                E && E.d(),
                df(c),
                df(p),
                df(h),
                df(v),
                y()
            }
        }
    }
    function DD(e) {
        let t, n;
        return t = new o$({
            props: {
                size: 24,
                translator: !0
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function PD(e) {
        let t, n;
        return t = new ob({
            props: {
                disabled: e[0],
                value: e[5],
                websiteSettings: Hw,
                customClass: "borderless",
                fontSize: "sm",
                extraPadding: !0
            }
        }),
        t.$on("selection", e[15]),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                1 & n[0] && (o.disabled = e[0]),
                32 & n[0] && (o.value = e[5]),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function UD(e) {
        let t, n, o, i, r, s;
        return {
            c() {
                t = th("button"),
                n = th("div"),
                n.innerHTML = '<svg width="20px" height="20px" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path id="Icon" d="M1.5 3.16667H11.5M6.5 1.5V3.16667M7.37349 11.0833C6.10069 9.76482 5.06727 8.21371 4.34322 6.5M9.41667 14H15.25M8.16667 16.5L12.3333 8.16667L16.5 16.5M9.62594 3.16667C8.81922 7.97518 5.72474 12.0079 1.5 14.1075" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',
                o = ih(),
                i = th("span"),
                i.textContent = `${chrome.i18n.getMessage("gmail_reading_translate_button")}`,
                ch(n, "class", "icon svelte-1lme20r"),
                ch(i, "class", "svelte-1lme20r"),
                ch(t, "class", "translate-button svelte-1lme20r"),
                t.disabled = e[0],
                ch(t, "paddingx", "none")
            },
            m(a, l) {
                Qg(a, t, l),
                Kg(t, n),
                Kg(t, o),
                Kg(t, i),
                r || (s = sh(t, "click", lh(ah(e[10]))),
                r = !0)
            },
            p(e, n) {
                1 & n[0] && (t.disabled = e[0])
            },
            d(e) {
                e && Jg(t),
                r = !1,
                s()
            }
        }
    }
    function BD(e) {
        let t, n, o, i, r, s;
        return {
            c() {
                t = th("button"),
                n = nh("svg"),
                o = nh("path"),
                ch(o, "d", "M7 16L3 12M3 12L7 8M3 12L21 12"),
                ch(o, "stroke", i = e[2] ? "#000" : "#848F9B"),
                ch(o, "stroke-width", "1.5"),
                ch(o, "stroke-linecap", "round"),
                ch(o, "stroke-linejoin", "round"),
                ch(n, "width", "24"),
                ch(n, "height", "24"),
                ch(n, "viewBox", "0 0 24 24"),
                ch(n, "fill", "none"),
                ch(n, "xmlns", "http://www.w3.org/2000/svg"),
                ch(n, "class", "svelte-1lme20r"),
                ch(t, "class", "show-original-button svelte-1lme20r"),
                ch(t, "paddingx", "none"),
                fh(t, "enabled", e[2])
            },
            m(i, a) {
                Qg(i, t, a),
                Kg(t, n),
                Kg(n, o),
                r || (s = sh(t, "click", lh(ah(e[9]))),
                r = !0)
            },
            p(e, n) {
                4 & n[0] && i !== (i = e[2] ? "#000" : "#848F9B") && ch(o, "stroke", i),
                4 & n[0] && fh(t, "enabled", e[2])
            },
            d(e) {
                e && Jg(t),
                r = !1,
                s()
            }
        }
    }
    function WD(e) {
        let t, n, o, i, r, s, a, l, c;
        return {
            c() {
                t = th("button"),
                n = nh("svg"),
                o = nh("path"),
                r = ih(),
                s = th("span"),
                s.textContent = `${chrome.i18n.getMessage("gmail_reading_forward_button")}`,
                ch(o, "d", "M17 8L21 12M21 12L17 16M21 12L3 12"),
                ch(o, "stroke", i = e[2] ? "#000" : "#848F9B"),
                ch(o, "stroke-width", "1.5"),
                ch(o, "stroke-linecap", "round"),
                ch(o, "stroke-linejoin", "round"),
                ch(n, "width", "24"),
                ch(n, "height", "24"),
                ch(n, "viewBox", "0 0 24 24"),
                ch(n, "fill", "none"),
                ch(n, "xmlns", "http://www.w3.org/2000/svg"),
                ch(n, "class", "svelte-1lme20r"),
                ch(s, "class", "svelte-1lme20r"),
                t.disabled = a = !e[2],
                ch(t, "class", "forward-button svelte-1lme20r"),
                ch(t, "paddingx", "none")
            },
            m(i, a) {
                Qg(i, t, a),
                Kg(t, n),
                Kg(n, o),
                Kg(t, r),
                Kg(t, s),
                l || (c = sh(t, "click", e[11]),
                l = !0)
            },
            p(e, n) {
                4 & n[0] && i !== (i = e[2] ? "#000" : "#848F9B") && ch(o, "stroke", i),
                4 & n[0] && a !== (a = !e[2]) && (t.disabled = a)
            },
            d(e) {
                e && Jg(t),
                l = !1,
                c()
            }
        }
    }
    function FD(e) {
        let t, n, o = e[6] && e[7] && ND(e);
        return {
            c() {
                o && o.c(),
                t = rh()
            },
            m(e, i) {
                o && o.m(e, i),
                Qg(e, t, i),
                n = !0
            },
            p(e, n) {
                e[6] && e[7] ? o ? (o.p(e, n),
                192 & n[0] && Jh(o, 1)) : (o = ND(e),
                o.c(),
                Jh(o, 1),
                o.m(t.parentNode, t)) : o && (Xh(),
                ef(o, 1, 1, ( () => {
                    o = null
                }
                )),
                Qh())
            },
            i(e) {
                n || (Jh(o),
                n = !0)
            },
            o(e) {
                ef(o),
                n = !1
            },
            d(e) {
                e && Jg(t),
                o && o.d(e)
            }
        }
    }
    const zD = 900;
    function HD(e, n, o) {
        let i, r, s, a, l, c, d, u, p;
        Mg(e, hf, (e => o(1, i = e))),
        Lh("text_direction", Vt());
        let m, g, h, f, _, v = !1, y = !1, w = !1, b = !1, E = !1, {container: T} = n;
        Ch((async () => {
            I(),
            L(),
            await C(),
            o(4, m = i.selectedTargetLanguage),
            setTimeout(( () => {
                o(7, E = !0)
            }
            ), 200),
            window.addEventListener("popstate", $)
        }
        )),
        kh(( () => {
            window.removeEventListener("popstate", $)
        }
        ));
        const S = () => {
            r.innerText = s.innerText,
            r.innerHTML = vt(s.innerHTML),
            d.innerText = c,
            o(13, y = !1)
        }
          , x = e => {
            d && (e ? d.classList.add("deepl-gmail-loading-skeleton") : d.classList.remove("deepl-gmail-loading-skeleton"))
        }
          , $ = () => {
            document.querySelectorAll(wD.HTML_TAG_NAME).forEach((e => {
                e.cleanupDOM,
                e.remove()
            }
            ))
        }
          , C = async () => {
            if (!a)
                return;
            if (u = await Wt(a),
            o(6, f = Ut(u)),
            !f)
                return;
            const e = Ht(Bt(u));
            o(5, h = e)
        }
          , k = async () => {
            const e = `<a href="https://www.deepl.com/pro" target="_blank">${chrome.i18n.getMessage("gmail_forwarding_link")}</a>`;
            let t;
            const n = vt(r.innerHTML);
            if (v)
                t = n;
            else {
                t = `${n}<br>${`<p style="text-align: center;">${chrome.i18n.getMessage("gmail_forwarding_title")} ${e}</p>`}`
            }
            const i = (new DOMParser).parseFromString(t, "text/html")
              , s = {
                html: t,
                text: o_(i.body)
            }
              , a = document.querySelector("[contenteditable='true']");
            a.focus(),
            setTimeout(( () => {
                a.focus(),
                y_(a, s, !1),
                o(14, b = !1)
            }
            ), 500)
        }
          , I = () => {
            const e = Array.from(T.children).filter((e => "div" === e.tagName.toLowerCase()));
            if (3 !== e.length)
                return;
            const t = e[1];
            if (!t)
                return;
            const n = Array.from(t.children).filter((e => "div" === e.tagName.toLowerCase()));
            if (!n || !n.length)
                return;
            const o = n[2];
            o && (s = o.cloneNode(!0),
            r = o,
            a = o.innerText)
        }
          , L = () => {
            const e = document.querySelector("[data-thread-perm-id]");
            e && (d = e,
            l = e.innerText,
            c = e.innerText)
        }
        ;
        return e.$$set = e => {
            "container"in e && o(12, T = e.container)
        }
        ,
        e.$$.update = () => {
            24577 & e.$$.dirty[0] && o(2, p = y && !w && !b),
            2 & e.$$.dirty[0] && o(3, v = it(i, Ee.TRANSLATOR))
        }
        ,
        [w, i, p, v, m, h, f, E, _, S, async () => {
            if (!r)
                return;
            const {domElements: e, strings: n, cloneContainer: i} = kI(r)
              , s = n.reduce(( (e, t) => e + t.length), 0);
            if (!v && s > dD)
                return t({
                    action: "dlTrackGmailCharLimitReached",
                    payload: {
                        gmailActionType: fx(Ue.READING_VIEW_TRANSLATE)
                    }
                }),
                g = wD.createElement(),
                g.createDOM({
                    onCloseCharLimitPopup: $
                }),
                void document.body.appendChild(g);
            o(0, w = !0);
            const a = n.map((e => ({
                text: e
            })))
              , c = [{
                text: l
            }]
              , u = AI(a.map((e => e.text)));
            (e => {
                if (!e)
                    return;
                const {height: t} = e.getBoundingClientRect()
                  , n = Math.floor(t / 20)
                  , o = [];
                for (let e = 0; e < n; e++)
                    o.push(`<div style="width: ${i = 35,
                    r = 99,
                    Math.floor(Math.random() * (r - i + 1)) + i}%" class="deepl-gmail-loading-skeleton">line</div>`);
                var i, r;
                e.innerHTML = vt(o.join(""))
            }
            )(r),
            x(!0);
            try {
                let[n,s] = await Promise.all([t({
                    action: "dlRequestGmailReceivedEmailTranslation",
                    payload: {
                        targetLang: m,
                        sourceLang: h,
                        requests: u.simplifiedHtml.map((e => ({
                            text: e
                        }))),
                        domainName: window.location.hostname
                    }
                }), t({
                    action: "dlRequestGmailReceivedEmailTranslation",
                    payload: {
                        targetLang: m,
                        sourceLang: h,
                        requests: c,
                        domainName: window.location.hostname
                    }
                })]);
                if (n = n.map((e => ({
                    ...e,
                    text: RI(u.map, e.text),
                    texts: e.texts.map((e => RI(u.map, e)))
                }))),
                yT({
                    strings: n[0]?.texts,
                    domElements: e
                }),
                r.innerText = i.innerText,
                r.innerHTML = vt(i.innerHTML),
                x(!1),
                s[0]?.text) {
                    const e = s[0]?.text;
                    l = e,
                    d.innerText = e
                }
                o(0, w = !1),
                o(13, y = !0)
            } catch (e) {
                (e => {
                    Hw.update({
                        error: e.message ? e.message : e
                    })
                }
                )(e),
                o(0, w = !1),
                S()
            }
        }
        , () => {
            o(14, b = !0);
            if (!fP())
                return void o(14, b = !1);
            const e = _P();
            e ? (e.scrollIntoView(),
            setTimeout(( () => {
                gP(e),
                hP("[contenteditable='true']", k)
            }
            ), 300)) : o(14, b = !1)
        }
        , T, y, b, e => {
            o(5, h = e.detail.selectedOption.value)
        }
        , e => {
            o(4, m = e.detail.selectedOption.value)
        }
        , function() {
            _ = this.offsetWidth,
            o(8, _)
        }
        ]
    }
    class jD extends pf {
        constructor(e) {
            super(),
            uf(this, e, HD, FD, Ag, {
                container: 12
            }, null, [-1, -1])
        }
    }
    class GD {
        static HTML_TAG_NAME = "deepl-gmail-translate-email-toolbar";
        static createElement = (e=document) => {
            const t = e.createElement(GD.HTML_TAG_NAME)
              , n = new GD(t);
            return t.createDOM = n.createDOM,
            t.cleanupDOM = n.cleanupDOM,
            t
        }
        ;
        constructor(e) {
            this.domElement = e,
            this.domElement.shadow = this.domElement.attachShadow({
                mode: "open"
            }),
            this.domElement.shadowContainer = document.createElement("div"),
            this.domElement.container = document.createElement("div"),
            this.mainComponent;
            const t = document.createElement("link");
            t.setAttribute("rel", "stylesheet"),
            t.setAttribute("href", chrome.runtime.getURL("build/content.css")),
            this.domElement.shadow.appendChild(t),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer),
            this.domElement.shadowRoot.addEventListener("mouseup", (e => {
                e.stopPropagation(),
                e.stopImmediatePropagation()
            }
            )),
            this.domElement.shadowRoot.addEventListener("mousedown", (e => {
                e.stopPropagation(),
                e.stopImmediatePropagation()
            }
            ))
        }
        createDOM = ({container: e}) => {
            this.mainComponent = new jD({
                target: this.domElement.shadowContainer,
                props: {
                    container: e
                }
            })
        }
        ;
        cleanupDOM() {
            this.shadowContainer.remove(),
            this.mainComponent && this.mainComponent.$destroy()
        }
    }
    function qD(e) {
        let t;
        return {
            c() {
                t = th("div"),
                ch(t, "class", "dot svelte-o9amr0")
            },
            m(e, n) {
                Qg(e, t, n)
            },
            d(e) {
                e && Jg(t)
            }
        }
    }
    function VD(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m = !e[0].wasGmailOnboardingShown && YD();
        return c = new LR({
            props: {
                checked: e[0].isGmailEnabled
            }
        }),
        c.$on("change", e[6]),
        {
            c() {
                t = th("div"),
                n = th("div"),
                m && m.c(),
                o = ih(),
                i = th("div"),
                r = th("div"),
                s = th("div"),
                s.textContent = `${chrome.i18n.getMessage("gmail_onboarding_toggle")}`,
                a = ih(),
                l = th("div"),
                lf(c.$$.fragment),
                ch(n, "class", "svelte-o9amr0"),
                fh(n, "content", !e[0].wasGmailOnboardingShown),
                ch(s, "class", "switch-content svelte-o9amr0"),
                ch(l, "class", "switch"),
                ch(r, "class", "switch-container svelte-o9amr0"),
                fh(r, "topBorder", !e[0].wasGmailOnboardingShown),
                ch(i, "class", "footer"),
                ch(t, "class", "onboarding-popup svelte-o9amr0")
            },
            m(g, h) {
                Qg(g, t, h),
                Kg(t, n),
                m && m.m(n, null),
                Kg(t, o),
                Kg(t, i),
                Kg(i, r),
                Kg(r, s),
                Kg(r, a),
                Kg(r, l),
                cf(c, l, null),
                d = !0,
                u || (p = [Fg(S_.call(null, t, {
                    isShadow: !0,
                    exceptions: ["#dl-gmail-settings-icon"]
                })), sh(t, "click_outside", e[7])],
                u = !0)
            },
            p(e, t) {
                e[0].wasGmailOnboardingShown ? m && (Xh(),
                ef(m, 1, 1, ( () => {
                    m = null
                }
                )),
                Qh()) : m ? (m.p(e, t),
                1 & t && Jh(m, 1)) : (m = YD(),
                m.c(),
                Jh(m, 1),
                m.m(n, null)),
                (!d || 1 & t) && fh(n, "content", !e[0].wasGmailOnboardingShown);
                const o = {};
                1 & t && (o.checked = e[0].isGmailEnabled),
                c.$set(o),
                (!d || 1 & t) && fh(r, "topBorder", !e[0].wasGmailOnboardingShown)
            },
            i(e) {
                d || (Jh(m),
                Jh(c.$$.fragment, e),
                d = !0)
            },
            o(e) {
                ef(m),
                ef(c.$$.fragment, e),
                d = !1
            },
            d(e) {
                e && Jg(t),
                m && m.d(),
                df(c),
                u = !1,
                Ig(p)
            }
        }
    }
    function YD(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h, f, _, v, y;
        return s = new sb({
            props: {
                width: "16px",
                height: "16px",
                padding: "3px 0 0 0"
            }
        }),
        u = new sb({
            props: {
                width: "16px",
                height: "16px",
                padding: "3px 0 0 0"
            }
        }),
        f = new sb({
            props: {
                width: "16px",
                height: "16px",
                padding: "3px 0 0 0"
            }
        }),
        {
            c() {
                t = th("div"),
                n = th("p"),
                n.textContent = `${chrome.i18n.getMessage("gmail_onboarding_title")}`,
                o = ih(),
                i = th("div"),
                r = th("div"),
                lf(s.$$.fragment),
                a = ih(),
                l = th("div"),
                l.textContent = `${chrome.i18n.getMessage("gmail_onboarding_body_1")}`,
                c = ih(),
                d = th("div"),
                lf(u.$$.fragment),
                p = ih(),
                m = th("div"),
                m.textContent = `${chrome.i18n.getMessage("gmail_onboarding_body_2")}`,
                g = ih(),
                h = th("div"),
                lf(f.$$.fragment),
                _ = ih(),
                v = th("div"),
                v.textContent = `${chrome.i18n.getMessage("gmail_onboarding_body_3")}`,
                ch(n, "class", "svelte-o9amr0"),
                ch(t, "class", "title svelte-o9amr0"),
                ch(l, "class", "copy-text svelte-o9amr0"),
                ch(r, "class", "copy svelte-o9amr0"),
                ch(m, "class", "copy-text svelte-o9amr0"),
                ch(d, "class", "copy svelte-o9amr0"),
                ch(v, "class", "copy-text svelte-o9amr0"),
                ch(h, "class", "copy svelte-o9amr0"),
                ch(i, "class", "body svelte-o9amr0")
            },
            m(e, w) {
                Qg(e, t, w),
                Kg(t, n),
                Qg(e, o, w),
                Qg(e, i, w),
                Kg(i, r),
                cf(s, r, null),
                Kg(r, a),
                Kg(r, l),
                Kg(i, c),
                Kg(i, d),
                cf(u, d, null),
                Kg(d, p),
                Kg(d, m),
                Kg(i, g),
                Kg(i, h),
                cf(f, h, null),
                Kg(h, _),
                Kg(h, v),
                y = !0
            },
            p: xg,
            i(e) {
                y || (Jh(s.$$.fragment, e),
                Jh(u.$$.fragment, e),
                Jh(f.$$.fragment, e),
                y = !0)
            },
            o(e) {
                ef(s.$$.fragment, e),
                ef(u.$$.fragment, e),
                ef(f.$$.fragment, e),
                y = !1
            },
            d(e) {
                e && (Jg(t),
                Jg(o),
                Jg(i)),
                df(s),
                df(u),
                df(f)
            }
        }
    }
    function KD(e) {
        let t, n, o, i, r, s, a, l = e[2] && qD(), c = e[1] && VD(e);
        return {
            c() {
                t = th("div"),
                n = th("div"),
                o = ih(),
                l && l.c(),
                i = ih(),
                c && c.c(),
                ch(n, "class", "icon svelte-o9amr0"),
                ch(n, "id", "dl-gmail-settings-icon"),
                fh(n, "notification", e[2]),
                fh(n, "isOnboardingPopupOpen", e[1]),
                fh(n, "enabled", e[0].isGmailEnabled),
                ch(t, "class", "deepl-gmail-header-toolbar svelte-o9amr0"),
                ch(t, "dir", Vt())
            },
            m(d, u) {
                Qg(d, t, u),
                Kg(t, n),
                Kg(t, o),
                l && l.m(t, null),
                Kg(t, i),
                c && c.m(t, null),
                r = !0,
                s || (a = sh(n, "click", lh(ah(e[5]))),
                s = !0)
            },
            p(e, [o]) {
                (!r || 4 & o) && fh(n, "notification", e[2]),
                (!r || 2 & o) && fh(n, "isOnboardingPopupOpen", e[1]),
                (!r || 1 & o) && fh(n, "enabled", e[0].isGmailEnabled),
                e[2] ? l || (l = qD(),
                l.c(),
                l.m(t, i)) : l && (l.d(1),
                l = null),
                e[1] ? c ? (c.p(e, o),
                2 & o && Jh(c, 1)) : (c = VD(e),
                c.c(),
                Jh(c, 1),
                c.m(t, null)) : c && (Xh(),
                ef(c, 1, 1, ( () => {
                    c = null
                }
                )),
                Qh())
            },
            i(e) {
                r || (Jh(c),
                r = !0)
            },
            o(e) {
                ef(c),
                r = !1
            },
            d(e) {
                e && Jg(t),
                l && l.d(),
                c && c.d(),
                s = !1,
                a()
            }
        }
    }
    function ZD(e, n, o) {
        let i;
        Mg(e, hf, (e => o(0, i = e))),
        Lh("text_direction", Vt());
        let r = !1
          , s = !1;
        const a = async e => {
            o(1, r = e),
            e || i.wasGmailOnboardingShown || await hf.set({
                wasGmailOnboardingShown: !0
            }),
            t({
                action: "dlTrackUILocationClicked",
                payload: W.gmailOnboardingIcon
            }),
            e && t({
                action: "dlTrackOnboardingModalShown",
                payload: {
                    nicheIntegration: re.gmail
                }
            })
        }
          , l = async e => {
            await hf.set({
                isGmailEnabled: e
            }),
            t({
                action: "dlTrackCustomizationEnabledEvent",
                payload: {
                    nicheIntegration: re.gmail,
                    uiLocation: W.gmailOnboardingPopup,
                    customizationEnabled: e
                }
            })
        }
        ;
        return e.$$.update = () => {
            1 & e.$$.dirty && o(2, s = !i.wasGmailOnboardingShown)
        }
        ,
        [i, r, s, a, l, () => {
            a(!r)
        }
        , e => l(e.detail.checked), () => {
            a(!1)
        }
        ]
    }
    class XD extends pf {
        constructor(e) {
            super(),
            uf(this, e, ZD, KD, Ag, {})
        }
    }
    class QD {
        static HTML_TAG_NAME = "deepl-gmail-header-toolbar";
        static createElement = (e=document) => {
            const t = e.createElement(QD.HTML_TAG_NAME)
              , n = new QD(t);
            return t.createDOM = n.createDOM,
            t.cleanupDOM = n.cleanupDOM,
            t
        }
        ;
        constructor(e) {
            this.domElement = e,
            this.domElement.shadow = this.domElement.attachShadow({
                mode: "open"
            }),
            this.domElement.shadowContainer = document.createElement("div"),
            this.mainComponent;
            const t = document.createElement("link");
            t.setAttribute("rel", "stylesheet"),
            t.setAttribute("href", chrome.runtime.getURL("build/content.css")),
            this.domElement.shadow.appendChild(t),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer),
            this.domElement.shadowRoot.addEventListener("mouseup", (e => {
                e.stopPropagation(),
                e.stopImmediatePropagation()
            }
            )),
            this.domElement.shadowRoot.addEventListener("mousedown", (e => {
                e.stopPropagation(),
                e.stopImmediatePropagation()
            }
            ))
        }
        createDOM = () => {
            this.domElement.mainComponent = new XD({
                target: this.domElement.shadowContainer
            })
        }
        ;
        cleanupDOM = () => {
            this.domElement.shadowContainer.remove(),
            this.domElement.mainComponent && this.domElement.mainComponent.$destroy()
        }
    }
    function JD(e) {
        let t;
        return {
            c() {
                t = th("div"),
                ch(t, "class", "dl-gmail"),
                ch(t, "dir", Vt())
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function eP(e, t, n) {
        let o, i, r, s, a;
        Mg(e, hf, (e => n(5, o = e))),
        Lh("text_direction", Vt());
        let l = !1;
        const c = () => {
            p(),
            o.isGmailEnabled ? d() : u()
        }
          , d = () => {
            m(),
            g()
        }
          , u = () => {
            const e = [wD.HTML_TAG_NAME, GD.HTML_TAG_NAME, OD.HTML_TAG_NAME];
            rP(e)
        }
          , p = () => {
            const e = "data-has-dl-icon"
              , t = document.querySelector("header");
            if (!t || "banner" !== t.getAttribute("role") || t.hasAttribute(e))
                return;
            const n = t.querySelector("[role='search']");
            if (!n)
                return;
            const o = n.parentNode;
            if (!o)
                return;
            const i = QD.createElement();
            o.insertAdjacentElement("afterend", i),
            i.createDOM(),
            t.setAttribute(e, !0)
        }
          , m = () => {
            if (sP()) {
                const e = aP();
                if (!e)
                    return;
                e.forEach((e => {
                    const t = dP(e);
                    if (!t || lP(e))
                        return;
                    const n = t.parentNode;
                    if (!n)
                        return;
                    const o = GD.createElement();
                    n.after(o),
                    o.createDOM({
                        container: e
                    })
                }
                ))
            }
        }
          , g = () => {
            const e = document.activeElement;
            if (!e)
                return;
            const t = e.hasAttribute("contenteditable")
              , n = cP(e)
              , o = e.hasAttribute(cD)
              , i = e !== s
              , r = !a && (!t || n || i)
              , c = t && (!o || i) && !n;
            !r || c || l ? (l = !1,
            r && f(),
            c && (f(),
            h(e))) : l = !0
        }
          , h = e => {
            const t = OD.createElement();
            r = t,
            s = e,
            e.setAttribute(cD, "true"),
            document.body.appendChild(t);
            const n = (e => {
                const t = function(e) {
                    let t = e;
                    for (; null !== t; ) {
                        if ("dialog" === t.getAttribute("role"))
                            return t;
                        t = t.parentElement
                    }
                    return null
                }(e);
                return t ? t.querySelector('input[name="subjectbox"]') : null
            }
            )(e);
            t.createDOM({
                container: e,
                subjectInput: n,
                updateLockStatus: _
            })
        }
          , f = () => {
            r && r.cleanupDOM();
            const e = Array.from(document.querySelectorAll(OD.HTML_TAG_NAME));
            for (const t of e)
                t.remove();
            document.querySelectorAll(`[contenteditable][${cD}="true"]`).forEach((e => e.removeAttribute(cD))),
            r = null
        }
          , _ = e => {
            a = e
        }
          , v = async e => {
            if ("dlChangeActiveTabStatus" === e.action)
                e.payload.isActive ? y() : w();
            return !0
        }
          , y = () => {
            i && clearInterval(i),
            i = setInterval(c, 800)
        }
          , w = () => {
            clearInterval(i)
        }
        ;
        return Ch(( () => {
            y(),
            chrome.runtime.onMessage.addListener(v)
        }
        )),
        kh(( () => {
            u(),
            i && w(),
            chrome.runtime.onMessage.removeListener(v)
        }
        )),
        []
    }
    class tP extends pf {
        constructor(e) {
            super(),
            uf(this, e, eP, JD, Ag, {})
        }
    }
    class nP {
        static HTML_TAG_NAME = "deepl-gmail-controller";
        static createElement = (e=document) => {
            const t = e.createElement(nP.HTML_TAG_NAME)
              , n = new nP(t);
            return t.createDOM = n.createDOM,
            t.cleanupDOM = n.cleanupDOM,
            t.showOnboarding = n.showOnboarding,
            t
        }
        ;
        constructor(e) {
            this.domElement = e,
            this.domElement.shadow = this.domElement.attachShadow({
                mode: "open"
            }),
            this.domElement.shadowContainer = document.createElement("div"),
            this.mainComponent;
            const t = document.createElement("link");
            t.setAttribute("rel", "stylesheet"),
            t.setAttribute("href", chrome.runtime.getURL("build/content.css")),
            this.domElement.shadow.appendChild(t),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer),
            this.domElement.shadowRoot.addEventListener("mouseup", (e => {
                e.stopPropagation(),
                e.stopImmediatePropagation()
            }
            )),
            this.domElement.shadowRoot.addEventListener("mousedown", (e => {
                e.stopPropagation(),
                e.stopImmediatePropagation()
            }
            ))
        }
        createDOM = () => {
            this.domElement.mainComponent = new tP({
                target: this.domElement.shadowContainer,
                props: {
                    onClose: this.domElement.cleanupDOM,
                    controller: this
                }
            })
        }
        ;
        cleanupDOM = () => {
            this.domElement.shadowContainer.remove(),
            this.domElement.mainComponent && this.domElement.mainComponent.$destroy()
        }
        ;
        showOnboarding = () => {
            this.domElement.mainComponent.showOnboarding()
        }
    }
    const {scope: oP} = yE()
      , iP = () => document.querySelector(nP.HTML_TAG_NAME)
      , rP = e => {
        try {
            for (const t of e)
                if (t) {
                    const e = Array.from(document.getElementsByTagName(t));
                    for (const t of e)
                        t.cleanupDOM && t.cleanupDOM(),
                        t.remove()
                }
        } catch (e) {
            hn() && console.error(e),
            wf(e, oP)
        }
    }
      , sP = () => document.querySelectorAll("[data-message-id]").length > 0
      , aP = () => document.querySelectorAll("[data-message-id]")
      , lP = e => !!e && !!e.querySelector(GD.HTML_TAG_NAME)
      , cP = e => {
        const {bottom: t, right: n} = e.getBoundingClientRect()
          , o = t - 30
          , i = n - 30;
        let r = !1;
        return document.querySelectorAll('[role="dialog"]').forEach((t => {
            const n = (s = i,
            a = o,
            l = t.getBoundingClientRect(),
            s >= l.left && s <= l.right && a >= l.top && a <= l.bottom);
            var s, a, l;
            const c = t.contains(e);
            n && !c && (r = !0)
        }
        )),
        r
    }
      , dP = e => {
        if (e)
            return e.querySelector("table")
    }
      , uP = e => {
        const t = Ft()
          , n = t.filter((e => void 0 === e.regionalVariant)).map((e => ({
            value: e.value,
            label: `<strong>${e.value}</strong> - ${e.label}`,
            selectedOptionLabel: e.value
        })))
          , o = t.find((e => "EN-GB" === e.value))
          , i = t.find((e => "PT-PT" === e.value));
        return [...[...n, ...[{
            ...o,
            value: "EN",
            selectedOptionLabel: "EN",
            label: `<strong>EN</strong> - ${chrome.i18n.getMessage("supported_languages_EN")}`
        }, {
            ...i,
            value: "PT",
            selectedOptionLabel: "PT",
            label: `<strong>PT</strong> - ${chrome.i18n.getMessage("supported_languages_PT")}`
        }]].map((t => e && t.value === e.value ? {
            ...t,
            label: `${t.label} ${chrome.i18n.getMessage("gmail_language_detected")}`
        } : t))].sort(( (e, t) => e.value.localeCompare(t.value)))
    }
      , pP = e => {
        const t = e.getBoundingClientRect();
        return {
            x: t.left + t.width / 2,
            y: t.top + t.height / 2
        }
    }
      , mP = (e, t) => {
        const n = new MouseEvent("click",{
            view: window,
            bubbles: !0,
            cancelable: !0,
            clientX: e,
            clientY: t
        });
        document.elementFromPoint(e, t)?.dispatchEvent(n)
    }
      , gP = e => {
        const {x: t, y: n} = pP(e);
        mP(t, n)
    }
      , hP = (e, t) => {
        const n = document.body;
        new MutationObserver(( (o, i) => {
            for (const r of o)
                if ("childList" === r.type && n.querySelector(e)) {
                    i.disconnect(),
                    t(n.querySelector(e));
                    break
                }
        }
        )).observe(n, {
            childList: !0,
            subtree: !0
        })
    }
      , fP = () => {
        const e = document.querySelectorAll("[data-message-id]");
        for (const t of e) {
            const e = t.nextElementSibling;
            if (e && "DIV" === e.tagName)
                return e
        }
        return null
    }
      , _P = () => {
        const e = document.querySelectorAll('span[role="link"]');
        let t;
        for (let n = 0; n < e.length; n++) {
            const o = e[n]
              , i = o.previousElementSibling;
            if (i && "SPAN" === i.tagName && "link" === i.getAttribute("role")) {
                const e = o.parentElement
                  , n = e.querySelectorAll('span[role="link"]')
                  , i = Array.from(e.children).filter((e => e.matches("span")));
                2 !== (2 === n.length && i.length) && 3 !== (3 === n.length && i.length) || (t = o)
            }
        }
        return t
    }
    ;
    let vP, yP, wP, bP, EP, TP, SP, xP, $P, CP, kP, IP;
    const {scope: LP} = yE()
      , {deepl_inline_ui: AP} = P;
    function RP({websiteData: e, platformBehaviour: t=re.default, onRemove: n=( () => {}
    ), textProcessingMode: o, isInput: i=!1}) {
        try {
            let r;
            switch (MP(),
            IP = lD.createElement(),
            IP.platformBehaviour = t,
            IP.textProcessingMode = o,
            IP.style.zIndex = AP.z_index,
            document.documentElement.appendChild(IP),
            t) {
            case re.gdocs:
                r = Tt;
                break;
            case re.default:
            default:
                r = pT
            }
            IP.createDOM(r, ( () => MP(n)), e, i),
            Hw.update({
                isReviewTranslateWriteWindowInjected: !0
            })
        } catch (e) {
            hn() && console.error(e),
            wf(e, LP)
        }
    }
    function MP(e) {
        try {
            IP && (IP.cleanupDOM(),
            Array.from(document.getElementsByTagName(lD.HTML_TAG_NAME), (e => e.remove())),
            Hw.update({
                isReviewTranslateWriteWindowInjected: !1
            }),
            yP = void 0,
            e && e())
        } catch (e) {
            hn() && console.error(e),
            wf(e, LP)
        }
    }
    function OP({websiteData: e, platformBehaviour: t=re.default, textProcessingMode: n=le.translate}) {
        try {
            let o;
            switch (NP(),
            yP = kk.createElement(),
            yP.platformBehaviour = t,
            yP.textProcessingMode = n,
            yP.style.zIndex = AP.z_index,
            document.documentElement.appendChild(yP),
            t) {
            case re.gdocs:
                o = Tt;
                break;
            case re.default:
            default:
                o = pT
            }
            yP.createDOM(o, NP, e),
            Hw.update({
                isTranslationTooltipInjected: !0
            })
        } catch (e) {
            hn() && console.error(e),
            wf(e, LP)
        }
    }
    function NP() {
        try {
            yP && (yP.cleanupDOM(),
            Array.from(document.getElementsByTagName(kk.HTML_TAG_NAME), (e => e.remove())),
            Hw.update({
                isTranslationTooltipInjected: !1
            }),
            yP = void 0)
        } catch (e) {
            hn() && console.error(e),
            wf(e, LP)
        }
    }
    function DP(e=re.default) {
        try {
            if (wP)
                return;
            let t;
            switch (wP = I$.createElement(),
            wP.style.zIndex = AP.z_index,
            document.documentElement.appendChild(wP),
            e) {
            case re.gdocs:
                t = "deepl-gdocs-icon";
                break;
            case re.default:
            default:
                t = SI.HTML_TAG_NAME
            }
            const n = function(e) {
                if (!e)
                    return;
                const t = e.getBoundingClientRect()
                  , n = document.body.parentNode.getBoundingClientRect()
                  , {top: o, left: i, right: r, bottom: s, height: a, width: l} = t;
                return {
                    x: i - n.left,
                    y: s - n.top,
                    top: o,
                    bottom: s,
                    right: n.width - r,
                    left: i + window.pageXOffset,
                    width: l,
                    height: a
                }
            }(document.querySelector(t).shadowRoot.querySelector('[data-qa="deepl-inline-translate-menu-icon"]'));
            wP.createDOM(n, PP),
            Hw.update({
                isInlineTranslateSettingsTooltipInjected: !0
            }),
            x_(( () => {
                PP()
            }
            ))
        } catch (e) {
            hn() && console.error(e),
            wf(e, LP)
        }
    }
    function PP() {
        try {
            if (!wP)
                return;
            wP.cleanupDOM(),
            Array.from(document.getElementsByTagName("deepl-inline-translate-settings-tooltip"), (e => e.remove())),
            Hw.update({
                isInlineTranslateSettingsTooltipInjected: !1
            }),
            wP = void 0
        } catch (e) {
            hn() && console.error(e),
            wf(e, LP)
        }
    }
    function UP() {
        try {
            if (document.querySelector(CR.HTML_TAG_NAME))
                return;
            vP = CR.createElement(),
            document.documentElement.appendChild(vP),
            vP.createDOM(),
            document.addEventListener("click", BP),
            x_(( () => {
                BP()
            }
            ))
        } catch (e) {
            hn() && console.error(e),
            wf(e, LP)
        }
    }
    function BP() {
        try {
            vP && (vP.cleanupDOM(),
            Array.from(document.getElementsByTagName(CR.HTML_TAG_NAME), (e => e.remove())),
            vP = void 0,
            document.removeEventListener("click", BP))
        } catch (e) {
            hn() && console.error(e),
            wf(e, LP)
        }
    }
    function WP() {
        try {
            if (document.querySelector(jR.HTML_TAG_NAME))
                return;
            xP = jR.createElement(),
            document.documentElement.appendChild(xP),
            xP.createDOM(),
            x_(( () => {
                zP()
            }
            ))
        } catch (e) {
            hn() && console.error(e),
            wf(e, LP)
        }
    }
    function FP() {
        try {
            if (document.querySelector(TM.HTML_TAG_NAME))
                return;
            $P = TM.createElement(),
            document.documentElement.appendChild($P),
            $P.createDOM(),
            x_(( () => {
                HP()
            }
            ))
        } catch (e) {
            hn() && console.error(e),
            wf(e, LP)
        }
    }
    function zP() {
        try {
            xP && (xP.cleanupDOM(),
            Array.from(document.getElementsByTagName(jR.HTML_TAG_NAME), (e => e.remove())),
            xP = void 0,
            document.removeEventListener("click", zP))
        } catch (e) {
            hn() && console.error(e),
            wf(e, LP)
        }
    }
    function HP() {
        try {
            $P && ($P.cleanupDOM(),
            Array.from(document.getElementsByTagName(TM.HTML_TAG_NAME), (e => e.remove())),
            $P = void 0,
            document.removeEventListener("click", HP))
        } catch (e) {
            hn() && console.error(e),
            wf(e, LP)
        }
    }
    function jP() {
        try {
            if (EE())
                return;
            CP = TE(),
            document.documentElement.appendChild(CP),
            CP.createDOM(),
            x_(( () => {
                GP()
            }
            ))
        } catch (e) {
            hn() && console.error(e),
            wf(e, LP)
        }
    }
    function GP() {
        try {
            CP && (CP.cleanupDOM(),
            Array.from(document.getElementsByTagName("deepl-zendesk-controller"), (e => e.remove())),
            CP = void 0,
            document.removeEventListener("click", GP))
        } catch (e) {
            hn() && console.error(e),
            wf(e, LP)
        }
    }
    async function qP() {
        try {
            const e = await Ux();
            if (document.querySelector(GU.HTML_TAG_NAME))
                return;
            TP = GU.createElement(),
            document.body.appendChild(TP),
            TP.createDOM({
                useIconForShortcutOnly: e
            }),
            x_(( () => {
                KP()
            }
            ))
        } catch (e) {
            hn() && console.error(e),
            wf(e, LP)
        }
    }
    function VP() {
        try {
            if (iP())
                return;
            kP = nP.createElement(),
            document.documentElement.appendChild(kP),
            kP.createDOM(),
            x_(( () => {
                YP()
            }
            ))
        } catch (e) {
            hn() && console.error(e),
            wf(e, LP)
        }
    }
    function YP() {
        try {
            kP && (kP.cleanupDOM(),
            Array.from(document.getElementsByTagName(nP.HTML_TAG_NAME), (e => e.remove())),
            kP = void 0,
            document.removeEventListener("click", YP))
        } catch (e) {
            hn() && console.error(e),
            wf(e, LP)
        }
    }
    function KP() {
        try {
            if (TP) {
                TP.cleanupDOM();
                const e = Array.from(document.querySelectorAll(GU.HTML_TAG_NAME));
                for (const t of e)
                    t.remove();
                TP = void 0,
                document.removeEventListener("click", KP)
            }
        } catch (e) {
            hn() && console.error(e),
            wf(e, LP)
        }
    }
    async function ZP(e) {
        try {
            if (!bP)
                return;
            bP.cleanupDOM(),
            Array.from(document.getElementsByTagName("deepl-inline-trigger"), (e => e.remove())),
            bP = void 0;
            if (!(await Ix(["isInlineHighlighterShown"])).isInlineHighlighterShown && !e.target.contains(bP)) {
                try {
                    t({
                        action: "dltrackCloseInlineHighlighter",
                        payload: {
                            trigger: ie.outside_click
                        }
                    })
                } catch (e) {
                    console.error(e)
                }
                hf.set({
                    isInlineHighlighterShown: !0
                })
            }
        } catch (e) {
            hn() && console.error(e),
            wf(e, LP)
        }
    }
    async function XP() {
        try {
            if (!EP)
                return;
            EP.cleanupDOM(),
            Array.from(document.getElementsByTagName("deepl-input-selection-trigger"), (e => e.remove())),
            EP = void 0
        } catch (e) {
            hn() && console.error(e),
            wf(e.message)
        }
    }
    function QP(e, t) {
        ZP();
        try {
            bP = SI.createElement(),
            bP.style.zIndex = AP.z_index,
            document.documentElement.appendChild(bP),
            bP.createDOM(e, t),
            x_(( () => {
                ZP()
            }
            ))
        } catch (e) {
            hn() && console.error(e),
            wf(e, LP)
        }
    }
    async function JP(e, t) {
        await XP();
        try {
            if (!await Bx() && (( () => {
                const e = window.getSelection()?.toString();
                return e?.length
            }
            )() > 1500 || (e => {
                let t = e.value?.substring(e.selectionStart, e.selectionEnd);
                return t?.length
            }
            )(e) > 1500))
                return;
            EP = FL.createElement(),
            EP.style.zIndex = AP.z_index,
            document.documentElement.appendChild(EP),
            EP.createDOM(e, t);
            const n = async () => {
                await XP()
            }
            ;
            e.addEventListener("input", n),
            x_((async () => {
                await XP(),
                e.removeEventListener("input", n)
            }
            ))
        } catch (e) {
            hn() && console.error(e),
            wf(e.message)
        }
    }
    async function eU(e) {
        const t = async t => {
            requestAnimationFrame((async () => {
                if (!t || !t.target)
                    return;
                const n = window.getSelection();
                if (!n.toString().trim())
                    return;
                if (2 === t.button)
                    return;
                const o = "TEXTAREA" === t.target.tagName
                  , i = e => {
                    if (!e)
                        return !1;
                    const t = e.childNodes;
                    for (let e = 0; e < t.length; e++)
                        if (t[e].isContentEditable || "TEXTAREA" === t[e].tagName)
                            return t[e];
                    return !1
                }
                ;
                if (n.isCollapsed || n.anchorNode?.parentNode?.isContentEditable) {
                    if (n.anchorNode?.parentNode?.isContentEditable || o || i(n.anchorNode)) {
                        let e = {
                            clientX: t.clientX || 0,
                            pageY: t.pageY || 0,
                            detail: t?.detail || 0,
                            isOutsideOfView: oU(t)
                        };
                        if (n.anchorNode?.parentNode?.isContentEditable)
                            await JP(n.anchorNode.parentNode, e);
                        else if (o)
                            await JP(t.target, e);
                        else {
                            const t = i(n.anchorNode);
                            await JP(t, e)
                        }
                    }
                } else {
                    const o = n.getRangeAt(0)?.commonAncestorContainer;
                    if (!o.contains(t.target) && !t.target.contains(o))
                        return;
                    let i = {
                        clientX: t.clientX || 0,
                        pageY: t.pageY || 0,
                        detail: t?.detail || 0,
                        isOutsideOfView: oU(t)
                    };
                    QP(e, i)
                }
            }
            ))
        }
          , n = async () => {
            window.getSelection().toString().trim() ? await t() : (ZP(),
            XP())
        }
          , o = e => {
            "Escape" === e.key && XP()
        }
        ;
        document.addEventListener("mouseup", t),
        document.addEventListener("mousedown", ZP),
        document.addEventListener("selectionchange", n),
        document.addEventListener("keydown", o),
        x_(( () => {
            document.removeEventListener("mouseup", t),
            document.removeEventListener("mousedown", ZP),
            document.removeEventListener("selectionchange", n),
            document.removeEventListener("keydown", o)
        }
        ))
    }
    function tU(e, t) {
        try {
            SP = gA.createElement(),
            SP.style.zIndex = AP.z_index,
            document.documentElement.appendChild(SP),
            SP.createDOM(e, t),
            x_(( () => {
                SP.cleanupDOM()
            }
            ))
        } catch (e) {
            hn() && console.error(e),
            wf(e, LP)
        }
    }
    const nU = (e=oe.initial) => {
        const t = WM.createElement();
        document.documentElement.appendChild(t),
        t.createDOM({
            reviewStage: e
        }),
        x_(( () => {
            t.cleanupDOM()
        }
        ))
    }
    ;
    function oU({clientX: e=0, pageY: t=0}={}) {
        const n = window.innerWidth || document.documentElement.innerWidth
          , o = window.scrollHeight || document.documentElement.scrollHeight;
        return e < 0 || e >= n || (t < 0 || t >= o)
    }
    function iU(e) {
        switch (e) {
        case "web.whatsapp.com":
            rS();
            break;
        case "twitter.com":
        case "tweetdeck.twitter.com":
        case "x.com":
            $S();
            break;
        case "www.linkedin.com":
            qS();
            break;
        case "www.youtube.com":
            ux()
        }
    }
    async function rU(e) {
        const t = e.split(".")
          , n = t.filter(( (e, n) => n === t.length - 1 || n === t.length - 2)).join(".");
        if ("deepl.com" === n) {
            document.body.dataset.dlBrowserExtensionPresent = "true";
            try {
                const {requireLogin: e, suggestIdp: t} = await chrome.storage.managed.get(["requireLogin", "suggestIdp"]);
                e && (document.body.dataset.dlBrowserExtensionRequireLogin = "true"),
                t && (document.body.dataset.dlBrowserExtensionSuggestIdp = t)
            } catch {}
        }
    }
    async function sU(e) {
        const t = await Ix(["shouldDisplayFeedbackPopup"]);
        if ("https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi" === e)
            t.shouldDisplayFeedbackPopup && (hf.set({
                shouldDisplayFeedbackPopup: !1
            }),
            nU(oe.feedback))
    }
    function aU(e, t) {
        if ("web.whatsapp.com" === t) {
            const t = document.documentElement.querySelector("#side");
            return !t || !t.contains(e)
        }
        return !0
    }
    function lU(e, t) {
        if ("web.whatsapp.com" === t) {
            const t = document.documentElement.querySelector("#side");
            if (t && t.contains(e))
                return !1
        }
        return !0
    }
    const cU = () => {
        const e = new URL(window.location.href);
        return "https:" === e.protocol && "chatgpt.com" === e.hostname
    }
      , dU = [];
    window.onerror = function(e) {
        /ResizeObserver/gm.test(e) && dU.forEach((e => e.resize.disconnect()))
    }
    ;
    const {scope: uU} = yE();
    const pU = e => "true" === e.contentEditable || "TEXTAREA" === e.nodeName && (e.rows > 1 || cU());
    const mU = ({inputArea: e}) => {
        const t = _U(e);
        return {
            position: "absolute",
            top: t.top,
            left: t.left,
            right: t.right,
            width: t.width,
            height: t.height,
            isLanguageToolsPresent: !!document.querySelector("lt-toolbar"),
            isGrammarlyPresent: !!document.querySelector("grammarly-extension"),
            isChatGPTPresent: cU()
        }
    }
      , gU = ({inputArea: e}) => {
        const t = [];
        if (e)
            for (let n = e.parentElement; null !== n; n = n.parentElement)
                hU(n) && t.push(n);
        return t
    }
      , hU = e => {
        const t = window.getComputedStyle(e)
          , n = t.getPropertyValue("overflow-y")
          , o = t.getPropertyValue("overflow-x")
          , i = ["hidden", "scroll", "auto"];
        return i.includes(n) || i.includes(o)
    }
      , fU = (e, t) => {
        let n = {
            left: Math.max(e.left, t.left),
            right: Math.min(e.right, t.right),
            top: Math.max(e.top, t.top),
            bottom: Math.min(e.bottom, t.bottom)
        };
        return n.left >= n.right || n.top >= n.bottom ? null : n
    }
      , _U = e => {
        let t = e.getBoundingClientRect()
          , n = {
            left: t.left,
            right: t.right,
            bottom: t.bottom,
            top: t.top
        };
        const o = {
            top: 0,
            left: 0,
            right: 0,
            bottom: 0,
            width: 0,
            height: 0
        }
          , i = {
            top: 0,
            left: 0,
            right: window.innerWidth,
            bottom: window.innerHeight
        };
        for (let t = e.parentElement; null !== t && t !== e.ownerDocument.body; t = t.parentElement) {
            let e = t.getBoundingClientRect();
            const i = fU(n, e);
            if (i)
                n = i;
            else if (hU(t))
                return o
        }
        return n = fU(n, i),
        n ? {
            top: n.top,
            bottom: n.bottom,
            left: n.left,
            right: n.right,
            width: n.right - n.left,
            height: n.bottom - n.top
        } : o
    }
      , vU = [{
        domain: "zendesk.com",
        selectors: ['div[data-test-id="ticket-rich-text-editor"] [contenteditable="true"]'],
        uniqueDataAttributes: [{
            key: "testId",
            value: "ticket-rich-text-editor"
        }]
    }];
    function yU(e) {
        let t;
        return {
            c() {
                t = th("span"),
                ch(t, "class", "svelte-1opaki9")
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function wU(e) {
        let t;
        return {
            c() {
                t = th("span"),
                ch(t, "class", "svelte-1opaki9")
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function bU(e) {
        let t;
        return {
            c() {
                t = th("span"),
                ch(t, "class", "svelte-1opaki9")
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function EU(e) {
        let t;
        return {
            c() {
                t = th("span"),
                ch(t, "class", "svelte-1opaki9")
            },
            m(e, n) {
                Qg(e, t, n)
            },
            p: xg,
            d(e) {
                e && Jg(t)
            }
        }
    }
    function TU(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h, f, _, v, y;
        return o = new L_({
            props: {
                tooltip: chrome.i18n.getMessage("input_translation_tooltip_turnoff"),
                parentIsRTL: e[1],
                ignoreTextDirection: !0,
                $$slots: {
                    default: [yU]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        s = new L_({
            props: {
                tooltip: e[9],
                showProShield: it(e[3], Ee.WRITE),
                parentIsRTL: e[1],
                ignoreTextDirection: !0,
                $$slots: {
                    default: [wU]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        u = new L_({
            props: {
                tooltip: chrome.i18n.getMessage("input_translation_tooltip_select_target_lang"),
                parentIsRTL: e[1],
                ignoreTextDirection: !0,
                $$slots: {
                    default: [bU]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        g = new L_({
            props: {
                showProShield: it(e[3], Ee.TRANSLATOR),
                tooltip: e[7],
                parentIsRTL: e[1],
                ignoreTextDirection: !0,
                $$slots: {
                    default: [EU]
                },
                $$scope: {
                    ctx: e
                }
            }
        }),
        {
            c() {
                t = th("div"),
                n = th("div"),
                lf(o.$$.fragment),
                i = ih(),
                r = th("div"),
                lf(s.$$.fragment),
                a = ih(),
                l = th("div"),
                c = ih(),
                d = th("div"),
                lf(u.$$.fragment),
                p = ih(),
                m = th("div"),
                lf(g.$$.fragment),
                h = ih(),
                f = th("div"),
                ch(n, "class", "dl-icon-circle dl-on-off svelte-1opaki9"),
                ch(r, "class", "dl-icon-circle dl-improve svelte-1opaki9"),
                fh(r, "disabled", !e[8]),
                ch(l, "class", "spacer svelte-1opaki9"),
                ch(d, "class", "dl-icon-circle dl-settings svelte-1opaki9"),
                fh(d, "disabled", e[2]),
                ch(m, "class", "dl-icon-circle dl-icon svelte-1opaki9"),
                ch(m, "data-qa", "input-translation-icon"),
                fh(m, "disabled", e[2]),
                ch(f, "class", "dl-icon-circle dl-loading svelte-1opaki9"),
                ch(t, "class", "dl-input-icon svelte-1opaki9"),
                fh(t, "is-input-translation-disabled", e[10]),
                fh(t, "is-loading", e[6]),
                fh(t, "is-minimized", e[5])
            },
            m(w, b) {
                Qg(w, t, b),
                Kg(t, n),
                cf(o, n, null),
                Kg(t, i),
                Kg(t, r),
                cf(s, r, null),
                Kg(t, a),
                Kg(t, l),
                Kg(t, c),
                Kg(t, d),
                cf(u, d, null),
                Kg(t, p),
                Kg(t, m),
                cf(g, m, null),
                e[39](m),
                Kg(t, h),
                Kg(t, f),
                _ = !0,
                v || (y = [sh(n, "mousedown", lh(ah(e[30]))), sh(n, "mouseenter", e[31]), sh(n, "click", e[32]), sh(r, "mousedown", lh(ah(e[29]))), sh(r, "mouseenter", e[33]), sh(r, "click", e[34]), sh(d, "mousedown", lh(ah(e[28]))), sh(d, "mouseenter", e[35]), sh(d, "click", e[36]), sh(m, "mousedown", lh(ah(e[27]))), sh(m, "click", e[37]), sh(m, "mouseenter", e[38])],
                v = !0)
            },
            p(e, n) {
                const i = {};
                2 & n[0] && (i.parentIsRTL = e[1]),
                16384 & n[1] && (i.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                o.$set(i);
                const a = {};
                512 & n[0] && (a.tooltip = e[9]),
                8 & n[0] && (a.showProShield = it(e[3], Ee.WRITE)),
                2 & n[0] && (a.parentIsRTL = e[1]),
                16384 & n[1] && (a.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                s.$set(a),
                (!_ || 256 & n[0]) && fh(r, "disabled", !e[8]);
                const l = {};
                2 & n[0] && (l.parentIsRTL = e[1]),
                16384 & n[1] && (l.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                u.$set(l),
                (!_ || 4 & n[0]) && fh(d, "disabled", e[2]);
                const c = {};
                8 & n[0] && (c.showProShield = it(e[3], Ee.TRANSLATOR)),
                128 & n[0] && (c.tooltip = e[7]),
                2 & n[0] && (c.parentIsRTL = e[1]),
                16384 & n[1] && (c.$$scope = {
                    dirty: n,
                    ctx: e
                }),
                g.$set(c),
                (!_ || 4 & n[0]) && fh(m, "disabled", e[2]),
                (!_ || 1024 & n[0]) && fh(t, "is-input-translation-disabled", e[10]),
                (!_ || 64 & n[0]) && fh(t, "is-loading", e[6]),
                (!_ || 32 & n[0]) && fh(t, "is-minimized", e[5])
            },
            i(e) {
                _ || (Jh(o.$$.fragment, e),
                Jh(s.$$.fragment, e),
                Jh(u.$$.fragment, e),
                Jh(g.$$.fragment, e),
                _ = !0)
            },
            o(e) {
                ef(o.$$.fragment, e),
                ef(s.$$.fragment, e),
                ef(u.$$.fragment, e),
                ef(g.$$.fragment, e),
                _ = !1
            },
            d(n) {
                n && Jg(t),
                df(o),
                df(s),
                df(u),
                df(g),
                e[39](null),
                v = !1,
                Ig(y)
            }
        }
    }
    function SU(e, o, i) {
        let r, s, a;
        const l = Ah("deepl_settings");
        Mg(e, l, (e => i(3, a = e)));
        let c, d, u, {inputArea: p} = o, {lockActiveElement: m} = o, {openSettings: g} = o, {closeSettings: h} = o, {hideOnboardingHighlighter: f} = o, {registerIconCallbacks: _} = o, {unregisterIconCallbacks: v} = o, {getActiveElement: w} = o, {setErrorMessage: b} = o, {isInputAreaRTL: E} = o, {useIconForShortcutOnly: T=!1} = o, S = !1, x = !1, $ = "", C = {}, k = chrome.i18n.getMessage("input_translation_tooltip_improve_lang_not_supported");
        const I = () => {
            L()
        }
          , L = () => {
            i(5, S = iT(p, c))
        }
        ;
        async function A(e) {
            await l.set({
                targetLanguageUserInput: e.value,
                regionalVariant: e.regionalVariant
            }),
            M()
        }
        const R = async (e, n, o) => {
            const r = w();
            switch (e.action) {
            case "dlTriggerTranslationShortcut":
                if (b(void 0),
                r !== p)
                    return;
                try {
                    t({
                        action: "dlTrackUseOfShortcut",
                        payload: {
                            shortcutType: F,
                            location: W.inputTranslationTriggerIcon
                        }
                    })
                } catch (e) {
                    console.error(e)
                }
                if (s)
                    return void o();
                if (a && a.targetLanguageUserInput) {
                    i(6, x = !0);
                    try {
                        await PI(p)
                    } catch (e) {
                        b(e)
                    }
                    i(6, x = !1)
                } else
                    g({
                        fromShortcut: !0
                    });
                o();
                break;
            case "dlChangeLanguageShortcut":
                if (r !== p)
                    return;
                if (s)
                    return void o();
                i(6, x = !0);
                try {
                    g({
                        fromShortcut: !0
                    })
                } catch (e) {
                    b(e)
                }
                i(6, x = !1),
                o()
            }
            return !0
        }
        ;
        async function M(e) {
            if (b(void 0),
            f(),
            a.targetLanguageUserInput && "undefined" != a.targetLanguageUserInput || e?.isWriteRequest) {
                h(),
                i(6, x = !0);
                try {
                    await PI(p, e),
                    d || n(U.hintKeyboardShortcut)
                } catch (e) {
                    b(e)
                }
                i(6, x = !1)
            } else
                g()
        }
        function O(e) {
            t({
                action: "dlTrackIconHover",
                payload: {
                    uiLocation: e,
                    domainName: window.location.host
                }
            })
        }
        const N = () => {
            m(),
            a.targetLanguageUserInput ? M() : g(),
            t({
                action: "dlTrackUILocationClicked",
                payload: W.inputTranslationTriggerIcon
            })
        }
        ;
        async function D() {
            let e;
            e = tT(p) ? p.value : p.innerText,
            i(26, C = await Wt(e, !0)),
            C.isReliable;
            try {
                e && function(e) {
                    try {
                        return e.replace(/[^\p{L}]/gu, "").length
                    } catch (t) {
                        return e.replace(/[^a-zA-Z]/g, "").length
                    }
                }(e) > 0 && t({
                    action: "dlTrackLanguageDetectionForTextProcessing",
                    payload: {
                        lang: C.langCode,
                        isReliable: C.isReliable,
                        trigger: y,
                        textLength: e.length,
                        domainName: window.location.hostname
                    }
                })
            } catch (e) {
                console.error(e)
            }
        }
        Ch(( () => {
            chrome.runtime.onMessage.addListener(R),
            _({
                processRefreshCycle: I,
                languageChanged: A,
                triggerTranslation: M
            })
        }
        )),
        kh(( () => {
            chrome.runtime.onMessage.removeListener(R),
            v()
        }
        ));
        return e.$$set = e => {
            "inputArea"in e && i(16, p = e.inputArea),
            "lockActiveElement"in e && i(17, m = e.lockActiveElement),
            "openSettings"in e && i(0, g = e.openSettings),
            "closeSettings"in e && i(18, h = e.closeSettings),
            "hideOnboardingHighlighter"in e && i(19, f = e.hideOnboardingHighlighter),
            "registerIconCallbacks"in e && i(20, _ = e.registerIconCallbacks),
            "unregisterIconCallbacks"in e && i(21, v = e.unregisterIconCallbacks),
            "getActiveElement"in e && i(22, w = e.getActiveElement),
            "setErrorMessage"in e && i(23, b = e.setErrorMessage),
            "isInputAreaRTL"in e && i(1, E = e.isInputAreaRTL),
            "useIconForShortcutOnly"in e && i(24, T = e.useIconForShortcutOnly)
        }
        ,
        e.$$.update = () => {
            if (67108872 & e.$$.dirty[0] && (st(a, Ee.WRITE) ? i(9, k = chrome.i18n.getMessage("input_translation_tooltip_improve_disabled_by_admin")) : Gt(C.langCode) ? i(9, k = chrome.i18n.getMessage("input_translation_tooltip_improve_supported_lang")) : i(9, k = chrome.i18n.getMessage("write_language_not_supported")),
            i(8, u = !C.langCode || Gt(C.langCode) && !st(a, Ee.WRITE))),
            8 & e.$$.dirty[0] && i(2, s = st(a, Ee.TRANSLATOR)),
            12 & e.$$.dirty[0])
                if (s)
                    i(7, $ = chrome.i18n.getMessage("contact_admin_info_translate_disabled"));
                else if (a.targetLanguageUserInput && "undefined" != a.targetLanguageUserInput) {
                    let e;
                    t({
                        action: "dlCheckCommandShortcuts"
                    }).then((t => {
                        e = t ? t.filter((e => e.name == F))[0].shortcut : "",
                        e ? (e = `(${e})`,
                        d = !0) : d = !1,
                        i(7, $ = `${chrome.i18n.getMessage("input_translation_tooltip_translate")} ${e}`)
                    }
                    ))
                } else
                    i(7, $ = chrome.i18n.getMessage("input_translation_tooltip_translate_text"));
            16777224 & e.$$.dirty[0] && i(10, r = T || !a.enableInputTranslation || aT(window.location.host, window.location.href) || a.blacklistDomainsForWriting.includes(window.location.host) || a.isGmailEnabled && eT())
        }
        ,
        [g, E, s, a, c, S, x, $, u, k, r, l, M, O, N, D, p, m, h, f, _, v, w, b, T, A, C, function(t) {
            Rh.call(this, e, t)
        }
        , function(t) {
            Rh.call(this, e, t)
        }
        , function(t) {
            Rh.call(this, e, t)
        }
        , function(t) {
            Rh.call(this, e, t)
        }
        , () => O(W.inputTranslationSettingsIcon), () => g({
            page: Qk.inputSettings
        }), () => {
            O(W.inputImproveTriggerIcon)
        }
        , () => {
            u && M({
                isWriteRequest: !0
            })
        }
        , () => O(W.inputTranslationSettingsIcon), () => {
            !s && g({
                page: Qk.generalSettings
            })
        }
        , () => s ? null : N(), () => {
            D(),
            O(W.inputTranslationTriggerIcon)
        }
        , function(e) {
            Oh[e ? "unshift" : "push"](( () => {
                c = e,
                i(4, c)
            }
            ))
        }
        ]
    }
    class xU extends pf {
        constructor(e) {
            super(),
            uf(this, e, SU, TU, Ag, {
                inputArea: 16,
                lockActiveElement: 17,
                openSettings: 0,
                closeSettings: 18,
                hideOnboardingHighlighter: 19,
                registerIconCallbacks: 20,
                unregisterIconCallbacks: 21,
                getActiveElement: 22,
                setErrorMessage: 23,
                isInputAreaRTL: 1,
                useIconForShortcutOnly: 24,
                onLanguageChanged: 25
            }, null, [-1, -1])
        }
        get onLanguageChanged() {
            return this.$$.ctx[25]
        }
    }
    function $U(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h, f;
        return {
            c() {
                t = th("div"),
                n = th("div"),
                o = th("div"),
                i = th("div"),
                r = th("div"),
                r.textContent = `${chrome.i18n.getMessage("input_translation_highlighter_tooltip_headline")}`,
                s = ih(),
                a = th("div"),
                a.textContent = `${chrome.i18n.getMessage("input_translation_highlighter_tooltip_text")}`,
                l = ih(),
                c = th("button"),
                ch(r, "class", "headline svelte-1vokldc"),
                ch(i, "class", "text-wrapper svelte-1vokldc"),
                ch(o, "class", "content svelte-1vokldc"),
                ch(c, "class", "close-icon svelte-1vokldc"),
                ch(n, "class", d = Bg(`body body__${e[0]}`) + " svelte-1vokldc"),
                ch(t, "class", u = "container container__" + e[0] + " svelte-1vokldc")
            },
            m(d, u) {
                Qg(d, t, u),
                Kg(t, n),
                Kg(n, o),
                Kg(o, i),
                Kg(i, r),
                Kg(i, s),
                Kg(i, a),
                Kg(n, l),
                Kg(n, c),
                e[13](t),
                g = !0,
                h || (f = sh(c, "click", e[12]),
                h = !0)
            },
            p(e, o) {
                (!g || 1 & o && d !== (d = Bg(`body body__${e[0]}`) + " svelte-1vokldc")) && ch(n, "class", d),
                (!g || 1 & o && u !== (u = "container container__" + e[0] + " svelte-1vokldc")) && ch(t, "class", u)
            },
            i(e) {
                g || (Wh(( () => {
                    g && (m && m.end(1),
                    p = nf(t, Kf, {
                        x: 100,
                        duration: 1e3
                    }),
                    p.start())
                }
                )),
                g = !0)
            },
            o(e) {
                p && p.invalidate(),
                m = of(t, Kf, {
                    x: 100,
                    duration: 1e3
                }),
                g = !1
            },
            d(n) {
                n && Jg(t),
                e[13](null),
                n && m && m.end(),
                h = !1,
                f()
            }
        }
    }
    function CU(e) {
        let t, n, o = e[1] && $U(e);
        return {
            c() {
                o && o.c(),
                t = rh()
            },
            m(e, i) {
                o && o.m(e, i),
                Qg(e, t, i),
                n = !0
            },
            p(e, [n]) {
                e[1] ? o ? (o.p(e, n),
                2 & n && Jh(o, 1)) : (o = $U(e),
                o.c(),
                Jh(o, 1),
                o.m(t.parentNode, t)) : o && (Xh(),
                ef(o, 1, 1, ( () => {
                    o = null
                }
                )),
                Qh())
            },
            i(e) {
                n || (Jh(o),
                n = !0)
            },
            o(e) {
                ef(o),
                n = !1
            },
            d(e) {
                e && Jg(t),
                o && o.d(e)
            }
        }
    }
    function kU(n, o, i) {
        let r, s, {onClose: a} = o, {icon: l} = o, {position: c="top"} = o, {registerHighlighterCallbacks: d} = o, {unregisterHighlighterCallbacks: u} = o, {textDirection: p} = o, m = {
            top: 0,
            bottom: 0,
            left: 0,
            right: 0
        }, g = {
            height: 0,
            width: 0
        }, h = 190, f = 305;
        const _ = () => {
            if (l) {
                const e = l.getBoundingClientRect();
                let t = {};
                for (const n of ["top", "bottom", "left", "right"])
                    e[n] !== m[n] && (t[n] = e[n]);
                Object.keys(t).length && i(8, m = {
                    ...m,
                    ...t
                });
                let n = {};
                window.innerHeight !== g.height && (n.height = window.innerHeight),
                window.innerWidth !== g.width && (n.width = window.innerWidth),
                Object.keys(n).length && i(9, g = {
                    ...g,
                    ...n
                })
            } else
                i(8, m = {
                    top: 0,
                    bottom: 0,
                    left: 0,
                    right: 0
                })
        }
        ;
        function v(e=ie.close_icon) {
            a();
            try {
                t({
                    action: "dlTrackCloseInputHighlighter",
                    payload: {
                        trigger: e
                    }
                })
            } catch (e) {
                console.error(e)
            }
        }
        Ch((async () => {
            d({
                recalculateHighlighterCoords: _
            });
            try {
                t({
                    action: "dlTrackOpenInputHighlighter",
                    payload: {
                        domainName: e.websiteData.hostname
                    }
                }),
                _()
            } catch (e) {
                console.error(e)
            }
            s = A_(r, ( ({clientHeight: e, clientWidth: t}) => {
                i(10, h = e),
                i(11, f = t)
            }
            ))
        }
        )),
        kh(( () => {
            u(),
            s && s()
        }
        ));
        return n.$$set = e => {
            "onClose"in e && i(4, a = e.onClose),
            "icon"in e && i(1, l = e.icon),
            "position"in e && i(0, c = e.position),
            "registerHighlighterCallbacks"in e && i(5, d = e.registerHighlighterCallbacks),
            "unregisterHighlighterCallbacks"in e && i(6, u = e.unregisterHighlighterCallbacks),
            "textDirection"in e && i(7, p = e.textDirection)
        }
        ,
        n.$$.update = () => {
            3840 & n.$$.dirty && i(0, c = ( ({iconCoordinates: e, viewportSize: t, highlighterHeight: n, highlighterWidth: o}) => {
                if (!l)
                    return "top";
                const i = {
                    top: e.top > n,
                    bottom: t.height - e.bottom > n,
                    right: t.width - e.right > o,
                    left: e.left > o
                };
                for (const [e,t] of Object.entries(i))
                    if (t)
                        return e;
                return "top"
            }
            )({
                iconCoordinates: m,
                viewportSize: g,
                highlighterHeight: h,
                highlighterWidth: f
            }))
        }
        ,
        [c, l, r, v, a, d, u, p, m, g, h, f, () => v(), function(e) {
            Oh[e ? "unshift" : "push"](( () => {
                r = e,
                i(2, r)
            }
            ))
        }
        ]
    }
    class IU extends pf {
        constructor(e) {
            super(),
            uf(this, e, kU, CU, Ag, {
                onClose: 4,
                icon: 1,
                position: 0,
                registerHighlighterCallbacks: 5,
                unregisterHighlighterCallbacks: 6,
                textDirection: 7
            })
        }
    }
    function LU(e) {
        let t, n, o, i, r, s;
        return n = new Xy({
            props: {
                error: e[1],
                config: {
                    small: !0
                },
                close: e[2]
            }
        }),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                ch(t, "class", o = "error-container error-container__" + e[0] + " svelte-16e3fjt")
            },
            m(o, a) {
                Qg(o, t, a),
                cf(n, t, null),
                e[12](t),
                i = !0,
                r || (s = [Fg(S_.call(null, t, {
                    isShadow: !0
                })), sh(t, "click_outside", e[13])],
                r = !0)
            },
            p(e, [r]) {
                const s = {};
                2 & r && (s.error = e[1]),
                4 & r && (s.close = e[2]),
                n.$set(s),
                (!i || 1 & r && o !== (o = "error-container error-container__" + e[0] + " svelte-16e3fjt")) && ch(t, "class", o)
            },
            i(e) {
                i || (Jh(n.$$.fragment, e),
                i = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                i = !1
            },
            d(o) {
                o && Jg(t),
                df(n),
                e[12](null),
                r = !1,
                Ig(s)
            }
        }
    }
    function AU(e, t, n) {
        let o, i, {errorMessage: r} = t, {icon: s} = t, {position: a="top"} = t, {registerErrorCallbacks: l} = t, {unregisterErrorCallbacks: c} = t, {close: d} = t, u = 140, p = 387, m = {
            top: 0,
            bottom: 0,
            left: 0,
            right: 0
        }, g = {
            height: 0,
            width: 0
        };
        const h = () => {
            if (s) {
                const e = s.getBoundingClientRect();
                let t = {};
                for (const n of ["top", "bottom", "left", "right"])
                    e[n] !== m[n] && (t[n] = e[n]);
                Object.keys(t).length && n(10, m = {
                    ...m,
                    ...t
                });
                let o = {};
                window.innerHeight !== g.height && (o.height = window.innerHeight),
                window.innerWidth !== g.width && (o.width = window.innerWidth),
                Object.keys(o).length && n(11, g = {
                    ...g,
                    ...o
                })
            } else
                n(10, m = {
                    top: 0,
                    bottom: 0,
                    left: 0,
                    right: 0
                })
        }
        ;
        Ch(( () => {
            h(),
            l({
                recalculateErrorCoords: h
            }),
            i = A_(o, ( ({clientHeight: e, clientWidth: t}) => {
                n(8, u = e),
                n(9, p = t)
            }
            ))
        }
        )),
        kh(( () => {
            c(),
            i && i()
        }
        ));
        return e.$$set = e => {
            "errorMessage"in e && n(1, r = e.errorMessage),
            "icon"in e && n(4, s = e.icon),
            "position"in e && n(0, a = e.position),
            "registerErrorCallbacks"in e && n(5, l = e.registerErrorCallbacks),
            "unregisterErrorCallbacks"in e && n(6, c = e.unregisterErrorCallbacks),
            "close"in e && n(2, d = e.close)
        }
        ,
        e.$$.update = () => {
            3840 & e.$$.dirty && n(0, a = ( ({iconCoordinates: e, viewportSize: t, highlighterHeight: n, highlighterWidth: o}) => {
                if (!s)
                    return "top";
                const i = {
                    top: e.top > n,
                    bottom: t.height - e.bottom > n,
                    right: t.width - e.right > o,
                    left: e.left > o
                };
                for (const [e,t] of Object.entries(i))
                    if (t)
                        return e;
                return "top"
            }
            )({
                iconCoordinates: m,
                viewportSize: g,
                popupHeight: u,
                popupWidth: p
            }))
        }
        ,
        [a, r, d, o, s, l, c, h, u, p, m, g, function(e) {
            Oh[e ? "unshift" : "push"](( () => {
                o = e,
                n(3, o)
            }
            ))
        }
        , () => d()]
    }
    class RU extends pf {
        constructor(e) {
            super(),
            uf(this, e, AU, LU, Ag, {
                errorMessage: 1,
                icon: 4,
                position: 0,
                registerErrorCallbacks: 5,
                unregisterErrorCallbacks: 6,
                close: 2,
                recalculateErrorCoords: 7
            })
        }
        get recalculateErrorCoords() {
            return this.$$.ctx[7]
        }
    }
    function MU(e) {
        let t, n, o;
        return {
            c() {
                t = th("div")
            },
            m(i, r) {
                Qg(i, t, r),
                n || (o = [sh(t, "click_outside", e[17]), Fg(S_.call(null, t, {
                    isShadow: !0
                }))],
                n = !0)
            },
            p: xg,
            i: xg,
            o: xg,
            d(e) {
                e && Jg(t),
                n = !1,
                Ig(o)
            }
        }
    }
    function OU(e) {
        let t, n, o, i, r, s, a, l, c, d, u, p, m;
        o = new xU({
            props: {
                inputArea: e[2],
                lockActiveElement: e[18],
                openSettings: e[21],
                closeSettings: e[22],
                hideOnboardingHighlighter: e[19],
                registerIconCallbacks: e[23],
                unregisterIconCallbacks: e[24],
                getActiveElement: e[20],
                isInputAreaRTL: e[10],
                setErrorMessage: e[35],
                useIconForShortcutOnly: e[0]
            }
        });
        let g = e[4] && NU(e)
          , h = e[5] && DU(e)
          , f = e[8] && PU(e);
        return {
            c() {
                t = th("div"),
                n = th("div"),
                lf(o.$$.fragment),
                i = ih(),
                g && g.c(),
                r = ih(),
                h && h.c(),
                s = ih(),
                f && f.c(),
                ch(n, "class", "dl-input-placeholder svelte-d7i1bp"),
                fh(n, "disabled", e[13]),
                fh(n, "reduced-space", !e[14]),
                fh(n, "other-extension-present", e[12]),
                fh(n, "chat-gpt-present", e[1].isChatGPTPresent),
                ch(t, "class", "dl-input-positioner svelte-d7i1bp"),
                ch(t, "dir", c = e[10] ? "rtl" : "ltr"),
                ch(t, "style", d = [`top: ${e[1].top}px;`, `left: ${e[1].left}px;`, `height: ${e[1].height}px;`, `width: ${e[1].width}px;`, `position: ${e[1].position};`].join(" ")),
                fh(t, "debug-mode", BU)
            },
            m(a, l) {
                Qg(a, t, l),
                Kg(t, n),
                cf(o, n, null),
                Kg(n, i),
                g && g.m(n, null),
                Kg(n, r),
                h && h.m(n, null),
                Kg(n, s),
                f && f.m(n, null),
                e[39](n),
                u = !0,
                p || (m = [Fg(S_.call(null, n, {
                    isShadow: !0
                })), sh(n, "click_outside", e[38]), sh(n, "click", e[18])],
                p = !0)
            },
            p(e, i) {
                const a = {};
                4 & i[0] && (a.inputArea = e[2]),
                1024 & i[0] && (a.isInputAreaRTL = e[10]),
                256 & i[0] && (a.setErrorMessage = e[35]),
                1 & i[0] && (a.useIconForShortcutOnly = e[0]),
                o.$set(a),
                e[4] ? g ? (g.p(e, i),
                16 & i[0] && Jh(g, 1)) : (g = NU(e),
                g.c(),
                Jh(g, 1),
                g.m(n, r)) : g && (Xh(),
                ef(g, 1, 1, ( () => {
                    g = null
                }
                )),
                Qh()),
                e[5] ? h ? (h.p(e, i),
                32 & i[0] && Jh(h, 1)) : (h = DU(e),
                h.c(),
                Jh(h, 1),
                h.m(n, s)) : h && (Xh(),
                ef(h, 1, 1, ( () => {
                    h = null
                }
                )),
                Qh()),
                e[8] ? f ? (f.p(e, i),
                256 & i[0] && Jh(f, 1)) : (f = PU(e),
                f.c(),
                Jh(f, 1),
                f.m(n, null)) : f && (Xh(),
                ef(f, 1, 1, ( () => {
                    f = null
                }
                )),
                Qh()),
                (!u || 8192 & i[0]) && fh(n, "disabled", e[13]),
                (!u || 16384 & i[0]) && fh(n, "reduced-space", !e[14]),
                (!u || 4096 & i[0]) && fh(n, "other-extension-present", e[12]),
                (!u || 2 & i[0]) && fh(n, "chat-gpt-present", e[1].isChatGPTPresent),
                (!u || 1024 & i[0] && c !== (c = e[10] ? "rtl" : "ltr")) && ch(t, "dir", c),
                (!u || 2 & i[0] && d !== (d = [`top: ${e[1].top}px;`, `left: ${e[1].left}px;`, `height: ${e[1].height}px;`, `width: ${e[1].width}px;`, `position: ${e[1].position};`].join(" "))) && ch(t, "style", d)
            },
            i(e) {
                u || (Jh(o.$$.fragment, e),
                Jh(g),
                Jh(h),
                Jh(f),
                Wh(( () => {
                    u && (l && l.end(1),
                    a = nf(n, Yf, {
                        duration: 100
                    }),
                    a.start())
                }
                )),
                u = !0)
            },
            o(e) {
                ef(o.$$.fragment, e),
                ef(g),
                ef(h),
                ef(f),
                a && a.invalidate(),
                l = of(n, Yf, {
                    duration: 150
                }),
                u = !1
            },
            d(n) {
                n && Jg(t),
                df(o),
                g && g.d(),
                h && h.d(),
                f && f.d(),
                e[39](null),
                n && l && l.end(),
                p = !1,
                Ig(m)
            }
        }
    }
    function NU(e) {
        let t, n, o, i;
        return n = new IU({
            props: {
                onClose: e[19],
                position: "top",
                registerHighlighterCallbacks: e[29],
                unregisterHighlighterCallbacks: e[30],
                icon: e[3]
            }
        }),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                ch(t, "class", "dl-onboarding-highlighter svelte-d7i1bp"),
                ch(t, "dir", o = e[10] ? "rtl" : "ltr")
            },
            m(e, o) {
                Qg(e, t, o),
                cf(n, t, null),
                i = !0
            },
            p(e, r) {
                const s = {};
                8 & r[0] && (s.icon = e[3]),
                n.$set(s),
                (!i || 1024 & r[0] && o !== (o = e[10] ? "rtl" : "ltr")) && ch(t, "dir", o)
            },
            i(e) {
                i || (Jh(n.$$.fragment, e),
                i = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                i = !1
            },
            d(e) {
                e && Jg(t),
                df(n)
            }
        }
    }
    function DU(e) {
        let t, n;
        return t = new rI({
            props: {
                icon: e[3],
                startPage: e[6],
                fromShortcut: e[7],
                position: "top",
                registerSettingsCallbacks: e[25],
                unregisterSettingsCallbacks: e[26],
                closeSettings: e[22]
            }
        }),
        t.$on("languageChanged", e[36]),
        t.$on("close", e[22]),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                8 & n[0] && (o.icon = e[3]),
                64 & n[0] && (o.startPage = e[6]),
                128 & n[0] && (o.fromShortcut = e[7]),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function PU(e) {
        let t, n;
        return t = new RU({
            props: {
                errorMessage: e[8],
                icon: e[3],
                position: "top",
                registerErrorCallbacks: e[27],
                unregisterErrorCallbacks: e[28],
                close: e[37]
            }
        }),
        {
            c() {
                lf(t.$$.fragment)
            },
            m(e, o) {
                cf(t, e, o),
                n = !0
            },
            p(e, n) {
                const o = {};
                256 & n[0] && (o.errorMessage = e[8]),
                8 & n[0] && (o.icon = e[3]),
                256 & n[0] && (o.close = e[37]),
                t.$set(o)
            },
            i(e) {
                n || (Jh(t.$$.fragment, e),
                n = !0)
            },
            o(e) {
                ef(t.$$.fragment, e),
                n = !1
            },
            d(e) {
                df(t, e)
            }
        }
    }
    function UU(e) {
        let t, n, o, i;
        const r = [OU, MU]
          , s = [];
        function a(e, t) {
            return e[11] && e[1] && e[15] ? 0 : 1
        }
        return t = a(e),
        n = s[t] = r[t](e),
        {
            c() {
                n.c(),
                o = rh()
            },
            m(e, n) {
                s[t].m(e, n),
                Qg(e, o, n),
                i = !0
            },
            p(e, i) {
                let l = t;
                t = a(e),
                t === l ? s[t].p(e, i) : (Xh(),
                ef(s[l], 1, 1, ( () => {
                    s[l] = null
                }
                )),
                Qh(),
                n = s[t],
                n ? n.p(e, i) : (n = s[t] = r[t](e),
                n.c()),
                Jh(n, 1),
                n.m(o.parentNode, o))
            },
            i(e) {
                i || (Jh(n),
                i = !0)
            },
            o(e) {
                ef(n),
                i = !1
            },
            d(e) {
                e && Jg(o),
                s[t].d(e)
            }
        }
    }
    const BU = !1;
    function WU(n, o, i) {
        let r, s, a, l, c;
        const d = Ah("deepl_settings");
        Mg(n, d, (e => i(34, c = e)));
        const u = 20
          , p = 40;
        let m, g, h, f, _, v, y, w, b, E, T = !1, S = !1, x = !1, $ = !1, C = !1, {trackInputInjectionIfNecessary: k} = o, {registerPositionerCallbacks: I} = o, {unregisterPositionerCallbacks: L} = o, {useIconForShortcutOnly: A=!1} = o, R = !1, M = [], O = {
            top: 0,
            left: 0,
            height: 0,
            width: 0,
            position: "absolute",
            isLanguageToolsPresent: !1,
            isGrammarlyPresent: !1,
            isChatGPTPresent: cU()
        }, N = !1;
        const D = () => {
            i(2, m = document.activeElement);
            const e = function(e) {
                const t = vU.find(( ({domain: t}) => {
                    const n = t.replace(/[.*+\-?^${}()|[\]\\]/g, "\\$&");
                    return new RegExp(n).test(e)
                }
                ));
                return t || null
            }(window.location.href);
            if (e?.uniqueDataAttributes && e.uniqueDataAttributes.length > 0)
                for (let t of e.uniqueDataAttributes)
                    if (m.dataset[t.key] === t.value)
                        return;
            if (e?.selectors && e.selectors.length > 0)
                for (let t of e.selectors) {
                    const e = document.querySelector(t)
                      , n = ST(e)
                      , o = ST(m)
                      , i = n.toString() === o.toString();
                    if (e === m || e.isSameNode(m) || i)
                        return
                }
            M = gU({
                inputArea: m
            }),
            q(),
            k(),
            U()
        }
          , P = () => {
            T = !1
        }
          , U = () => {
            if (!a && !c.isInputHighlighterShown && !eT()) {
                Wg(d, c.isInputHighlighterShown = !0, c),
                i(4, S = !0);
                try {
                    t({
                        action: "dlTrackOpenInputHighlighter",
                        payload: {
                            domainName: e.websiteData.hostname
                        }
                    })
                } catch (e) {
                    console.error(e)
                }
            }
        }
          , B = () => {
            i(4, S = !1)
        }
          , F = () => {
            H(),
            N && (i(10, R = Yt(m)),
            j(),
            E && E(),
            S && v && v(),
            x && y && y(),
            w && w())
        }
          , z = (e=document.activeElement) => {
            const t = e.contentDocument;
            return t && t.activeElement ? z(t.activeElement) : e
        }
          , H = () => {
            const e = z()
              , t = N && !T && e !== m
              , n = !N && e && pU(e)
              , o = m && !m.isConnected;
            !t || n || C ? (C = !1,
            (t || o) && (B(),
            i(8, f = void 0),
            V(),
            M = [],
            i(2, m = void 0)),
            n && D()) : C = !0
        }
          , j = () => {
            i(1, O = mU({
                inputArea: m
            }))
        }
          , G = () => {
            j()
        }
          , q = () => {
            i(11, N = !0),
            j();
            for (const e of M)
                e.addEventListener("scroll", G);
            window.addEventListener("scroll", G)
        }
          , V = () => {
            i(11, N = !1);
            for (const e of M)
                e.removeEventListener("scroll", G);
            window.removeEventListener("scroll", G),
            X()
        }
          , K = () => {
            _ && _()
        }
          , Z = ({page: e, fromShortcut: n=!1}={}) => {
            i(6, h = e),
            i(7, $ = n),
            x || (i(5, x = !0),
            t({
                action: "dlTrackInlineSettingOpened",
                payload: {
                    uiFunction: Y,
                    uiLocation: W.inputTranslationTriggerIcon
                }
            }))
        }
          , X = () => {
            x && i(5, x = !1)
        }
        ;
        Ch(( () => {
            M = gU({
                inputArea: m
            }),
            I({
                processRefreshCycle: F,
                triggerTranslation: K,
                openSettings: Z
            })
        }
        )),
        kh(( () => {
            for (const e of M)
                e.removeEventListener("scroll", G);
            L()
        }
        ));
        return n.$$set = e => {
            "trackInputInjectionIfNecessary"in e && i(31, k = e.trackInputInjectionIfNecessary),
            "registerPositionerCallbacks"in e && i(32, I = e.registerPositionerCallbacks),
            "unregisterPositionerCallbacks"in e && i(33, L = e.unregisterPositionerCallbacks),
            "useIconForShortcutOnly"in e && i(0, A = e.useIconForShortcutOnly)
        }
        ,
        n.$$.update = () => {
            2 & n.$$.dirty[0] && i(15, r = O.height >= u),
            2 & n.$$.dirty[0] && i(14, s = O.height >= p),
            1 & n.$$.dirty[0] | 8 & n.$$.dirty[1] && i(13, a = A || !c.enableInputTranslation || aT(window.location.host, window.location.href) || c.blacklistDomainsForWriting.includes(window.location.host) || c.isGmailEnabled && eT()),
            2 & n.$$.dirty[0] && i(12, l = O.isLanguageToolsPresent || O.isGrammarlyPresent)
        }
        ,
        [A, O, m, g, S, x, h, $, f, b, R, N, l, a, s, r, d, P, () => {
            T = !0
        }
        , B, z, Z, X, ({processRefreshCycle: e, languageChanged: t, triggerTranslation: n}) => {
            E = e,
            i(9, b = t),
            _ = n
        }
        , () => {
            E = void 0,
            i(9, b = void 0),
            _ = void 0
        }
        , ({recalculateSettingsCoords: e}) => {
            y = e
        }
        , () => {
            y = void 0
        }
        , ({recalculateErrorCoords: e}) => {
            w = e
        }
        , () => {
            w = void 0
        }
        , ({recalculateHighlighterCoords: e}) => {
            v = e
        }
        , () => {
            v = void 0
        }
        , k, I, L, c, e => {
            i(8, f = e)
        }
        , e => b && b(e.detail.lang), () => {
            i(8, f = void 0)
        }
        , () => {
            P(),
            X()
        }
        , function(e) {
            Oh[e ? "unshift" : "push"](( () => {
                g = e,
                i(3, g)
            }
            ))
        }
        ]
    }
    class FU extends pf {
        constructor(e) {
            super(),
            uf(this, e, WU, UU, Ag, {
                trackInputInjectionIfNecessary: 31,
                registerPositionerCallbacks: 32,
                unregisterPositionerCallbacks: 33,
                useIconForShortcutOnly: 0
            }, null, [-1, -1])
        }
    }
    function zU(e) {
        let t, n, o;
        return n = new FU({
            props: {
                trackInputInjectionIfNecessary: e[1],
                registerPositionerCallbacks: e[2],
                unregisterPositionerCallbacks: e[3],
                useIconForShortcutOnly: e[0]
            }
        }),
        {
            c() {
                t = th("div"),
                lf(n.$$.fragment),
                ch(t, "class", "dl-input-translation-container svelte-95aucy")
            },
            m(e, i) {
                Qg(e, t, i),
                cf(n, t, null),
                o = !0
            },
            p(e, [t]) {
                const o = {};
                1 & t && (o.useIconForShortcutOnly = e[0]),
                n.$set(o)
            },
            i(e) {
                o || (Jh(n.$$.fragment, e),
                o = !0)
            },
            o(e) {
                ef(n.$$.fragment, e),
                o = !1
            },
            d(e) {
                e && Jg(t),
                df(n)
            }
        }
    }
    function HU(e, n, o) {
        Lh("deepl_settings", hf),
        Lh("deepl_website_settings", Hw),
        Lh("text_direction", Vt());
        let i, r, s, a, {useIconForShortcutOnly: l=!1} = n, c = !0, d = !1;
        const u = () => {
            i && i()
        }
          , p = async (e, t, n) => {
            if ("dlChangeActiveTabStatus" === e.action)
                o(6, c = e.payload.isActive),
                n();
            return !0
        }
          , m = () => {
            a && clearInterval(a),
            a = setInterval(u, 300)
        }
          , g = () => {
            clearInterval(a)
        }
        ;
        return Ch(( () => {
            m(),
            chrome.runtime.onMessage.addListener(p)
        }
        )),
        kh(( () => {
            a && g(),
            chrome.runtime.onMessage.removeListener(p)
        }
        )),
        e.$$set = e => {
            "useIconForShortcutOnly"in e && o(0, l = e.useIconForShortcutOnly)
        }
        ,
        e.$$.update = () => {
            64 & e.$$.dirty && (c ? m() : g())
        }
        ,
        [l, () => {
            d || (d = !0,
            t({
                action: "dlTrackInputTranslationInjection",
                payload: window.location.host
            }))
        }
        , ({processRefreshCycle: e, triggerTranslation: t, openSettings: n}) => {
            i = e,
            r = t,
            s = n
        }
        , () => {
            i = void 0,
            r = void 0,
            s = void 0
        }
        , () => {
            r && r()
        }
        , () => {
            s && s({
                fromShortcut: !1
            })
        }
        , c]
    }
    class jU extends pf {
        constructor(e) {
            super(),
            uf(this, e, HU, zU, Ag, {
                useIconForShortcutOnly: 0,
                triggerTranslation: 4,
                openSettingsFromShortcut: 5
            })
        }
        get triggerTranslation() {
            return this.$$.ctx[4]
        }
        get openSettingsFromShortcut() {
            return this.$$.ctx[5]
        }
    }
    class GU {
        static HTML_TAG_NAME = "deepl-input-controller";
        static createElement = (e=document) => {
            const t = e.createElement(GU.HTML_TAG_NAME)
              , n = new GU(t);
            return t.createDOM = n.createDOM,
            t.cleanupDOM = n.cleanupDOM,
            t.triggerTranslation = n.triggerTranslation,
            t.openSettingsFromShortcut = n.openSettingsFromShortcut,
            t
        }
        ;
        constructor(e) {
            this.domElement = e,
            this.domElement.shadow = this.domElement.attachShadow({
                mode: "open"
            }),
            this.domElement.shadowContainer = document.createElement("div"),
            this.domElement.shadowContainer.dir = "ltr",
            this.domElement.mainComponent;
            const t = document.createElement("link");
            t.setAttribute("rel", "stylesheet"),
            t.setAttribute("href", chrome.runtime.getURL("build/content.css"));
            this.domElement.shadowContainer.style.cssText = "visibility: initial !important;",
            this.domElement.shadow.appendChild(t),
            this.domElement.shadow.appendChild(this.domElement.shadowContainer)
        }
        createDOM = ({useIconForShortcutOnly: e}) => {
            this.domElement.mainComponent = new jU({
                target: this.domElement.shadowContainer,
                props: {
                    onClose: this.domElement.cleanupDOM,
                    controller: this.domElement,
                    useIconForShortcutOnly: e
                }
            })
        }
        ;
        triggerTranslation = () => {
            this.domElement.mainComponent.triggerTranslation()
        }
        ;
        openSettingsFromShortcut = () => {
            this.domElement.mainComponent.openSettingsFromShortcut()
        }
        ;
        cleanupDOM() {
            this.domElement.shadowContainer.remove(),
            this.domElement.mainComponent && this.domElement.mainComponent.$destroy()
        }
    }
    let qU, VU, YU, KU, ZU, XU, QU, JU = 0, eB = [];
    const tB = Hw.subscribe((e => {
        qU = e.translationState,
        e.translatedDOM && (eB = e.translatedDOM.map((e => e))),
        e.translationState !== ZU && (ZU = e.translationState,
        qU === u.showOriginal && oB())
    }
    ))
      , nB = hf.subscribe((e => {
        if (0 !== Object.keys(e).length) {
            if (XU = e.isLoggedIn,
            QU = e.translatorServiceType,
            KU && KU !== e.selectedTargetLanguage) {
                const e = qU !== u.none;
                e && oB(),
                Hw.update({
                    translatedDOM: []
                }),
                eB = [],
                e && Hw.update({
                    translationState: u.none
                })
            }
            KU = e.selectedTargetLanguage
        }
    }
    ));
    function oB() {
        eB.forEach((e => {
            pB(e.original, e.clone),
            dB(e.original, e.clone),
            iB(e.original, !1)
        }
        )),
        YU && (YU.disconnect(),
        YU = void 0),
        VU && (document.removeEventListener("scroll", VU),
        VU = void 0),
        qU = u.none
    }
    function iB(e, t) {
        if ("#text" != e.nodeName && "#comment" != e.nodeName && e.dataset) {
            e.dataset.dlTranslated = t;
            for (const n of e.childNodes)
                iB(n, t)
        }
    }
    async function rB(e, n, o) {
        try {
            const i = e.contentDocument || e.contentWindow.document;
            if (!e || !function(e) {
                return !!e.contentDocument && hB(e, .3)
            }(e))
                return;
            const r = [];
            if (fB(r, i.documentElement),
            0 === r.length)
                return;
            await _B(r, n.sourceLang, n.noTranslationLanguages, n.trigger, o, window.location.hostname),
            e.translatedDOM = [...e.translatedDOM || [], ...r],
            t({
                action: "dlTrackIframeTranslationSuccessful"
            })
        } catch (e) {
            console.error("error", e),
            t({
                action: "dlTrackIframeTranslationFailed",
                payload: {
                    errorCode: e.name,
                    errorMessage: e.message
                }
            })
        }
    }
    function sB(e) {
        if (void 0 !== e.dataset) {
            void 0 === e.dataset.dlUid && (e.dataset.dlUid = JU++),
            void 0 === e.dataset.dlOriginal && (e.dataset.dlOriginal = !0);
            for (const t of e.childNodes)
                sB(t)
        }
    }
    function aB(e) {
        if (function(e) {
            if (!e?.attributes)
                return !1;
            const t = e.attributes
              , n = t instanceof NamedNodeMap
              , o = t.constructor === NamedNodeMap
              , i = Object.getPrototypeOf(t) === NamedNodeMap.prototype;
            return n && o && i
        }(e)) {
            if (void 0 !== e.attributes) {
                let t = null;
                for (void 0 !== e.dataset && void 0 !== e.dataset.dlUid && (t = e.dataset.dlUid); e.attributes.length > 0; )
                    e.removeAttribute(e.attributes[0].name);
                null !== t && (e.dataset.dlUid = t)
            }
            for (const t of e.childNodes)
                aB(t)
        }
    }
    function lB(e, t) {
        sB(t);
        const n = t.cloneNode(!0);
        aB(n),
        e.push({
            original: t,
            clone: n
        }),
        iB(t, !0)
    }
    function cB(e, t) {
        if (void 0 === t.dataset)
            return null;
        if (e.dataset?.dlUid && t.dataset.dlUid && e.dataset.dlUid === t.dataset.dlUid)
            return e;
        for (const n of e.childNodes) {
            const e = cB(n, t);
            if (null !== e)
                return e
        }
        return null
    }
    function dB(e, t) {
        const n = [];
        for (; e.childNodes.length > 0; )
            n.push(e.removeChild(e.childNodes[0]));
        for (; t.childNodes.length > 0; )
            e.appendChild(t.childNodes[0]);
        for (const e of n)
            t.appendChild(e)
    }
    function uB(e, t) {
        if (null === e.parentNode || null === t.parentNode)
            return;
        const n = document.createElement("div");
        e.parentNode.replaceChild(n, e),
        t.parentNode.replaceChild(e, t),
        n.parentNode.replaceChild(t, n),
        dB(e, t)
    }
    function pB(e, t) {
        for (const n of t.childNodes) {
            const t = cB(e, n);
            if (t) {
                let o;
                o = t.dataset && "true" === t.dataset.dlOriginal ? t : t.cloneNode(!1),
                uB(o, n),
                pB(e, o)
            } else
                pB(e, n)
        }
    }
    function mB(t, n=!0) {
        if ("#text" == t.nodeName || "#comment" == t.nodeName)
            return !1;
        if (!lU(t, e.websiteData.hostname))
            return !1;
        if (t.isContentEditable && n)
            return !1;
        if (function(e) {
            switch (e.tagName.toLowerCase()) {
            case "input":
                return "submit" !== e.getAttribute("type");
            case "textarea":
                return !0;
            default:
                return !1
            }
        }(t))
            return !1;
        if (TT(t))
            return !1;
        for (const e of t.childNodes)
            if ("#text" == e.nodeName && "" != e.wholeText.trim() || "font" == e.nodeName)
                return !0;
        for (const e of t.childNodes)
            if ("#text" != e.nodeName && "#comment" != e.nodeName && (!ET(e) || TT(e) || "inline" != window.getComputedStyle(e).display || vT(t)))
                return !1;
        return !(void 0 === t.innerText || "" == t.innerText.trim())
    }
    function gB(e) {
        if (void 0 !== e.dataset && (void 0 === e.dataset.dlTranslated || "false" === e.dataset.dlTranslated))
            return !1;
        for (const t of e.childNodes)
            if ("#text" != t.nodeName && "#comment" != t.nodeName && !gB(t))
                return !1;
        return !0
    }
    function hB(e, t) {
        const n = e.getBoundingClientRect()
          , o = window.innerWidth || document.documentElement.clientWidth
          , i = window.innerHeight || document.documentElement.clientHeight;
        if (n.bottom < 0 - i * t || n.right < 0 - o * t)
            return !1;
        if (n.top > i * (1 + t))
            return !1;
        if (n.left > o * (1 + t))
            return !1;
        const r = window.getComputedStyle(e).position;
        return !("absolute" !== r && "fixed" !== r && null === e.offsetParent)
    }
    function fB(e, t) {
        if ("#text" != t.nodeName && "#comment" != t.nodeName && !function(e) {
            if ("no" == e.getAttribute("translate"))
                return !0;
            const t = e.className;
            return null != t && null != t.split && t.split(" ").includes("notranslate")
        }(t))
            if (mB(t))
                hB(t, .3) && !gB(t) && lB(e, t);
            else
                for (const n of t.childNodes)
                    fB(e, n)
    }
    async function _B(e, n, o, i, r, s) {
        if (e.length > 0)
            return t({
                action: "dlRequestHtmlTranslation",
                payload: {
                    sourceLang: n,
                    trigger: i,
                    texts: e.map((e => vt(e.clone.innerHTML))),
                    isFirstTime: r,
                    domainName: s
                }
            }).then((t => {
                if (t && t.length > 0)
                    for (let n = 0; n < e.length; ++n)
                        e[n].clone.innerHTML = vt(t[n]),
                        pB(e[n].original, e[n].clone),
                        dB(e[n].original, e[n].clone),
                        iB(e[n].original, !0)
            }
            ))
    }
    async function vB(e, t) {
        if (!it({
            isLoggedIn: XU,
            translatorServiceType: QU
        }, Ee.TRANSLATOR))
            return;
        const n = [];
        try {
            fB(n, document.documentElement);
            try {
                document.querySelectorAll("iframe").forEach((n => rB(n, e, t)))
            } catch (e) {
                console.error(e)
            }
            if (0 === n.length)
                return;
            Hw.update({
                translationState: u.ongoingTranslation
            }),
            await _B(n, e.sourceLang, e.noTranslationLanguages, e.trigger, t, window.location.hostname)
        } catch (e) {
            console.error("error", e);
            for (const e of n)
                iB(e.original, !1);
            return Hw.update({
                translationState: u.none,
                error: e.name ? e.name : e
            }),
            YU && YU.disconnect(),
            void (VU && document.removeEventListener("scroll", VU))
        }
        Hw.update({
            translationState: u.isTranslationComplete
        }),
        n.length > 0 && Hw.update({
            translatedDOM: [...eB, ...n]
        })
    }
    async function yB(e) {
        YU && (YU.disconnect(),
        YU = void 0),
        VU && (document.removeEventListener("scroll", VU),
        VU = void 0);
        let t, n, o = !1;
        eB.length > 0 ? (Hw.update({
            translationState: u.ongoingTranslation
        }),
        oB(),
        eB.forEach((e => {
            dB(e.original, e.clone),
            dB(e.original, e.clone),
            iB(e.original, !0)
        }
        )),
        Hw.update({
            translationState: u.isTranslationComplete
        })) : o = !0,
        await vB(e, o),
        VU = async () => {
            n = !0,
            window.clearTimeout(t),
            t = setTimeout((function() {
                qU === u.isTranslationComplete && window.requestAnimationFrame((async () => {
                    await vB(e, !1),
                    n = !1
                }
                ))
            }
            ), 100)
        }
        ,
        document.addEventListener("scroll", VU),
        YU = new MutationObserver((t => {
            if (n)
                return;
            if (qU !== u.isTranslationComplete)
                return;
            t.filter((e => e.addedNodes && e.addedNodes.length > 0)).length > 0 && window.requestAnimationFrame((async () => {
                await vB(e, !1)
            }
            ))
        }
        )),
        YU.observe(document.body, {
            childList: !0,
            subtree: !0
        }),
        x_(( () => {
            tB(),
            nB(),
            YU && YU.disconnect(),
            VU && document.removeEventListener("scroll", VU)
        }
        ))
    }
    const wB = n => {
        if (n.targetLang && window.getSelection()?.toString()) {
            const n = window.getSelection().toString();
            document.getElementsByTagName("deepl-inline-translate-tooltip").length || OP({
                websiteData: Hw
            }),
            Hw.update({
                translationState: u.ongoingTranslation,
                translatedSnippet: "",
                snippetDetectedSourceLang: "",
                translatedDOMSnippet: "",
                originalSnippet: ""
            }),
            t({
                action: "dlRequestInlineTranslation",
                payload: {
                    requests: [{
                        text: n
                    }],
                    domainName: window.location.hostname,
                    trigger: f,
                    sourceLang: "auto",
                    websiteLanguage: e.websiteData.websiteLanguage
                }
            }).then((e => {
                Hw.update({
                    translationState: u.none,
                    translatedSnippet: e[0].text,
                    snippetDetectedSourceLang: e[0].detected_source_language,
                    originalSnippet: n,
                    websiteLanguage: e[0].detected_source_language
                })
            }
            )).catch((e => {
                Hw.update({
                    translationState: u.none,
                    originalSnippet: n,
                    error: e.message ? e.message : e
                })
            }
            ))
        }
    }
      , bB = async e => {
        const n = await t({
            action: "dlGetAppSettings"
        });
        let o = window.getSelection().anchorNode;
        "#text" === o.nodeName.toLowerCase() && (o = o.parentNode);
        const i = "textarea" === o.nodeName.toLowerCase()
          , r = o.closest('[contenteditable="true"]')
          , s = o.closest("textarea")
          , a = o.querySelector("textarea")
          , l = a && a.selectionStart !== a.selectionEnd
          , c = i && o || r || s || l && a;
        c ? ( (e, t, n) => {
            const o = document.querySelector(GU.HTML_TAG_NAME);
            o && (t ? o.openSettingsFromShortcut() : n ? o.triggerTranslation() : o.openSettingsFromShortcut())
        }
        )(0, e, n.targetLanguageUserInput) : wB({
            targetLang: n.selectedTargetLanguage
        }),
        t({
            action: "dlTrackRightClick",
            payload: {
                translationType: c ? h : g,
                domainName: window.location.host
            }
        })
    }
      , EB = async (e, n) => {
        NP(),
        MP();
        const o = await t({
            action: "dlGetAppSettings"
        });
        var i;
        yB({
            sourceLang: e,
            trigger: n,
            isFirstTime: !0,
            noTranslationLanguages: (i = o.languagesForTranslation,
            Object.keys(i).filter((e => i[e] === d)))
        }).catch((e => {
            Hw.update({
                translationState: u.none,
                error: e.message ? e.message : e
            })
        }
        ))
    }
      , TB = async (e, t) => {
        let n = 5e3;
        if (t === Ee.WRITE && (n = 2e3),
        e.length <= n)
            return !1;
        const o = await OB();
        return !it(o, t)
    }
      , SB = async (e, t) => {
        const n = e.length
          , o = await OB()
          , i = it(o, Ee.TRANSLATOR)
          , r = it(o, Ee.WRITE);
        if (t === le.write) {
            const e = o.isLoggedIn ? S : T;
            if (i && !r && n > e)
                throw new zf(e,"Char limit exceeded (Translator Pro, Write Free)");
            if (!r && n > e)
                throw new Ff(e,"Char limit exceeded (Write Free Or Anonymous)")
        }
        if (!o.isLoggedIn && n > b)
            throw new Wf(b,"Limit exceeded (anonymous user). Please upgrade");
        if (o.isLoggedIn && !it(o, Ee.TRANSLATOR) && n > E)
            throw new Bf(E,"Limit exceeded (free account). Please upgrade")
    }
      , xB = async e => {
        const {event: n, targetLang: o} = e
          , i = document.querySelector("deepl-gdocs-icon");
        if (o && i) {
            const {originalText: e, textLines: r, entities: s, contentReference: a, originalObject: l} = $t(n);
            if (document.getElementsByTagName("deepl-inline-translate-tooltip").length || OP({
                websiteData: Hw,
                platformBehaviour: re.gdocs
            }),
            await TB(e, Ee.TRANSLATOR))
                return void Hw.update({
                    translationState: u.anonymousUserMaxCharExceeded,
                    translatedSnippet: "",
                    originalSnippet: e
                });
            Hw.update({
                translationState: u.ongoingTranslation,
                translatedSnippet: "",
                snippetDetectedSourceLang: "",
                translatedDOMSnippet: "",
                originalSnippet: ""
            });
            try {
                const n = await t({
                    action: "dlRequestGDocsSplitText",
                    payload: {
                        mode: xI.TRANSLATE,
                        texts: r
                    }
                })
                  , c = n.result.lang.detected
                  , d = []
                  , p = [];
                for (const e of n.result.texts) {
                    const t = [];
                    for (const n of e.chunks)
                        for (const e of n.sentences)
                            p.push(e),
                            t.push(p.length - 1);
                    d.push(t)
                }
                const m = (await t({
                    action: "dlRequestGDocsProcessContent",
                    payload: {
                        mode: xI.TRANSLATE,
                        sentences: p,
                        sourceLang: c,
                        targetLang: o.substring(0, 2),
                        domain: window.location.host
                    }
                })).result.translations.map(( (e, t) => ({
                    prefix: p[t].prefix,
                    text: e.beams[0].sentences[0].text
                })));
                i.setContentProcessBuildingBlocks({
                    detectedSourceLanguage: c,
                    targetLang: o.substring(0, 2),
                    sentences: p,
                    processedSentences: m,
                    textLines: r,
                    textLinesComponents: d,
                    entities: s,
                    contentReference: a,
                    originalObject: l
                }),
                Hw.update({
                    translationState: u.none,
                    translatedSnippet: "GDOCS_CONTENT",
                    snippetDetectedSourceLang: c,
                    originalSnippet: e,
                    websiteLanguage: c
                })
            } catch (t) {
                console.error(t),
                Hw.update({
                    translationState: u.none,
                    originalSnippet: e,
                    error: t.message ? t.message : t
                })
            }
        }
    }
      , $B = async ({event: e, lang: n}) => {
        const {originalText: o, textLines: i, entities: r, contentReference: s, originalObject: a} = $t(e);
        document.getElementsByTagName("deepl-inline-translate-tooltip").length || OP({
            websiteData: Hw,
            platformBehaviour: re.gdocs,
            textProcessingMode: le.write
        });
        const l = document.querySelector("deepl-gdocs-icon")
          , c = {
            lang: n,
            sourceLength: o.length,
            targetLength: 0,
            nicheIntegration: re.gdocs,
            error: ""
        };
        if (await TB(o, Ee.WRITE))
            return Hw.update({
                translationState: u.anonymousUserMaxCharExceeded,
                translatedSnippet: "",
                originalSnippet: o
            }),
            void (l && l.setDeeplWriteTrackingData(c));
        Hw.update({
            translationState: u.ongoingTranslation,
            translatedSnippet: "",
            snippetDetectedSourceLang: "",
            translatedDOMSnippet: "",
            originalSnippet: ""
        });
        try {
            const e = await t({
                action: "dlRequestGDocsSplitText",
                payload: {
                    mode: xI.WRITE,
                    texts: i
                }
            })
              , n = e.result.lang.detected
              , d = []
              , p = [];
            for (const t of e.result.texts) {
                const e = [];
                for (const n of t.chunks)
                    for (const t of n.sentences)
                        p.push(t),
                        e.push(p.length - 1);
                d.push(e)
            }
            const m = (await t({
                action: "dlRequestGDocsProcessContent",
                payload: {
                    mode: xI.WRITE,
                    sentences: p,
                    sourceLang: n,
                    targetLang: n,
                    domain: window.location.host
                }
            })).result.translations.map(( (e, t) => ({
                prefix: p[t].prefix,
                text: e.beams[0].sentences[0].text
            })));
            l.setContentProcessBuildingBlocks({
                detectedSourceLanguage: n,
                targetLang: n,
                sentences: p,
                processedSentences: m,
                textLines: i,
                textLinesComponents: d,
                entities: r,
                contentReference: s,
                originalObject: a
            }),
            l.setDeeplWriteTrackingData(c),
            Hw.update({
                translationState: u.none,
                translatedSnippet: "GDOCS_CONTENT",
                snippetDetectedSourceLang: n,
                originalSnippet: o,
                websiteLanguage: n
            }),
            zB({
                eventType: Se,
                ...c
            })
        } catch (e) {
            const t = e.message ? e.message : e;
            Hw.update({
                translationState: u.none,
                originalSnippet: o,
                error: t
            }),
            zB({
                eventType: Le,
                ...c,
                error: t
            })
        }
    }
      , CB = async e => {
        const {sentences: n, targetLang: o, sourceLang: i, mode: r} = e;
        if (o) {
            await SB(n.join(""), r);
            try {
                const e = await t({
                    action: "dlRequestInputTranslation",
                    payload: {
                        requests: n.map((e => ({
                            text: e
                        }))),
                        domainName: window.location.hostname,
                        websiteLanguage: o,
                        targetLang: o,
                        sourceLang: i,
                        platformBehavior: re.gslides,
                        isHtml: !0,
                        isWriteRequest: r === le.write
                    }
                })
                  , s = e[0]?.texts;
                return s
            } catch (e) {
                throw console.error(e),
                Error(e)
            }
        }
    }
      , kB = async ({event: e, targetLang: n, sourceLang: o, mode: i}) => {
        if (n) {
            const {textLines: n, entities: r, contentReference: s, originalObject: a} = $t(e);
            await SB(n.join(""), i);
            try {
                const e = await t({
                    action: "dlRequestInlineTranslation",
                    payload: {
                        requests: n.map((e => ({
                            text: e
                        }))),
                        domainName: window.location.hostname,
                        trigger: f,
                        sourceLang: o,
                        nicheIntegration: re.gslides,
                        isWriteRequest: i === le.write
                    }
                })
                  , {processedText: l, processedEntities: c} = At({
                    textLines: e.map((e => e.text)),
                    entities: r,
                    contentReference: s
                });
                return Dt({
                    entities: c,
                    text: l,
                    originalObject: a
                })
            } catch (e) {
                console.error(e)
            }
        }
    }
      , IB = async e => {
        const {element: n, targetLang: o, content: i} = e;
        let r, s = "";
        if (o)
            try {
                const r = await t({
                    action: "dlRequestZendeskInputTranslation",
                    payload: {
                        content: i,
                        domainName: window.location.hostname,
                        websiteLanguage: o,
                        targetLang: o,
                        ...e.formality && {
                            formality: e.formality
                        }
                    }
                })
                  , a = r[0]?.texts;
                s = a?.[0]?.join(""),
                n.innerHTML = "",
                t({
                    action: "dlOnSuccessfulZendeskTranslation"
                })
            } catch (e) {
                console.error(e),
                r = e
            }
        return [s, r]
    }
      , LB = async e => {
        const {targetLang: n, sourceLang: o, text: i, trigger: r} = e;
        let s, a = "";
        if (o && n)
            try {
                a = await t({
                    action: "dlRequestZendeskMessageTranslation",
                    payload: {
                        domainName: window.location.hostname,
                        sourceLang: o,
                        targetLang: n,
                        text: i,
                        trigger: r
                    }
                })
            } catch (e) {
                console.error(e),
                s = e
            }
        return [a, s]
    }
      , AB = async () => {
        let e, n = [];
        try {
            const [o,i] = await t({
                action: "dlRequestTermbases"
            });
            i ? e = i : n = o
        } catch (t) {
            console.error(t),
            e = t
        }
        return [n, e]
    }
      , RB = async () => {
        let e = document.body.innerText.substring(0, 200);
        if (!e || 1 === e.length) {
            const t = document.title;
            t.length >= e.length && (e = t)
        }
        let n = "";
        const o = await chrome.i18n.detectLanguage(e);
        o && o.languages?.length > 0 && (n = o.languages.sort(( (e, t) => t.percentage - e.percentage))[0].language.substring(0, 2).toUpperCase());
        try {
            t({
                action: "dlTrackDetectLanguage",
                payload: {
                    language: n,
                    domainName: window.location.host
                }
            })
        } catch (e) {
            console.error(e)
        }
        return n
    }
      , MB = async () => {
        let t = document.documentElement.lang;
        !t && e.websiteData.websiteLanguage && (t = e.websiteData.websiteLanguage),
        lT(window.location.href);
        {
            const t = async () => {
                let t = document.documentElement.lang;
                if (!t && e.websiteData.websiteLanguage && (t = e.websiteData.websiteLanguage),
                t)
                    return t.substring(0, 2).toUpperCase();
                try {
                    Hw.update({
                        translationState: u.ongoingAutoDetection
                    });
                    const e = await RB();
                    return Hw.update({
                        translationState: u.none
                    }),
                    e
                } catch (e) {
                    Hw.update({
                        translationState: u.none,
                        error: e.message ? e.message : chrome.i18n.getMessage(e)
                    })
                }
            }
              , n = () => {
                const e = document.documentElement.className;
                return /translated/g.test(e)
            }
              , o = lT(window.location.href)
              , i = await t();
            Hw.update({
                websiteLanguage: i,
                hostname: window.location.hostname,
                isSupportedLanguage: Ut(i),
                isGoogleTranslatedActive: n(),
                isValidUrlForPopup: o
            });
            const r = new MutationObserver((async () => {
                const e = await t();
                Hw.update({
                    websiteLanguage: e,
                    isSupportedLanguage: Ut(e),
                    isGoogleTranslatedActive: n(),
                    isValidUrlForPopup: o
                })
            }
            ));
            r.observe(document.documentElement, {
                attributes: !0,
                childList: !1,
                characterData: !1,
                subtree: !1,
                attributeFilter: ["class"]
            }),
            x_(( () => {
                r.disconnect()
            }
            ))
        }
    }
      , OB = async () => await t({
        action: "dlGetUserState"
    })
      , NB = async (n, o=!1) => {
        if (n && !n.isTrusted && !o)
            return;
        const i = await t({
            action: "dlGetAppSettings"
        });
        UB(),
        await MB();
        const r = await OB();
        var s, a;
        it(r, Ee.TRANSLATOR) && (Ut(e.websiteData.websiteLanguage) && (s = i.selectedTargetLanguage,
        a = e.websiteData.websiteLanguage,
        (Bt(s) !== a || e.websiteData.isGoogleTranslatedActive) && (jt(e.websiteData.websiteLanguage, i.languagesForTranslation, d) || i.blacklistDomains.includes(e.websiteData.hostname) || sT(window.location.host, D) || (jt(e.websiteData.websiteLanguage, i.languagesForTranslation, c) && EB(e.websiteData.websiteLanguage, _),
        i.enableFullPageTranslation && window === window.parent && UP()))))
    }
      , DB = async () => {
        await MB(),
        document.getElementsByTagName("deepl-input-controller").length || qP()
    }
      , PB = async () => {
        await MB(),
        await eU(Hw)
    }
      , UB = () => {
        yt() && WP(),
        Zt() && FP(),
        bE() && jP(),
        eT() && VP()
    }
      , BB = e => {
        iv.set(e)
    }
      , WB = async e => {
        const n = () => {
            for (const t of Object.keys(ee))
                if (ee[t] && e.match(ee[t]))
                    return t;
            if (document.querySelector("iframe#WebApplicationFrame")) {
                const e = document.querySelector("form#frameForm, form#office_form")
                  , t = e && new URL(e.getAttribute("action"))?.hostname?.toLowerCase();
                if (t)
                    for (const e of Object.keys(te))
                        if (te[e] && t.includes(te[e]))
                            return e
            }
            if ("onedrive.live.com" === e)
                for (const e of Object.keys(ne))
                    if (ne[e] && document.querySelector(`#${ne[e]}`))
                        return e;
            return document.querySelector("body#jira") ? "jira" : document.querySelector("body#com-atlassian-confluence") ? "confluence" : void 0
        }
          , o = n();
        o ? t({
            action: "dlTrackLandingOnWebsite",
            payload: {
                website: o
            }
        }) : setTimeout(( () => {
            const e = n();
            e && t({
                action: "dlTrackLandingOnWebsite",
                payload: {
                    website: e
                }
            })
        }
        ), 2e3)
    }
      , FB = async ({eventType: e, controller: n, sourceTextLength: o, targetTextLength: i, error: r, metaDataOverride: s={}}) => {
        const a = n?.getTicketLanguageInformation()
          , l = {
            agentLanguage: (await t({
                action: "dlGetAppSettings"
            })).selectedTargetLanguage,
            ticketLanguage: a?.language,
            isTicketLanguageAutodetected: a?.isDetected,
            isTicketLanguageSupported: a?.isSupported,
            isAutoTranslateEnabled: n.getIsAutoTranslatedEnabled(),
            sourceTextLength: o,
            targetTextLength: i,
            inputHasSelection: n.getInputHasSelection(),
            error: r,
            ...s
        };
        await t({
            action: "dlTrackZendeskCustomizationEvent",
            payload: {
                eventType: e,
                zendeskMetaData: l
            }
        })
    }
      , zB = async ({eventType: e, lang: n, sourceLength: o, targetLength: i, nicheIntegration: r=re.default, error: s, metaDataOverride: a={}}) => {
        await t({
            action: "dlTrackDeeplWriteEvent",
            payload: {
                eventType: e,
                deeplWriteMetaData: {
                    lang: n,
                    sourceLength: o,
                    targetLength: i,
                    nicheIntegration: r,
                    error: s,
                    ...a
                }
            }
        })
    }
    ;
    function HB(e) {
        zw(e)
    }
    function jB() {
        const e = ht();
        e && n(U.showAdsForMSAddins, {
            theme: B.ads_theme,
            matchedWord: e
        })
    }
    const GB = () => {
        const e = window.location.hostname.split(".");
        if (e.length < 2)
            return !1;
        return "deepl.com" === `${e.at(-2)}.${e.at(-1)}`
    }
      , qB = () => YB() || VB()
      , VB = () => {
        const e = new URL(window.location.href);
        return "https:" === e.protocol && ("service-now.com" === e.hostname || "servicenow.com" === e.hostname)
    }
      , YB = () => /\.service-now\.com$/.test(window.location.hostname)
      , KB = () => !GB() && (!bE() && !qB())
      , ZB = () => !GB() && (!bE() && !qB());
    hn() || (window.addEventListener("error", (function(e) {
        const t = e.message || e.error && e.error.message || "";
        vf(t) && e.preventDefault()
    }
    )),
    window.addEventListener("unhandledrejection", (function(e) {
        const t = e.reason && e.reason.message || "";
        vf(t) && e.preventDefault()
    }
    )));
    const {client: XB, scope: QB} = yE();
    if (XB.init(),
    hn() && {
        IS_PROD: !0,
        BASE_URLS: {
            dapApi: "https://s.deepl.com/chrome/statistics",
            toolingApiPro: "https://api.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
            toolingApi: "https://www2.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
            toolingWriteApiPro: "https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
            toolingWriteApi: "https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
            classicApi: "https://www2.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
            classicApiPro: "https://api.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
            classicApiWrite: "https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
            classicApiWritePro: "https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
            classicApiGlossary: "https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.36.0",
            interactiveTextApiFree: "https://ita-free.www.deepl.com/v1",
            interactiveTextApiPro: "https://ita-pro.www.deepl.com/v1",
            login: "https://www.deepl.com/auth/login",
            token: "https://w.deepl.com/oidc/token",
            logout: "https://www.deepl.com/auth/logout",
            feedbackSurvey: "https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",
            newFeedbackSurvey: "https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",
            firefoxFeedbackSurvey: "https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",
            uninstallSurvey: "https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",
            gslidesFeedbackSurvey: "https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",
            deeplDomain: "https://www.deepl.com",
            deeplPro: "https://www.deepl.com/pro",
            deeplProWrite: "https://www.deepl.com/pro-write",
            deeplTranslator: "https://www.deepl.com/translator",
            deeplDoctrans: "https://www.deepl.com/translator/files",
            deeplTermsOfServiceFree: "https://www.deepl.com/en/pro-license?tab=free",
            deeplCreateAccount: "https://www.deepl.com/signup",
            extensionStorePage: "https://bit.ly/DeepL-Chrome",
            supportArticle: "https://support.deepl.com/hc/articles/4407580229522",
            deeplSupport: "https://support.deepl.com/hc",
            chromeWebstore: "https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",
            edgeWebstore: "https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",
            firefoxWebstore: "https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",
            firefoxShortcutDocs: "https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",
            firefoxPrivacyPolicy: "https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",
            clientStateApi: "https://w.deepl.com/web",
            experimentsEndpoint: "https://experimentation.deepl.com/experiments",
            gmailFeedbackSurvey: "https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",
            customerSegmentationSurveyFree: "https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",
            customerSegmentationSurveyPro: "https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",
            arabicSurvey: "https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ",
            msAddinsDeepLAds: "https://www.deepl.com/en/microsoft-365",
            getFreeAccount: "https://www.deepl.com/en/signup?cta=free-login-signup",
            uninstallPage: "https://www.deepl.com/extension-uninstall"
        },
        APP_VERSION: "1.36.0",
        FEATURE_FLAGS: {
            TRANSLATE_INPUT: !0,
            PAGE_TRANSLATION: !0,
            IMPROVE_WRITING: !0,
            DOCUMENT_TRANSLATION: !0,
            RECOMMEND_TO_A_FRIEND: !0,
            PRO_LOGIN: !0,
            WEBPAGE_CUSTOMIZER: !0,
            GDOCS_INTEGRATION: !0,
            ZENDESK_INTEGRATION: !0,
            GMAIL_INTEGRATION: !0,
            GSLIDES_INTEGRATION: !0,
            ON_INSTALL_ONBOARDING: !0,
            WHATSAPP_TRANSLATE_ALL_CHAT: !1,
            DEEPL_WRITE_GENERAL: !1,
            DEEPL_WRITE_GDOCS: !0,
            SHOW_CUSTOMER_SEGMENTATION_SURVEY: !1,
            ARABIC_SURVEY: !0,
            BATCH_TRANSLATE_HTML_REQUEST: !0,
            SIDE_PANEL: !1,
            SIDE_PANEL_FIREFOX: !1
        }
    }.HOT_RELOAD.active && !gt()) {
        new WebSocket(`ws://localhost:${{
            IS_PROD: !0,
            BASE_URLS: {
                dapApi: "https://s.deepl.com/chrome/statistics",
                toolingApiPro: "https://api.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
                toolingApi: "https://www2.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
                toolingWriteApiPro: "https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
                toolingWriteApi: "https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
                classicApi: "https://www2.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
                classicApiPro: "https://api.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
                classicApiWrite: "https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
                classicApiWritePro: "https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.36.0",
                classicApiGlossary: "https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.36.0",
                interactiveTextApiFree: "https://ita-free.www.deepl.com/v1",
                interactiveTextApiPro: "https://ita-pro.www.deepl.com/v1",
                login: "https://www.deepl.com/auth/login",
                token: "https://w.deepl.com/oidc/token",
                logout: "https://www.deepl.com/auth/logout",
                feedbackSurvey: "https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",
                newFeedbackSurvey: "https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",
                firefoxFeedbackSurvey: "https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",
                uninstallSurvey: "https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",
                gslidesFeedbackSurvey: "https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",
                deeplDomain: "https://www.deepl.com",
                deeplPro: "https://www.deepl.com/pro",
                deeplProWrite: "https://www.deepl.com/pro-write",
                deeplTranslator: "https://www.deepl.com/translator",
                deeplDoctrans: "https://www.deepl.com/translator/files",
                deeplTermsOfServiceFree: "https://www.deepl.com/en/pro-license?tab=free",
                deeplCreateAccount: "https://www.deepl.com/signup",
                extensionStorePage: "https://bit.ly/DeepL-Chrome",
                supportArticle: "https://support.deepl.com/hc/articles/4407580229522",
                deeplSupport: "https://support.deepl.com/hc",
                chromeWebstore: "https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",
                edgeWebstore: "https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",
                firefoxWebstore: "https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",
                firefoxShortcutDocs: "https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",
                firefoxPrivacyPolicy: "https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",
                clientStateApi: "https://w.deepl.com/web",
                experimentsEndpoint: "https://experimentation.deepl.com/experiments",
                gmailFeedbackSurvey: "https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",
                customerSegmentationSurveyFree: "https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",
                customerSegmentationSurveyPro: "https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",
                arabicSurvey: "https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ",
                msAddinsDeepLAds: "https://www.deepl.com/en/microsoft-365",
                getFreeAccount: "https://www.deepl.com/en/signup?cta=free-login-signup",
                uninstallPage: "https://www.deepl.com/extension-uninstall"
            },
            APP_VERSION: "1.36.0",
            FEATURE_FLAGS: {
                TRANSLATE_INPUT: !0,
                PAGE_TRANSLATION: !0,
                IMPROVE_WRITING: !0,
                DOCUMENT_TRANSLATION: !0,
                RECOMMEND_TO_A_FRIEND: !0,
                PRO_LOGIN: !0,
                WEBPAGE_CUSTOMIZER: !0,
                GDOCS_INTEGRATION: !0,
                ZENDESK_INTEGRATION: !0,
                GMAIL_INTEGRATION: !0,
                GSLIDES_INTEGRATION: !0,
                ON_INSTALL_ONBOARDING: !0,
                WHATSAPP_TRANSLATE_ALL_CHAT: !1,
                DEEPL_WRITE_GENERAL: !1,
                DEEPL_WRITE_GDOCS: !0,
                SHOW_CUSTOMER_SEGMENTATION_SURVEY: !1,
                ARABIC_SURVEY: !0,
                BATCH_TRANSLATE_HTML_REQUEST: !0,
                SIDE_PANEL: !1,
                SIDE_PANEL_FIREFOX: !1
            }
        }.HOT_RELOAD.webSocketServerPort}`).addEventListener("message", (e => {
            "file-change" === e.data && chrome.runtime.sendMessage("reload")
        }
        ))
    }
    document.dispatchEvent(new CustomEvent("deepl-reset-event"));
    try {
        chrome.runtime.onMessage.addListener(LO),
        x_(( () => {
            Hw.update({
                translationState: u.showOriginal
            }),
            jw(),
            chrome.runtime.onMessage.removeListener(LO)
        }
        ))
    } catch (e) {
        console.error(e),
        wf(e, QB)
    }
    function JB(e) {
        e.error && hn() && console.error(`SERVICE_WORKER_TEST: Port disconnected due to error: ${e.error.message}`),
        document.hasFocus() ? setTimeout(( () => {
            eW()
        }
        ), 1e3) : window.addEventListener("focus", eW)
    }
    async function eW() {
        window.removeEventListener("focus", eW);
        if (await Dx()) {
            const e = pn();
            hn() && console.log("Connecting to background port", e);
            const t = chrome.runtime.connect({
                name: e
            });
            return RO(t),
            TO(t),
            t.onDisconnect.addListener(JB),
            t
        }
    }
    try {
        rU(window.location.host),
        WB(window.location.host),
        sU(window.location.href),
        "complete" === document.readyState ? NB(null, !0) : window.addEventListener("load", NB),
        KB() && DB(),
        ZB() && PB(),
        iU(window.location.host),
        eW(),
        jB()
    } catch (e) {
        console.error(e),
        wf(e, QB)
    }
    function tW(e, t, n) {
        let o = {
            block: "end",
            position: e.length
        };
        return t.forEach((t => {
            const i = e.indexOf(`<${t}>`, n);
            i > -1 && i < o.position && (o = {
                block: t,
                position: i
            })
        }
        )),
        [o.block, o.position]
    }
    function nW(e) {
        return e.match(/[^\s.,:;'"]+|[.,:;'"]|\s+/g) || []
    }
    function oW(e, t) {
        const n = nW(e)
          , o = nW(t)
          , i = function(e, t, n) {
            const o = n || ( (e, t) => e === t)
              , i = ( () => {
                let n = 0;
                for (; o(e[n], t[n]) && n < e.length; )
                    ++n;
                return n
            }
            )();
            if (i === e.length && e.length === t.length)
                return [i];
            const r = ( () => {
                let n = e.length - 1
                  , r = t.length - 1;
                for (; o(e[n], t[r]) && n > i && r > i; )
                    --n,
                    --r;
                return e.length - n - 1
            }
            )()
              , s = e.length - i - r + 1
              , a = t.length - i - r + 1
              , l = s + a
              , c = new Map
              , d = new Map;
            c.set(1, 0),
            d.set(1, null);
            for (let n = 0; n <= l; ++n)
                for (let l = -n; l <= n; l += 2) {
                    let u, p, m;
                    for (l == -n || l != n && c.get(l - 1) < c.get(l + 1) ? (u = c.get(l + 1),
                    m = [d.get(l + 1), void 0, void 0]) : (u = c.get(l - 1) + 1,
                    m = [d.get(l - 1), void 0, void 0]),
                    p = u - l; u < s && p < a && o(e[u + i], t[p + i]); )
                        ++u,
                        ++p;
                    if (u >= s && p >= a) {
                        m[1] = s + r - 1,
                        m[2] = a + r - 1;
                        let e = -1
                          , t = -1;
                        const n = [];
                        for (; m; )
                            n.push([m[1], m[2]]),
                            m = m[0];
                        let o = []
                          , l = null;
                        for (; n.length; ) {
                            const i = n.pop()
                              , r = i[0]
                              , s = i[1]
                              , a = r - e
                              , c = s - t
                              , d = Math.min(a, c);
                            a > d && (l ? l[0] += a - d : (l = [a - d, 0],
                            o.push(l))),
                            c > d && (l ? l[1] += c - d : (l = [0, c - d],
                            o.push(l))),
                            d > 0 && (o.push(d),
                            l = null),
                            e = r,
                            t = s
                        }
                        return o[0] = o[0] - 1 + i,
                        o
                    }
                    c.set(l, u),
                    m[1] = u,
                    m[2] = p,
                    d.set(l, m)
                }
            throw new Error("[diff]","should not happen?")
        }(n, o)
          , r = [];
        let s = 0
          , a = 0
          , l = 0;
        for (; s < i.length; ) {
            const e = i[s];
            let t = 0;
            for (let o = a + e - 1; o >= a; o -= 1)
                t += n[o]?.match(/^\s/) ? 2 : 1;
            a += e,
            l += e;
            let c = 0
              , d = 0;
            if (a < n.length && l < o.length && n[a]?.match(/^\s/) && o[l]?.match(/^\s/) && (c -= 1,
            d -= 1,
            t += 1),
            r.push(t),
            s += 1,
            s < i.length) {
                const [e,t] = i[s];
                for (let t = a + e - 1; t >= a; t -= 1)
                    c += n[t]?.match(/^\s/) ? 2 : 1;
                for (let e = l + t - 1; e >= l; e -= 1)
                    d += o[e]?.match(/^\s/) ? 2 : 1;
                r.push([Math.max(c, 0), Math.max(d, 0)]),
                s += 1,
                a += e,
                l += t
            }
        }
        return [r, n, o, i]
    }
    return e.GMAIL_CHAR_LIMIT_ANONYMOUS_USER = 1500,
    e.GMAIL_CHAR_LIMIT_FREE_USER = dD,
    e.GMAIL_INTERVAL = 800,
    e.GMAIL_UI_ADDED_ATTRIBUTE = cD,
    e.autodetectLanguage = RB,
    e.backgroundPortListener = OO,
    e.buildGDocsPasteData = Dt,
    e.calculateNewIconPosition = St,
    e.canInjectInlineTranslation = ZB,
    e.canInjectInputTranslation = KB,
    e.canTranslateElementForDomain = lU,
    e.checkForIntersectionWithOpenDialogs = cP,
    e.checkIfInputHasSelection = XE,
    e.clearMessageControllers = KE,
    e.clickAtCoordinates = mP,
    e.clickOnElement = gP,
    e.createAlert = zw,
    e.createGmailController = VP,
    e.createGmailControllerUtil = () => document.createElement(nP.HTML_TAG_NAME),
    e.createGoogleDocsIcon = WP,
    e.createGoogleSlidesController = FP,
    e.createHighlightsForSentence = function(e, t) {
        const n = oW(t, e)
          , o = [];
        let i = 0
          , r = 0
          , s = 0
          , a = 0;
        return n[3].forEach((e => {
            if (Array.isArray(e) && "number" == typeof e[0] && "number" == typeof e[1]) {
                if (0 !== e[1]) {
                    const t = n[2].slice(r, r + e[1]).join("")
                      , l = n[1].slice(i, i + e[0]).join("")
                      , c = {
                        original: l,
                        replace: t
                    };
                    c.changeLength = t.length,
                    c.changeOffset = s,
                    c.originalLength = l.length,
                    c.originalOffset = a,
                    s += t.length,
                    a += l.length,
                    o.push(c)
                }
                i += e[0],
                r += e[1]
            } else {
                let t = 0;
                n[2].slice(r, r + e).forEach((e => t += e.length)),
                s += t;
                let o = 0;
                n[1].slice(i, i + e).forEach((e => o += e.length)),
                a += o,
                i += e,
                r += e
            }
        }
        )),
        o
    }
    ,
    e.createInlineTranslateSettingsTooltip = DP,
    e.createInlineTranslateTooltip = OP,
    e.createInlineTranslationTrigger = QP,
    e.createInlineTranslationTriggerListener = eU,
    e.createInputTranslationController = qP,
    e.createNotification = tU,
    e.createPageLoadPopup = UP,
    e.createReviewTranslateWriteWindow = RP,
    e.createSubmitButtonTooltip = QE,
    e.createTicketController = CE,
    e.createZendeskController = jP,
    e.createZendeskControllerElement = TE,
    e.customizePage = iU,
    e.detectTicketLanguageInLiveChat = FE,
    e.detectTicketLanguageInTicket = WE,
    e.detectTicketType = NE,
    e.disableExtension = LE,
    e.displayAds = jB,
    e.elementHasTranslateToolbar = lP,
    e.extractSentencesAndEntitiesFromData = Jt,
    e.findEditableContent = async function t(n, o) {
        try {
            if (o.dataset && "true" === o.dataset.dlInputTranslation || o.dataset && "true" === o.dataset.dlNoInputTranslation)
                return;
            if ("true" === o.contentEditable || "TEXTAREA" === o.nodeName && o.rows > 1) {
                if ("none" === window.getComputedStyle(o).display)
                    return;
                if (!function(e) {
                    return e.getBoundingClientRect().width > 0 && e.getBoundingClientRect().height > 0
                }(o))
                    return;
                if (!aU(o, e.websiteData.hostname))
                    return;
                o.dataset.dlInputTranslation = "true",
                n.push(o)
            }
            for (const e of o.childNodes)
                t(n, e)
        } catch (e) {
            hn() && console.error(e),
            wf(e, uU)
        }
    }
    ,
    e.findEmailToAndFromAddressTable = dP,
    e.findForwardButtonInDocument = _P,
    e.findSiblingDivWithAnyMessageId = fP,
    e.generateLanguagesWithShortcodeForDropdown = uP,
    e.getActivePane = xE,
    e.getActiveTermbases = () => {
        const e = EE();
        return e ? e.getActiveTermbases() : []
    }
    ,
    e.getBlocksFromString = function(e, t=[]) {
        const n = [];
        let o = 0
          , i = !1;
        for (; !i; ) {
            const [r,s] = tW(e, t, o);
            if ("end" === r && (i = !0),
            o < s && n.push({
                block: "main",
                text: e.substring(o, s)
            }),
            i)
                break;
            const a = e.indexOf(`</${r}>`, s);
            -1 === a ? (n.push({
                block: r,
                text: e.substring(s + `<${r}>`.length)
            }),
            i = !0) : (n.push({
                block: r,
                text: e.substring(s + `<${r}>`.length, a)
            }),
            o = a + `</${r}>`.length)
        }
        return n
    }
    ,
    e.getContextMessages = e => {
        const t = []
          , n = DE(e).map(BE).map((e => e.innerText))
          , o = []
          , i = [];
        for (let e = 0; e < n.length; e++) {
            const r = e % 2 == 0 ? "start" : "end";
            let s = Math.floor(e / 2);
            if ("end" === r && (s = n.length - 1 - s),
            t.includes(s))
                break;
            if ([...o, ...i].reduce(( (e, t) => e + t.length), 0) + n[s].length > 3e3)
                break;
            "end" === r ? i.unshift(n[s]) : o.push(n[s]),
            t.push(s)
        }
        return [...o, ...i]
    }
    ,
    e.getControllerFromMessage = VE,
    e.getCoordsOfWord = (e, t, n, o, i) => {
        const r = document.createRange();
        if ("#text" === e.nodeName)
            r.setStart(e, t),
            r.setEnd(e, t + n);
        else {
            if (!e.firstChild || "#text" !== e.firstChild.nodeName)
                return console.error("Invalid textNode with no child text node."),
                null;
            {
                const o = e.firstChild;
                r.setStart(o, t),
                r.setEnd(o, t + n)
            }
        }
        const s = r.getBoundingClientRect();
        return {
            top: s.top,
            left: s.left,
            right: s.right,
            bottom: s.bottom,
            original: o,
            replace: i,
            textNode: e,
            changeIndex: t,
            changeLength: n
        }
    }
    ,
    e.getElementCenterCoordinates = pP,
    e.getEnableAdvancedTriggerIcon = Bx,
    e.getGDocsisEditMode = xt,
    e.getGmailControllerUtil = iP,
    e.getIFrameAndEditable = wt,
    e.getIconCoordinates = Tt,
    e.getItaInputEnabled = Ux,
    e.getItaTranslateEnabled = Dx,
    e.getItaWriteEnabled = Px,
    e.getMessageContent = BE,
    e.getMessageViewContainers = aP,
    e.getMessageWriteContainers = () => {
        const e = Array.from(document.querySelectorAll('[role="textbox"]')).filter((e => "true" === e.getAttribute("contenteditable")));
        return e
    }
    ,
    e.getMessagesFromTicket = DE,
    e.getScrollableElements = gU,
    e.getSelectionContent = Et,
    e.getSentryClient = yE,
    e.getSourceLangFromSlide = Xt,
    e.getTermbases = AB,
    e.getTicketController = $E,
    e.getTicketId = SE,
    e.getTicketStartingMessage = PE,
    e.getTicketStartingMessages = UE,
    e.getUserState = OB,
    e.getWebsiteSettings = MB,
    e.getWordsFromSentence = Mt,
    e.getZendeskController = EE,
    e.handleInlineTrigger = dO,
    e.handleItaTranslateBackendIdle = pO,
    e.handleItaWriteBackendIdle = mO,
    e.improveGDocsSelectionContent = $B,
    e.injectAskAReviewPopup = nU,
    e.injectControllerInMessage = YE,
    e.injectInlineTranslation = PB,
    e.injectInputTranslation = DB,
    e.injectMissingMessageControllers = qE,
    e.injectMissingUIElements = kE,
    e.isChatGPT = cU,
    e.isDeepLCom = GB,
    e.isGDocs = yt,
    e.isGSlides = Zt,
    e.isGmail = eT,
    e.isIncludedInTheText = function(e, t) {
        if (!e || !t)
            return !1;
        const n = /[\n\r\s]+/gm
          , o = e.replace(n, "")
          , i = t.replace(n, "");
        return o.includes(i)
    }
    ,
    e.isInputArea = pU,
    e.isInternalExtensionPage = function(e) {
        return J.includes(e)
    }
    ,
    e.isOnMessageViewScreen = sP,
    e.isServiceNow = qB,
    e.isZendesk = bE,
    e.onOpenPage = NB,
    e.pageListener = LO,
    e.processEntityAfterTranslation = en,
    e.processGDocsCopyEvent = $t,
    e.reassembleGDocsTranslatedResult = At,
    e.reconnectItaSessionIfPresent = TO,
    e.removeAllDeeplElements = function() {
        !function(e) {
            const t = document.getElementsByTagName(e);
            if (!t.length)
                return;
            for (let e = t.length - 1; e >= 0; --e)
                t[e].cleanupDOM(),
                t[e].remove()
        }("deepl-input-controller")
    }
    ,
    e.removeGDocsEntities = Rt,
    e.removeGmailController = YP,
    e.removeGoogleDocsIcon = zP,
    e.removeGoogleSlidesController = HP,
    e.removeInlineTranslateSettingsTooltip = PP,
    e.removeInlineTranslateTooltip = NP,
    e.removeInlineTranslateTrigger = ZP,
    e.removeInputTextProcessorTrigger = XP,
    e.removeInputTranslationController = KP,
    e.removePageLoadPopup = BP,
    e.removeRateLimitTimeout = sO,
    e.removeReviewTranslateWriteWindow = MP,
    e.removeUIElementsFromList = rP,
    e.removeZendeskController = GP,
    e.removeZendeskToolbar = JE,
    e.removeZendeskUIElements = IE,
    e.replaceTranslatedGDocsContent = Ot,
    e.runCustomScriptsForDomain = rU,
    e.runCustomScriptsForSpecificUrl = sU,
    e.scanForTranslatables = yB,
    e.sendMessageToBackgroundPort = MO,
    e.setBackgroundPort = RO,
    e.setErrorVisibility = BB,
    e.shouldBeTranslated = mB,
    e.shouldInjectInputIcon = aU,
    e.showAlert = HB,
    e.simulateGSLidesSelectAll = Qt,
    e.trackDeeplWriteEvent = zB,
    e.trackPageLandingIfNeeded = WB,
    e.trackZendeskCustomizationEvent = FB,
    e.translateGDocsSelectionContent = xB,
    e.translateGSlidesInbloxkSelectionContent = kB,
    e.translateGSlidesSelectionContent = CB,
    e.translateInlineText = wB,
    e.translateSelectionRightClick = bB,
    e.translateWebsite = EB,
    e.translateZendeskMessage = LB,
    e.translateZendeskSelectionContent = IB,
    e.triggerCopyEvent = bt,
    e.twitterState = dS,
    e.unsubscribeToWebsiteState = jw,
    e.updateInputIconLanguageInformation = GE,
    e.updateInputPositionerCoords = mU,
    e.updateIntegrationPanelIfExists = ZE,
    e.updateToolbarAutoTranslateStatus = HE,
    e.updateToolbarLanguageInformation = zE,
    e.updateTopIconLanguageInformation = jE,
    e.updateWebsiteStateWithError = iO,
    e.updateWebsiteStateWithITADocumentState = bO,
    e.updateWebsiteStateWithITAFormality = e => {
        Hw.update({
            formality: e
        })
    }
    ,
    e.updateWebsiteStateWithITASourceLanguage = fO,
    e.updateWebsiteStateWithITASourceLanguageAutoDetected = yO,
    e.updateWebsiteStateWithITATargetText = gO,
    e.updateWebsiteStateWithITATranslateSourceLanguageUnsupported = SO,
    e.updateWebsiteStateWithITATranslateTargetLanguage = _O,
    e.updateWebsiteStateWithITATranslateTargetTextAlternatives = IO,
    e.updateWebsiteStateWithITAWriteDocumentState = EO,
    e.updateWebsiteStateWithITAWriteSourceLanguage = vO,
    e.updateWebsiteStateWithITAWriteSourceLanguageAutoDetected = wO,
    e.updateWebsiteStateWithITAWriteSourceLanguageUnsupported = xO,
    e.updateWebsiteStateWithITAWriteTargetText = hO,
    e.updateWebsiteStateWithITAWriteTargetTextAlternatives = kO,
    e.updateWebsiteStateWithRateLimitInfo = aO,
    e.updateWebsiteStateWithTranslateGenericError = $O,
    e.updateWebsiteStateWithWriteGenericError = CO,
    e.waitForElement = hP,
    e.websiteState = Hw,
    e.whatsAppState = BT,
    e.youTubeState = YS,
    Object.defineProperty(e, "__esModule", {
        value: !0
    }),
    e
}({});
//# sourceMappingURL=content.js.map
